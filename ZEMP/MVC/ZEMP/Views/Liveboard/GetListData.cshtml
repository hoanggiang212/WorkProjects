@using ZEMP.Models;
@using ZEMP.Header;
@model ZEMP.Models.FilterCondition

<!--------------------------Format table---------------------------------------------->
<!-- jQuery -->
<script src="~/Content/tablesort/js/jquery-latest.min.js"></script>
<script src="~/Content/tablesort/js/jquery-ui.min.js"></script>

<!-- Demo stuff -->
<link rel="stylesheet" href="~/Content/tablesort/css/jquery-ui.min.css">
<link rel="stylesheet" href="~/Content/tablesort/css/jq.css">
<link rel="stylesheet" href="~/Content/tablesort/css/prettify.css">
<link rel="stylesheet" href="~/Content/tablesort/css/magnific-popup.css">

<script src="~/Content/tablesort/js/prettify.js"></script>
<script src="~/Content/tablesort/js/docs.js"></script>
<script src="~/Content/tablesort/js/jquery.magnific-popup.min.js"></script>

<!-- Tablesorter: theme -->
<link class="theme" rel="stylesheet" href="~/Content/tablesort/theme/theme.default.css">
<link class="theme" rel="stylesheet" href="~/Content/tablesort/theme/theme.blue.css">
<link class="theme" rel="stylesheet" href="~/Content/tablesort/theme/theme.green.css">
<link class="theme" rel="stylesheet" href="~/Content/tablesort/theme/theme.grey.css">
<link class="theme" rel="stylesheet" href="~/Content/tablesort/theme/theme.ice.css">
<link class="theme" rel="stylesheet" href="~/Content/tablesort/theme/theme.black-ice.css">
<link class="theme" rel="stylesheet" href="~/Content/tablesort/theme/theme.dark.css">
<link class="theme" rel="stylesheet" href="~/Content/tablesort/theme/theme.dropbox.css">
<link class="theme" rel="stylesheet" href="~/Content/tablesort/theme/theme.metro-dark.css">

<style id="css">
    /* wrapper of table 2 */
    .wrapper {
        position: relative;
        top: 50px;
        height: 250px;
        overflow-x: auto;
    }
</style>
<!-- Tablesorter script: required -->
	<!-- Tablesorter script: required -->
<script src="~/Content/tablesort/js/jquery.tablesorter.js"></script>
<script src="~/Content/tablesort/js/jquery.tablesorter.widgets.js"></script>
<script src="~/Content/tablesort/js/widget-cssStickyHeaders.js"></script>
<script id="js">
        $(function () {
            $('#table1').tablesorter({
                widthFixed: true,
                headerTemplate: '{content} {icon}', // Add icon for jui theme; new in v2.7!

                widgets: ['zebra', 'cssStickyHeaders', 'filter'],

                widgetOptions: {
                    cssStickyHeaders_offset: 0,
                    cssStickyHeaders_addCaption: true,
                    // jQuery selector or object to attach sticky header to
                    cssStickyHeaders_attachTo: null,
                    cssStickyHeaders_filteredToTop: true,
                    cssStickyHeaders_zIndex: 10
                }

            });
        });</script>
<script>
    //$(function () {
    //        $('link.theme').each(function () { this.disabled = true; });           
    //        var themes = 'default blue green grey ice black-ice dark dropbox',
    //            i, o = '', t = themes.split(' ');
    //        for (i = 0; i < t.length; i++) {
    //            o += '<option value="' + t[i] + '">' + t[i] + '</option>';
    //        }

    //        $('select:first')
    //            .append(o)
    //            .change(function () {
    //                var theme = $(this).val().toLowerCase(),
    //                    files = $('link.theme').each(function () {
    //                        this.disabled = true;
    //                    })
    //                files.filter('[href$="theme.' + theme + '.css"]').each(function () {
    //                    this.disabled = false;
    //                });
    //                $('table')
    //                    .removeClass('tablesorter-' + t.join(' tablesorter-') + ' tablesorter-jui')
    //                    .addClass('tablesorter-' + (theme === 'black-ice' ? 'blackice' : theme));
    //            }).change();

            window.addCaption = true;
            $('.caption').on('click', function () {
                addCaption = !addCaption;
                $(this).html('' + addCaption);
                $('#table1').each(function () {
                    if (this.config) {
                        this.config.widgetOptions.cssStickyHeaders_addCaption = addCaption;
                    }
                });
            });

    //    });
</script>
<table id="table1" class="tablesorter hasFilters tablesorter-default">
    <thead>
        <tr>
            @if (Model.SelectedMode == "NGANH")
            {
                <th>Ngành</th>
            }
            else if (Model.SelectedMode == "KHVUC")
            {
                <th>Khu Vực</th>
            }
            else if (Model.SelectedMode == "WRKCT")
            {
                <th>Work Center</th>
            }
            else
            {
                <th class="col-chuyen">Chuyền</th>
            }
            <th class="col-congdoan">Công Đoạn</th>
            <th class="col-slld">SL LĐ</th>
            <th class="col-num-short">N.Suất</th>
            <th class="col-num-short">Giờ LV</th>
            <th class="col-num-short">KH Giờ</th>
            <th class="col-num-long">KH Ngày</th>
            <th class="col-num-long">Thực Hiện</th>
            <th class="col-num-long">+/-</th>
            <th class="col-num-short">% TH/KH</th>
            <th class="col-num-long">Trc.08h</th>
            <th class="col-num-short">08h</th>
            <th class="col-num-short">09h</th>
            <th class="col-num-short">10h</th>
            <th class="col-num-short">11h</th>
            <th class="col-num-short">12h</th>
            <th class="col-num-short">13h</th>
            <th class="col-num-short">14h</th>
            <th class="col-num-short">15h</th>
            <th class="col-num-short">16h</th>
            <th class="col-num-short">17h</th>
            <th class="col-num-short">18h</th>
            <th class="col-num-long">Sau 19h</th>
        </tr>
    </thead>
    <tbody id="sanluong-tbody" style="margin-top:120px;">
        @if (ViewData["SL_Online"] != null)
            {
                foreach (SanLuongOnline slsx in (List<SanLuongOnline>)ViewData[CommonHeader.VIEWDATA_SL_ONLINE])
                {
                <tr>
                    <td class="col-chuyen">@slsx.BoPhan</td>
                    <td class="col-congdoan">@slsx.CongDoan</td>
                    <td class="col-slld">@slsx.SoLuongLaoDong.ToString("#,#")</td>
                    <td class="col-num-short">@slsx.NangSuat.ToString("#,#.##")</td>
                    <td class="col-num-short">@slsx.GioLamViec.ToString("#,#.##")</td>
                    <td class="col-num-short">@slsx.KeHoachGio.ToString("#,#")</td>
                    <td class="col-num-long"> @slsx.KeHoachNgay.ToString("#,#")</td>
                    <td class="col-num-long">@slsx.ThucHien.ToString("#,#")</td>
                    <td class="col-num-long">@slsx.ChenhLech.ToString("#,#")</td>
                    @if (@slsx.DatSanLuong > 0)
                    {
                        <td class="col-num-long @slsx.sColorText" style="text-align:right">@slsx.DatSanLuong.ToString("#,#.##") %</td>
                    }
                    else
                    {
                        <td class="col-num-long @slsx.sColorText" style="text-align:right">0 %</td>
                    }
                    <td class="col-num-long">@slsx.Truoc8h.ToString("#,#")</td>
                    <td class="col-num-short">@slsx.Gio08.ToString("#,#")</td>
                    <td class="col-num-short">@slsx.Gio09.ToString("#,#")</td>
                    <td class="col-num-short">@slsx.Gio10.ToString("#,#")</td>
                    <td class="col-num-short">@slsx.Gio11.ToString("#,#")</td>
                    <td class="col-num-short">@slsx.Gio12.ToString("#,#")</td>
                    <td class="col-num-short">@slsx.Gio13.ToString("#,#")</td>
                    <td class="col-num-short">@slsx.Gio14.ToString("#,#")</td>
                    <td class="col-num-short">@slsx.Gio15.ToString("#,#")</td>
                    <td class="col-num-short">@slsx.Gio16.ToString("#,#")</td>
                    <td class="col-num-short">@slsx.Gio17.ToString("#,#")</td>
                    <td class="col-num-short">@slsx.Gio18.ToString("#,#")</td>
                    <td class="col-num-long">@slsx.Sau18.ToString("#,#")</td>
                </tr>
            }
        }
    </tbody>
</table>
