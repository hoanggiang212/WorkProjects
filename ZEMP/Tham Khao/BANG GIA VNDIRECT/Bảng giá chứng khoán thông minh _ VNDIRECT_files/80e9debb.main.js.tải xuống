!function(){function AjaxHelper(){}function getURLParameters(t){var e=$(location).attr("href");if(e.indexOf("?")>0){var n=e.split("?"),i=n[1].split("&"),r=new Array(i.length),o=new Array(i.length),a=0;for(a=0;a<i.length;a++){var s=i[a].split("=");r[a]=s[0],o[a]=""!=s[1]?unescape(s[1]):"No Value"}for(a=0;a<i.length;a++)if(r[a]==t)return o[a];return""}}function checkDevice(){var t=/iphone|ipad|ipod|android|blackberry|mini|windows\sce|palm/i.test(navigator.userAgent.toLowerCase());t&&(checkSmartPhone=1)}function setCookie(t,e,n){var i=new Date;"undefined"==typeof n&&(n=120),i.setDate(i.getDate()+n);var r=escape(e)+";expires="+i.toUTCString()+";path=/";document.cookie=t+"="+r}function getCookie(t){var e,n,i,r=document.cookie.split(";");for(e=0;e<r.length;e++)if(n=r[e].substr(0,r[e].indexOf("=")),i=r[e].substr(r[e].indexOf("=")+1),n=n.replace(/^\s+|\s+$/g,""),n==t)return unescape(i);return""}function FormatVolume10(t){var e=10*StringToInt(t),n=FormatCurrency(e.toString(),",",".");return n.substring(0,n.length-1)}function FormatPrice(t){return"undefined"==typeof t?"":t in["0","0.0","0.00","",null]?"":Highcharts.numberFormat(t,"1",".")}function FormatCurrency(t,e,n){var i,r;t=t.toString().replace(/\$|\,/g,""),isNaN(t)&&(t="0"),i=t==(t=Math.abs(t));var o=t.toString(),a=o.split(n);if(a.length>1){var r=new String(a[1]);r.length<2&&(r+="0")}else r="";t=a[0];for(var s=0;s<Math.floor((t.length-(1+s))/3);s++)t=t.substring(0,t.length-(4*s+3))+e+t.substring(t.length-(4*s+3));return ret_value=""==r?(i?"":"-")+t:(i?"":"-")+t+n+r,ret_value}function FormatTime(t){return"undefined"==typeof t||0==t.length?"":[t.slice(0,2),":",t.slice(2,4),":",t.slice(4)].join("")}function getStatus(t,e){var n="";return n="null"==t?"Đóng cửa":"O"==t?e==CONST_HSX_NAME||e==CONST_VN30_NAME||e==CONST_HNX_NAME||e==CONST_UPC_NAME?"Phiên Liên tục":"Mở cửa":"P"==t?e==CONST_HSX_NAME||e==CONST_VN30_NAME?"Phiên ATO":"Đóng cửa":"A"==t?"Phiên ATC":"C"==t?"Phiên GDTT":"I"==t||"BSU"==t?"Nghỉ trưa":"Đóng cửa"}function StringToInt(t){var e=parseInt(t,10);return isNaN(e)?0:e}function getClass(t,e,n,i){var r;return r="0.0"==i?"txt-gia-tc":i==t?"txt-magenta":i>n?"txt-lime":i==n?"txt-gia-tc":i==e?"txt-gia-san":"txt-red"}function getClassForStock(t,e){var n=System.stockInfoComponent.getStockInfo(t);return n?getClass(n.ceilingPrice,n.floorPrice,n.basicPrice,e):"txt-gia-tc"}function setValue(t,e){var n=$(t);if(n){var i=n.html();i!=e&&n.html(e)}}function setCell(t,e,n){var i=$(t),r=0;if(i){var o=i.html();if(o!=e){if("0"==e||"0.0"==e||"0.00"==e?""==o||"&nbsp;"==o?r=0:i.html.length>0&&(i.html(""),r=1):(i.html(e),r=1),removeAllClass(i),i.attr("class",n),1==r){var a=getColor(n);return i.css({color:a}),i}}else{var s=t.indexOf("lat");if(s>0){var a=getColor(n);return i.css({color:a}),i}}}return null}function processPrice(t,e,n){return"ATO"==e||"ATC"==e?setCell(t,e,"w"):setCell(t,Highcharts.numberFormat(e,"1"),n)}function processVolume(t,e,n){return setCell(t,FormatVolume10(e,0),n)}function processPriceVolume(t,e){if(null!=t){var n=t.split("|");processPrice("#"+e+"bP1",n[0],n[2]),processVolume("#"+e+"bV1",n[1],n[2])}}function getValueFix(t,e){var n="";return n="0"==e?"&nbsp;":"0.0"==e?"&nbsp;":1==t?e:FormatVolume10(e,0)}function removeAllClass(t){try{var e=t;null!=e&&(e.removeClass("i"),e.removeClass("d"),e.removeClass("c "),e.removeClass("f"),e.removeClass("e"))}catch(n){console.log("error: removeAllClass: "),console.log(n)}}function setColor(t,e){var n=$(t);removeAllClass(n),n.addClass(e)}function getColor(t){return"i"==t?"#03ff04":"d"==t?"#ff0000":"c"==t?"#ff00fe":"f"==t?"#00FFFF":"e"==t?"#ffff00":"w"==t?"#ffffff":""}function cloneObject(t){var e=JSON.stringify(t);return""!=e&&"undefined"!=typeof e?JSON.parse(e):void 0}function syncWidthOfFixHeader(t,e){var n,i;if(Browser.isChrome()){if(n=$("#"+e+" thead th"),i=$("#"+t+" thead th"),n.length!=i.length)return void console.log("ERR: Headers has different structure");for(var r=0;r<n.length;r++){var o=Math.round($(n[r]).width()+1);$(i[r]).width(o),$(i[r]).css({"min-width":o})}}else if(Browser.isIE()){if(n=$("#"+e+" th:not([colspan])"),i=$("#"+t+" th:not([colspan])"),n.length!=i.length)return void console.log("ERR: Headers has different structure");for(var r=0;r<n.length;r++){var o=Math.round($(n[r]).width()+1);$(n[r]).width(o),$(i[r]).width(o),$(i[r]).css({"min-width":o})}}else{if(n=$("#"+e+" col"),i=$("#"+t+" col"),n.length!=i.length)return void console.log("ERR: Headers has different structure");for(var r=0;r<n.length;r++){var a=Math.round($(n[r]).innerWidth())+"px",o=Math.round($(n[r]).innerWidth())+"px";$(n[r]).innerWidth(o),$(i[r]).innerWidth(o),$(i[r]).css({"min-width":a})}}}function syncWidth(t,e){if(Browser.isChrome()){var n=Math.round(e.width()+1);t.width(n),t.css({"min-width":n})}else if(Browser.isIE()){var n=Math.round(e.width()+1);e.width(n),t.width(n),t.css({"min-width":n})}else{var i=Math.round(e.innerWidth()),n=Math.round(e.innerWidth());e.innerWidth(n),t.innerWidth(n),t.css({"min-width":i})}}function AdOrderCmp(t){for(var e in t)"undefined"!=typeof t[e]&&(this[e]=t[e]);this.model=new AdOrderModel,this.view=new AdOrderView(this.wrp),this.listenModelEvent()}function AdOrderModel(){this.reset()}function AdOrderView(t){this.wrp=t}function PtOrderCmp(t){for(var e in t)"undefined"!=typeof t[e]&&(this[e]=t[e]);this.model=new PtOrderModel,this.view=new PtOrderView(this.wrp),this.listenModelEvent()}function PtOrderModel(){this.reset()}function PtOrderView(t){this.wrp=t}function UserCategoryCmp(t){this.wrp=t.wrp,this.btn=t.btn,this.btnDefaultDisplay=t.btnText}var requirejs,require,define;!function(t){function e(t,e){return v.call(t,e)}function n(t,e){var n,i,r,o,a,s,c,u,l,h,f,d=e&&e.split("/"),p=g.map,m=p&&p["*"]||{};if(t&&"."===t.charAt(0))if(e){for(d=d.slice(0,d.length-1),t=t.split("/"),a=t.length-1,g.nodeIdCompat&&b.test(t[a])&&(t[a]=t[a].replace(b,"")),t=d.concat(t),l=0;l<t.length;l+=1)if(f=t[l],"."===f)t.splice(l,1),l-=1;else if(".."===f){if(1===l&&(".."===t[2]||".."===t[0]))break;l>0&&(t.splice(l-1,2),l-=2)}t=t.join("/")}else 0===t.indexOf("./")&&(t=t.substring(2));if((d||m)&&p){for(n=t.split("/"),l=n.length;l>0;l-=1){if(i=n.slice(0,l).join("/"),d)for(h=d.length;h>0;h-=1)if(r=p[d.slice(0,h).join("/")],r&&(r=r[i])){o=r,s=l;break}if(o)break;!c&&m&&m[i]&&(c=m[i],u=l)}!o&&c&&(o=c,s=u),o&&(n.splice(0,s,o),t=n.join("/"))}return t}function i(e,n){return function(){return l.apply(t,y.call(arguments,0).concat([e,n]))}}function r(t){return function(e){return n(e,t)}}function o(t){return function(e){d[t]=e}}function a(n){if(e(p,n)){var i=p[n];delete p[n],m[n]=!0,u.apply(t,i)}if(!e(d,n)&&!e(m,n))throw new Error("No "+n);return d[n]}function s(t){var e,n=t?t.indexOf("!"):-1;return n>-1&&(e=t.substring(0,n),t=t.substring(n+1,t.length)),[e,t]}function c(t){return function(){return g&&g.config&&g.config[t]||{}}}var u,l,h,f,d={},p={},g={},m={},v=Object.prototype.hasOwnProperty,y=[].slice,b=/\.js$/;h=function(t,e){var i,o=s(t),c=o[0];return t=o[1],c&&(c=n(c,e),i=a(c)),c?t=i&&i.normalize?i.normalize(t,r(e)):n(t,e):(t=n(t,e),o=s(t),c=o[0],t=o[1],c&&(i=a(c))),{f:c?c+"!"+t:t,n:t,pr:c,p:i}},f={require:function(t){return i(t)},exports:function(t){var e=d[t];return"undefined"!=typeof e?e:d[t]={}},module:function(t){return{id:t,uri:"",exports:d[t],config:c(t)}}},u=function(n,r,s,c){var u,l,g,v,y,b,w=[],k=typeof s;if(c=c||n,"undefined"===k||"function"===k){for(r=!r.length&&s.length?["require","exports","module"]:r,y=0;y<r.length;y+=1)if(v=h(r[y],c),l=v.f,"require"===l)w[y]=f.require(n);else if("exports"===l)w[y]=f.exports(n),b=!0;else if("module"===l)u=w[y]=f.module(n);else if(e(d,l)||e(p,l)||e(m,l))w[y]=a(l);else{if(!v.p)throw new Error(n+" missing "+l);v.p.load(v.n,i(c,!0),o(l),{}),w[y]=d[l]}g=s?s.apply(d[n],w):void 0,n&&(u&&u.exports!==t&&u.exports!==d[n]?d[n]=u.exports:g===t&&b||(d[n]=g))}else n&&(d[n]=s)},requirejs=require=l=function(e,n,i,r,o){if("string"==typeof e)return f[e]?f[e](n):a(h(e,n).f);if(!e.splice){if(g=e,g.deps&&l(g.deps,g.callback),!n)return;n.splice?(e=n,n=i,i=null):e=t}return n=n||function(){},"function"==typeof i&&(i=r,r=o),r?u(t,e,n,i):setTimeout(function(){u(t,e,n,i)},4),l},l.config=function(t){return l(t)},requirejs._defined=d,define=function(t,n,i){n.splice||(i=n,n=[]),e(d,t)||e(p,t)||(p[t]=[t,n,i])},define.amd={jQuery:!0}}(),define("almond",function(){}),function(t,e){"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(t,e){function n(t){var e="length"in t&&t.length,n=Z.type(t);return"function"===n||Z.isWindow(t)?!1:1===t.nodeType&&e?!0:"array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t}function i(t,e,n){if(Z.isFunction(e))return Z.grep(t,function(t,i){return!!e.call(t,i,t)!==n});if(e.nodeType)return Z.grep(t,function(t){return t===e!==n});if("string"==typeof e){if(se.test(e))return Z.filter(e,t,n);e=Z.filter(e,t)}return Z.grep(t,function(t){return Y.call(e,t)>=0!==n})}function r(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}function o(t){var e=pe[t]={};return Z.each(t.match(de)||[],function(t,n){e[n]=!0}),e}function a(){Q.removeEventListener("DOMContentLoaded",a,!1),t.removeEventListener("load",a,!1),Z.ready()}function s(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=Z.expando+s.uid++}function c(t,e,n){var i;if(void 0===n&&1===t.nodeType)if(i="data-"+e.replace(we,"-$1").toLowerCase(),n=t.getAttribute(i),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:be.test(n)?Z.parseJSON(n):n}catch(r){}ye.set(t,e,n)}else n=void 0;return n}function u(){return!0}function l(){return!1}function h(){try{return Q.activeElement}catch(t){}}function f(t,e){return Z.nodeName(t,"table")&&Z.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function d(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function p(t){var e=Fe.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function g(t,e){for(var n=0,i=t.length;i>n;n++)ve.set(t[n],"globalEval",!e||ve.get(e[n],"globalEval"))}function m(t,e){var n,i,r,o,a,s,c,u;if(1===e.nodeType){if(ve.hasData(t)&&(o=ve.access(t),a=ve.set(e,o),u=o.events)){delete a.handle,a.events={};for(r in u)for(n=0,i=u[r].length;i>n;n++)Z.event.add(e,r,u[r][n])}ye.hasData(t)&&(s=ye.access(t),c=Z.extend({},s),ye.set(e,c))}}function v(t,e){var n=t.getElementsByTagName?t.getElementsByTagName(e||"*"):t.querySelectorAll?t.querySelectorAll(e||"*"):[];return void 0===e||e&&Z.nodeName(t,e)?Z.merge([t],n):n}function y(t,e){var n=e.nodeName.toLowerCase();"input"===n&&Se.test(t.type)?e.checked=t.checked:("input"===n||"textarea"===n)&&(e.defaultValue=t.defaultValue)}function b(e,n){var i,r=Z(n.createElement(e)).appendTo(n.body),o=t.getDefaultComputedStyle&&(i=t.getDefaultComputedStyle(r[0]))?i.display:Z.css(r[0],"display");return r.detach(),o}function w(t){var e=Q,n=Be[t];return n||(n=b(t,e),"none"!==n&&n||(He=(He||Z("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement),e=He[0].contentDocument,e.write(),e.close(),n=b(t,e),He.detach()),Be[t]=n),n}function k(t,e,n){var i,r,o,a,s=t.style;return n=n||qe(t),n&&(a=n.getPropertyValue(e)||n[e]),n&&(""!==a||Z.contains(t.ownerDocument,t)||(a=Z.style(t,e)),We.test(a)&&Ue.test(e)&&(i=s.width,r=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=i,s.minWidth=r,s.maxWidth=o)),void 0!==a?a+"":a}function x(t,e){return{get:function(){return t()?void delete this.get:(this.get=e).apply(this,arguments)}}}function C(t,e){if(e in t)return e;for(var n=e[0].toUpperCase()+e.slice(1),i=e,r=Ge.length;r--;)if(e=Ge[r]+n,e in t)return e;return i}function S(t,e,n){var i=Ve.exec(e);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):e}function T(t,e,n,i,r){for(var o=n===(i?"border":"content")?4:"width"===e?1:0,a=0;4>o;o+=2)"margin"===n&&(a+=Z.css(t,n+xe[o],!0,r)),i?("content"===n&&(a-=Z.css(t,"padding"+xe[o],!0,r)),"margin"!==n&&(a-=Z.css(t,"border"+xe[o]+"Width",!0,r))):(a+=Z.css(t,"padding"+xe[o],!0,r),"padding"!==n&&(a+=Z.css(t,"border"+xe[o]+"Width",!0,r)));return a}function _(t,e,n){var i=!0,r="width"===e?t.offsetWidth:t.offsetHeight,o=qe(t),a="border-box"===Z.css(t,"boxSizing",!1,o);if(0>=r||null==r){if(r=k(t,e,o),(0>r||null==r)&&(r=t.style[e]),We.test(r))return r;i=a&&(K.boxSizingReliable()||r===t.style[e]),r=parseFloat(r)||0}return r+T(t,e,n||(a?"border":"content"),i,o)+"px"}function E(t,e){for(var n,i,r,o=[],a=0,s=t.length;s>a;a++)i=t[a],i.style&&(o[a]=ve.get(i,"olddisplay"),n=i.style.display,e?(o[a]||"none"!==n||(i.style.display=""),""===i.style.display&&Ce(i)&&(o[a]=ve.access(i,"olddisplay",w(i.nodeName)))):(r=Ce(i),"none"===n&&r||ve.set(i,"olddisplay",r?n:Z.css(i,"display"))));for(a=0;s>a;a++)i=t[a],i.style&&(e&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=e?o[a]||"":"none"));return t}function A(t,e,n,i,r){return new A.prototype.init(t,e,n,i,r)}function D(){return setTimeout(function(){Ke=void 0}),Ke=Z.now()}function I(t,e){var n,i=0,r={height:t};for(e=e?1:0;4>i;i+=2-e)n=xe[i],r["margin"+n]=r["padding"+n]=t;return e&&(r.opacity=r.width=t),r}function O(t,e,n){for(var i,r=(nn[e]||[]).concat(nn["*"]),o=0,a=r.length;a>o;o++)if(i=r[o].call(n,e,t))return i}function N(t,e,n){var i,r,o,a,s,c,u,l,h=this,f={},d=t.style,p=t.nodeType&&Ce(t),g=ve.get(t,"fxshow");n.queue||(s=Z._queueHooks(t,"fx"),null==s.unqueued&&(s.unqueued=0,c=s.empty.fire,s.empty.fire=function(){s.unqueued||c()}),s.unqueued++,h.always(function(){h.always(function(){s.unqueued--,Z.queue(t,"fx").length||s.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(n.overflow=[d.overflow,d.overflowX,d.overflowY],u=Z.css(t,"display"),l="none"===u?ve.get(t,"olddisplay")||w(t.nodeName):u,"inline"===l&&"none"===Z.css(t,"float")&&(d.display="inline-block")),n.overflow&&(d.overflow="hidden",h.always(function(){d.overflow=n.overflow[0],d.overflowX=n.overflow[1],d.overflowY=n.overflow[2]}));for(i in e)if(r=e[i],Je.exec(r)){if(delete e[i],o=o||"toggle"===r,r===(p?"hide":"show")){if("show"!==r||!g||void 0===g[i])continue;p=!0}f[i]=g&&g[i]||Z.style(t,i)}else u=void 0;if(Z.isEmptyObject(f))"inline"===("none"===u?w(t.nodeName):u)&&(d.display=u);else{g?"hidden"in g&&(p=g.hidden):g=ve.access(t,"fxshow",{}),o&&(g.hidden=!p),p?Z(t).show():h.done(function(){Z(t).hide()}),h.done(function(){var e;ve.remove(t,"fxshow");for(e in f)Z.style(t,e,f[e])});for(i in f)a=O(p?g[i]:0,i,h),i in g||(g[i]=a.start,p&&(a.end=a.start,a.start="width"===i||"height"===i?1:0))}}function M(t,e){var n,i,r,o,a;for(n in t)if(i=Z.camelCase(n),r=e[i],o=t[n],Z.isArray(o)&&(r=o[1],o=t[n]=o[0]),n!==i&&(t[i]=o,delete t[n]),a=Z.cssHooks[i],a&&"expand"in a){o=a.expand(o),delete t[i];for(n in o)n in t||(t[n]=o[n],e[n]=r)}else e[i]=r}function P(t,e,n){var i,r,o=0,a=en.length,s=Z.Deferred().always(function(){delete c.elem}),c=function(){if(r)return!1;for(var e=Ke||D(),n=Math.max(0,u.startTime+u.duration-e),i=n/u.duration||0,o=1-i,a=0,c=u.tweens.length;c>a;a++)u.tweens[a].run(o);return s.notifyWith(t,[u,o,n]),1>o&&c?n:(s.resolveWith(t,[u]),!1)},u=s.promise({elem:t,props:Z.extend({},e),opts:Z.extend(!0,{specialEasing:{}},n),originalProperties:e,originalOptions:n,startTime:Ke||D(),duration:n.duration,tweens:[],createTween:function(e,n){var i=Z.Tween(t,u.opts,e,n,u.opts.specialEasing[e]||u.opts.easing);return u.tweens.push(i),i},stop:function(e){var n=0,i=e?u.tweens.length:0;if(r)return this;for(r=!0;i>n;n++)u.tweens[n].run(1);return e?s.resolveWith(t,[u,e]):s.rejectWith(t,[u,e]),this}}),l=u.props;for(M(l,u.opts.specialEasing);a>o;o++)if(i=en[o].call(u,t,l,u.opts))return i;return Z.map(l,O,u),Z.isFunction(u.opts.start)&&u.opts.start.call(t,u),Z.fx.timer(Z.extend(c,{elem:t,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function j(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var i,r=0,o=e.toLowerCase().match(de)||[];if(Z.isFunction(n))for(;i=o[r++];)"+"===i[0]?(i=i.slice(1)||"*",(t[i]=t[i]||[]).unshift(n)):(t[i]=t[i]||[]).push(n)}}function F(t,e,n,i){function r(s){var c;return o[s]=!0,Z.each(t[s]||[],function(t,s){var u=s(e,n,i);return"string"!=typeof u||a||o[u]?a?!(c=u):void 0:(e.dataTypes.unshift(u),r(u),!1)}),c}var o={},a=t===wn;return r(e.dataTypes[0])||!o["*"]&&r("*")}function R(t,e){var n,i,r=Z.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((r[n]?t:i||(i={}))[n]=e[n]);return i&&Z.extend(!0,t,i),t}function L(t,e,n){for(var i,r,o,a,s=t.contents,c=t.dataTypes;"*"===c[0];)c.shift(),void 0===i&&(i=t.mimeType||e.getResponseHeader("Content-Type"));if(i)for(r in s)if(s[r]&&s[r].test(i)){c.unshift(r);break}if(c[0]in n)o=c[0];else{for(r in n){if(!c[0]||t.converters[r+" "+c[0]]){o=r;break}a||(a=r)}o=o||a}return o?(o!==c[0]&&c.unshift(o),n[o]):void 0}function H(t,e,n,i){var r,o,a,s,c,u={},l=t.dataTypes.slice();if(l[1])for(a in t.converters)u[a.toLowerCase()]=t.converters[a];for(o=l.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!c&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),c=o,o=l.shift())if("*"===o)o=c;else if("*"!==c&&c!==o){if(a=u[c+" "+o]||u["* "+o],!a)for(r in u)if(s=r.split(" "),s[1]===o&&(a=u[c+" "+s[0]]||u["* "+s[0]])){a===!0?a=u[r]:u[r]!==!0&&(o=s[0],l.unshift(s[1]));break}if(a!==!0)if(a&&t["throws"])e=a(e);else try{e=a(e)}catch(h){return{state:"parsererror",error:a?h:"No conversion from "+c+" to "+o}}}return{state:"success",data:e}}function B(t,e,n,i){var r;if(Z.isArray(e))Z.each(e,function(e,r){n||Tn.test(t)?i(t,r):B(t+"["+("object"==typeof r?e:"")+"]",r,n,i)});else if(n||"object"!==Z.type(e))i(t,e);else for(r in e)B(t+"["+r+"]",e[r],n,i)}function U(t){return Z.isWindow(t)?t:9===t.nodeType&&t.defaultView}var W=[],q=W.slice,$=W.concat,V=W.push,Y=W.indexOf,z={},X=z.toString,G=z.hasOwnProperty,K={},Q=t.document,J="2.1.4",Z=function(t,e){return new Z.fn.init(t,e)},te=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ee=/^-ms-/,ne=/-([\da-z])/gi,ie=function(t,e){return e.toUpperCase()};Z.fn=Z.prototype={jquery:J,constructor:Z,selector:"",length:0,toArray:function(){return q.call(this)},get:function(t){return null!=t?0>t?this[t+this.length]:this[t]:q.call(this)},pushStack:function(t){var e=Z.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t,e){return Z.each(this,t,e)},map:function(t){return this.pushStack(Z.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack(q.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(0>t?e:0);return this.pushStack(n>=0&&e>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:V,sort:W.sort,splice:W.splice},Z.extend=Z.fn.extend=function(){var t,e,n,i,r,o,a=arguments[0]||{},s=1,c=arguments.length,u=!1;for("boolean"==typeof a&&(u=a,a=arguments[s]||{},s++),"object"==typeof a||Z.isFunction(a)||(a={}),s===c&&(a=this,s--);c>s;s++)if(null!=(t=arguments[s]))for(e in t)n=a[e],i=t[e],a!==i&&(u&&i&&(Z.isPlainObject(i)||(r=Z.isArray(i)))?(r?(r=!1,o=n&&Z.isArray(n)?n:[]):o=n&&Z.isPlainObject(n)?n:{},a[e]=Z.extend(u,o,i)):void 0!==i&&(a[e]=i));return a},Z.extend({expando:"jQuery"+(J+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===Z.type(t)},isArray:Array.isArray,isWindow:function(t){return null!=t&&t===t.window},isNumeric:function(t){return!Z.isArray(t)&&t-parseFloat(t)+1>=0},isPlainObject:function(t){return"object"!==Z.type(t)||t.nodeType||Z.isWindow(t)?!1:t.constructor&&!G.call(t.constructor.prototype,"isPrototypeOf")?!1:!0},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?z[X.call(t)]||"object":typeof t},globalEval:function(t){var e,n=eval;t=Z.trim(t),t&&(1===t.indexOf("use strict")?(e=Q.createElement("script"),e.text=t,Q.head.appendChild(e).parentNode.removeChild(e)):n(t))},camelCase:function(t){return t.replace(ee,"ms-").replace(ne,ie)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e,i){var r,o=0,a=t.length,s=n(t);if(i){if(s)for(;a>o&&(r=e.apply(t[o],i),r!==!1);o++);else for(o in t)if(r=e.apply(t[o],i),r===!1)break}else if(s)for(;a>o&&(r=e.call(t[o],o,t[o]),r!==!1);o++);else for(o in t)if(r=e.call(t[o],o,t[o]),r===!1)break;return t},trim:function(t){return null==t?"":(t+"").replace(te,"")},makeArray:function(t,e){var i=e||[];return null!=t&&(n(Object(t))?Z.merge(i,"string"==typeof t?[t]:t):V.call(i,t)),i},inArray:function(t,e,n){return null==e?-1:Y.call(e,t,n)},merge:function(t,e){for(var n=+e.length,i=0,r=t.length;n>i;i++)t[r++]=e[i];return t.length=r,t},grep:function(t,e,n){for(var i,r=[],o=0,a=t.length,s=!n;a>o;o++)i=!e(t[o],o),i!==s&&r.push(t[o]);return r},map:function(t,e,i){var r,o=0,a=t.length,s=n(t),c=[];if(s)for(;a>o;o++)r=e(t[o],o,i),null!=r&&c.push(r);else for(o in t)r=e(t[o],o,i),null!=r&&c.push(r);return $.apply([],c)},guid:1,proxy:function(t,e){var n,i,r;return"string"==typeof e&&(n=t[e],e=t,t=n),Z.isFunction(t)?(i=q.call(arguments,2),r=function(){return t.apply(e||this,i.concat(q.call(arguments)))},r.guid=t.guid=t.guid||Z.guid++,r):void 0},now:Date.now,support:K}),Z.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){z["[object "+e+"]"]=e.toLowerCase()});var re=function(t){function e(t,e,n,i){var r,o,a,s,c,u,h,d,p,g;if((e?e.ownerDocument||e:B)!==N&&O(e),e=e||N,n=n||[],s=e.nodeType,"string"!=typeof t||!t||1!==s&&9!==s&&11!==s)return n;if(!i&&P){if(11!==s&&(r=ye.exec(t)))if(a=r[1]){if(9===s){if(o=e.getElementById(a),!o||!o.parentNode)return n;if(o.id===a)return n.push(o),n}else if(e.ownerDocument&&(o=e.ownerDocument.getElementById(a))&&L(e,o)&&o.id===a)return n.push(o),n}else{if(r[2])return J.apply(n,e.getElementsByTagName(t)),n;if((a=r[3])&&k.getElementsByClassName)return J.apply(n,e.getElementsByClassName(a)),n}if(k.qsa&&(!j||!j.test(t))){if(d=h=H,p=e,g=1!==s&&t,1===s&&"object"!==e.nodeName.toLowerCase()){for(u=T(t),(h=e.getAttribute("id"))?d=h.replace(we,"\\$&"):e.setAttribute("id",d),d="[id='"+d+"'] ",c=u.length;c--;)u[c]=d+f(u[c]);p=be.test(t)&&l(e.parentNode)||e,g=u.join(",")}if(g)try{return J.apply(n,p.querySelectorAll(g)),n}catch(m){}finally{h||e.removeAttribute("id")}}}return E(t.replace(ce,"$1"),e,n,i)}function n(){function t(n,i){return e.push(n+" ")>x.cacheLength&&delete t[e.shift()],t[n+" "]=i}var e=[];return t}function i(t){return t[H]=!0,t}function r(t){var e=N.createElement("div");try{return!!t(e)}catch(n){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function o(t,e){for(var n=t.split("|"),i=t.length;i--;)x.attrHandle[n[i]]=e}function a(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||z)-(~t.sourceIndex||z);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function s(t){return function(e){var n=e.nodeName.toLowerCase();return"input"===n&&e.type===t}}function c(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function u(t){return i(function(e){return e=+e,i(function(n,i){for(var r,o=t([],n.length,e),a=o.length;a--;)n[r=o[a]]&&(n[r]=!(i[r]=n[r]))})})}function l(t){return t&&"undefined"!=typeof t.getElementsByTagName&&t}function h(){}function f(t){for(var e=0,n=t.length,i="";n>e;e++)i+=t[e].value;return i}function d(t,e,n){var i=e.dir,r=n&&"parentNode"===i,o=W++;return e.first?function(e,n,o){for(;e=e[i];)if(1===e.nodeType||r)return t(e,n,o)}:function(e,n,a){var s,c,u=[U,o];if(a){for(;e=e[i];)if((1===e.nodeType||r)&&t(e,n,a))return!0}else for(;e=e[i];)if(1===e.nodeType||r){if(c=e[H]||(e[H]={}),(s=c[i])&&s[0]===U&&s[1]===o)return u[2]=s[2];if(c[i]=u,u[2]=t(e,n,a))return!0}}}function p(t){return t.length>1?function(e,n,i){for(var r=t.length;r--;)if(!t[r](e,n,i))return!1;return!0}:t[0]}function g(t,n,i){for(var r=0,o=n.length;o>r;r++)e(t,n[r],i);return i}function m(t,e,n,i,r){for(var o,a=[],s=0,c=t.length,u=null!=e;c>s;s++)(o=t[s])&&(!n||n(o,i,r))&&(a.push(o),u&&e.push(s));return a}function v(t,e,n,r,o,a){return r&&!r[H]&&(r=v(r)),o&&!o[H]&&(o=v(o,a)),i(function(i,a,s,c){var u,l,h,f=[],d=[],p=a.length,v=i||g(e||"*",s.nodeType?[s]:s,[]),y=!t||!i&&e?v:m(v,f,t,s,c),b=n?o||(i?t:p||r)?[]:a:y;if(n&&n(y,b,s,c),r)for(u=m(b,d),r(u,[],s,c),l=u.length;l--;)(h=u[l])&&(b[d[l]]=!(y[d[l]]=h));if(i){if(o||t){if(o){for(u=[],l=b.length;l--;)(h=b[l])&&u.push(y[l]=h);o(null,b=[],u,c)}for(l=b.length;l--;)(h=b[l])&&(u=o?te(i,h):f[l])>-1&&(i[u]=!(a[u]=h))}}else b=m(b===a?b.splice(p,b.length):b),o?o(null,a,b,c):J.apply(a,b)})}function y(t){for(var e,n,i,r=t.length,o=x.relative[t[0].type],a=o||x.relative[" "],s=o?1:0,c=d(function(t){return t===e},a,!0),u=d(function(t){return te(e,t)>-1},a,!0),l=[function(t,n,i){var r=!o&&(i||n!==A)||((e=n).nodeType?c(t,n,i):u(t,n,i));return e=null,r}];r>s;s++)if(n=x.relative[t[s].type])l=[d(p(l),n)];else{if(n=x.filter[t[s].type].apply(null,t[s].matches),n[H]){for(i=++s;r>i&&!x.relative[t[i].type];i++);return v(s>1&&p(l),s>1&&f(t.slice(0,s-1).concat({value:" "===t[s-2].type?"*":""})).replace(ce,"$1"),n,i>s&&y(t.slice(s,i)),r>i&&y(t=t.slice(i)),r>i&&f(t))}l.push(n)}return p(l)}function b(t,n){var r=n.length>0,o=t.length>0,a=function(i,a,s,c,u){var l,h,f,d=0,p="0",g=i&&[],v=[],y=A,b=i||o&&x.find.TAG("*",u),w=U+=null==y?1:Math.random()||.1,k=b.length;for(u&&(A=a!==N&&a);p!==k&&null!=(l=b[p]);p++){if(o&&l){for(h=0;f=t[h++];)if(f(l,a,s)){c.push(l);break}u&&(U=w)}r&&((l=!f&&l)&&d--,i&&g.push(l))}if(d+=p,r&&p!==d){for(h=0;f=n[h++];)f(g,v,a,s);if(i){if(d>0)for(;p--;)g[p]||v[p]||(v[p]=K.call(c));v=m(v)}J.apply(c,v),u&&!i&&v.length>0&&d+n.length>1&&e.uniqueSort(c)}return u&&(U=w,A=y),g};return r?i(a):a}var w,k,x,C,S,T,_,E,A,D,I,O,N,M,P,j,F,R,L,H="sizzle"+1*new Date,B=t.document,U=0,W=0,q=n(),$=n(),V=n(),Y=function(t,e){return t===e&&(I=!0),0},z=1<<31,X={}.hasOwnProperty,G=[],K=G.pop,Q=G.push,J=G.push,Z=G.slice,te=function(t,e){for(var n=0,i=t.length;i>n;n++)if(t[n]===e)return n;return-1},ee="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ne="[\\x20\\t\\r\\n\\f]",ie="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",re=ie.replace("w","w#"),oe="\\["+ne+"*("+ie+")(?:"+ne+"*([*^$|!~]?=)"+ne+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+re+"))|)"+ne+"*\\]",ae=":("+ie+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+oe+")*)|.*)\\)|)",se=new RegExp(ne+"+","g"),ce=new RegExp("^"+ne+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ne+"+$","g"),ue=new RegExp("^"+ne+"*,"+ne+"*"),le=new RegExp("^"+ne+"*([>+~]|"+ne+")"+ne+"*"),he=new RegExp("="+ne+"*([^\\]'\"]*?)"+ne+"*\\]","g"),fe=new RegExp(ae),de=new RegExp("^"+re+"$"),pe={ID:new RegExp("^#("+ie+")"),CLASS:new RegExp("^\\.("+ie+")"),TAG:new RegExp("^("+ie.replace("w","w*")+")"),ATTR:new RegExp("^"+oe),PSEUDO:new RegExp("^"+ae),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ne+"*(even|odd|(([+-]|)(\\d*)n|)"+ne+"*(?:([+-]|)"+ne+"*(\\d+)|))"+ne+"*\\)|)","i"),bool:new RegExp("^(?:"+ee+")$","i"),needsContext:new RegExp("^"+ne+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ne+"*((?:-\\d)?\\d*)"+ne+"*\\)|)(?=[^-]|$)","i")},ge=/^(?:input|select|textarea|button)$/i,me=/^h\d$/i,ve=/^[^{]+\{\s*\[native \w/,ye=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,be=/[+~]/,we=/'|\\/g,ke=new RegExp("\\\\([\\da-f]{1,6}"+ne+"?|("+ne+")|.)","ig"),xe=function(t,e,n){var i="0x"+e-65536;return i!==i||n?e:0>i?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},Ce=function(){O()};try{J.apply(G=Z.call(B.childNodes),B.childNodes),G[B.childNodes.length].nodeType}catch(Se){J={apply:G.length?function(t,e){Q.apply(t,Z.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}k=e.support={},S=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return e?"HTML"!==e.nodeName:!1},O=e.setDocument=function(t){var e,n,i=t?t.ownerDocument||t:B;return i!==N&&9===i.nodeType&&i.documentElement?(N=i,M=i.documentElement,n=i.defaultView,n&&n!==n.top&&(n.addEventListener?n.addEventListener("unload",Ce,!1):n.attachEvent&&n.attachEvent("onunload",Ce)),P=!S(i),k.attributes=r(function(t){return t.className="i",!t.getAttribute("className")}),k.getElementsByTagName=r(function(t){return t.appendChild(i.createComment("")),!t.getElementsByTagName("*").length}),k.getElementsByClassName=ve.test(i.getElementsByClassName),k.getById=r(function(t){return M.appendChild(t).id=H,!i.getElementsByName||!i.getElementsByName(H).length}),k.getById?(x.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&P){var n=e.getElementById(t);return n&&n.parentNode?[n]:[]}},x.filter.ID=function(t){var e=t.replace(ke,xe);return function(t){return t.getAttribute("id")===e}}):(delete x.find.ID,x.filter.ID=function(t){var e=t.replace(ke,xe);return function(t){var n="undefined"!=typeof t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}}),x.find.TAG=k.getElementsByTagName?function(t,e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t):k.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,i=[],r=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},x.find.CLASS=k.getElementsByClassName&&function(t,e){return P?e.getElementsByClassName(t):void 0},F=[],j=[],(k.qsa=ve.test(i.querySelectorAll))&&(r(function(t){M.appendChild(t).innerHTML="<a id='"+H+"'></a><select id='"+H+"-\f]' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&j.push("[*^$]="+ne+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||j.push("\\["+ne+"*(?:value|"+ee+")"),t.querySelectorAll("[id~="+H+"-]").length||j.push("~="),t.querySelectorAll(":checked").length||j.push(":checked"),t.querySelectorAll("a#"+H+"+*").length||j.push(".#.+[+~]")}),r(function(t){var e=i.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&j.push("name"+ne+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||j.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),j.push(",.*:")})),(k.matchesSelector=ve.test(R=M.matches||M.webkitMatchesSelector||M.mozMatchesSelector||M.oMatchesSelector||M.msMatchesSelector))&&r(function(t){k.disconnectedMatch=R.call(t,"div"),R.call(t,"[s!='']:x"),F.push("!=",ae)}),j=j.length&&new RegExp(j.join("|")),F=F.length&&new RegExp(F.join("|")),e=ve.test(M.compareDocumentPosition),L=e||ve.test(M.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},Y=e?function(t,e){if(t===e)return I=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n?n:(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&n||!k.sortDetached&&e.compareDocumentPosition(t)===n?t===i||t.ownerDocument===B&&L(B,t)?-1:e===i||e.ownerDocument===B&&L(B,e)?1:D?te(D,t)-te(D,e):0:4&n?-1:1)}:function(t,e){if(t===e)return I=!0,0;var n,r=0,o=t.parentNode,s=e.parentNode,c=[t],u=[e];if(!o||!s)return t===i?-1:e===i?1:o?-1:s?1:D?te(D,t)-te(D,e):0;if(o===s)return a(t,e);for(n=t;n=n.parentNode;)c.unshift(n);for(n=e;n=n.parentNode;)u.unshift(n);for(;c[r]===u[r];)r++;return r?a(c[r],u[r]):c[r]===B?-1:u[r]===B?1:0},i):N},e.matches=function(t,n){return e(t,null,null,n)},e.matchesSelector=function(t,n){if((t.ownerDocument||t)!==N&&O(t),n=n.replace(he,"='$1']"),!(!k.matchesSelector||!P||F&&F.test(n)||j&&j.test(n)))try{var i=R.call(t,n);if(i||k.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(r){}return e(n,N,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==N&&O(t),L(t,e)
},e.attr=function(t,e){(t.ownerDocument||t)!==N&&O(t);var n=x.attrHandle[e.toLowerCase()],i=n&&X.call(x.attrHandle,e.toLowerCase())?n(t,e,!P):void 0;return void 0!==i?i:k.attributes||!P?t.getAttribute(e):(i=t.getAttributeNode(e))&&i.specified?i.value:null},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,n=[],i=0,r=0;if(I=!k.detectDuplicates,D=!k.sortStable&&t.slice(0),t.sort(Y),I){for(;e=t[r++];)e===t[r]&&(i=n.push(r));for(;i--;)t.splice(n[i],1)}return D=null,t},C=e.getText=function(t){var e,n="",i=0,r=t.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=C(t)}else if(3===r||4===r)return t.nodeValue}else for(;e=t[i++];)n+=C(e);return n},x=e.selectors={cacheLength:50,createPseudo:i,match:pe,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(ke,xe),t[3]=(t[3]||t[4]||t[5]||"").replace(ke,xe),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return pe.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&fe.test(n)&&(e=T(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(ke,xe).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=q[t+" "];return e||(e=new RegExp("(^|"+ne+")"+t+"("+ne+"|$)"))&&q(t,function(t){return e.test("string"==typeof t.className&&t.className||"undefined"!=typeof t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,n,i){return function(r){var o=e.attr(r,t);return null==o?"!="===n:n?(o+="","="===n?o===i:"!="===n?o!==i:"^="===n?i&&0===o.indexOf(i):"*="===n?i&&o.indexOf(i)>-1:"$="===n?i&&o.slice(-i.length)===i:"~="===n?(" "+o.replace(se," ")+" ").indexOf(i)>-1:"|="===n?o===i||o.slice(0,i.length+1)===i+"-":!1):!0}},CHILD:function(t,e,n,i,r){var o="nth"!==t.slice(0,3),a="last"!==t.slice(-4),s="of-type"===e;return 1===i&&0===r?function(t){return!!t.parentNode}:function(e,n,c){var u,l,h,f,d,p,g=o!==a?"nextSibling":"previousSibling",m=e.parentNode,v=s&&e.nodeName.toLowerCase(),y=!c&&!s;if(m){if(o){for(;g;){for(h=e;h=h[g];)if(s?h.nodeName.toLowerCase()===v:1===h.nodeType)return!1;p=g="only"===t&&!p&&"nextSibling"}return!0}if(p=[a?m.firstChild:m.lastChild],a&&y){for(l=m[H]||(m[H]={}),u=l[t]||[],d=u[0]===U&&u[1],f=u[0]===U&&u[2],h=d&&m.childNodes[d];h=++d&&h&&h[g]||(f=d=0)||p.pop();)if(1===h.nodeType&&++f&&h===e){l[t]=[U,d,f];break}}else if(y&&(u=(e[H]||(e[H]={}))[t])&&u[0]===U)f=u[1];else for(;(h=++d&&h&&h[g]||(f=d=0)||p.pop())&&((s?h.nodeName.toLowerCase()!==v:1!==h.nodeType)||!++f||(y&&((h[H]||(h[H]={}))[t]=[U,f]),h!==e)););return f-=r,f===i||f%i===0&&f/i>=0}}},PSEUDO:function(t,n){var r,o=x.pseudos[t]||x.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return o[H]?o(n):o.length>1?(r=[t,t,"",n],x.setFilters.hasOwnProperty(t.toLowerCase())?i(function(t,e){for(var i,r=o(t,n),a=r.length;a--;)i=te(t,r[a]),t[i]=!(e[i]=r[a])}):function(t){return o(t,0,r)}):o}},pseudos:{not:i(function(t){var e=[],n=[],r=_(t.replace(ce,"$1"));return r[H]?i(function(t,e,n,i){for(var o,a=r(t,null,i,[]),s=t.length;s--;)(o=a[s])&&(t[s]=!(e[s]=o))}):function(t,i,o){return e[0]=t,r(e,null,o,n),e[0]=null,!n.pop()}}),has:i(function(t){return function(n){return e(t,n).length>0}}),contains:i(function(t){return t=t.replace(ke,xe),function(e){return(e.textContent||e.innerText||C(e)).indexOf(t)>-1}}),lang:i(function(t){return de.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(ke,xe).toLowerCase(),function(e){var n;do if(n=P?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return n=n.toLowerCase(),n===t||0===n.indexOf(t+"-");while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===M},focus:function(t){return t===N.activeElement&&(!N.hasFocus||N.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return t.disabled===!1},disabled:function(t){return t.disabled===!0},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!x.pseudos.empty(t)},header:function(t){return me.test(t.nodeName)},input:function(t){return ge.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:u(function(){return[0]}),last:u(function(t,e){return[e-1]}),eq:u(function(t,e,n){return[0>n?n+e:n]}),even:u(function(t,e){for(var n=0;e>n;n+=2)t.push(n);return t}),odd:u(function(t,e){for(var n=1;e>n;n+=2)t.push(n);return t}),lt:u(function(t,e,n){for(var i=0>n?n+e:n;--i>=0;)t.push(i);return t}),gt:u(function(t,e,n){for(var i=0>n?n+e:n;++i<e;)t.push(i);return t})}},x.pseudos.nth=x.pseudos.eq;for(w in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})x.pseudos[w]=s(w);for(w in{submit:!0,reset:!0})x.pseudos[w]=c(w);return h.prototype=x.filters=x.pseudos,x.setFilters=new h,T=e.tokenize=function(t,n){var i,r,o,a,s,c,u,l=$[t+" "];if(l)return n?0:l.slice(0);for(s=t,c=[],u=x.preFilter;s;){(!i||(r=ue.exec(s)))&&(r&&(s=s.slice(r[0].length)||s),c.push(o=[])),i=!1,(r=le.exec(s))&&(i=r.shift(),o.push({value:i,type:r[0].replace(ce," ")}),s=s.slice(i.length));for(a in x.filter)!(r=pe[a].exec(s))||u[a]&&!(r=u[a](r))||(i=r.shift(),o.push({value:i,type:a,matches:r}),s=s.slice(i.length));if(!i)break}return n?s.length:s?e.error(t):$(t,c).slice(0)},_=e.compile=function(t,e){var n,i=[],r=[],o=V[t+" "];if(!o){for(e||(e=T(t)),n=e.length;n--;)o=y(e[n]),o[H]?i.push(o):r.push(o);o=V(t,b(r,i)),o.selector=t}return o},E=e.select=function(t,e,n,i){var r,o,a,s,c,u="function"==typeof t&&t,h=!i&&T(t=u.selector||t);if(n=n||[],1===h.length){if(o=h[0]=h[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&k.getById&&9===e.nodeType&&P&&x.relative[o[1].type]){if(e=(x.find.ID(a.matches[0].replace(ke,xe),e)||[])[0],!e)return n;u&&(e=e.parentNode),t=t.slice(o.shift().value.length)}for(r=pe.needsContext.test(t)?0:o.length;r--&&(a=o[r],!x.relative[s=a.type]);)if((c=x.find[s])&&(i=c(a.matches[0].replace(ke,xe),be.test(o[0].type)&&l(e.parentNode)||e))){if(o.splice(r,1),t=i.length&&f(o),!t)return J.apply(n,i),n;break}}return(u||_(t,h))(i,e,!P,n,be.test(t)&&l(e.parentNode)||e),n},k.sortStable=H.split("").sort(Y).join("")===H,k.detectDuplicates=!!I,O(),k.sortDetached=r(function(t){return 1&t.compareDocumentPosition(N.createElement("div"))}),r(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||o("type|href|height|width",function(t,e,n){return n?void 0:t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),k.attributes&&r(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||o("value",function(t,e,n){return n||"input"!==t.nodeName.toLowerCase()?void 0:t.defaultValue}),r(function(t){return null==t.getAttribute("disabled")})||o(ee,function(t,e,n){var i;return n?void 0:t[e]===!0?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null}),e}(t);Z.find=re,Z.expr=re.selectors,Z.expr[":"]=Z.expr.pseudos,Z.unique=re.uniqueSort,Z.text=re.getText,Z.isXMLDoc=re.isXML,Z.contains=re.contains;var oe=Z.expr.match.needsContext,ae=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,se=/^.[^:#\[\.,]*$/;Z.filter=function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?Z.find.matchesSelector(i,t)?[i]:[]:Z.find.matches(t,Z.grep(e,function(t){return 1===t.nodeType}))},Z.fn.extend({find:function(t){var e,n=this.length,i=[],r=this;if("string"!=typeof t)return this.pushStack(Z(t).filter(function(){for(e=0;n>e;e++)if(Z.contains(r[e],this))return!0}));for(e=0;n>e;e++)Z.find(t,r[e],i);return i=this.pushStack(n>1?Z.unique(i):i),i.selector=this.selector?this.selector+" "+t:t,i},filter:function(t){return this.pushStack(i(this,t||[],!1))},not:function(t){return this.pushStack(i(this,t||[],!0))},is:function(t){return!!i(this,"string"==typeof t&&oe.test(t)?Z(t):t||[],!1).length}});var ce,ue=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,le=Z.fn.init=function(t,e){var n,i;if(!t)return this;if("string"==typeof t){if(n="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:ue.exec(t),!n||!n[1]&&e)return!e||e.jquery?(e||ce).find(t):this.constructor(e).find(t);if(n[1]){if(e=e instanceof Z?e[0]:e,Z.merge(this,Z.parseHTML(n[1],e&&e.nodeType?e.ownerDocument||e:Q,!0)),ae.test(n[1])&&Z.isPlainObject(e))for(n in e)Z.isFunction(this[n])?this[n](e[n]):this.attr(n,e[n]);return this}return i=Q.getElementById(n[2]),i&&i.parentNode&&(this.length=1,this[0]=i),this.context=Q,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):Z.isFunction(t)?"undefined"!=typeof ce.ready?ce.ready(t):t(Z):(void 0!==t.selector&&(this.selector=t.selector,this.context=t.context),Z.makeArray(t,this))};le.prototype=Z.fn,ce=Z(Q);var he=/^(?:parents|prev(?:Until|All))/,fe={children:!0,contents:!0,next:!0,prev:!0};Z.extend({dir:function(t,e,n){for(var i=[],r=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(r&&Z(t).is(n))break;i.push(t)}return i},sibling:function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n}}),Z.fn.extend({has:function(t){var e=Z(t,this),n=e.length;return this.filter(function(){for(var t=0;n>t;t++)if(Z.contains(this,e[t]))return!0})},closest:function(t,e){for(var n,i=0,r=this.length,o=[],a=oe.test(t)||"string"!=typeof t?Z(t,e||this.context):0;r>i;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&Z.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(o.length>1?Z.unique(o):o)},index:function(t){return t?"string"==typeof t?Y.call(Z(t),this[0]):Y.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(Z.unique(Z.merge(this.get(),Z(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),Z.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return Z.dir(t,"parentNode")},parentsUntil:function(t,e,n){return Z.dir(t,"parentNode",n)},next:function(t){return r(t,"nextSibling")},prev:function(t){return r(t,"previousSibling")},nextAll:function(t){return Z.dir(t,"nextSibling")},prevAll:function(t){return Z.dir(t,"previousSibling")},nextUntil:function(t,e,n){return Z.dir(t,"nextSibling",n)},prevUntil:function(t,e,n){return Z.dir(t,"previousSibling",n)},siblings:function(t){return Z.sibling((t.parentNode||{}).firstChild,t)},children:function(t){return Z.sibling(t.firstChild)},contents:function(t){return t.contentDocument||Z.merge([],t.childNodes)}},function(t,e){Z.fn[t]=function(n,i){var r=Z.map(this,e,n);return"Until"!==t.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=Z.filter(i,r)),this.length>1&&(fe[t]||Z.unique(r),he.test(t)&&r.reverse()),this.pushStack(r)}});var de=/\S+/g,pe={};Z.Callbacks=function(t){t="string"==typeof t?pe[t]||o(t):Z.extend({},t);var e,n,i,r,a,s,c=[],u=!t.once&&[],l=function(o){for(e=t.memory&&o,n=!0,s=r||0,r=0,a=c.length,i=!0;c&&a>s;s++)if(c[s].apply(o[0],o[1])===!1&&t.stopOnFalse){e=!1;break}i=!1,c&&(u?u.length&&l(u.shift()):e?c=[]:h.disable())},h={add:function(){if(c){var n=c.length;!function o(e){Z.each(e,function(e,n){var i=Z.type(n);"function"===i?t.unique&&h.has(n)||c.push(n):n&&n.length&&"string"!==i&&o(n)})}(arguments),i?a=c.length:e&&(r=n,l(e))}return this},remove:function(){return c&&Z.each(arguments,function(t,e){for(var n;(n=Z.inArray(e,c,n))>-1;)c.splice(n,1),i&&(a>=n&&a--,s>=n&&s--)}),this},has:function(t){return t?Z.inArray(t,c)>-1:!(!c||!c.length)},empty:function(){return c=[],a=0,this},disable:function(){return c=u=e=void 0,this},disabled:function(){return!c},lock:function(){return u=void 0,e||h.disable(),this},locked:function(){return!u},fireWith:function(t,e){return!c||n&&!u||(e=e||[],e=[t,e.slice?e.slice():e],i?u.push(e):l(e)),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!n}};return h},Z.extend({Deferred:function(t){var e=[["resolve","done",Z.Callbacks("once memory"),"resolved"],["reject","fail",Z.Callbacks("once memory"),"rejected"],["notify","progress",Z.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var t=arguments;return Z.Deferred(function(n){Z.each(e,function(e,o){var a=Z.isFunction(t[e])&&t[e];r[o[1]](function(){var t=a&&a.apply(this,arguments);t&&Z.isFunction(t.promise)?t.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o[0]+"With"](this===i?n.promise():this,a?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?Z.extend(t,i):i}},r={};return i.pipe=i.then,Z.each(e,function(t,o){var a=o[2],s=o[3];i[o[1]]=a.add,s&&a.add(function(){n=s},e[1^t][2].disable,e[2][2].lock),r[o[0]]=function(){return r[o[0]+"With"](this===r?i:this,arguments),this},r[o[0]+"With"]=a.fireWith}),i.promise(r),t&&t.call(r,r),r},when:function(t){var e,n,i,r=0,o=q.call(arguments),a=o.length,s=1!==a||t&&Z.isFunction(t.promise)?a:0,c=1===s?t:Z.Deferred(),u=function(t,n,i){return function(r){n[t]=this,i[t]=arguments.length>1?q.call(arguments):r,i===e?c.notifyWith(n,i):--s||c.resolveWith(n,i)}};if(a>1)for(e=new Array(a),n=new Array(a),i=new Array(a);a>r;r++)o[r]&&Z.isFunction(o[r].promise)?o[r].promise().done(u(r,i,o)).fail(c.reject).progress(u(r,n,e)):--s;return s||c.resolveWith(i,o),c.promise()}});var ge;Z.fn.ready=function(t){return Z.ready.promise().done(t),this},Z.extend({isReady:!1,readyWait:1,holdReady:function(t){t?Z.readyWait++:Z.ready(!0)},ready:function(t){(t===!0?--Z.readyWait:Z.isReady)||(Z.isReady=!0,t!==!0&&--Z.readyWait>0||(ge.resolveWith(Q,[Z]),Z.fn.triggerHandler&&(Z(Q).triggerHandler("ready"),Z(Q).off("ready"))))}}),Z.ready.promise=function(e){return ge||(ge=Z.Deferred(),"complete"===Q.readyState?setTimeout(Z.ready):(Q.addEventListener("DOMContentLoaded",a,!1),t.addEventListener("load",a,!1))),ge.promise(e)},Z.ready.promise();var me=Z.access=function(t,e,n,i,r,o,a){var s=0,c=t.length,u=null==n;if("object"===Z.type(n)){r=!0;for(s in n)Z.access(t,e,s,n[s],!0,o,a)}else if(void 0!==i&&(r=!0,Z.isFunction(i)||(a=!0),u&&(a?(e.call(t,i),e=null):(u=e,e=function(t,e,n){return u.call(Z(t),n)})),e))for(;c>s;s++)e(t[s],n,a?i:i.call(t[s],s,e(t[s],n)));return r?t:u?e.call(t):c?e(t[0],n):o};Z.acceptData=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType},s.uid=1,s.accepts=Z.acceptData,s.prototype={key:function(t){if(!s.accepts(t))return 0;var e={},n=t[this.expando];if(!n){n=s.uid++;try{e[this.expando]={value:n},Object.defineProperties(t,e)}catch(i){e[this.expando]=n,Z.extend(t,e)}}return this.cache[n]||(this.cache[n]={}),n},set:function(t,e,n){var i,r=this.key(t),o=this.cache[r];if("string"==typeof e)o[e]=n;else if(Z.isEmptyObject(o))Z.extend(this.cache[r],e);else for(i in e)o[i]=e[i];return o},get:function(t,e){var n=this.cache[this.key(t)];return void 0===e?n:n[e]},access:function(t,e,n){var i;return void 0===e||e&&"string"==typeof e&&void 0===n?(i=this.get(t,e),void 0!==i?i:this.get(t,Z.camelCase(e))):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,i,r,o=this.key(t),a=this.cache[o];if(void 0===e)this.cache[o]={};else{Z.isArray(e)?i=e.concat(e.map(Z.camelCase)):(r=Z.camelCase(e),e in a?i=[e,r]:(i=r,i=i in a?[i]:i.match(de)||[])),n=i.length;for(;n--;)delete a[i[n]]}},hasData:function(t){return!Z.isEmptyObject(this.cache[t[this.expando]]||{})},discard:function(t){t[this.expando]&&delete this.cache[t[this.expando]]}};var ve=new s,ye=new s,be=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,we=/([A-Z])/g;Z.extend({hasData:function(t){return ye.hasData(t)||ve.hasData(t)},data:function(t,e,n){return ye.access(t,e,n)},removeData:function(t,e){ye.remove(t,e)},_data:function(t,e,n){return ve.access(t,e,n)},_removeData:function(t,e){ve.remove(t,e)}}),Z.fn.extend({data:function(t,e){var n,i,r,o=this[0],a=o&&o.attributes;if(void 0===t){if(this.length&&(r=ye.get(o),1===o.nodeType&&!ve.get(o,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&(i=a[n].name,0===i.indexOf("data-")&&(i=Z.camelCase(i.slice(5)),c(o,i,r[i])));ve.set(o,"hasDataAttrs",!0)}return r}return"object"==typeof t?this.each(function(){ye.set(this,t)}):me(this,function(e){var n,i=Z.camelCase(t);if(o&&void 0===e){if(n=ye.get(o,t),void 0!==n)return n;if(n=ye.get(o,i),void 0!==n)return n;if(n=c(o,i,void 0),void 0!==n)return n}else this.each(function(){var n=ye.get(this,i);ye.set(this,i,e),-1!==t.indexOf("-")&&void 0!==n&&ye.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){ye.remove(this,t)})}}),Z.extend({queue:function(t,e,n){var i;return t?(e=(e||"fx")+"queue",i=ve.get(t,e),n&&(!i||Z.isArray(n)?i=ve.access(t,e,Z.makeArray(n)):i.push(n)),i||[]):void 0},dequeue:function(t,e){e=e||"fx";var n=Z.queue(t,e),i=n.length,r=n.shift(),o=Z._queueHooks(t,e),a=function(){Z.dequeue(t,e)};"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===e&&n.unshift("inprogress"),delete o.stop,r.call(t,a,o)),!i&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return ve.get(t,n)||ve.access(t,n,{empty:Z.Callbacks("once memory").add(function(){ve.remove(t,[e+"queue",n])})})}}),Z.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?Z.queue(this[0],t):void 0===e?this:this.each(function(){var n=Z.queue(this,t,e);Z._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&Z.dequeue(this,t)})},dequeue:function(t){return this.each(function(){Z.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,i=1,r=Z.Deferred(),o=this,a=this.length,s=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";a--;)n=ve.get(o[a],t+"queueHooks"),n&&n.empty&&(i++,n.empty.add(s));return s(),r.promise(e)}});var ke=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,xe=["Top","Right","Bottom","Left"],Ce=function(t,e){return t=e||t,"none"===Z.css(t,"display")||!Z.contains(t.ownerDocument,t)},Se=/^(?:checkbox|radio)$/i;!function(){var t=Q.createDocumentFragment(),e=t.appendChild(Q.createElement("div")),n=Q.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),e.appendChild(n),K.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",K.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue}();var Te="undefined";K.focusinBubbles="onfocusin"in t;var _e=/^key/,Ee=/^(?:mouse|pointer|contextmenu)|click/,Ae=/^(?:focusinfocus|focusoutblur)$/,De=/^([^.]*)(?:\.(.+)|)$/;Z.event={global:{},add:function(t,e,n,i,r){var o,a,s,c,u,l,h,f,d,p,g,m=ve.get(t);if(m)for(n.handler&&(o=n,n=o.handler,r=o.selector),n.guid||(n.guid=Z.guid++),(c=m.events)||(c=m.events={}),(a=m.handle)||(a=m.handle=function(e){return typeof Z!==Te&&Z.event.triggered!==e.type?Z.event.dispatch.apply(t,arguments):void 0}),e=(e||"").match(de)||[""],u=e.length;u--;)s=De.exec(e[u])||[],d=g=s[1],p=(s[2]||"").split(".").sort(),d&&(h=Z.event.special[d]||{},d=(r?h.delegateType:h.bindType)||d,h=Z.event.special[d]||{},l=Z.extend({type:d,origType:g,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&Z.expr.match.needsContext.test(r),namespace:p.join(".")},o),(f=c[d])||(f=c[d]=[],f.delegateCount=0,h.setup&&h.setup.call(t,i,p,a)!==!1||t.addEventListener&&t.addEventListener(d,a,!1)),h.add&&(h.add.call(t,l),l.handler.guid||(l.handler.guid=n.guid)),r?f.splice(f.delegateCount++,0,l):f.push(l),Z.event.global[d]=!0)},remove:function(t,e,n,i,r){var o,a,s,c,u,l,h,f,d,p,g,m=ve.hasData(t)&&ve.get(t);if(m&&(c=m.events)){for(e=(e||"").match(de)||[""],u=e.length;u--;)if(s=De.exec(e[u])||[],d=g=s[1],p=(s[2]||"").split(".").sort(),d){for(h=Z.event.special[d]||{},d=(i?h.delegateType:h.bindType)||d,f=c[d]||[],s=s[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=f.length;o--;)l=f[o],!r&&g!==l.origType||n&&n.guid!==l.guid||s&&!s.test(l.namespace)||i&&i!==l.selector&&("**"!==i||!l.selector)||(f.splice(o,1),l.selector&&f.delegateCount--,h.remove&&h.remove.call(t,l));a&&!f.length&&(h.teardown&&h.teardown.call(t,p,m.handle)!==!1||Z.removeEvent(t,d,m.handle),delete c[d])}else for(d in c)Z.event.remove(t,d+e[u],n,i,!0);Z.isEmptyObject(c)&&(delete m.handle,ve.remove(t,"events"))}},trigger:function(e,n,i,r){var o,a,s,c,u,l,h,f=[i||Q],d=G.call(e,"type")?e.type:e,p=G.call(e,"namespace")?e.namespace.split("."):[];if(a=s=i=i||Q,3!==i.nodeType&&8!==i.nodeType&&!Ae.test(d+Z.event.triggered)&&(d.indexOf(".")>=0&&(p=d.split("."),d=p.shift(),p.sort()),u=d.indexOf(":")<0&&"on"+d,e=e[Z.expando]?e:new Z.Event(d,"object"==typeof e&&e),e.isTrigger=r?2:3,e.namespace=p.join("."),e.namespace_re=e.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=i),n=null==n?[e]:Z.makeArray(n,[e]),h=Z.event.special[d]||{},r||!h.trigger||h.trigger.apply(i,n)!==!1)){if(!r&&!h.noBubble&&!Z.isWindow(i)){for(c=h.delegateType||d,Ae.test(c+d)||(a=a.parentNode);a;a=a.parentNode)f.push(a),s=a;s===(i.ownerDocument||Q)&&f.push(s.defaultView||s.parentWindow||t)}for(o=0;(a=f[o++])&&!e.isPropagationStopped();)e.type=o>1?c:h.bindType||d,l=(ve.get(a,"events")||{})[e.type]&&ve.get(a,"handle"),l&&l.apply(a,n),l=u&&a[u],l&&l.apply&&Z.acceptData(a)&&(e.result=l.apply(a,n),e.result===!1&&e.preventDefault());return e.type=d,r||e.isDefaultPrevented()||h._default&&h._default.apply(f.pop(),n)!==!1||!Z.acceptData(i)||u&&Z.isFunction(i[d])&&!Z.isWindow(i)&&(s=i[u],s&&(i[u]=null),Z.event.triggered=d,i[d](),Z.event.triggered=void 0,s&&(i[u]=s)),e.result}},dispatch:function(t){t=Z.event.fix(t);var e,n,i,r,o,a=[],s=q.call(arguments),c=(ve.get(this,"events")||{})[t.type]||[],u=Z.event.special[t.type]||{};if(s[0]=t,t.delegateTarget=this,!u.preDispatch||u.preDispatch.call(this,t)!==!1){for(a=Z.event.handlers.call(this,t,c),e=0;(r=a[e++])&&!t.isPropagationStopped();)for(t.currentTarget=r.elem,n=0;(o=r.handlers[n++])&&!t.isImmediatePropagationStopped();)(!t.namespace_re||t.namespace_re.test(o.namespace))&&(t.handleObj=o,t.data=o.data,i=((Z.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,s),void 0!==i&&(t.result=i)===!1&&(t.preventDefault(),t.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,t),t.result}},handlers:function(t,e){var n,i,r,o,a=[],s=e.delegateCount,c=t.target;if(s&&c.nodeType&&(!t.button||"click"!==t.type))for(;c!==this;c=c.parentNode||this)if(c.disabled!==!0||"click"!==t.type){for(i=[],n=0;s>n;n++)o=e[n],r=o.selector+" ",void 0===i[r]&&(i[r]=o.needsContext?Z(r,this).index(c)>=0:Z.find(r,this,null,[c]).length),i[r]&&i.push(o);i.length&&a.push({elem:c,handlers:i})}return s<e.length&&a.push({elem:this,handlers:e.slice(s)}),a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var n,i,r,o=e.button;return null==t.pageX&&null!=e.clientX&&(n=t.target.ownerDocument||Q,i=n.documentElement,r=n.body,t.pageX=e.clientX+(i&&i.scrollLeft||r&&r.scrollLeft||0)-(i&&i.clientLeft||r&&r.clientLeft||0),t.pageY=e.clientY+(i&&i.scrollTop||r&&r.scrollTop||0)-(i&&i.clientTop||r&&r.clientTop||0)),t.which||void 0===o||(t.which=1&o?1:2&o?3:4&o?2:0),t}},fix:function(t){if(t[Z.expando])return t;var e,n,i,r=t.type,o=t,a=this.fixHooks[r];for(a||(this.fixHooks[r]=a=Ee.test(r)?this.mouseHooks:_e.test(r)?this.keyHooks:{}),i=a.props?this.props.concat(a.props):this.props,t=new Z.Event(o),e=i.length;e--;)n=i[e],t[n]=o[n];return t.target||(t.target=Q),3===t.target.nodeType&&(t.target=t.target.parentNode),a.filter?a.filter(t,o):t},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==h()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===h()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&Z.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(t){return Z.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}},simulate:function(t,e,n,i){var r=Z.extend(new Z.Event,n,{type:t,isSimulated:!0,originalEvent:{}});i?Z.event.trigger(r,null,e):Z.event.dispatch.call(e,r),r.isDefaultPrevented()&&n.preventDefault()}},Z.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n,!1)},Z.Event=function(t,e){return this instanceof Z.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&t.returnValue===!1?u:l):this.type=t,e&&Z.extend(this,e),this.timeStamp=t&&t.timeStamp||Z.now(),void(this[Z.expando]=!0)):new Z.Event(t,e)},Z.Event.prototype={isDefaultPrevented:l,isPropagationStopped:l,isImmediatePropagationStopped:l,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=u,t&&t.preventDefault&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=u,t&&t.stopPropagation&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=u,t&&t.stopImmediatePropagation&&t.stopImmediatePropagation(),this.stopPropagation()}},Z.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){Z.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,i=this,r=t.relatedTarget,o=t.handleObj;return(!r||r!==i&&!Z.contains(i,r))&&(t.type=o.origType,n=o.handler.apply(this,arguments),t.type=e),n}}}),K.focusinBubbles||Z.each({focus:"focusin",blur:"focusout"},function(t,e){var n=function(t){Z.event.simulate(e,t.target,Z.event.fix(t),!0)};Z.event.special[e]={setup:function(){var i=this.ownerDocument||this,r=ve.access(i,e);r||i.addEventListener(t,n,!0),ve.access(i,e,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this,r=ve.access(i,e)-1;r?ve.access(i,e,r):(i.removeEventListener(t,n,!0),ve.remove(i,e))}}}),Z.fn.extend({on:function(t,e,n,i,r){var o,a;if("object"==typeof t){"string"!=typeof e&&(n=n||e,e=void 0);for(a in t)this.on(a,e,n,t[a],r);return this}if(null==n&&null==i?(i=e,n=e=void 0):null==i&&("string"==typeof e?(i=n,n=void 0):(i=n,n=e,e=void 0)),i===!1)i=l;else if(!i)return this;return 1===r&&(o=i,i=function(t){return Z().off(t),o.apply(this,arguments)},i.guid=o.guid||(o.guid=Z.guid++)),this.each(function(){Z.event.add(this,t,i,n,e)})},one:function(t,e,n,i){return this.on(t,e,n,i,1)},off:function(t,e,n){var i,r;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,Z(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof t){for(r in t)this.off(r,e,t[r]);return this}return(e===!1||"function"==typeof e)&&(n=e,e=void 0),n===!1&&(n=l),this.each(function(){Z.event.remove(this,t,n,e)})},trigger:function(t,e){return this.each(function(){Z.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];return n?Z.event.trigger(t,e,n,!0):void 0}});var Ie=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Oe=/<([\w:]+)/,Ne=/<|&#?\w+;/,Me=/<(?:script|style|link)/i,Pe=/checked\s*(?:[^=]|=\s*.checked.)/i,je=/^$|\/(?:java|ecma)script/i,Fe=/^true\/(.*)/,Re=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Le={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Le.optgroup=Le.option,Le.tbody=Le.tfoot=Le.colgroup=Le.caption=Le.thead,Le.th=Le.td,Z.extend({clone:function(t,e,n){var i,r,o,a,s=t.cloneNode(!0),c=Z.contains(t.ownerDocument,t);if(!(K.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||Z.isXMLDoc(t)))for(a=v(s),o=v(t),i=0,r=o.length;r>i;i++)y(o[i],a[i]);if(e)if(n)for(o=o||v(t),a=a||v(s),i=0,r=o.length;r>i;i++)m(o[i],a[i]);else m(t,s);return a=v(s,"script"),a.length>0&&g(a,!c&&v(t,"script")),s},buildFragment:function(t,e,n,i){for(var r,o,a,s,c,u,l=e.createDocumentFragment(),h=[],f=0,d=t.length;d>f;f++)if(r=t[f],r||0===r)if("object"===Z.type(r))Z.merge(h,r.nodeType?[r]:r);else if(Ne.test(r)){for(o=o||l.appendChild(e.createElement("div")),a=(Oe.exec(r)||["",""])[1].toLowerCase(),s=Le[a]||Le._default,o.innerHTML=s[1]+r.replace(Ie,"<$1></$2>")+s[2],u=s[0];u--;)o=o.lastChild;Z.merge(h,o.childNodes),o=l.firstChild,o.textContent=""}else h.push(e.createTextNode(r));for(l.textContent="",f=0;r=h[f++];)if((!i||-1===Z.inArray(r,i))&&(c=Z.contains(r.ownerDocument,r),o=v(l.appendChild(r),"script"),c&&g(o),n))for(u=0;r=o[u++];)je.test(r.type||"")&&n.push(r);return l},cleanData:function(t){for(var e,n,i,r,o=Z.event.special,a=0;void 0!==(n=t[a]);a++){if(Z.acceptData(n)&&(r=n[ve.expando],r&&(e=ve.cache[r]))){if(e.events)for(i in e.events)o[i]?Z.event.remove(n,i):Z.removeEvent(n,i,e.handle);ve.cache[r]&&delete ve.cache[r]}delete ye.cache[n[ye.expando]]}}}),Z.fn.extend({text:function(t){return me(this,function(t){return void 0===t?Z.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=t)})},null,t,arguments.length)},append:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=f(this,t);e.appendChild(t)}})},prepend:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=f(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},remove:function(t,e){for(var n,i=t?Z.filter(t,this):this,r=0;null!=(n=i[r]);r++)e||1!==n.nodeType||Z.cleanData(v(n)),n.parentNode&&(e&&Z.contains(n.ownerDocument,n)&&g(v(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(Z.cleanData(v(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null==t?!1:t,e=null==e?t:e,this.map(function(){return Z.clone(this,t,e)})},html:function(t){return me(this,function(t){var e=this[0]||{},n=0,i=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!Me.test(t)&&!Le[(Oe.exec(t)||["",""])[1].toLowerCase()]){t=t.replace(Ie,"<$1></$2>");try{for(;i>n;n++)e=this[n]||{},1===e.nodeType&&(Z.cleanData(v(e,!1)),e.innerHTML=t);e=0}catch(r){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=arguments[0];return this.domManip(arguments,function(e){t=this.parentNode,Z.cleanData(v(this)),t&&t.replaceChild(e,this)}),t&&(t.length||t.nodeType)?this:this.remove()},detach:function(t){return this.remove(t,!0)},domManip:function(t,e){t=$.apply([],t);var n,i,r,o,a,s,c=0,u=this.length,l=this,h=u-1,f=t[0],g=Z.isFunction(f);if(g||u>1&&"string"==typeof f&&!K.checkClone&&Pe.test(f))return this.each(function(n){var i=l.eq(n);
g&&(t[0]=f.call(this,n,i.html())),i.domManip(t,e)});if(u&&(n=Z.buildFragment(t,this[0].ownerDocument,!1,this),i=n.firstChild,1===n.childNodes.length&&(n=i),i)){for(r=Z.map(v(n,"script"),d),o=r.length;u>c;c++)a=n,c!==h&&(a=Z.clone(a,!0,!0),o&&Z.merge(r,v(a,"script"))),e.call(this[c],a,c);if(o)for(s=r[r.length-1].ownerDocument,Z.map(r,p),c=0;o>c;c++)a=r[c],je.test(a.type||"")&&!ve.access(a,"globalEval")&&Z.contains(s,a)&&(a.src?Z._evalUrl&&Z._evalUrl(a.src):Z.globalEval(a.textContent.replace(Re,"")))}return this}}),Z.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){Z.fn[t]=function(t){for(var n,i=[],r=Z(t),o=r.length-1,a=0;o>=a;a++)n=a===o?this:this.clone(!0),Z(r[a])[e](n),V.apply(i,n.get());return this.pushStack(i)}});var He,Be={},Ue=/^margin/,We=new RegExp("^("+ke+")(?!px)[a-z%]+$","i"),qe=function(e){return e.ownerDocument.defaultView.opener?e.ownerDocument.defaultView.getComputedStyle(e,null):t.getComputedStyle(e,null)};!function(){function e(){a.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",a.innerHTML="",r.appendChild(o);var e=t.getComputedStyle(a,null);n="1%"!==e.top,i="4px"===e.width,r.removeChild(o)}var n,i,r=Q.documentElement,o=Q.createElement("div"),a=Q.createElement("div");a.style&&(a.style.backgroundClip="content-box",a.cloneNode(!0).style.backgroundClip="",K.clearCloneStyle="content-box"===a.style.backgroundClip,o.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",o.appendChild(a),t.getComputedStyle&&Z.extend(K,{pixelPosition:function(){return e(),n},boxSizingReliable:function(){return null==i&&e(),i},reliableMarginRight:function(){var e,n=a.appendChild(Q.createElement("div"));return n.style.cssText=a.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",n.style.marginRight=n.style.width="0",a.style.width="1px",r.appendChild(o),e=!parseFloat(t.getComputedStyle(n,null).marginRight),r.removeChild(o),a.removeChild(n),e}}))}(),Z.swap=function(t,e,n,i){var r,o,a={};for(o in e)a[o]=t.style[o],t.style[o]=e[o];r=n.apply(t,i||[]);for(o in e)t.style[o]=a[o];return r};var $e=/^(none|table(?!-c[ea]).+)/,Ve=new RegExp("^("+ke+")(.*)$","i"),Ye=new RegExp("^([+-])=("+ke+")","i"),ze={position:"absolute",visibility:"hidden",display:"block"},Xe={letterSpacing:"0",fontWeight:"400"},Ge=["Webkit","O","Moz","ms"];Z.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=k(t,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,o,a,s=Z.camelCase(e),c=t.style;return e=Z.cssProps[s]||(Z.cssProps[s]=C(c,s)),a=Z.cssHooks[e]||Z.cssHooks[s],void 0===n?a&&"get"in a&&void 0!==(r=a.get(t,!1,i))?r:c[e]:(o=typeof n,"string"===o&&(r=Ye.exec(n))&&(n=(r[1]+1)*r[2]+parseFloat(Z.css(t,e)),o="number"),null!=n&&n===n&&("number"!==o||Z.cssNumber[s]||(n+="px"),K.clearCloneStyle||""!==n||0!==e.indexOf("background")||(c[e]="inherit"),a&&"set"in a&&void 0===(n=a.set(t,n,i))||(c[e]=n)),void 0)}},css:function(t,e,n,i){var r,o,a,s=Z.camelCase(e);return e=Z.cssProps[s]||(Z.cssProps[s]=C(t.style,s)),a=Z.cssHooks[e]||Z.cssHooks[s],a&&"get"in a&&(r=a.get(t,!0,n)),void 0===r&&(r=k(t,e,i)),"normal"===r&&e in Xe&&(r=Xe[e]),""===n||n?(o=parseFloat(r),n===!0||Z.isNumeric(o)?o||0:r):r}}),Z.each(["height","width"],function(t,e){Z.cssHooks[e]={get:function(t,n,i){return n?$e.test(Z.css(t,"display"))&&0===t.offsetWidth?Z.swap(t,ze,function(){return _(t,e,i)}):_(t,e,i):void 0},set:function(t,n,i){var r=i&&qe(t);return S(t,n,i?T(t,e,i,"border-box"===Z.css(t,"boxSizing",!1,r),r):0)}}}),Z.cssHooks.marginRight=x(K.reliableMarginRight,function(t,e){return e?Z.swap(t,{display:"inline-block"},k,[t,"marginRight"]):void 0}),Z.each({margin:"",padding:"",border:"Width"},function(t,e){Z.cssHooks[t+e]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];4>i;i++)r[t+xe[i]+e]=o[i]||o[i-2]||o[0];return r}},Ue.test(t)||(Z.cssHooks[t+e].set=S)}),Z.fn.extend({css:function(t,e){return me(this,function(t,e,n){var i,r,o={},a=0;if(Z.isArray(e)){for(i=qe(t),r=e.length;r>a;a++)o[e[a]]=Z.css(t,e[a],!1,i);return o}return void 0!==n?Z.style(t,e,n):Z.css(t,e)},t,e,arguments.length>1)},show:function(){return E(this,!0)},hide:function(){return E(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){Ce(this)?Z(this).show():Z(this).hide()})}}),Z.Tween=A,A.prototype={constructor:A,init:function(t,e,n,i,r,o){this.elem=t,this.prop=n,this.easing=r||"swing",this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=o||(Z.cssNumber[n]?"":"px")},cur:function(){var t=A.propHooks[this.prop];return t&&t.get?t.get(this):A.propHooks._default.get(this)},run:function(t){var e,n=A.propHooks[this.prop];return this.pos=e=this.options.duration?Z.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):A.propHooks._default.set(this),this}},A.prototype.init.prototype=A.prototype,A.propHooks={_default:{get:function(t){var e;return null==t.elem[t.prop]||t.elem.style&&null!=t.elem.style[t.prop]?(e=Z.css(t.elem,t.prop,""),e&&"auto"!==e?e:0):t.elem[t.prop]},set:function(t){Z.fx.step[t.prop]?Z.fx.step[t.prop](t):t.elem.style&&(null!=t.elem.style[Z.cssProps[t.prop]]||Z.cssHooks[t.prop])?Z.style(t.elem,t.prop,t.now+t.unit):t.elem[t.prop]=t.now}}},A.propHooks.scrollTop=A.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},Z.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2}},Z.fx=A.prototype.init,Z.fx.step={};var Ke,Qe,Je=/^(?:toggle|show|hide)$/,Ze=new RegExp("^(?:([+-])=|)("+ke+")([a-z%]*)$","i"),tn=/queueHooks$/,en=[N],nn={"*":[function(t,e){var n=this.createTween(t,e),i=n.cur(),r=Ze.exec(e),o=r&&r[3]||(Z.cssNumber[t]?"":"px"),a=(Z.cssNumber[t]||"px"!==o&&+i)&&Ze.exec(Z.css(n.elem,t)),s=1,c=20;if(a&&a[3]!==o){o=o||a[3],r=r||[],a=+i||1;do s=s||".5",a/=s,Z.style(n.elem,t,a+o);while(s!==(s=n.cur()/i)&&1!==s&&--c)}return r&&(a=n.start=+a||+i||0,n.unit=o,n.end=r[1]?a+(r[1]+1)*r[2]:+r[2]),n}]};Z.Animation=Z.extend(P,{tweener:function(t,e){Z.isFunction(t)?(e=t,t=["*"]):t=t.split(" ");for(var n,i=0,r=t.length;r>i;i++)n=t[i],nn[n]=nn[n]||[],nn[n].unshift(e)},prefilter:function(t,e){e?en.unshift(t):en.push(t)}}),Z.speed=function(t,e,n){var i=t&&"object"==typeof t?Z.extend({},t):{complete:n||!n&&e||Z.isFunction(t)&&t,duration:t,easing:n&&e||e&&!Z.isFunction(e)&&e};return i.duration=Z.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in Z.fx.speeds?Z.fx.speeds[i.duration]:Z.fx.speeds._default,(null==i.queue||i.queue===!0)&&(i.queue="fx"),i.old=i.complete,i.complete=function(){Z.isFunction(i.old)&&i.old.call(this),i.queue&&Z.dequeue(this,i.queue)},i},Z.fn.extend({fadeTo:function(t,e,n,i){return this.filter(Ce).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(t,e,n,i){var r=Z.isEmptyObject(t),o=Z.speed(e,n,i),a=function(){var e=P(this,Z.extend({},t),o);(r||ve.get(this,"finish"))&&e.stop(!0)};return a.finish=a,r||o.queue===!1?this.each(a):this.queue(o.queue,a)},stop:function(t,e,n){var i=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){var e=!0,r=null!=t&&t+"queueHooks",o=Z.timers,a=ve.get(this);if(r)a[r]&&a[r].stop&&i(a[r]);else for(r in a)a[r]&&a[r].stop&&tn.test(r)&&i(a[r]);for(r=o.length;r--;)o[r].elem!==this||null!=t&&o[r].queue!==t||(o[r].anim.stop(n),e=!1,o.splice(r,1));(e||!n)&&Z.dequeue(this,t)})},finish:function(t){return t!==!1&&(t=t||"fx"),this.each(function(){var e,n=ve.get(this),i=n[t+"queue"],r=n[t+"queueHooks"],o=Z.timers,a=i?i.length:0;for(n.finish=!0,Z.queue(this,t,[]),r&&r.stop&&r.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;a>e;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete n.finish})}}),Z.each(["toggle","show","hide"],function(t,e){var n=Z.fn[e];Z.fn[e]=function(t,i,r){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(I(e,!0),t,i,r)}}),Z.each({slideDown:I("show"),slideUp:I("hide"),slideToggle:I("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){Z.fn[t]=function(t,n,i){return this.animate(e,t,n,i)}}),Z.timers=[],Z.fx.tick=function(){var t,e=0,n=Z.timers;for(Ke=Z.now();e<n.length;e++)t=n[e],t()||n[e]!==t||n.splice(e--,1);n.length||Z.fx.stop(),Ke=void 0},Z.fx.timer=function(t){Z.timers.push(t),t()?Z.fx.start():Z.timers.pop()},Z.fx.interval=13,Z.fx.start=function(){Qe||(Qe=setInterval(Z.fx.tick,Z.fx.interval))},Z.fx.stop=function(){clearInterval(Qe),Qe=null},Z.fx.speeds={slow:600,fast:200,_default:400},Z.fn.delay=function(t,e){return t=Z.fx?Z.fx.speeds[t]||t:t,e=e||"fx",this.queue(e,function(e,n){var i=setTimeout(e,t);n.stop=function(){clearTimeout(i)}})},function(){var t=Q.createElement("input"),e=Q.createElement("select"),n=e.appendChild(Q.createElement("option"));t.type="checkbox",K.checkOn=""!==t.value,K.optSelected=n.selected,e.disabled=!0,K.optDisabled=!n.disabled,t=Q.createElement("input"),t.value="t",t.type="radio",K.radioValue="t"===t.value}();var rn,on,an=Z.expr.attrHandle;Z.fn.extend({attr:function(t,e){return me(this,Z.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){Z.removeAttr(this,t)})}}),Z.extend({attr:function(t,e,n){var i,r,o=t.nodeType;if(t&&3!==o&&8!==o&&2!==o)return typeof t.getAttribute===Te?Z.prop(t,e,n):(1===o&&Z.isXMLDoc(t)||(e=e.toLowerCase(),i=Z.attrHooks[e]||(Z.expr.match.bool.test(e)?on:rn)),void 0===n?i&&"get"in i&&null!==(r=i.get(t,e))?r:(r=Z.find.attr(t,e),null==r?void 0:r):null!==n?i&&"set"in i&&void 0!==(r=i.set(t,n,e))?r:(t.setAttribute(e,n+""),n):void Z.removeAttr(t,e))},removeAttr:function(t,e){var n,i,r=0,o=e&&e.match(de);if(o&&1===t.nodeType)for(;n=o[r++];)i=Z.propFix[n]||n,Z.expr.match.bool.test(n)&&(t[i]=!1),t.removeAttribute(n)},attrHooks:{type:{set:function(t,e){if(!K.radioValue&&"radio"===e&&Z.nodeName(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}}}),on={set:function(t,e,n){return e===!1?Z.removeAttr(t,n):t.setAttribute(n,n),n}},Z.each(Z.expr.match.bool.source.match(/\w+/g),function(t,e){var n=an[e]||Z.find.attr;an[e]=function(t,e,i){var r,o;return i||(o=an[e],an[e]=r,r=null!=n(t,e,i)?e.toLowerCase():null,an[e]=o),r}});var sn=/^(?:input|select|textarea|button)$/i;Z.fn.extend({prop:function(t,e){return me(this,Z.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[Z.propFix[t]||t]})}}),Z.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(t,e,n){var i,r,o,a=t.nodeType;if(t&&3!==a&&8!==a&&2!==a)return o=1!==a||!Z.isXMLDoc(t),o&&(e=Z.propFix[e]||e,r=Z.propHooks[e]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:t[e]=n:r&&"get"in r&&null!==(i=r.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){return t.hasAttribute("tabindex")||sn.test(t.nodeName)||t.href?t.tabIndex:-1}}}}),K.optSelected||(Z.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null}}),Z.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){Z.propFix[this.toLowerCase()]=this});var cn=/[\t\r\n\f]/g;Z.fn.extend({addClass:function(t){var e,n,i,r,o,a,s="string"==typeof t&&t,c=0,u=this.length;if(Z.isFunction(t))return this.each(function(e){Z(this).addClass(t.call(this,e,this.className))});if(s)for(e=(t||"").match(de)||[];u>c;c++)if(n=this[c],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(cn," "):" ")){for(o=0;r=e[o++];)i.indexOf(" "+r+" ")<0&&(i+=r+" ");a=Z.trim(i),n.className!==a&&(n.className=a)}return this},removeClass:function(t){var e,n,i,r,o,a,s=0===arguments.length||"string"==typeof t&&t,c=0,u=this.length;if(Z.isFunction(t))return this.each(function(e){Z(this).removeClass(t.call(this,e,this.className))});if(s)for(e=(t||"").match(de)||[];u>c;c++)if(n=this[c],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(cn," "):"")){for(o=0;r=e[o++];)for(;i.indexOf(" "+r+" ")>=0;)i=i.replace(" "+r+" "," ");a=t?Z.trim(i):"",n.className!==a&&(n.className=a)}return this},toggleClass:function(t,e){var n=typeof t;return"boolean"==typeof e&&"string"===n?e?this.addClass(t):this.removeClass(t):this.each(Z.isFunction(t)?function(n){Z(this).toggleClass(t.call(this,n,this.className,e),e)}:function(){if("string"===n)for(var e,i=0,r=Z(this),o=t.match(de)||[];e=o[i++];)r.hasClass(e)?r.removeClass(e):r.addClass(e);else(n===Te||"boolean"===n)&&(this.className&&ve.set(this,"__className__",this.className),this.className=this.className||t===!1?"":ve.get(this,"__className__")||"")})},hasClass:function(t){for(var e=" "+t+" ",n=0,i=this.length;i>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(cn," ").indexOf(e)>=0)return!0;return!1}});var un=/\r/g;Z.fn.extend({val:function(t){var e,n,i,r=this[0];{if(arguments.length)return i=Z.isFunction(t),this.each(function(n){var r;1===this.nodeType&&(r=i?t.call(this,n,Z(this).val()):t,null==r?r="":"number"==typeof r?r+="":Z.isArray(r)&&(r=Z.map(r,function(t){return null==t?"":t+""})),e=Z.valHooks[this.type]||Z.valHooks[this.nodeName.toLowerCase()],e&&"set"in e&&void 0!==e.set(this,r,"value")||(this.value=r))});if(r)return e=Z.valHooks[r.type]||Z.valHooks[r.nodeName.toLowerCase()],e&&"get"in e&&void 0!==(n=e.get(r,"value"))?n:(n=r.value,"string"==typeof n?n.replace(un,""):null==n?"":n)}}}),Z.extend({valHooks:{option:{get:function(t){var e=Z.find.attr(t,"value");return null!=e?e:Z.trim(Z.text(t))}},select:{get:function(t){for(var e,n,i=t.options,r=t.selectedIndex,o="select-one"===t.type||0>r,a=o?null:[],s=o?r+1:i.length,c=0>r?s:o?r:0;s>c;c++)if(n=i[c],!(!n.selected&&c!==r||(K.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&Z.nodeName(n.parentNode,"optgroup"))){if(e=Z(n).val(),o)return e;a.push(e)}return a},set:function(t,e){for(var n,i,r=t.options,o=Z.makeArray(e),a=r.length;a--;)i=r[a],(i.selected=Z.inArray(i.value,o)>=0)&&(n=!0);return n||(t.selectedIndex=-1),o}}}}),Z.each(["radio","checkbox"],function(){Z.valHooks[this]={set:function(t,e){return Z.isArray(e)?t.checked=Z.inArray(Z(t).val(),e)>=0:void 0}},K.checkOn||(Z.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}),Z.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){Z.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),Z.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)},bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}});var ln=Z.now(),hn=/\?/;Z.parseJSON=function(t){return JSON.parse(t+"")},Z.parseXML=function(t){var e,n;if(!t||"string"!=typeof t)return null;try{n=new DOMParser,e=n.parseFromString(t,"text/xml")}catch(i){e=void 0}return(!e||e.getElementsByTagName("parsererror").length)&&Z.error("Invalid XML: "+t),e};var fn=/#.*$/,dn=/([?&])_=[^&]*/,pn=/^(.*?):[ \t]*([^\r\n]*)$/gm,gn=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,mn=/^(?:GET|HEAD)$/,vn=/^\/\//,yn=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,bn={},wn={},kn="*/".concat("*"),xn=t.location.href,Cn=yn.exec(xn.toLowerCase())||[];Z.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:xn,type:"GET",isLocal:gn.test(Cn[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":kn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":Z.parseJSON,"text xml":Z.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?R(R(t,Z.ajaxSettings),e):R(Z.ajaxSettings,t)},ajaxPrefilter:j(bn),ajaxTransport:j(wn),ajax:function(t,e){function n(t,e,n,a){var c,l,v,y,w,x=e;2!==b&&(b=2,s&&clearTimeout(s),i=void 0,o=a||"",k.readyState=t>0?4:0,c=t>=200&&300>t||304===t,n&&(y=L(h,k,n)),y=H(h,y,k,c),c?(h.ifModified&&(w=k.getResponseHeader("Last-Modified"),w&&(Z.lastModified[r]=w),w=k.getResponseHeader("etag"),w&&(Z.etag[r]=w)),204===t||"HEAD"===h.type?x="nocontent":304===t?x="notmodified":(x=y.state,l=y.data,v=y.error,c=!v)):(v=x,(t||!x)&&(x="error",0>t&&(t=0))),k.status=t,k.statusText=(e||x)+"",c?p.resolveWith(f,[l,x,k]):p.rejectWith(f,[k,x,v]),k.statusCode(m),m=void 0,u&&d.trigger(c?"ajaxSuccess":"ajaxError",[k,h,c?l:v]),g.fireWith(f,[k,x]),u&&(d.trigger("ajaxComplete",[k,h]),--Z.active||Z.event.trigger("ajaxStop")))}"object"==typeof t&&(e=t,t=void 0),e=e||{};var i,r,o,a,s,c,u,l,h=Z.ajaxSetup({},e),f=h.context||h,d=h.context&&(f.nodeType||f.jquery)?Z(f):Z.event,p=Z.Deferred(),g=Z.Callbacks("once memory"),m=h.statusCode||{},v={},y={},b=0,w="canceled",k={readyState:0,getResponseHeader:function(t){var e;if(2===b){if(!a)for(a={};e=pn.exec(o);)a[e[1].toLowerCase()]=e[2];e=a[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===b?o:null},setRequestHeader:function(t,e){var n=t.toLowerCase();return b||(t=y[n]=y[n]||t,v[t]=e),this},overrideMimeType:function(t){return b||(h.mimeType=t),this},statusCode:function(t){var e;if(t)if(2>b)for(e in t)m[e]=[m[e],t[e]];else k.always(t[k.status]);return this},abort:function(t){var e=t||w;return i&&i.abort(e),n(0,e),this}};if(p.promise(k).complete=g.add,k.success=k.done,k.error=k.fail,h.url=((t||h.url||xn)+"").replace(fn,"").replace(vn,Cn[1]+"//"),h.type=e.method||e.type||h.method||h.type,h.dataTypes=Z.trim(h.dataType||"*").toLowerCase().match(de)||[""],null==h.crossDomain&&(c=yn.exec(h.url.toLowerCase()),h.crossDomain=!(!c||c[1]===Cn[1]&&c[2]===Cn[2]&&(c[3]||("http:"===c[1]?"80":"443"))===(Cn[3]||("http:"===Cn[1]?"80":"443")))),h.data&&h.processData&&"string"!=typeof h.data&&(h.data=Z.param(h.data,h.traditional)),F(bn,h,e,k),2===b)return k;u=Z.event&&h.global,u&&0===Z.active++&&Z.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!mn.test(h.type),r=h.url,h.hasContent||(h.data&&(r=h.url+=(hn.test(r)?"&":"?")+h.data,delete h.data),h.cache===!1&&(h.url=dn.test(r)?r.replace(dn,"$1_="+ln++):r+(hn.test(r)?"&":"?")+"_="+ln++)),h.ifModified&&(Z.lastModified[r]&&k.setRequestHeader("If-Modified-Since",Z.lastModified[r]),Z.etag[r]&&k.setRequestHeader("If-None-Match",Z.etag[r])),(h.data&&h.hasContent&&h.contentType!==!1||e.contentType)&&k.setRequestHeader("Content-Type",h.contentType),k.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+kn+"; q=0.01":""):h.accepts["*"]);for(l in h.headers)k.setRequestHeader(l,h.headers[l]);if(h.beforeSend&&(h.beforeSend.call(f,k,h)===!1||2===b))return k.abort();w="abort";for(l in{success:1,error:1,complete:1})k[l](h[l]);if(i=F(wn,h,e,k)){k.readyState=1,u&&d.trigger("ajaxSend",[k,h]),h.async&&h.timeout>0&&(s=setTimeout(function(){k.abort("timeout")},h.timeout));try{b=1,i.send(v,n)}catch(x){if(!(2>b))throw x;n(-1,x)}}else n(-1,"No Transport");return k},getJSON:function(t,e,n){return Z.get(t,e,n,"json")},getScript:function(t,e){return Z.get(t,void 0,e,"script")}}),Z.each(["get","post"],function(t,e){Z[e]=function(t,n,i,r){return Z.isFunction(n)&&(r=r||i,i=n,n=void 0),Z.ajax({url:t,type:e,dataType:r,data:n,success:i})}}),Z._evalUrl=function(t){return Z.ajax({url:t,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},Z.fn.extend({wrapAll:function(t){var e;return Z.isFunction(t)?this.each(function(e){Z(this).wrapAll(t.call(this,e))}):(this[0]&&(e=Z(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this)},wrapInner:function(t){return this.each(Z.isFunction(t)?function(e){Z(this).wrapInner(t.call(this,e))}:function(){var e=Z(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=Z.isFunction(t);return this.each(function(n){Z(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(){return this.parent().each(function(){Z.nodeName(this,"body")||Z(this).replaceWith(this.childNodes)}).end()}}),Z.expr.filters.hidden=function(t){return t.offsetWidth<=0&&t.offsetHeight<=0},Z.expr.filters.visible=function(t){return!Z.expr.filters.hidden(t)};var Sn=/%20/g,Tn=/\[\]$/,_n=/\r?\n/g,En=/^(?:submit|button|image|reset|file)$/i,An=/^(?:input|select|textarea|keygen)/i;Z.param=function(t,e){var n,i=[],r=function(t,e){e=Z.isFunction(e)?e():null==e?"":e,i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(void 0===e&&(e=Z.ajaxSettings&&Z.ajaxSettings.traditional),Z.isArray(t)||t.jquery&&!Z.isPlainObject(t))Z.each(t,function(){r(this.name,this.value)});else for(n in t)B(n,t[n],e,r);return i.join("&").replace(Sn,"+")},Z.fn.extend({serialize:function(){return Z.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=Z.prop(this,"elements");return t?Z.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!Z(this).is(":disabled")&&An.test(this.nodeName)&&!En.test(t)&&(this.checked||!Se.test(t))}).map(function(t,e){var n=Z(this).val();return null==n?null:Z.isArray(n)?Z.map(n,function(t){return{name:e.name,value:t.replace(_n,"\r\n")}}):{name:e.name,value:n.replace(_n,"\r\n")}}).get()}}),Z.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(t){}};var Dn=0,In={},On={0:200,1223:204},Nn=Z.ajaxSettings.xhr();t.attachEvent&&t.attachEvent("onunload",function(){for(var t in In)In[t]()}),K.cors=!!Nn&&"withCredentials"in Nn,K.ajax=Nn=!!Nn,Z.ajaxTransport(function(t){var e;return K.cors||Nn&&!t.crossDomain?{send:function(n,i){var r,o=t.xhr(),a=++Dn;if(o.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(r in t.xhrFields)o[r]=t.xhrFields[r];t.mimeType&&o.overrideMimeType&&o.overrideMimeType(t.mimeType),t.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(r in n)o.setRequestHeader(r,n[r]);e=function(t){return function(){e&&(delete In[a],e=o.onload=o.onerror=null,"abort"===t?o.abort():"error"===t?i(o.status,o.statusText):i(On[o.status]||o.status,o.statusText,"string"==typeof o.responseText?{text:o.responseText}:void 0,o.getAllResponseHeaders()))}},o.onload=e(),o.onerror=e("error"),e=In[a]=e("abort");try{o.send(t.hasContent&&t.data||null)}catch(s){if(e)throw s}},abort:function(){e&&e()}}:void 0}),Z.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(t){return Z.globalEval(t),t}}}),Z.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),Z.ajaxTransport("script",function(t){if(t.crossDomain){var e,n;return{send:function(i,r){e=Z("<script>").prop({async:!0,charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&r("error"===t.type?404:200,t.type)}),Q.head.appendChild(e[0])},abort:function(){n&&n()}}}});var Mn=[],Pn=/(=)\?(?=&|$)|\?\?/;Z.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Mn.pop()||Z.expando+"_"+ln++;return this[t]=!0,t}}),Z.ajaxPrefilter("json jsonp",function(e,n,i){var r,o,a,s=e.jsonp!==!1&&(Pn.test(e.url)?"url":"string"==typeof e.data&&!(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Pn.test(e.data)&&"data");return s||"jsonp"===e.dataTypes[0]?(r=e.jsonpCallback=Z.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,s?e[s]=e[s].replace(Pn,"$1"+r):e.jsonp!==!1&&(e.url+=(hn.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return a||Z.error(r+" was not called"),a[0]},e.dataTypes[0]="json",o=t[r],t[r]=function(){a=arguments},i.always(function(){t[r]=o,e[r]&&(e.jsonpCallback=n.jsonpCallback,Mn.push(r)),a&&Z.isFunction(o)&&o(a[0]),a=o=void 0}),"script"):void 0}),Z.parseHTML=function(t,e,n){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(n=e,e=!1),e=e||Q;var i=ae.exec(t),r=!n&&[];return i?[e.createElement(i[1])]:(i=Z.buildFragment([t],e,r),r&&r.length&&Z(r).remove(),Z.merge([],i.childNodes))};var jn=Z.fn.load;Z.fn.load=function(t,e,n){if("string"!=typeof t&&jn)return jn.apply(this,arguments);var i,r,o,a=this,s=t.indexOf(" ");return s>=0&&(i=Z.trim(t.slice(s)),t=t.slice(0,s)),Z.isFunction(e)?(n=e,e=void 0):e&&"object"==typeof e&&(r="POST"),a.length>0&&Z.ajax({url:t,type:r,dataType:"html",data:e}).done(function(t){o=arguments,a.html(i?Z("<div>").append(Z.parseHTML(t)).find(i):t)}).complete(n&&function(t,e){a.each(n,o||[t.responseText,e,t])}),this},Z.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){Z.fn[e]=function(t){return this.on(e,t)}}),Z.expr.filters.animated=function(t){return Z.grep(Z.timers,function(e){return t===e.elem}).length};var Fn=t.document.documentElement;Z.offset={setOffset:function(t,e,n){var i,r,o,a,s,c,u,l=Z.css(t,"position"),h=Z(t),f={};"static"===l&&(t.style.position="relative"),s=h.offset(),o=Z.css(t,"top"),c=Z.css(t,"left"),u=("absolute"===l||"fixed"===l)&&(o+c).indexOf("auto")>-1,u?(i=h.position(),a=i.top,r=i.left):(a=parseFloat(o)||0,r=parseFloat(c)||0),Z.isFunction(e)&&(e=e.call(t,n,s)),null!=e.top&&(f.top=e.top-s.top+a),null!=e.left&&(f.left=e.left-s.left+r),"using"in e?e.using.call(t,f):h.css(f)}},Z.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){Z.offset.setOffset(this,t,e)});var e,n,i=this[0],r={top:0,left:0},o=i&&i.ownerDocument;if(o)return e=o.documentElement,Z.contains(e,i)?(typeof i.getBoundingClientRect!==Te&&(r=i.getBoundingClientRect()),n=U(o),{top:r.top+n.pageYOffset-e.clientTop,left:r.left+n.pageXOffset-e.clientLeft}):r},position:function(){if(this[0]){var t,e,n=this[0],i={top:0,left:0};return"fixed"===Z.css(n,"position")?e=n.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),Z.nodeName(t[0],"html")||(i=t.offset()),i.top+=Z.css(t[0],"borderTopWidth",!0),i.left+=Z.css(t[0],"borderLeftWidth",!0)),{top:e.top-i.top-Z.css(n,"marginTop",!0),left:e.left-i.left-Z.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||Fn;t&&!Z.nodeName(t,"html")&&"static"===Z.css(t,"position");)t=t.offsetParent;return t||Fn})}}),Z.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,n){var i="pageYOffset"===n;Z.fn[e]=function(r){return me(this,function(e,r,o){var a=U(e);return void 0===o?a?a[n]:e[r]:void(a?a.scrollTo(i?t.pageXOffset:o,i?o:t.pageYOffset):e[r]=o)},e,r,arguments.length,null)}}),Z.each(["top","left"],function(t,e){Z.cssHooks[e]=x(K.pixelPosition,function(t,n){return n?(n=k(t,e),We.test(n)?Z(t).position()[e]+"px":n):void 0})}),Z.each({Height:"height",Width:"width"},function(t,e){Z.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,i){Z.fn[i]=function(i,r){var o=arguments.length&&(n||"boolean"!=typeof i),a=n||(i===!0||r===!0?"margin":"border");return me(this,function(e,n,i){var r;return Z.isWindow(e)?e.document.documentElement["client"+t]:9===e.nodeType?(r=e.documentElement,Math.max(e.body["scroll"+t],r["scroll"+t],e.body["offset"+t],r["offset"+t],r["client"+t])):void 0===i?Z.css(e,n,a):Z.style(e,n,i,a)},e,o?i:void 0,o,null)}})}),Z.fn.size=function(){return this.length},Z.fn.andSelf=Z.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return Z});var Rn=t.jQuery,Ln=t.$;return Z.noConflict=function(e){return t.$===Z&&(t.$=Ln),e&&t.jQuery===Z&&(t.jQuery=Rn),Z},typeof e===Te&&(t.jQuery=t.$=Z),Z}),!function(t){var e="undefined";!function(t,e){"undefined"!=typeof module?module.exports=e():"function"==typeof define&&"object"==typeof define.amd?define("loglevel",e):this[t]=e()}("log",function(){function n(n){return typeof console===e?h:console[n]===t?console.log!==t?i(console,"log"):h:i(console,n)}function i(e,n){var i=e[n];if(i.bind!==t)return e[n].bind(e);if(Function.prototype.bind===t)return r(i,e);try{return Function.prototype.bind.call(e[n],e)}catch(o){return r(i,e)}}function r(t,e){return function(){Function.prototype.apply.apply(t,[e,arguments])}}function o(t){for(var e=0;e<f.length;e++)l[f[e]]=t(f[e])}function a(){return typeof window!==e&&window.document!==t&&window.document.cookie!==t}function s(){try{return typeof window!==e&&window.localStorage!==t}catch(n){return!1}}function c(t){var e;for(var n in l.levels)if(l.levels.hasOwnProperty(n)&&l.levels[n]===t){e=n;break}if(s())window.localStorage.loglevel=e;else{if(!a())return;window.document.cookie="loglevel="+e+";"}}function u(){var t;if(s()&&(t=window.localStorage.loglevel),!t&&a()){var e=d.exec(window.document.cookie)||[];t=e[1]}l.setLevel(l.levels[t]||l.levels.WARN)}var l={},h=function(){},f=["trace","debug","info","warn","error"],d=/loglevel=([^;]+)/;return l.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},l.setLevel=function(i){if("number"==typeof i&&i>=0&&i<=l.levels.SILENT){if(c(i),i===l.levels.SILENT)return void o(function(){return h});if(typeof console===e)return o(function(t){return function(){typeof console!==e&&(l.setLevel(i),l[t].apply(l,arguments))}}),"No console available for logging";o(function(t){return i<=l.levels[t.toUpperCase()]?n(t):h})}else{if("string"!=typeof i||l.levels[i.toUpperCase()]===t)throw"log.setLevel() called with invalid level: "+i;l.setLevel(l.levels[i.toUpperCase()])}},l.enableAll=function(){l.setLevel(l.levels.TRACE)},l.disableAll=function(){l.setLevel(l.levels.SILENT)},u(),l})}(),function(root){define("firebase",[],function(){return function(){return function(){var t="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global?global:this,e=function(){t.Symbol||(t.Symbol=i),e=function(){}},n=0,i=function(t){return"jscomp_symbol_"+t+n++},r=function(){e(),t.Symbol.iterator||(t.Symbol.iterator=t.Symbol("iterator")),r=function(){}},o=function(){var e=["next","error","complete"];if(r(),e[t.Symbol.iterator])return e[t.Symbol.iterator]();var n=0;return{next:function(){return n==e.length?{done:!0}:{done:!1,value:e[n++]}}}},a=this,s=function(){},c=function(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&"undefined"!=typeof t.splice&&"undefined"!=typeof t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||"undefined"!=typeof t.call&&"undefined"!=typeof t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&"undefined"==typeof t.call)return"object";return e},u=function(t){return"function"==c(t)},l=function(t){return t.call.apply(t.bind,arguments)},h=function(t,e){if(!t)throw Error();if(2<arguments.length){var n=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,n),t.apply(e,i)}}return function(){return t.apply(e,arguments)}},f=function(){return f=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?l:h,f.apply(null,arguments)
},d=function(t){var e=Array.prototype.slice.call(arguments,1);return function(){var n=e.slice();return n.push.apply(n,arguments),t.apply(this,n)}},p=function(t,e){function n(){}n.prototype=e.prototype,t.ba=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.aa=function(t,n){for(var i=Array(arguments.length-2),r=2;r<arguments.length;r++)i[r-2]=arguments[r];return e.prototype[n].apply(t,i)}},g=function(t){if(Error.captureStackTrace)Error.captureStackTrace(this,g);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))};p(g,Error),g.prototype.name="CustomError";var m=function(t){for(var e=t.split("%s"),n="",i=Array.prototype.slice.call(arguments,1);i.length&&1<e.length;)n+=e.shift()+i.shift();return n+e.join("%s")},v=function(t,e){e.unshift(t),g.call(this,m.apply(null,e)),e.shift()};p(v,g),v.prototype.name="AssertionError";var y=function(t,e,n,i){var r="Assertion failed";if(n)var r=r+(": "+n),o=i;else t&&(r+=": "+t,o=e);throw new v(""+r,o||[])},b=function(t,e){t||y("",null,e,Array.prototype.slice.call(arguments,2))},w=function(t,e){u(t)||y("Expected function but got %s: %s.",[c(t),t],e,Array.prototype.slice.call(arguments,2))},k=function(t,e,n){this.S=n,this.L=t,this.U=e,this.s=0,this.o=null};k.prototype.get=function(){var t;return 0<this.s?(this.s--,t=this.o,this.o=t.next,t.next=null):t=this.L(),t},k.prototype.put=function(t){this.U(t),this.s<this.S&&(this.s++,t.next=this.o,this.o=t)};var x;t:{var C=a.navigator;if(C){var S=C.userAgent;if(S){x=S;break t}}x=""}var T,_=function(t){a.setTimeout(function(){throw t},0)},E=function(){var t=a.MessageChannel;if("undefined"==typeof t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&-1==x.indexOf("Presto")&&(t=function(){var t=document.createElement("IFRAME");t.style.display="none",t.src="",document.documentElement.appendChild(t);var e=t.contentWindow,t=e.document;t.open(),t.write(""),t.close();var n="callImmediate"+Math.random(),i="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host,t=f(function(t){"*"!=i&&t.origin!=i||t.data!=n||this.port1.onmessage()},this);e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,i)}}}),"undefined"!=typeof t&&-1==x.indexOf("Trident")&&-1==x.indexOf("MSIE")){var e=new t,n={},i=n;return e.port1.onmessage=function(){if(void 0!==n.next){n=n.next;var t=n.F;n.F=null,t()}},function(t){i.next={F:t},i=i.next,e.port2.postMessage(0)}}return"undefined"!=typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(t){var e=document.createElement("SCRIPT");e.onreadystatechange=function(){e.onreadystatechange=null,e.parentNode.removeChild(e),e=null,t(),t=null},document.documentElement.appendChild(e)}:function(t){a.setTimeout(t,0)}},A=function(){this.v=this.f=null},D=new k(function(){return new I},function(t){t.reset()},100);A.prototype.add=function(t,e){var n=D.get();n.set(t,e),this.v?this.v.next=n:(b(!this.f),this.f=n),this.v=n},A.prototype.remove=function(){var t=null;return this.f&&(t=this.f,this.f=this.f.next,this.f||(this.v=null),t.next=null),t};var I=function(){this.next=this.scope=this.B=null};I.prototype.set=function(t,e){this.B=t,this.scope=e,this.next=null},I.prototype.reset=function(){this.next=this.scope=this.B=null};var O,N=function(t,e){O||M(),P||(O(),P=!0),j.add(t,e)},M=function(){if(a.Promise&&a.Promise.resolve){var t=a.Promise.resolve(void 0);O=function(){t.then(F)}}else O=function(){var t,e=F;!(t=!u(a.setImmediate))&&(t=a.Window&&a.Window.prototype)&&(t=-1==x.indexOf("Edge")&&a.Window.prototype.setImmediate==a.setImmediate),t?(T||(T=E()),T(e)):a.setImmediate(e)}},P=!1,j=new A,F=function(){for(var t=null;t=j.remove();){try{t.B.call(t.scope)}catch(e){_(e)}D.put(t)}P=!1},R=function(t,e){if(this.b=0,this.K=void 0,this.j=this.g=this.u=null,this.m=this.A=!1,t!=s)try{var n=this;t.call(e,function(t){$(n,2,t)},function(t){try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(e){}$(n,3,t)})}catch(i){$(this,3,i)}},L=function(){this.next=this.context=this.h=this.c=this.child=null,this.w=!1};L.prototype.reset=function(){this.context=this.h=this.c=this.child=null,this.w=!1};var H=new k(function(){return new L},function(t){t.reset()},100),B=function(t,e,n){var i=H.get();return i.c=t,i.h=e,i.context=n,i},U=function(t,e,n){V(t,e,n,null)||N(d(e,t))};R.prototype.then=function(t,e,n){return null!=t&&w(t,"opt_onFulfilled should be a function."),null!=e&&w(e,"opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?"),q(this,u(t)?t:null,u(e)?e:null,n)},R.prototype.then=R.prototype.then,R.prototype.$goog_Thenable=!0,R.prototype.X=function(t,e){return q(this,null,t,e)};var W=function(t,e){t.g||2!=t.b&&3!=t.b||z(t),b(null!=e.c),t.j?t.j.next=e:t.g=e,t.j=e},q=function(t,e,n,i){var r=B(null,null,null);return r.child=new R(function(t,o){r.c=e?function(n){try{var r=e.call(i,n);t(r)}catch(a){o(a)}}:t,r.h=n?function(e){try{var r=n.call(i,e);t(r)}catch(a){o(a)}}:o}),r.child.u=t,W(t,r),r.child};R.prototype.Y=function(t){b(1==this.b),this.b=0,$(this,2,t)},R.prototype.Z=function(t){b(1==this.b),this.b=0,$(this,3,t)};var $=function(t,e,n){0==t.b&&(t==n&&(e=3,n=new TypeError("Promise cannot resolve to itself")),t.b=1,V(n,t.Y,t.Z,t)||(t.K=n,t.b=e,t.u=null,z(t),3!=e||K(t,n)))},V=function(t,e,n,i){if(t instanceof R)return null!=e&&w(e,"opt_onFulfilled should be a function."),null!=n&&w(n,"opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?"),W(t,B(e||s,n||null,i)),!0;var r;if(t)try{r=!!t.$goog_Thenable}catch(o){r=!1}else r=!1;if(r)return t.then(e,n,i),!0;if(r=typeof t,"object"==r&&null!=t||"function"==r)try{var a=t.then;if(u(a))return Y(t,a,e,n,i),!0}catch(o){return n.call(i,o),!0}return!1},Y=function(t,e,n,i,r){var o=!1,a=function(t){o||(o=!0,n.call(r,t))},s=function(t){o||(o=!0,i.call(r,t))};try{e.call(t,a,s)}catch(c){s(c)}},z=function(t){t.A||(t.A=!0,N(t.N,t))},X=function(t){var e=null;return t.g&&(e=t.g,t.g=e.next,e.next=null),t.g||(t.j=null),null!=e&&b(null!=e.c),e};R.prototype.N=function(){for(var t=null;t=X(this);){var e=this.b,n=this.K;if(3==e&&t.h&&!t.w)for(var i=void 0,i=this;i&&i.m;i=i.u)i.m=!1;if(t.child)t.child.u=null,G(t,e,n);else try{t.w?t.c.call(t.context):G(t,e,n)}catch(r){Q.call(null,r)}H.put(t)}this.A=!1};var G=function(t,e,n){2==e?t.c.call(t.context,n):t.h&&t.h.call(t.context,n)},K=function(t,e){t.m=!0,N(function(){t.m&&Q.call(null,e)})},Q=_,J=function(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&(t[n]=J(t[n],e[n]));return t},Z=function(t,e){if(this.code=t,this.message=e,Error.captureStackTrace)Error.captureStackTrace(this,te.prototype.create);else{var n=Error.apply(this,arguments);this.name="FirebaseError",Object.defineProperty(this,"stack",{get:function(){return n.stack}})}};Z.prototype=Object.create(Error.prototype),Z.prototype.constructor=Z,Z.prototype.name="FirebaseError";var te=function(t,e,n){this.V=t,this.W=e,this.M=n,this.pattern=/\{\$([^}]+)}/g};te.prototype.create=function(t,e){void 0===e&&(e={});var n,i=this.M[t],i=void 0===i?"Error":i.replace(this.pattern,function(t,n){return void 0!==e[n]?e[n].toString():"<"+n+"?>"}),i=this.W+": "+i+" ("+this.V+"/"+t+").",i=new Z(t,i);for(n in e)e.hasOwnProperty(n)&&"_"!==n.slice(-1)&&(i[n]=e[n]);return i},R.all=function(t){return new R(function(e,n){var i=t.length,r=[];if(i)for(var o,a=function(t,n){i--,r[t]=n,0==i&&e(r)},s=function(t){n(t)},c=0;c<t.length;c++)o=t[c],U(o,d(a,c),s);else e(r)})},R.resolve=function(t){if(t instanceof R)return t;var e=new R(s);return $(e,2,t),e},R.reject=function(t){return new R(function(e,n){n(t)})},R.prototype["catch"]=R.prototype.X;var ee=R;"undefined"!=typeof Promise&&(ee=Promise);var ne=function(){},ie=function(t){if("object"!=typeof t||null===t)return!1;for(var e=o(),n=e.next();!n.done;n=e.next())if(n=n.value,n in t&&"function"==typeof t[n])return!0;return!1},re=function(t,e){var n=new oe(t,e);return n.subscribe.bind(n)},oe=function(t,e){var n=this;this.a=[],this.J=0,this.task=ee.resolve(),this.l=!1,this.D=e,this.task.then(function(){t(n)})["catch"](function(t){n.error(t)})};oe.prototype.next=function(t){ae(this,function(e){e.next(t)})},oe.prototype.error=function(t){ae(this,function(e){e.error(t)}),this.close(t)},oe.prototype.complete=function(){ae(this,function(t){t.complete()}),this.close()},oe.prototype.subscribe=function(t,e,n){var i,r=this;if(void 0===t&&void 0===e&&void 0===n)throw Error("Missing Observer.");return i=ie(t)?t:{next:t,error:e,complete:n},void 0===i.next&&(i.next=ne),void 0===i.error&&(i.error=ne),void 0===i.complete&&(i.complete=ne),t=this.$.bind(this,this.a.length),this.l&&this.task.then(function(){try{r.G?i.error(r.G):i.complete()}catch(t){}}),this.a.push(i),t},oe.prototype.$=function(t){void 0!==this.a&&void 0!==this.a[t]&&(this.a[t]=void 0,--this.J,0===this.J&&void 0!==this.D&&this.D(this))};var ae=function(t,e){if(!t.l)for(var n=0;n<t.a.length;n++)se(t,n,e)},se=function(t,e,n){t.task.then(function(){if(void 0!==t.a&&void 0!==t.a[e])try{n(t.a[e])}catch(i){}})};oe.prototype.close=function(t){var e=this;this.l||(this.l=!0,void 0!==t&&(this.G=t),this.task.then(function(){e.a=void 0,e.D=void 0}))};var ce=function(t,e){e=e||{};var n={noApp:"No Firebase App '"+e.name+"' has been created - call Firebase App.initializeApp().","bad-app-name":"Illegal App name: '"+e.name+"'.",dupApp:"Firebase App named '"+e.name+"' already exists.",deleted:"Firebase App named '"+e.name+"' already deleted.",dupService:"Firebase Service named '"+e.name+"' already registered."}[t];return void 0===n?"Application Error: ("+t+")":n},ue=function(t,e){throw Error(ce(t,e))},le=function(){function t(t){t=t||"[DEFAULT]";var n=e[t];return void 0===n&&ue("noApp",{name:t}),n}var e={},n={},i=[],r={initializeApp:function(t,n){void 0===n?n="[DEFAULT]":"string"==typeof n&&""!==n||ue("bad-app-name",{name:n+""}),void 0!==e[n]&&ue("dupApp",{name:n});var o=new he(t,n,r);return e[n]=o,i.forEach(function(t){return t("create",o)}),void 0!=o.INTERNAL&&void 0!=o.INTERNAL.getToken||J(o,{INTERNAL:{getToken:function(){return ee.resolve(null)},addAuthTokenListener:function(){},removeAuthTokenListener:function(){}}}),o},app:t,apps:null,Promise:ee,SDK_VERSION:"0.0.0",INTERNAL:{registerService:function(e,i,o){return n[e]&&ue("dupService",{name:e}),n[e]=i,i=function(n){return void 0===n&&(n=t()),n[e]()},void 0!==o&&J(i,o),r[e]=i},createFirebaseNamespace:le,extendNamespace:function(t){J(r,t)},createSubscribe:re,ErrorFactory:te,registerAppHook:function(t){i.push(t)},removeApp:function(t){i.forEach(function(n){return n("delete",e[t])}),delete e[t]},factories:n,Promise:R,deepExtend:J}};return Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),t.App=he,r},he=function(t,e,n){var i=this;this.H=n,this.I=!1,this.i={},this.P={},this.C=e,this.T=J(void 0,t),Object.keys(n.INTERNAL.factories).forEach(function(t){i[t]=i.R.bind(i,t)})};he.prototype["delete"]=function(){var t=this;return new ee(function(e){fe(t),e()}).then(function(){return t.H.INTERNAL.removeApp(t.C),ee.all(Object.keys(t.i).map(function(e){return t.i[e].INTERNAL["delete"]()}))}).then(function(){t.I=!0,t.i=null,t.P=null})},he.prototype.R=function(t){return fe(this),void 0===this.i[t]&&(this.i[t]=this.H.INTERNAL.factories[t](this,this.O.bind(this))),this.i[t]},he.prototype.O=function(t){J(this,t)};var fe=function(t){t.I&&ue(ce("deleted",{name:t.C}))};Object.defineProperties(he.prototype,{name:{configurable:!0,enumerable:!0,get:function(){return fe(this),this.C}},options:{configurable:!0,enumerable:!0,get:function(){return fe(this),this.T}}}),he.prototype.name&&he.prototype.options||he.prototype["delete"]||console.log("dc"),"undefined"!=typeof window&&(window.firebase=le())}(),firebase.SDK_VERSION="3.0.0",function(){function _DumpException(t){throw t}var h,aa=aa||{},m=this,ba=function(t){return void 0!==t},ca=function(){},da=function(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&"undefined"!=typeof t.splice&&"undefined"!=typeof t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||"undefined"!=typeof t.call&&"undefined"!=typeof t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&"undefined"==typeof t.call)return"object";return e},ea=function(t){return null===t},fa=function(t){return"array"==da(t)},ga=function(t){var e=da(t);return"array"==e||"object"==e&&"number"==typeof t.length},n=function(t){return"string"==typeof t},ha=function(t){return"number"==typeof t},p=function(t){return"function"==da(t)},ia=function(t){var e=typeof t;return"object"==e&&null!=t||"function"==e},ja="closure_uid_"+(1e9*Math.random()>>>0),ka=0,la=function(t){return t.call.apply(t.bind,arguments)},ma=function(t,e){if(!t)throw Error();if(2<arguments.length){var n=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,n),t.apply(e,i)}}return function(){return t.apply(e,arguments)}},r=function(){return r=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?la:ma,r.apply(null,arguments)},na=function(t){var e=Array.prototype.slice.call(arguments,1);return function(){var n=e.slice();return n.push.apply(n,arguments),t.apply(this,n)}},oa=Date.now||function(){return+new Date},t=function(t,e){function n(){}n.prototype=e.prototype,t.Hc=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.jf=function(t,n){for(var i=Array(arguments.length-2),r=2;r<arguments.length;r++)i[r-2]=arguments[r];return e.prototype[n].apply(t,i)}},u=function(t){if(Error.captureStackTrace)Error.captureStackTrace(this,u);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))};t(u,Error),u.prototype.name="CustomError";var pa=function(t){for(var e=t.split("%s"),n="",i=Array.prototype.slice.call(arguments,1);i.length&&1<e.length;)n+=e.shift()+i.shift();return n+e.join("%s")},qa=String.prototype.trim?function(t){return t.trim()}:function(t){return t.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},ra=/&/g,sa=/</g,ta=/>/g,ua=/"/g,va=/'/g,wa=/\x00/g,xa=/[\x00&<>"']/,v=function(t,e){return-1!=t.indexOf(e)},ya=function(t,e){return e>t?-1:t>e?1:0},za=function(t,e){e.unshift(t),u.call(this,pa.apply(null,e)),e.shift()};t(za,u),za.prototype.name="AssertionError";var Aa=function(t,e,n,i){var r="Assertion failed";if(n)var r=r+(": "+n),o=i;else t&&(r+=": "+t,o=e);throw new za(""+r,o||[])},w=function(t,e){t||Aa("",null,e,Array.prototype.slice.call(arguments,2))},Ba=function(t){throw new za("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))},Ca=function(t,e){return ha(t)||Aa("Expected number but got %s: %s.",[da(t),t],e,Array.prototype.slice.call(arguments,2)),t},Da=function(t,e){return n(t)||Aa("Expected string but got %s: %s.",[da(t),t],e,Array.prototype.slice.call(arguments,2)),t},Ea=function(t,e){p(t)||Aa("Expected function but got %s: %s.",[da(t),t],e,Array.prototype.slice.call(arguments,2))},Fa=Array.prototype.indexOf?function(t,e,n){return w(null!=t.length),Array.prototype.indexOf.call(t,e,n)}:function(t,e,i){if(i=null==i?0:0>i?Math.max(0,t.length+i):i,n(t))return n(e)&&1==e.length?t.indexOf(e,i):-1;for(;i<t.length;i++)if(i in t&&t[i]===e)return i;return-1},Ga=Array.prototype.forEach?function(t,e,n){w(null!=t.length),Array.prototype.forEach.call(t,e,n)}:function(t,e,i){for(var r=t.length,o=n(t)?t.split(""):t,a=0;r>a;a++)a in o&&e.call(i,o[a],a,t)},Ha=function(t,e){for(var i=n(t)?t.split(""):t,r=t.length-1;r>=0;--r)r in i&&e.call(void 0,i[r],r,t)},Ia=Array.prototype.map?function(t,e,n){return w(null!=t.length),Array.prototype.map.call(t,e,n)}:function(t,e,i){for(var r=t.length,o=Array(r),a=n(t)?t.split(""):t,s=0;r>s;s++)s in a&&(o[s]=e.call(i,a[s],s,t));return o},Ja=Array.prototype.some?function(t,e,n){return w(null!=t.length),Array.prototype.some.call(t,e,n)}:function(t,e,i){for(var r=t.length,o=n(t)?t.split(""):t,a=0;r>a;a++)if(a in o&&e.call(i,o[a],a,t))return!0;return!1},Ka=Array.prototype.every?function(t,e,n){return w(null!=t.length),Array.prototype.every.call(t,e,n)}:function(t,e,i){for(var r=t.length,o=n(t)?t.split(""):t,a=0;r>a;a++)if(a in o&&!e.call(i,o[a],a,t))return!1;return!0},Ma=function(t){var e;t:{e=La;for(var i=t.length,r=n(t)?t.split(""):t,o=0;i>o;o++)if(o in r&&e.call(void 0,r[o],o,t)){e=o;break t}e=-1}return 0>e?null:n(t)?t.charAt(e):t[e]},Na=function(t,e){return 0<=Fa(t,e)},Pa=function(t,e){var n,i=Fa(t,e);return(n=i>=0)&&Oa(t,i),n},Oa=function(t,e){return w(null!=t.length),1==Array.prototype.splice.call(t,e,1).length},Qa=function(t,e){var n=0;Ha(t,function(i,r){e.call(void 0,i,r,t)&&Oa(t,r)&&n++})},Ra=function(){return Array.prototype.concat.apply(Array.prototype,arguments)},Sa=function(){return Array.prototype.concat.apply(Array.prototype,arguments)},Ta=function(t){var e=t.length;if(e>0){for(var n=Array(e),i=0;e>i;i++)n[i]=t[i];return n}return[]},Ua=function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];if(ga(n)){var i=t.length||0,r=n.length||0;t.length=i+r;for(var o=0;r>o;o++)t[i+o]=n[o]}else t.push(n)}},Va=function(t,e,n){for(var i in t)e.call(n,t[i],i,t)},Wa=function(t){var e,n=[],i=0;for(e in t)n[i++]=t[e];return n},Xa=function(t){var e,n=[],i=0;for(e in t)n[i++]=e;return n},Ya=function(t){return null!==t&&"withCredentials"in t},Za=function(t){for(var e in t)return!1;return!0},$a=function(t,e){for(var n in t)if(!(n in e)||t[n]!==e[n])return!1;for(n in e)if(!(n in t))return!1;return!0},ab=function(t){var e,n={};for(e in t)n[e]=t[e];return n},bb="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),cb=function(t){for(var e,n,i=1;i<arguments.length;i++){n=arguments[i];for(e in n)t[e]=n[e];for(var r=0;r<bb.length;r++)e=bb[r],Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])}},db;t:{var eb=m.navigator;if(eb){var fb=eb.userAgent;if(fb){db=fb;break t}}db=""}var x=function(t){return v(db,t)},gb=x("Opera"),y=x("Trident")||x("MSIE"),hb=x("Edge"),ib=hb||y,jb=!(!x("Gecko")||v(db.toLowerCase(),"webkit")&&!x("Edge")||x("Trident")||x("MSIE")||x("Edge")),kb=v(db.toLowerCase(),"webkit")&&!x("Edge"),lb=function(){var t=m.document;return t?t.documentMode:void 0},mb;t:{var nb="",ob=function(){var t=db;return jb?/rv\:([^\);]+)(\)|;)/.exec(t):hb?/Edge\/([\d\.]+)/.exec(t):y?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):kb?/WebKit\/(\S+)/.exec(t):gb?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(ob&&(nb=ob?ob[1]:""),y){var pb=lb();if(null!=pb&&pb>parseFloat(nb)){mb=String(pb);break t}}mb=nb}var qb=mb,rb={},sb=function(t){var e;if(!(e=rb[t])){e=0;for(var n=qa(String(qb)).split("."),i=qa(String(t)).split("."),r=Math.max(n.length,i.length),o=0;0==e&&r>o;o++){var a=n[o]||"",s=i[o]||"",c=RegExp("(\\d*)(\\D*)","g"),u=RegExp("(\\d*)(\\D*)","g");do{var l=c.exec(a)||["","",""],h=u.exec(s)||["","",""];if(0==l[0].length&&0==h[0].length)break;e=ya(0==l[1].length?0:parseInt(l[1],10),0==h[1].length?0:parseInt(h[1],10))||ya(0==l[2].length,0==h[2].length)||ya(l[2],h[2])}while(0==e)}e=rb[t]=e>=0}return e},tb=m.document,ub=tb&&y?lb()||("CSS1Compat"==tb.compatMode?parseInt(qb,10):5):void 0,vb=null,wb=null,yb=function(t){var e="";return xb(t,function(t){e+=String.fromCharCode(t)}),e},xb=function(t,e){function n(e){for(;i<t.length;){var n=t.charAt(i++),r=wb[n];if(null!=r)return r;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}zb();for(var i=0;;){var r=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===r)break;e(r<<2|o>>4),64!=a&&(e(o<<4&240|a>>2),64!=s&&e(a<<6&192|s))}},zb=function(){if(!vb){vb={},wb={};for(var t=0;65>t;t++)vb[t]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(t),wb[vb[t]]=t,t>=62&&(wb["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(t)]=t)}},Bb=function(){this.Zd="",this.yg=Ab};Bb.prototype.De=!0,Bb.prototype.ze=function(){return this.Zd},Bb.prototype.toString=function(){return"Const{"+this.Zd+"}"};var Cb=function(t){return t instanceof Bb&&t.constructor===Bb&&t.yg===Ab?t.Zd:(Ba("expected object of type Const, got '"+t+"'"),"type_error:Const")},Ab={},Eb=function(){this.rb="",this.xg=Db};Eb.prototype.De=!0,Eb.prototype.ze=function(){return this.rb},Eb.prototype.toString=function(){return"SafeUrl{"+this.rb+"}"};var Fb=function(t){return t instanceof Eb&&t.constructor===Eb&&t.xg===Db?t.rb:(Ba("expected object of type SafeUrl, got '"+t+"' of type "+da(t)),"type_error:SafeUrl")},Gb=/^(?:(?:https?|mailto|ftp):|[^&:/?#]*(?:[/?#]|$))/i,Ib=function(t){return t instanceof Eb?t:(t=t.De?t.ze():String(t),Gb.test(t)||(t="about:invalid#zClosurez"),Hb(t))},Db={},Hb=function(t){var e=new Eb;return e.rb=t,e};Hb("about:blank");var Kb=function(){this.rb="",this.wg=Jb};Kb.prototype.De=!0,Kb.prototype.ze=function(){return this.rb},Kb.prototype.toString=function(){return"SafeHtml{"+this.rb+"}"};var Lb=function(t){return t instanceof Kb&&t.constructor===Kb&&t.wg===Jb?t.rb:(Ba("expected object of type SafeHtml, got '"+t+"' of type "+da(t)),"type_error:SafeHtml")},Jb={};Kb.prototype.sh=function(t){return this.rb=t,this};var Mb=function(t,e){var n;n=e instanceof Eb?e:Ib(e),t.href=Fb(n)},Nb=function(t){return Nb[" "](t),t};Nb[" "]=ca;var Ob=!y||9<=Number(ub),Pb=y&&!sb("9");!kb||sb("528"),jb&&sb("1.9b")||y&&sb("8")||gb&&sb("9.5")||kb&&sb("528"),jb&&!sb("8")||y&&sb("9");var Qb=function(){this.La=this.La,this.Md=this.Md};Qb.prototype.La=!1,Qb.prototype.wa=function(){return this.La},Qb.prototype.Sa=function(){this.La||(this.La=!0,this.Ka())},Qb.prototype.Ka=function(){if(this.Md)for(;this.Md.length;)this.Md.shift()()};var Rb=function(t,e){this.type=t,this.currentTarget=this.target=e,this.defaultPrevented=this.yc=!1,this.fg=!0};Rb.prototype.preventDefault=function(){this.defaultPrevented=!0,this.fg=!1};var Sb=function(t,e){if(Rb.call(this,t?t.type:""),this.relatedTarget=this.currentTarget=this.target=null,this.charCode=this.keyCode=this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0,this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.yd=this.state=null,t){var n=this.type=t.type,i=t.changedTouches?t.changedTouches[0]:null;this.target=t.target||t.srcElement,this.currentTarget=e;var r=t.relatedTarget;if(r){if(jb){var o;t:{try{Nb(r.nodeName),o=!0;break t}catch(a){}o=!1}o||(r=null)}}else"mouseover"==n?r=t.fromElement:"mouseout"==n&&(r=t.toElement);this.relatedTarget=r,null===i?(this.offsetX=kb||void 0!==t.offsetX?t.offsetX:t.layerX,this.offsetY=kb||void 0!==t.offsetY?t.offsetY:t.layerY,this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=t.button,this.keyCode=t.keyCode||0,this.charCode=t.charCode||("keypress"==n?t.keyCode:0),this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.state=t.state,this.yd=t,t.defaultPrevented&&this.preventDefault()}};t(Sb,Rb),Sb.prototype.preventDefault=function(){Sb.Hc.preventDefault.call(this);var t=this.yd;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Pb)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var Tb="closure_listenable_"+(1e6*Math.random()|0),Ub=function(t){return!(!t||!t[Tb])},Vb=0,Wb=function(t,e,n,i,r){this.listener=t,this.Rd=null,this.src=e,this.type=n,this.vd=!!i,this.Vc=r,this.key=++Vb,this.Cc=this.ud=!1},Xb=function(t){t.Cc=!0,t.listener=null,t.Rd=null,t.src=null,t.Vc=null},Yb=function(t){this.src=t,this.qa={},this.td=0};Yb.prototype.add=function(t,e,n,i,r){var o=t.toString();t=this.qa[o],t||(t=this.qa[o]=[],this.td++);var a=Zb(t,e,i,r);return a>-1?(e=t[a],n||(e.ud=!1)):(e=new Wb(e,this.src,o,!!i,r),e.ud=n,t.push(e)),e},Yb.prototype.remove=function(t,e,n,i){if(t=t.toString(),!(t in this.qa))return!1;var r=this.qa[t];return e=Zb(r,e,n,i),e>-1?(Xb(r[e]),Oa(r,e),0==r.length&&(delete this.qa[t],this.td--),!0):!1};var $b=function(t,e){var n=e.type;n in t.qa&&Pa(t.qa[n],e)&&(Xb(e),0==t.qa[n].length&&(delete t.qa[n],t.td--))};Yb.prototype.removeAll=function(t){t=t&&t.toString();var e,n=0;for(e in this.qa)if(!t||e==t){for(var i=this.qa[e],r=0;r<i.length;r++)++n,Xb(i[r]);delete this.qa[e],this.td--}return n},Yb.prototype.Rc=function(t,e,n,i){t=this.qa[t.toString()];var r=-1;return t&&(r=Zb(t,e,n,i)),r>-1?t[r]:null};var Zb=function(t,e,n,i){for(var r=0;r<t.length;++r){var o=t[r];if(!o.Cc&&o.listener==e&&o.vd==!!n&&o.Vc==i)return r}return-1},ac="closure_lm_"+(1e6*Math.random()|0),bc={},cc=0,dc=function(t,e,n,i,r){if(fa(e)){for(var o=0;o<e.length;o++)dc(t,e[o],n,i,r);return null}return n=ec(n),Ub(t)?t.Va(e,n,i,r):fc(t,e,n,!1,i,r)},fc=function(t,e,n,i,r,o){if(!e)throw Error("Invalid event type");var a=!!r,s=gc(t);if(s||(t[ac]=s=new Yb(t)),n=s.add(e,n,i,r,o),n.Rd)return n;if(i=hc(),n.Rd=i,i.src=t,i.listener=n,t.addEventListener)t.addEventListener(e.toString(),i,a);else{if(!t.attachEvent)throw Error("addEventListener and attachEvent are unavailable.");t.attachEvent(ic(e.toString()),i)}return cc++,n},hc=function(){var t=jc,e=Ob?function(n){return t.call(e.src,e.listener,n)}:function(n){return n=t.call(e.src,e.listener,n),n?void 0:n};return e},kc=function(t,e,n,i,r){if(fa(e)){for(var o=0;o<e.length;o++)kc(t,e[o],n,i,r);return null}return n=ec(n),Ub(t)?t.Id(e,n,i,r):fc(t,e,n,!0,i,r)},lc=function(t,e,n,i,r){if(fa(e))for(var o=0;o<e.length;o++)lc(t,e[o],n,i,r);else n=ec(n),Ub(t)?t.cf(e,n,i,r):t&&(t=gc(t))&&(e=t.Rc(e,n,!!i,r))&&mc(e)},mc=function(t){if(!ha(t)&&t&&!t.Cc){var e=t.src;if(Ub(e))$b(e.Ua,t);else{var n=t.type,i=t.Rd;e.removeEventListener?e.removeEventListener(n,i,t.vd):e.detachEvent&&e.detachEvent(ic(n),i),cc--,(n=gc(e))?($b(n,t),0==n.td&&(n.src=null,e[ac]=null)):Xb(t)}}},ic=function(t){return t in bc?bc[t]:bc[t]="on"+t},oc=function(t,e,n,i){var r=!0;if((t=gc(t))&&(e=t.qa[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.vd==n&&!o.Cc&&(o=nc(o,i),r=r&&!1!==o)}return r},nc=function(t,e){var n=t.listener,i=t.Vc||t.src;return t.ud&&mc(t),n.call(i,e)},jc=function(t,e){if(t.Cc)return!0;if(!Ob){var n;if(!(n=e))t:{n=["window","event"];for(var i,r=m;i=n.shift();){if(null==r[i]){n=null;break t}r=r[i]}n=r}if(i=n,n=new Sb(i,this),r=!0,!(0>i.keyCode||void 0!=i.returnValue)){t:{var o=!1;if(0==i.keyCode)try{i.keyCode=-1;break t}catch(a){o=!0}(o||void 0==i.returnValue)&&(i.returnValue=!0)}for(i=[],o=n.currentTarget;o;o=o.parentNode)i.push(o);for(var o=t.type,s=i.length-1;!n.yc&&s>=0;s--){n.currentTarget=i[s];var c=oc(i[s],o,!0,n),r=r&&c}for(s=0;!n.yc&&s<i.length;s++)n.currentTarget=i[s],c=oc(i[s],o,!1,n),r=r&&c}return r}return nc(t,new Sb(e,this))},gc=function(t){return t=t[ac],t instanceof Yb?t:null},pc="__closure_events_fn_"+(1e9*Math.random()>>>0),ec=function(t){return w(t,"Listener can not be null."),p(t)?t:(w(t.handleEvent,"An object listener must have handleEvent method."),t[pc]||(t[pc]=function(e){return t.handleEvent(e)}),t[pc])},qc=/^[+a-zA-Z0-9_.!#$%&'*\/=?^`{|}~-]+@([a-zA-Z0-9-]+\.)+[a-zA-Z0-9]{2,63}$/,rc=function(t){return/^\s*$/.test(t)?!1:/^[\],:{}\s\u2028\u2029]*$/.test(t.replace(/\\["\\\/bfnrtu]/g,"@").replace(/(?:"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)[\s\u2028\u2029]*(?=:|,|]|}|$)/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,""))},sc=function(a){if(a=String(a),rc(a))try{return eval("("+a+")")}catch(b){}throw Error("Invalid JSON string: "+a)},vc=function(t){var e=[];return tc(new uc,t,e),e.join("")},uc=function(){this.Ud=void 0},tc=function(t,e,n){if(null==e)n.push("null");else{if("object"==typeof e){if(fa(e)){var i=e;e=i.length,n.push("[");for(var r="",o=0;e>o;o++)n.push(r),r=i[o],tc(t,t.Ud?t.Ud.call(i,String(o),r):r,n),r=",";return void n.push("]")}if(!(e instanceof String||e instanceof Number||e instanceof Boolean)){n.push("{"),o="";for(i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r=e[i],"function"!=typeof r&&(n.push(o),wc(i,n),n.push(":"),tc(t,t.Ud?t.Ud.call(e,i,r):r,n),o=","));return void n.push("}")}e=e.valueOf()}switch(typeof e){case"string":wc(e,n);break;case"number":n.push(isFinite(e)&&!isNaN(e)?String(e):"null");break;case"boolean":n.push(String(e));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof e)}}},xc={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","":"\\u000b"},yc=/\uffff/.test("￿")?/[\\\"\x00-\x1f\x7f-\uffff]/g:/[\\\"\x00-\x1f\x7f-\xff]/g,wc=function(t,e){e.push('"',t.replace(yc,function(t){var e=xc[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),xc[t]=e),e}),'"')},zc=function(){};zc.prototype.lf=null,zc.prototype.getOptions=function(){return this.lf||(this.lf=this.If())};var Ac,Bc=function(){};t(Bc,zc),Bc.prototype.se=function(){var t=Cc(this);return t?new ActiveXObject(t):new XMLHttpRequest},Bc.prototype.If=function(){var t={};return Cc(this)&&(t[0]=!0,t[1]=!0),t};var Cc=function(t){if(!t.Ef&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var i=e[n];try{return new ActiveXObject(i),t.Ef=i}catch(r){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.Ef};Ac=new Bc;var Dc=function(){};t(Dc,zc),Dc.prototype.se=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new Ec;throw Error("Unsupported browser")},Dc.prototype.If=function(){return{}};var Ec=function(){this.yb=new XDomainRequest,this.readyState=0,this.responseText=this.onreadystatechange=null,this.status=-1,this.statusText=this.responseXML=null,this.yb.onload=r(this.dh,this),this.yb.onerror=r(this.Cf,this),this.yb.onprogress=r(this.fh,this),this.yb.ontimeout=r(this.hh,this)};h=Ec.prototype,h.open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.yb.open(t,e)},h.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.yb.send(t)}else this.yb.send()},h.abort=function(){this.yb.abort()},h.setRequestHeader=function(){},h.dh=function(){this.status=200,this.responseText=this.yb.responseText,Fc(this,4)},h.Cf=function(){this.status=500,this.responseText=null,Fc(this,4)},h.hh=function(){this.Cf()},h.fh=function(){this.status=200,Fc(this,1)};var Fc=function(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()},z=function(t,e){this.R=[],this.w=e;for(var n=!0,i=t.length-1;i>=0;i--){var r=0|t[i];n&&r==e||(this.R[i]=r,n=!1)}},Gc={},Hc=function(t){if(t>=-128&&128>t){var e=Gc[t];if(e)return e}return e=new z([0|t],0>t?-1:0),t>=-128&&128>t&&(Gc[t]=e),e},Jc=function(t){if(isNaN(t)||!isFinite(t))return Ic;if(0>t)return A(Jc(-t));for(var e=[],n=1,i=0;t>=n;i++)e[i]=t/n|0,n*=4294967296;return new z(e,0)},Kc=function(t,e){if(0==t.length)throw Error("number format error: empty string");var n=e||10;if(2>n||n>36)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return A(Kc(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var i=Jc(Math.pow(n,8)),r=Ic,o=0;o<t.length;o+=8){var a=Math.min(8,t.length-o),s=parseInt(t.substring(o,o+a),n);8>a?(a=Jc(Math.pow(n,a)),r=r.multiply(a).add(Jc(s))):(r=r.multiply(i),r=r.add(Jc(s)))}return r},Ic=Hc(0),Lc=Hc(1),Mc=Hc(16777216),Nc=function(t){if(-1==t.w)return-Nc(A(t));for(var e=0,n=1,i=0;i<t.R.length;i++)e+=Oc(t,i)*n,n*=4294967296;return e};z.prototype.toString=function(t){if(t=t||10,2>t||t>36)throw Error("radix out of range: "+t);
if(Pc(this))return"0";if(-1==this.w)return"-"+A(this).toString(t);for(var e=Jc(Math.pow(t,6)),n=this,i="";;){var r=Qc(n,e),n=Rc(n,r.multiply(e)),o=((0<n.R.length?n.R[0]:n.w)>>>0).toString(t),n=r;if(Pc(n))return o+i;for(;6>o.length;)o="0"+o;i=""+o+i}};var B=function(t,e){return 0>e?0:e<t.R.length?t.R[e]:t.w},Oc=function(t,e){var n=B(t,e);return n>=0?n:4294967296+n},Pc=function(t){if(0!=t.w)return!1;for(var e=0;e<t.R.length;e++)if(0!=t.R[e])return!1;return!0};z.prototype.equals=function(t){if(this.w!=t.w)return!1;for(var e=Math.max(this.R.length,t.R.length),n=0;e>n;n++)if(B(this,n)!=B(t,n))return!1;return!0},z.prototype.compare=function(t){return t=Rc(this,t),-1==t.w?-1:Pc(t)?0:1};var A=function(t){for(var e=t.R.length,n=[],i=0;e>i;i++)n[i]=~t.R[i];return new z(n,~t.w).add(Lc)};z.prototype.add=function(t){for(var e=Math.max(this.R.length,t.R.length),n=[],i=0,r=0;e>=r;r++){var o=i+(65535&B(this,r))+(65535&B(t,r)),a=(o>>>16)+(B(this,r)>>>16)+(B(t,r)>>>16),i=a>>>16,o=65535&o,a=65535&a;n[r]=a<<16|o}return new z(n,-2147483648&n[n.length-1]?-1:0)};var Rc=function(t,e){return t.add(A(e))};z.prototype.multiply=function(t){if(Pc(this)||Pc(t))return Ic;if(-1==this.w)return-1==t.w?A(this).multiply(A(t)):A(A(this).multiply(t));if(-1==t.w)return A(this.multiply(A(t)));if(0>this.compare(Mc)&&0>t.compare(Mc))return Jc(Nc(this)*Nc(t));for(var e=this.R.length+t.R.length,n=[],i=0;2*e>i;i++)n[i]=0;for(i=0;i<this.R.length;i++)for(var r=0;r<t.R.length;r++){var o=B(this,i)>>>16,a=65535&B(this,i),s=B(t,r)>>>16,c=65535&B(t,r);n[2*i+2*r]+=a*c,Sc(n,2*i+2*r),n[2*i+2*r+1]+=o*c,Sc(n,2*i+2*r+1),n[2*i+2*r+1]+=a*s,Sc(n,2*i+2*r+1),n[2*i+2*r+2]+=o*s,Sc(n,2*i+2*r+2)}for(i=0;e>i;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=e;2*e>i;i++)n[i]=0;return new z(n,0)};var Sc=function(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535},Qc=function(t,e){if(Pc(e))throw Error("division by zero");if(Pc(t))return Ic;if(-1==t.w)return-1==e.w?Qc(A(t),A(e)):A(Qc(A(t),e));if(-1==e.w)return A(Qc(t,A(e)));if(30<t.R.length){if(-1==t.w||-1==e.w)throw Error("slowDivide_ only works with positive integers.");for(var n=Lc,i=e;0>=i.compare(t);)n=n.shiftLeft(1),i=i.shiftLeft(1);for(var r,o=Tc(n,1),a=Tc(i,1),i=Tc(i,2),n=Tc(n,2);!Pc(i);)r=a.add(i),0>=r.compare(t)&&(o=o.add(n),a=r),i=Tc(i,1),n=Tc(n,1);return o}for(n=Ic,i=t;0<=i.compare(e);){o=Math.max(1,Math.floor(Nc(i)/Nc(e))),a=Math.ceil(Math.log(o)/Math.LN2),a=48>=a?1:Math.pow(2,a-48),r=Jc(o);for(var s=r.multiply(e);-1==s.w||0<s.compare(i);)o-=a,r=Jc(o),s=r.multiply(e);Pc(r)&&(r=Lc),n=n.add(r),i=Rc(i,s)}return n},Uc=function(t,e){for(var n=Math.max(t.R.length,e.R.length),i=[],r=0;n>r;r++)i[r]=B(t,r)|B(e,r);return new z(i,t.w|e.w)};z.prototype.shiftLeft=function(t){var e=t>>5;t%=32;for(var n=this.R.length+e+(t>0?1:0),i=[],r=0;n>r;r++)i[r]=t>0?B(this,r-e)<<t|B(this,r-e-1)>>>32-t:B(this,r-e);return new z(i,this.w)};var Tc=function(t,e){for(var n=e>>5,i=e%32,r=t.R.length-n,o=[],a=0;r>a;a++)o[a]=i>0?B(t,a+n)>>>i|B(t,a+n+1)<<32-i:B(t,a+n);return new z(o,t.w)},Vc=function(t,e){this.Xc=t,this.wb=e};Vc.prototype.Af=function(){return this.wb},Vc.prototype.equals=function(t){return this.wb==t.Af()&&this.Xc.equals(ab(t.Xc))};var Yc=function(t){try{var e;if(e=0==t.lastIndexOf("[",0)){var n=t.length-1;e=n>=0&&t.indexOf("]",n)==n}return e?new Wc(t.substring(1,t.length-1)):new Xc(t)}catch(i){return null}},Xc=function(t){var e=Ic;if(t instanceof z){if(0!=t.w||0>t.compare(Ic)||0<t.compare(Zc))throw Error("The address does not look like an IPv4.");e=ab(t)}else{if(!$c.test(t))throw Error(t+" does not look like an IPv4 address.");var n=t.split(".");if(4!=n.length)throw Error(t+" does not look like an IPv4 address.");for(var i=0;i<n.length;i++){var r;r=n[i];var o=Number(r);if(r=0==o&&/^[\s\xa0]*$/.test(r)?0/0:o,isNaN(r)||0>r||r>255||1!=n[i].length&&0==n[i].lastIndexOf("0",0))throw Error("In "+t+", octet "+i+" is not valid");r=Jc(r),e=Uc(e.shiftLeft(8),r)}}Vc.call(this,e,4)};t(Xc,Vc);var $c=/^[0-9.]*$/,Zc=Rc(Lc.shiftLeft(32),Lc);Xc.prototype.toString=function(){if(this.Tb)return this.Tb;for(var t=Oc(this.Xc,0),e=[],n=3;n>=0;n--)e[n]=String(255&t),t>>>=8;return this.Tb=e.join(".")};var Wc=function(t){var e=Ic;if(t instanceof z){if(0!=t.w||0>t.compare(Ic)||0<t.compare(ad))throw Error("The address does not look like a valid IPv6.");e=ab(t)}else{if(!bd.test(t))throw Error(t+" is not a valid IPv6 address.");var n=t.split(":");if(-1!=n[n.length-1].indexOf(".")){t=Oc(ab(new Xc(n[n.length-1]).Xc),0);var i=[];i.push((t>>>16&65535).toString(16)),i.push((65535&t).toString(16)),Oa(n,n.length-1),Ua(n,i),t=n.join(":")}if(i=t.split("::"),2<i.length||1==i.length&&8!=n.length)throw Error(t+" is not a valid IPv6 address.");if(1<i.length){n=i[0].split(":"),i=i[1].split(":"),1==n.length&&""==n[0]&&(n=[]),1==i.length&&""==i[0]&&(i=[]);var r=8-(n.length+i.length);if(1>r)n=[];else{for(var o=[],a=0;r>a;a++)o[a]="0";n=Sa(n,o,i)}}if(8!=n.length)throw Error(t+" is not a valid IPv6 address");for(i=0;i<n.length;i++){if(r=Kc(n[i],16),0>r.compare(Ic)||0<r.compare(cd))throw Error(n[i]+" in "+t+" is not a valid hextet.");e=Uc(e.shiftLeft(16),r)}}Vc.call(this,e,6)};t(Wc,Vc);var bd=/^([a-fA-F0-9]*:){2}[a-fA-F0-9:.]*$/,cd=Hc(65535),ad=Rc(Lc.shiftLeft(128),Lc);Wc.prototype.toString=function(){if(this.Tb)return this.Tb;for(var t=[],e=3;e>=0;e--){var n=Oc(this.Xc,e),i=65535&n;t.push((n>>>16).toString(16)),t.push(i.toString(16))}for(var n=e=-1,r=i=0,o=0;o<t.length;o++)"0"==t[o]?(r++,-1==n&&(n=o),r>i&&(i=r,e=n)):(n=-1,r=0);return i>0&&(e+i==t.length&&t.push(""),t.splice(e,i,""),0==e&&(t=[""].concat(t))),this.Tb=t.join(":")},!jb&&!y||y&&9<=Number(ub)||jb&&sb("1.9.1"),y&&sb("9");var ed=function(t,e){Va(e,function(e,n){"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:dd.hasOwnProperty(n)?t.setAttribute(dd[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e})},dd={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"},fd=function(t,e,n){this.uh=n,this.Kg=t,this.Lh=e,this.Ld=0,this.Ed=null};fd.prototype.get=function(){var t;return 0<this.Ld?(this.Ld--,t=this.Ed,this.Ed=t.next,t.next=null):t=this.Kg(),t},fd.prototype.put=function(t){this.Lh(t),this.Ld<this.uh&&(this.Ld++,t.next=this.Ed,this.Ed=t)};var gd=function(t){m.setTimeout(function(){throw t},0)},hd,id=function(){var t=m.MessageChannel;if("undefined"==typeof t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!x("Presto")&&(t=function(){var t=document.createElement("IFRAME");t.style.display="none",t.src="",document.documentElement.appendChild(t);var e=t.contentWindow,t=e.document;t.open(),t.write(""),t.close();var n="callImmediate"+Math.random(),i="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host,t=r(function(t){"*"!=i&&t.origin!=i||t.data!=n||this.port1.onmessage()},this);e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,i)}}}),"undefined"!=typeof t&&!x("Trident")&&!x("MSIE")){var e=new t,n={},i=n;return e.port1.onmessage=function(){if(ba(n.next)){n=n.next;var t=n.cb;n.cb=null,t()}},function(t){i.next={cb:t},i=i.next,e.port2.postMessage(0)}}return"undefined"!=typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(t){var e=document.createElement("SCRIPT");e.onreadystatechange=function(){e.onreadystatechange=null,e.parentNode.removeChild(e),e=null,t(),t=null},document.documentElement.appendChild(e)}:function(t){m.setTimeout(t,0)}},jd=function(){this.he=this.bc=null},ld=new fd(function(){return new kd},function(t){t.reset()},100);jd.prototype.add=function(t,e){var n=ld.get();n.set(t,e),this.he?this.he.next=n:(w(!this.bc),this.bc=n),this.he=n},jd.prototype.remove=function(){var t=null;return this.bc&&(t=this.bc,this.bc=this.bc.next,this.bc||(this.he=null),t.next=null),t};var kd=function(){this.next=this.scope=this.Oc=null};kd.prototype.set=function(t,e){this.Oc=t,this.scope=e,this.next=null},kd.prototype.reset=function(){this.next=this.scope=this.Oc=null};var sd=function(t,e){md||nd(),od||(md(),od=!0),rd.add(t,e)},md,nd=function(){if(m.Promise&&m.Promise.resolve){var t=m.Promise.resolve(void 0);md=function(){t.then(td)}}else md=function(){var t=td;!p(m.setImmediate)||m.Window&&m.Window.prototype&&!x("Edge")&&m.Window.prototype.setImmediate==m.setImmediate?(hd||(hd=id()),hd(t)):m.setImmediate(t)}},od=!1,rd=new jd,td=function(){for(var t=null;t=rd.remove();){try{t.Oc.call(t.scope)}catch(e){gd(e)}ld.put(t)}od=!1},ud=function(t){t.prototype.then=t.prototype.then,t.prototype.$goog_Thenable=!0},vd=function(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(e){return!1}},C=function(t,e){if(this.Aa=0,this.ub=void 0,this.jc=this.kb=this.T=null,this.Dd=this.we=!1,t!=ca)try{var n=this;t.call(e,function(t){wd(n,2,t)},function(t){if(!(t instanceof xd))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(e){}wd(n,3,t)})}catch(i){wd(this,3,i)}},yd=function(){this.next=this.context=this.wc=this.Ub=this.child=null,this.Lc=!1};yd.prototype.reset=function(){this.context=this.wc=this.Ub=this.child=null,this.Lc=!1};var zd=new fd(function(){return new yd},function(t){t.reset()},100),Ad=function(t,e,n){var i=zd.get();return i.Ub=t,i.wc=e,i.context=n,i},D=function(t){if(t instanceof C)return t;var e=new C(ca);return wd(e,2,t),e},Bd=function(t){return new C(function(e,n){n(t)})},Dd=function(t,e,n){Cd(t,e,n,null)||sd(na(e,t))},Ed=function(t){return new C(function(e,n){var i=t.length,r=[];if(i)for(var o,a=function(t,n){i--,r[t]=n,0==i&&e(r)},s=function(t){n(t)},c=0;c<t.length;c++)o=t[c],Dd(o,na(a,c),s);else e(r)})},Fd=function(t){return new C(function(e){var n=t.length,i=[];if(n)for(var r,o=function(t,r,o){n--,i[t]=r?{Xg:!0,value:o}:{Xg:!1,reason:o},0==n&&e(i)},a=0;a<t.length;a++)r=t[a],Dd(r,na(o,a,!0),na(o,a,!1));else e(i)})},Gd=function(){new C(function(){})};C.prototype.then=function(t,e,n){return null!=t&&Ea(t,"opt_onFulfilled should be a function."),null!=e&&Ea(e,"opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?"),Hd(this,p(t)?t:null,p(e)?e:null,n)},ud(C);var Jd=function(t,e){var n=Ad(e,e,void 0);return n.Lc=!0,Id(t,n),t};C.prototype.Ha=function(t,e){return Hd(this,null,t,e)},C.prototype.cancel=function(t){0==this.Aa&&sd(function(){var e=new xd(t);Kd(this,e)},this)};var Kd=function(t,e){if(0==t.Aa)if(t.T){var n=t.T;if(n.kb){for(var i=0,r=null,o=null,a=n.kb;a&&(a.Lc||(i++,a.child==t&&(r=a),!(r&&i>1)));a=a.next)r||(o=a);r&&(0==n.Aa&&1==i?Kd(n,e):(o?(i=o,w(n.kb),w(null!=i),i.next==n.jc&&(n.jc=i),i.next=i.next.next):Ld(n),Md(n,r,3,e)))}t.T=null}else wd(t,3,e)},Id=function(t,e){t.kb||2!=t.Aa&&3!=t.Aa||Nd(t),w(null!=e.Ub),t.jc?t.jc.next=e:t.kb=e,t.jc=e},Hd=function(t,e,n,i){var r=Ad(null,null,null);return r.child=new C(function(t,o){r.Ub=e?function(n){try{var r=e.call(i,n);t(r)}catch(a){o(a)}}:t,r.wc=n?function(e){try{var r=n.call(i,e);!ba(r)&&e instanceof xd?o(e):t(r)}catch(a){o(a)}}:o}),r.child.T=t,Id(t,r),r.child};C.prototype.ei=function(t){w(1==this.Aa),this.Aa=0,wd(this,2,t)},C.prototype.fi=function(t){w(1==this.Aa),this.Aa=0,wd(this,3,t)};var wd=function(t,e,n){0==t.Aa&&(t==n&&(e=3,n=new TypeError("Promise cannot resolve to itself")),t.Aa=1,Cd(n,t.ei,t.fi,t)||(t.ub=n,t.Aa=e,t.T=null,Nd(t),3!=e||n instanceof xd||Od(t,n)))},Cd=function(t,e,n,i){if(t instanceof C)return null!=e&&Ea(e,"opt_onFulfilled should be a function."),null!=n&&Ea(n,"opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?"),Id(t,Ad(e||ca,n||null,i)),!0;if(vd(t))return t.then(e,n,i),!0;if(ia(t))try{var r=t.then;if(p(r))return Pd(t,r,e,n,i),!0}catch(o){return n.call(i,o),!0}return!1},Pd=function(t,e,n,i,r){var o=!1,a=function(t){o||(o=!0,n.call(r,t))},s=function(t){o||(o=!0,i.call(r,t))};try{e.call(t,a,s)}catch(c){s(c)}},Nd=function(t){t.we||(t.we=!0,sd(t.Rg,t))},Ld=function(t){var e=null;return t.kb&&(e=t.kb,t.kb=e.next,e.next=null),t.kb||(t.jc=null),null!=e&&w(null!=e.Ub),e};C.prototype.Rg=function(){for(var t=null;t=Ld(this);)Md(this,t,this.Aa,this.ub);this.we=!1};var Md=function(t,e,n,i){if(3==n&&e.wc&&!e.Lc)for(;t&&t.Dd;t=t.T)t.Dd=!1;if(e.child)e.child.T=null,Qd(e,n,i);else try{e.Lc?e.Ub.call(e.context):Qd(e,n,i)}catch(r){Rd.call(null,r)}zd.put(e)},Qd=function(t,e,n){2==e?t.Ub.call(t.context,n):t.wc&&t.wc.call(t.context,n)},Od=function(t,e){t.Dd=!0,sd(function(){t.Dd&&Rd.call(null,e)})},Rd=gd,xd=function(t){u.call(this,t)};t(xd,u),xd.prototype.name="cancel";var E=function(t,e){this.Wd=[],this.Of=t,this.sf=e||null,this.Uc=this.mc=!1,this.ub=void 0,this.$e=this.kf=this.ne=!1,this.ee=0,this.T=null,this.oe=0};E.prototype.cancel=function(t){if(this.mc)this.ub instanceof E&&this.ub.cancel();else{if(this.T){var e=this.T;delete this.T,t?e.cancel(t):(e.oe--,0>=e.oe&&e.cancel())}this.Of?this.Of.call(this.sf,this):this.$e=!0,this.mc||F(this,new Sd)}},E.prototype.rf=function(t,e){this.ne=!1,Td(this,t,e)};var Td=function(t,e,n){t.mc=!0,t.ub=n,t.Uc=!e,Ud(t)},Wd=function(t){if(t.mc){if(!t.$e)throw new Vd;t.$e=!1}};E.prototype.Cb=function(t){Wd(this),Xd(t),Td(this,!0,t)};var F=function(t,e){Wd(t),Xd(e),Td(t,!1,e)},Xd=function(t){w(!(t instanceof E),"An execution sequence may not be initiated with a blocking Deferred.")},$d=function(t){var e=Yd();Zd(e,null,t,void 0)},Zd=function(t,e,n,i){w(!t.kf,"Blocking Deferreds can not be re-used"),t.Wd.push([e,n,i]),t.mc&&Ud(t)};E.prototype.then=function(t,e,n){var i,r,o=new C(function(t,e){i=t,r=e});return Zd(this,i,function(t){t instanceof Sd?o.cancel():r(t)}),o.then(t,e,n)},ud(E);var ae=function(t){return Ja(t.Wd,function(t){return p(t[1])})},Ud=function(t){if(t.ee&&t.mc&&ae(t)){var e=t.ee,n=be[e];n&&(m.clearTimeout(n.mb),delete be[e]),t.ee=0}t.T&&(t.T.oe--,delete t.T);for(var e=t.ub,i=n=!1;t.Wd.length&&!t.ne;){var o=t.Wd.shift(),a=o[0],s=o[1],o=o[2];if(a=t.Uc?s:a)try{var c=a.call(o||t.sf,e);ba(c)&&(t.Uc=t.Uc&&(c==e||c instanceof Error),t.ub=e=c),(vd(e)||"function"==typeof m.Promise&&e instanceof m.Promise)&&(i=!0,t.ne=!0)}catch(u){e=u,t.Uc=!0,ae(t)||(n=!0)}}t.ub=e,i&&(c=r(t.rf,t,!0),i=r(t.rf,t,!1),e instanceof E?(Zd(e,c,i),e.kf=!0):e.then(c,i)),n&&(e=new ce(e),be[e.mb]=e,t.ee=e.mb)},Vd=function(){u.call(this)};t(Vd,u),Vd.prototype.message="Deferred has already fired",Vd.prototype.name="AlreadyCalledError";var Sd=function(){u.call(this)};t(Sd,u),Sd.prototype.message="Deferred was canceled",Sd.prototype.name="CanceledError";var ce=function(t){this.mb=m.setTimeout(r(this.di,this),0),this.ta=t};ce.prototype.di=function(){throw w(be[this.mb],"Cannot throw an error that is not scheduled."),delete be[this.mb],this.ta};var be={},Yd=function(){var t="//apis.google.com/js/client.js?onload="+de,e={},n=e.document||document,i=document.createElement("SCRIPT"),r={hg:i,qd:void 0},o=new E(ee,r),a=null,s=null!=e.timeout?e.timeout:5e3;return s>0&&(a=window.setTimeout(function(){fe(i,!0),F(o,new ge(1,"Timeout reached for loading script "+t))},s),r.qd=a),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(fe(i,e.ni||!1,a),o.Cb(null))},i.onerror=function(){fe(i,!0,a),F(o,new ge(0,"Error while loading script "+t))},r=e.attributes||{},cb(r,{type:"text/javascript",charset:"UTF-8",src:t}),ed(i,r),he(n).appendChild(i),o},he=function(t){var e=t.getElementsByTagName("HEAD");return e&&0!=e.length?e[0]:t.documentElement},ee=function(){if(this&&this.hg){var t=this.hg;t&&"SCRIPT"==t.tagName&&fe(t,!0,this.qd)}},fe=function(t,e,n){null!=n&&m.clearTimeout(n),t.onload=ca,t.onerror=ca,t.onreadystatechange=ca,e&&window.setTimeout(function(){t&&t.parentNode&&t.parentNode.removeChild(t)},0)},ge=function(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),u.call(this,n),this.code=t};t(ge,u);var G=function(){Qb.call(this),this.Ua=new Yb(this),this.Bg=this,this.Ie=null};t(G,Qb),G.prototype[Tb]=!0,h=G.prototype,h.addEventListener=function(t,e,n,i){dc(this,t,e,n,i)},h.removeEventListener=function(t,e,n,i){lc(this,t,e,n,i)},h.dispatchEvent=function(t){ie(this);var e,i=this.Ie;if(i){e=[];for(var r=1;i;i=i.Ie)e.push(i),w(1e3>++r,"infinite loop")}if(i=this.Bg,r=t.type||t,n(t))t=new Rb(t,i);else if(t instanceof Rb)t.target=t.target||i;else{var o=t;t=new Rb(r,i),cb(t,o)}var a,o=!0;if(e)for(var s=e.length-1;!t.yc&&s>=0;s--)a=t.currentTarget=e[s],o=je(a,r,!0,t)&&o;if(t.yc||(a=t.currentTarget=i,o=je(a,r,!0,t)&&o,t.yc||(o=je(a,r,!1,t)&&o)),e)for(s=0;!t.yc&&s<e.length;s++)a=t.currentTarget=e[s],o=je(a,r,!1,t)&&o;return o},h.Ka=function(){G.Hc.Ka.call(this),this.Ua&&this.Ua.removeAll(void 0),this.Ie=null},h.Va=function(t,e,n,i){return ie(this),this.Ua.add(String(t),e,!1,n,i)},h.Id=function(t,e,n,i){return this.Ua.add(String(t),e,!0,n,i)},h.cf=function(t,e,n,i){return this.Ua.remove(String(t),e,n,i)};var je=function(t,e,n,i){if(e=t.Ua.qa[String(e)],!e)return!0;e=e.concat();for(var r=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.Cc&&a.vd==n){var s=a.listener,c=a.Vc||a.src;a.ud&&$b(t.Ua,a),r=!1!==s.call(c,i)&&r}}return r&&0!=i.fg};G.prototype.Rc=function(t,e,n,i){return this.Ua.Rc(String(t),e,n,i)};var ie=function(t){w(t.Ua,"Event target is not initialized. Did you call the superclass (goog.events.EventTarget) constructor?")},ke="StopIteration"in m?m.StopIteration:{message:"StopIteration",stack:""},le=function(){};le.prototype.next=function(){throw ke},le.prototype.Mb=function(){return this};var me=function(t){if(t instanceof le)return t;if("function"==typeof t.Mb)return t.Mb(!1);if(ga(t)){var e=0,n=new le;return n.next=function(){for(;;){if(e>=t.length)throw ke;if(e in t)return t[e++];e++}},n}throw Error("Not implemented")},ne=function(t,e){if(ga(t))try{Ga(t,e,void 0)}catch(n){if(n!==ke)throw n}else{t=me(t);try{for(;;)e.call(void 0,t.next(),void 0,t)}catch(n){if(n!==ke)throw n}}},oe=function(t){this.W={},this.u=[],this.wb=this.S=0;var e=arguments.length;if(e>1){if(e%2)throw Error("Uneven number of arguments");for(var n=0;e>n;n+=2)this.set(arguments[n],arguments[n+1])}else t&&this.addAll(t)};h=oe.prototype,h.Ma=function(){return this.S},h.ua=function(){pe(this);for(var t=[],e=0;e<this.u.length;e++)t.push(this.W[this.u[e]]);return t},h.lb=function(){return pe(this),this.u.concat()},h.kc=function(t){return qe(this.W,t)},h.wd=function(t){for(var e=0;e<this.u.length;e++){var n=this.u[e];if(qe(this.W,n)&&this.W[n]==t)return!0}return!1},h.equals=function(t,e){if(this===t)return!0;if(this.S!=t.Ma())return!1;var n=e||re;pe(this);for(var i,r=0;i=this.u[r];r++)if(!n(this.get(i),t.get(i)))return!1;return!0};var re=function(t,e){return t===e};oe.prototype.remove=function(t){return qe(this.W,t)?(delete this.W[t],this.S--,this.wb++,this.u.length>2*this.S&&pe(this),!0):!1};var pe=function(t){if(t.S!=t.u.length){for(var e=0,n=0;e<t.u.length;){var i=t.u[e];qe(t.W,i)&&(t.u[n++]=i),e++}t.u.length=n}if(t.S!=t.u.length){for(var r={},n=e=0;e<t.u.length;)i=t.u[e],qe(r,i)||(t.u[n++]=i,r[i]=1),e++;t.u.length=n}};h=oe.prototype,h.get=function(t,e){return qe(this.W,t)?this.W[t]:e},h.set=function(t,e){qe(this.W,t)||(this.S++,this.u.push(t),this.wb++),this.W[t]=e},h.addAll=function(t){var e;t instanceof oe?(e=t.lb(),t=t.ua()):(e=Xa(t),t=Wa(t));for(var n=0;n<e.length;n++)this.set(e[n],t[n])},h.forEach=function(t,e){for(var n=this.lb(),i=0;i<n.length;i++){var r=n[i],o=this.get(r);t.call(e,o,r,this)}},h.clone=function(){return new oe(this)},h.Mb=function(t){pe(this);var e=0,n=this.wb,i=this,r=new le;return r.next=function(){if(n!=i.wb)throw Error("The map has changed since the iterator was created");if(e>=i.u.length)throw ke;var r=i.u[e++];return t?r:i.W[r]},r};var qe=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},se=function(t){if(t.Ma&&"function"==typeof t.Ma)t=t.Ma();else if(ga(t)||n(t))t=t.length;else{var e,i=0;for(e in t)i++;t=i}return t},te=function(t){if(t.ua&&"function"==typeof t.ua)return t.ua();if(n(t))return t.split("");if(ga(t)){for(var e=[],i=t.length,r=0;i>r;r++)e.push(t[r]);return e}return Wa(t)},ue=function(t){if(t.lb&&"function"==typeof t.lb)return t.lb();if(!t.ua||"function"!=typeof t.ua){if(ga(t)||n(t)){var e=[];t=t.length;for(var i=0;t>i;i++)e.push(i);return e}return Xa(t)}},ve=function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(ga(t)||n(t))Ga(t,e,void 0);else for(var i=ue(t),r=te(t),o=r.length,a=0;o>a;a++)e.call(void 0,r[a],i&&i[a],t)},we=function(t,e){if("function"==typeof t.every)return t.every(e,void 0);if(ga(t)||n(t))return Ka(t,e,void 0);for(var i=ue(t),r=te(t),o=r.length,a=0;o>a;a++)if(!e.call(void 0,r[a],i&&i[a],t))return!1;return!0},xe=function(t){this.W=new oe,t&&this.addAll(t)},ye=function(t){var e=typeof t;return"object"==e&&t||"function"==e?"o"+(t[ja]||(t[ja]=++ka)):e.substr(0,1)+t};h=xe.prototype,h.Ma=function(){return this.W.Ma()},h.add=function(t){this.W.set(ye(t),t)},h.addAll=function(t){t=te(t);for(var e=t.length,n=0;e>n;n++)this.add(t[n])},h.removeAll=function(t){t=te(t);for(var e=t.length,n=0;e>n;n++)this.remove(t[n])},h.remove=function(t){return this.W.remove(ye(t))},h.contains=function(t){return this.W.kc(ye(t))},h.ua=function(){return this.W.ua()},h.clone=function(){return new xe(this)},h.equals=function(t){return this.Ma()==se(t)&&ze(this,t)};var ze=function(t,e){var i=se(e);return t.Ma()>i?!1:(!(e instanceof xe)&&i>5&&(e=new xe(e)),we(t,function(t){var i=e;if(i.contains&&"function"==typeof i.contains)t=i.contains(t);else if(i.wd&&"function"==typeof i.wd)t=i.wd(t);else if(ga(i)||n(i))t=Na(i,t);else t:{for(var r in i)if(i[r]==t){t=!0;break t}t=!1}return t}))};xe.prototype.Mb=function(){return this.W.Mb(!1)};var Ae=function(t){var e=[],i=function(t,r,o){var a=r+"  ";o=new xe(o);try{if(ba(t))if(null===t)e.push("NULL");else if(n(t))e.push('"'+t.replace(/\n/g,"\n"+r)+'"');else if(p(t))e.push(String(t).replace(/\n/g,"\n"+r));else if(ia(t))if(o.contains(t))e.push("*** reference loop detected ***");else{o.add(t),e.push("{");for(var s in t)p(t[s])||(e.push("\n"),e.push(a),e.push(s+" = "),i(t[s],a,o));e.push("\n"+r+"}")}else e.push(t);else e.push("undefined")}catch(c){e.push("*** "+c+" ***")}};return i(t,"",new xe),e.join("")},Be=function(t,e,n,i,r){this.reset(t,e,n,i,r)};Be.prototype.uf=null;var Ce=0;Be.prototype.reset=function(t,e,n,i,r){"number"==typeof r||Ce++,i||oa(),this.ad=t,this.zh=e,delete this.uf},Be.prototype.jg=function(t){this.ad=t};var De=function(t){this.Nf=t,this.Df=this.qe=this.ad=this.T=null},Ee=function(t,e){this.name=t,this.value=e};Ee.prototype.toString=function(){return this.name};var Fe=new Ee("SEVERE",1e3),Ge=new Ee("CONFIG",700),He=new Ee("FINE",500);De.prototype.getName=function(){return this.Nf},De.prototype.getParent=function(){return this.T},De.prototype.jg=function(t){this.ad=t};var Ie=function(t){return t.ad?t.ad:t.T?Ie(t.T):(Ba("Root logger has no level set."),null)};De.prototype.log=function(t,e,n){if(t.value>=Ie(this).value)for(p(e)&&(e=e()),t=new Be(t,String(e),this.Nf),n&&(t.uf=n),n="log:"+t.zh,m.console&&(m.console.timeStamp?m.console.timeStamp(n):m.console.markTimeline&&m.console.markTimeline(n)),m.msWriteProfilerMark&&m.msWriteProfilerMark(n),n=this;n;){e=n;var i=t;if(e.Df)for(var r=0,o=void 0;o=e.Df[r];r++)o(i);n=n.getParent()}};var Je={},Ke=null,Le=function(t){Ke||(Ke=new De(""),Je[""]=Ke,Ke.jg(Ge));var e;if(!(e=Je[t])){e=new De(t);var n=t.lastIndexOf("."),i=t.substr(n+1),n=Le(t.substr(0,n));n.qe||(n.qe={}),n.qe[i]=e,e.T=n,Je[t]=e}return e},Me=function(t,e){t&&t.log(He,e,void 0)},Ne=function(t,e,n){if(p(t))n&&(t=r(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=r(t.handleEvent,t)}return 2147483647<Number(e)?-1:m.setTimeout(t,e||0)},Oe=function(t){var e=null;return new C(function(n,i){e=Ne(function(){n(void 0)},t),-1==e&&i(Error("Failed to schedule timer."))}).Ha(function(t){throw m.clearTimeout(e),t})},Pe=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#(.*))?$/,Qe=function(t,e){if(t)for(var n=t.split("&"),i=0;i<n.length;i++){var r=n[i].indexOf("="),o=null,a=null;r>=0?(o=n[i].substring(0,r),a=n[i].substring(r+1)):o=n[i],e(o,a?decodeURIComponent(a.replace(/\+/g," ")):"")}},I=function(t){G.call(this),this.headers=new oe,this.je=t||null,this.Ab=!1,this.ie=this.i=null,this.Zc=this.Kf=this.Hd="",this.Sb=this.Ee=this.Gd=this.ve=!1,this.Ic=0,this.$d=null,this.cg="",this.fe=this.Hh=this.ki=!1};t(I,G);var Re=I.prototype,Se=Le("goog.net.XhrIo");Re.Pa=Se;var Te=/^https?$/i,Ue=["POST","PUT"];I.prototype.send=function(t,e,n,i){if(this.i)throw Error("[goog.net.XhrIo] Object is active with another request="+this.Hd+"; newUri="+t);e=e?e.toUpperCase():"GET",this.Hd=t,this.Zc="",this.Kf=e,this.ve=!1,this.Ab=!0,this.i=this.je?this.je.se():Ac.se(),this.ie=this.je?this.je.getOptions():Ac.getOptions(),this.i.onreadystatechange=r(this.Qf,this),this.Hh&&"onprogress"in this.i&&(this.i.onprogress=r(function(t){this.Pf(t,!0)},this),this.i.upload&&(this.i.upload.onprogress=r(this.Pf,this)));try{Me(this.Pa,Ve(this,"Opening Xhr")),this.Ee=!0,this.i.open(e,String(t),!0),this.Ee=!1}catch(o){return Me(this.Pa,Ve(this,"Error opening Xhr: "+o.message)),void this.ta(5,o)}t=n||"";var a=this.headers.clone();i&&ve(i,function(t,e){a.set(e,t)}),i=Ma(a.lb()),n=m.FormData&&t instanceof m.FormData,!Na(Ue,e)||i||n||a.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),a.forEach(function(t,e){this.i.setRequestHeader(e,t)},this),this.cg&&(this.i.responseType=this.cg),Ya(this.i)&&(this.i.withCredentials=this.ki);try{We(this),0<this.Ic&&(this.fe=Xe(this.i),Me(this.Pa,Ve(this,"Will abort after "+this.Ic+"ms if incomplete, xhr2 "+this.fe)),this.fe?(this.i.timeout=this.Ic,this.i.ontimeout=r(this.qd,this)):this.$d=Ne(this.qd,this.Ic,this)),Me(this.Pa,Ve(this,"Sending request")),this.Gd=!0,this.i.send(t),this.Gd=!1}catch(o){Me(this.Pa,Ve(this,"Send error: "+o.message)),this.ta(5,o)}};var Xe=function(t){return y&&sb(9)&&ha(t.timeout)&&ba(t.ontimeout)},La=function(t){return"content-type"==t.toLowerCase()};I.prototype.qd=function(){"undefined"!=typeof aa&&this.i&&(this.Zc="Timed out after "+this.Ic+"ms, aborting",Me(this.Pa,Ve(this,this.Zc)),this.dispatchEvent("timeout"),this.abort(8))},I.prototype.ta=function(t,e){this.Ab=!1,this.i&&(this.Sb=!0,this.i.abort(),this.Sb=!1),this.Zc=e,Ye(this),Ze(this)};var Ye=function(t){t.ve||(t.ve=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))};I.prototype.abort=function(){this.i&&this.Ab&&(Me(this.Pa,Ve(this,"Aborting")),this.Ab=!1,this.Sb=!0,this.i.abort(),this.Sb=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Ze(this))},I.prototype.Ka=function(){this.i&&(this.Ab&&(this.Ab=!1,this.Sb=!0,this.i.abort(),this.Sb=!1),Ze(this,!0)),I.Hc.Ka.call(this)},I.prototype.Qf=function(){this.wa()||(this.Ee||this.Gd||this.Sb?$e(this):this.Dh())},I.prototype.Dh=function(){$e(this)};var $e=function(t){if(t.Ab&&"undefined"!=typeof aa)if(t.ie[1]&&4==bf(t)&&2==t.getStatus())Me(t.Pa,Ve(t,"Local request error detected and ignored"));else if(t.Gd&&4==bf(t))Ne(t.Qf,0,t);else if(t.dispatchEvent("readystatechange"),4==bf(t)){Me(t.Pa,Ve(t,"Request complete")),t.Ab=!1;try{var e,n=t.getStatus();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:e=!0;break t;default:e=!1}var i;if(!(i=e)){var r;if(r=0===n){var o=String(t.Hd).match(Pe)[1]||null;if(!o&&m.self&&m.self.location)var a=m.self.location.protocol,o=a.substr(0,a.length-1);r=!Te.test(o?o.toLowerCase():"")}i=r}if(i)t.dispatchEvent("complete"),t.dispatchEvent("success");else{var s;try{s=2<bf(t)?t.i.statusText:""}catch(c){Me(t.Pa,"Can not get status: "+c.message),s=""}t.Zc=s+" ["+t.getStatus()+"]",Ye(t)}}finally{Ze(t)}}};I.prototype.Pf=function(t,e){w("progress"===t.type,"goog.net.EventType.PROGRESS is of the same type as raw XHR progress."),this.dispatchEvent(cf(t,"progress")),this.dispatchEvent(cf(t,e?"downloadprogress":"uploadprogress"))};var cf=function(t,e){return{type:e,lengthComputable:t.lengthComputable,loaded:t.loaded,total:t.total}},Ze=function(t,e){if(t.i){We(t);var n=t.i,i=t.ie[0]?ca:null;t.i=null,t.ie=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=i}catch(r){(n=t.Pa)&&n.log(Fe,"Problem encountered resetting onreadystatechange: "+r.message,void 0)}}},We=function(t){t.i&&t.fe&&(t.i.ontimeout=null),ha(t.$d)&&(m.clearTimeout(t.$d),t.$d=null)},bf=function(t){return t.i?t.i.readyState:0};I.prototype.getStatus=function(){try{return 2<bf(this)?this.i.status:-1}catch(t){return-1}};var Ve=function(t,e){return e+" ["+t.Kf+" "+t.Hd+" "+t.getStatus()+"]"},df=function(t,e){this.Db=this.$b=this.Ib="",this.xc=null,this.Qb=this.Pd="",this.Fa=this.th=!1;var n;if(t instanceof df)this.Fa=ba(e)?e:t.Fa,ef(this,t.Ib),n=t.$b,ff(this),this.$b=n,gf(this,t.Db),hf(this,t.xc),this.setPath(t.getPath()),jf(this,t.Ya.clone()),n=t.Qb,ff(this),this.Qb=n;else if(t&&(n=String(t).match(Pe))){this.Fa=!!e,ef(this,n[1]||"",!0);var i=n[2]||"";ff(this),this.$b=kf(i),gf(this,n[3]||"",!0),hf(this,n[4]),this.setPath(n[5]||"",!0),jf(this,n[6]||"",!0),n=n[7]||"",ff(this),this.Qb=kf(n)}else this.Fa=!!e,this.Ya=new lf(null,0,this.Fa)};df.prototype.toString=function(){var t=[],e=this.Ib;e&&t.push(mf(e,nf,!0),":");var n=this.Db;return(n||"file"==e)&&(t.push("//"),(e=this.$b)&&t.push(mf(e,nf,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.xc,null!=n&&t.push(":",String(n))),(n=this.getPath())&&(this.Db&&"/"!=n.charAt(0)&&t.push("/"),t.push(mf(n,"/"==n.charAt(0)?of:pf,!0))),(n=this.Ya.toString())&&t.push("?",n),(n=this.Qb)&&t.push("#",mf(n,qf)),t.join("")},df.prototype.resolve=function(t){var e=this.clone(),n=!!t.Ib;if(n?ef(e,t.Ib):n=!!t.$b,n){var i=t.$b;ff(e),e.$b=i}else n=!!t.Db;if(n?gf(e,t.Db):n=null!=t.xc,i=t.getPath(),n)hf(e,t.xc);else if(n=!!t.Pd){if("/"!=i.charAt(0))if(this.Db&&!this.Pd)i="/"+i;else{var r=e.getPath().lastIndexOf("/");-1!=r&&(i=e.getPath().substr(0,r+1)+i)}if(r=i,".."==r||"."==r)i="";else if(v(r,"./")||v(r,"/.")){for(var i=0==r.lastIndexOf("/",0),r=r.split("/"),o=[],a=0;a<r.length;){var s=r[a++];"."==s?i&&a==r.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),i&&a==r.length&&o.push("")):(o.push(s),i=!0)}i=o.join("/")}else i=r}return n?e.setPath(i):n=""!==t.Ya.toString(),n?jf(e,kf(t.Ya.toString())):n=!!t.Qb,n&&(t=t.Qb,ff(e),e.Qb=t),e},df.prototype.clone=function(){return new df(this)};var ef=function(t,e,n){ff(t),t.Ib=n?kf(e,!0):e,t.Ib&&(t.Ib=t.Ib.replace(/:$/,""))},gf=function(t,e,n){ff(t),t.Db=n?kf(e,!0):e},hf=function(t,e){if(ff(t),e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.xc=e}else t.xc=null};df.prototype.getPath=function(){return this.Pd},df.prototype.setPath=function(t,e){return ff(this),this.Pd=e?kf(t,!0):t,this};var jf=function(t,e,n){ff(t),e instanceof lf?(t.Ya=e,t.Ya.We(t.Fa)):(n||(e=mf(e,rf)),t.Ya=new lf(e,0,t.Fa))},sf=function(t,e,n){ff(t),t.Ya.set(e,n)},ff=function(t){if(t.th)throw Error("Tried to modify a read-only Uri")};df.prototype.We=function(t){return this.Fa=t,this.Ya&&this.Ya.We(t),this};var tf=function(t,e){var n=new df(null,void 0);return ef(n,"https"),t&&gf(n,t),e&&n.setPath(e),n},kf=function(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""},mf=function(t,e,i){return n(t)?(t=encodeURI(t).replace(e,uf),i&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null},uf=function(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(15&t).toString(16)},nf=/[#\/\?@]/g,pf=/[\#\?:]/g,of=/[\#\?]/g,rf=/[\#\?@]/g,qf=/#/g,lf=function(t,e,n){this.S=this.V=null,this.Da=t||null,this.Fa=!!n},vf=function(t){t.V||(t.V=new oe,t.S=0,t.Da&&Qe(t.Da,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))},wf=function(t){var e=ue(t);if("undefined"==typeof e)throw Error("Keys are undefined");var n=new lf(null,0,void 0);t=te(t);for(var i=0;i<e.length;i++){var r=e[i],o=t[i];fa(o)?n.setValues(r,o):n.add(r,o)}return n};h=lf.prototype,h.Ma=function(){return vf(this),this.S},h.add=function(t,e){vf(this),this.Da=null,t=this.ka(t);var n=this.V.get(t);return n||this.V.set(t,n=[]),n.push(e),this.S=Ca(this.S)+1,this
},h.remove=function(t){return vf(this),t=this.ka(t),this.V.kc(t)?(this.Da=null,this.S=Ca(this.S)-this.V.get(t).length,this.V.remove(t)):!1},h.kc=function(t){return vf(this),t=this.ka(t),this.V.kc(t)},h.wd=function(t){var e=this.ua();return Na(e,t)},h.lb=function(){vf(this);for(var t=this.V.ua(),e=this.V.lb(),n=[],i=0;i<e.length;i++)for(var r=t[i],o=0;o<r.length;o++)n.push(e[i]);return n},h.ua=function(t){vf(this);var e=[];if(n(t))this.kc(t)&&(e=Ra(e,this.V.get(this.ka(t))));else{t=this.V.ua();for(var i=0;i<t.length;i++)e=Ra(e,t[i])}return e},h.set=function(t,e){return vf(this),this.Da=null,t=this.ka(t),this.kc(t)&&(this.S=Ca(this.S)-this.V.get(t).length),this.V.set(t,[e]),this.S=Ca(this.S)+1,this},h.get=function(t,e){var n=t?this.ua(t):[];return 0<n.length?String(n[0]):e},h.setValues=function(t,e){this.remove(t),0<e.length&&(this.Da=null,this.V.set(this.ka(t),Ta(e)),this.S=Ca(this.S)+e.length)},h.toString=function(){if(this.Da)return this.Da;if(!this.V)return"";for(var t=[],e=this.V.lb(),n=0;n<e.length;n++)for(var i=e[n],r=encodeURIComponent(String(i)),i=this.ua(i),o=0;o<i.length;o++){var a=r;""!==i[o]&&(a+="="+encodeURIComponent(String(i[o]))),t.push(a)}return this.Da=t.join("&")},h.clone=function(){var t=new lf;return t.Da=this.Da,this.V&&(t.V=this.V.clone(),t.S=this.S),t},h.ka=function(t){return t=String(t),this.Fa&&(t=t.toLowerCase()),t},h.We=function(t){t&&!this.Fa&&(vf(this),this.Da=null,this.V.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(this.remove(e),this.setValues(n,t))},this)),this.Fa=t};var xf=function(t,e){var n,i=[];for(n in t)n in e?typeof t[n]!=typeof e[n]?i.push(n):fa(t[n])?$a(t[n],e[n])||i.push(n):"object"==typeof t[n]&&null!=t[n]&&null!=e[n]?0<xf(t[n],e[n]).length&&i.push(n):t[n]!==e[n]&&i.push(n):i.push(n);for(n in e)n in t||i.push(n);return i},yf=function(t,e){var n=null,i=Math.floor(1e9*Math.random()).toString(),r=t||500,o=e||600,a=(window.screen.availHeight-o)/2,s=(window.screen.availWidth-r)/2,r={width:r,height:o,top:a>0?a:0,left:s>0?s:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1};i&&(r.target=i),navigator.userAgent&&-1!=navigator.userAgent.indexOf("Firefox/")&&(n=n||"http://localhost");var c,o=n||"about:blank";(i=r)||(i={}),n=window,r=o instanceof Eb?o:Ib("undefined"!=typeof o.href?o.href:String(o)),o=i.target||o.target,a=[];for(c in i)switch(c){case"width":case"height":case"top":case"left":a.push(c+"="+i[c]);break;case"target":case"noreferrer":break;default:a.push(c+"="+(i[c]?1:0))}if(c=a.join(","),(x("iPhone")&&!x("iPod")&&!x("iPad")||x("iPad")||x("iPod"))&&n.navigator&&n.navigator.standalone&&o&&"_self"!=o?(c=n.document.createElement("A"),r=r instanceof Eb?r:Ib(r),c.href=Fb(r),c.setAttribute("target",o),i.noreferrer&&c.setAttribute("rel","noreferrer"),i=document.createEvent("MouseEvent"),i.initMouseEvent("click",!0,!0,n,1),c.dispatchEvent(i),c={}):i.noreferrer?(c=n.open("",o,c),i=Fb(r),c&&(ib&&v(i,";")&&(i="'"+i.replace(/'/g,"%27")+"'"),c.opener=null,n=new Bb,n.Zd="b/12014412, meta tag with sanitized URL",xa.test(i)&&(-1!=i.indexOf("&")&&(i=i.replace(ra,"&amp;")),-1!=i.indexOf("<")&&(i=i.replace(sa,"&lt;")),-1!=i.indexOf(">")&&(i=i.replace(ta,"&gt;")),-1!=i.indexOf('"')&&(i=i.replace(ua,"&quot;")),-1!=i.indexOf("'")&&(i=i.replace(va,"&#39;")),-1!=i.indexOf("\x00")&&(i=i.replace(wa,"&#0;"))),i='<META HTTP-EQUIV="refresh" content="0; url='+i+'">',Da(Cb(n),"must provide justification"),w(!/^[\s\xa0]*$/.test(Cb(n)),"must provide non-empty justification"),c.document.write(Lb((new Kb).sh(i))),c.document.close())):c=n.open(Fb(r),o,c),c)try{c.focus()}catch(u){}return c},zf=function(t){return new C(function(e){var n=function(){Oe(2e3).then(function(){return t&&!t.closed?n():void e()})};return n()})},Af=function(){var t=null;return new C(function(e){"complete"==m.document.readyState?e():(t=function(){e()},kc(window,"load",t))}).Ha(function(e){throw lc(window,"load",t),e})},Bf=function(){var t=navigator.userAgent,e=t.toLowerCase();return v(e,"opera/")||v(e,"opr/")||v(e,"opios/")?"Opera":v(e,"msie")||v(e,"trident/")?"IE":v(e,"edge/")?"Edge":v(e,"firefox/")?"Firefox":v(e,"silk/")?"Silk":v(e,"safari/")&&!v(e,"chrome/")?"Safari":!v(e,"chrome/")&&!v(e,"crios/")||v(e,"edge/")?(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":"Chrome"},Cf=function(t){return Bf()+"/JsCore/"+t},Df;try{var Ef={};Object.defineProperty(Ef,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Ef,"abcd",{configurable:!0,enumerable:!0,value:2}),Df=2==Ef.abcd}catch(a){Df=!1}var J=function(t,e,n){Df?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n},Ff=function(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&J(t,n,e[n])},Gf=function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n},Hf=function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var i=t[e[n]];if(void 0===i||null===i||""===i)return!1}return!0},If={sg:{kd:985,jd:735,providerId:"facebook.com"},ug:{kd:1040,jd:620,providerId:"github.com"},vg:{kd:485,jd:640,providerId:"google.com"},zg:{kd:485,jd:705,providerId:"twitter.com"}},Jf=function(t){for(var e in If)if(If[e].providerId==t)return If[e];return null},K=function(t,e){this.code="auth/"+t,this.message=e||Kf[t]||""};t(K,Error),K.prototype.Ra=function(){return{name:this.code,code:this.code,message:this.message}};var Kf={"argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-user-token":"The user's credential is no longer valid. The user must sign in again.","invalid-auth-event":"An internal error has occurred.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","missing-iframe-start":"An internal error has occurred.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","operation-not-allowed":"This operation is not allowed. You must enable this service in the console.","popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported."},Lf=function(t){this.wh=t.sub,oa(),this.xd=t.email||null},Mf=function(t,e,i,r){var o={};if(ia(i)?o=i:e&&n(i)&&n(r)?o={oauthToken:i,oauthTokenSecret:r}:!e&&n(i)&&(o={accessToken:i}),e||!o.idToken&&!o.accessToken){if(!(e&&o.oauthToken&&o.oauthTokenSecret)){if(e)throw new K("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");throw new K("argument-error","credential failed: expected 1 argument (the OAuth access token).")}J(this,"accessToken",o.oauthToken),J(this,"secret",o.oauthTokenSecret)}else o.idToken&&J(this,"idToken",o.idToken),o.accessToken&&J(this,"accessToken",o.accessToken);J(this,"provider",t)};Mf.prototype.Bd=function(t){return Nf(t,Of(this))},Mf.prototype.Lf=function(t,e){var n=Of(this);return n.idToken=e,L(t,Pf,n)};var Of=function(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.provider,{postBody:wf(e).toString(),requestUri:window.location.href}};Mf.prototype.Ra=function(){var t={provider:this.provider};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),t};var Qf=function(t,e){var n=!!e,i=function(){Ff(this,{providerId:t,isOAuthProvider:!0}),this.Te=[]};return n||(i.prototype.addScope=function(t){Na(this.Te,t)||this.Te.push(t)}),i.prototype.yf=function(){return Ta(this.Te)},i.credential=function(e,i){return new Mf(t,n,e,i)},Ff(i,{PROVIDER_ID:t}),i},Rf=Qf("facebook.com");Rf.prototype.addScope=Rf.prototype.addScope||void 0;var Sf=Qf("github.com");Sf.prototype.addScope=Sf.prototype.addScope||void 0;var Tf=Qf("google.com");Tf.prototype.addScope=Tf.prototype.addScope||void 0,Tf.credential=function(t,e){if(!t&&!e)throw new K("argument-error","credential failed: must provide the ID token and/or the access token.");return new Mf("google.com",!1,ia(t)?t:{idToken:t||null,accessToken:e||null})};var Uf=Qf("twitter.com",!0),Vf=function(t,e){this.xd=t,this.Je=e,J(this,"provider","password")};Vf.prototype.Bd=function(t){return L(t,Wf,{email:this.xd,password:this.Je})},Vf.prototype.Lf=function(t,e){return L(t,Xf,{idToken:e,email:this.xd,password:this.Je})},Vf.prototype.Ra=function(){return{email:this.xd,password:this.Je}};var Yf=function(){Ff(this,{providerId:"password",isOAuthProvider:!1})};Ff(Yf,{PROVIDER_ID:"password"});var Zf={li:Yf,sg:Rf,vg:Tf,ug:Sf,zg:Uf},$f=function(t){var e=t&&t.providerId;if(!e)return null;var n=t&&t.oauthAccessToken,i=t&&t.oauthTokenSecret;t=t&&t.oauthIdToken;for(var r in Zf)if(Zf[r].PROVIDER_ID==e)try{return Zf[r].credential({accessToken:n,idToken:t,oauthToken:n,oauthTokenSecret:i})}catch(o){break}return null},ag=function(t,e,n){K.call(this,"account-exists-with-different-credential",n),J(this,"email",t),J(this,"credential",e)};t(ag,K),ag.prototype.Ra=function(){var t={code:this.code,message:this.message,email:this.email},e=this.credential&&this.credential.Ra();return e&&(cb(t,e),t.providerId=e.provider,delete t.provider),t};var bg=function(t,e,n,i,r){if(this.Kb=t,this.Pb=e||null,this.Kc=n||null,this.Ue=i||null,this.ta=r||null,!this.Kc&&!this.ta)throw new K("invalid-auth-event");if(this.Kc&&this.ta)throw new K("invalid-auth-event");if(this.Kc&&!this.Ue)throw new K("invalid-auth-event")};bg.prototype.ye=function(){return this.Ue},bg.prototype.getError=function(){return this.ta},bg.prototype.Ra=function(){return{type:this.Kb,eventId:this.Pb,urlResponse:this.Kc,sessionId:this.Ue,error:this.ta&&this.ta.Ra()}};var M=function(t,e,n){this.ma=t,t=e||{},this.Th=t.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.Vh=t.secureTokenTimeout||1e4,this.Uh=ab(t.secureTokenHeaders||cg),this.Ug=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.Vg=t.firebaseTimeout||1e4,this.wf=ab(t.firebaseHeaders||dg),n&&(this.wf["X-Client-Version"]=n),this.Jg=new Dc},eg,cg={"Content-Type":"application/x-www-form-urlencoded"},dg={"Content-Type":"application/json"},gg=function(t,e,n,i,o,a,s){!y||!ub||ub>9?t=r(t.Xh,t):(eg||(eg=new C(function(t,e){fg(t,e)})),t=r(t.Wh,t)),t(e,n,i,o,a,s)};M.prototype.Xh=function(t,e,n,i,r,o){var a,s=new I(this.Jg);o&&(s.Ic=Math.max(0,o),a=setTimeout(function(){s.dispatchEvent("timeout")},o)),s.Va("complete",function(){a&&clearTimeout(a);var t=null;try{var n;n=this.i?sc(this.i.responseText):void 0,t=n||null}catch(i){t=null}e&&e(t)}),s.Id("ready",function(){a&&clearTimeout(a),this.Sa()}),s.Id("timeout",function(){a&&clearTimeout(a),this.Sa(),e&&e(null)}),s.send(t,n,i,r)};var de="__fcb"+Math.floor(1e6*Math.random()).toString(),fg=function(t,e){((window.gapi||{}).client||{}).request?t():(m[de]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))},$d(function(){e(Error("CORS_UNSUPPORTED"))}))};M.prototype.Wh=function(t,e,n,i,r){var o=this;eg.then(function(){window.gapi.client.setApiKey(o.ma);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:i,headers:r,authType:"none",callback:function(t){window.gapi.auth.setToken(a),e&&e(t)}})}).Ha(function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})})};var hg=function(t,e){return new C(function(n,i){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?gg(t,t.Th+"?key="+encodeURIComponent(t.ma),function(t){t?t.access_token&&t.refresh_token?n(t):i(new K("internal-error")):i(new K("network-request-failed"))},"POST",wf(e).toString(),t.Uh,t.Vh):i(new K("internal-error"))})},ig=function(t){var e,n={};for(e in t)null!==t[e]&&void 0!==t[e]&&(n[e]=t[e]);return vc(n)},kg=function(t,e,n,i,r){var o=t.Ug+e+"?key="+encodeURIComponent(t.ma);return r&&(o+="&cb="+oa().toString()),new C(function(e,r){gg(t,o,function(t){t?t.error?r(jg(t)):e(t):r(new K("network-request-failed"))},n,ig(i),t.wf,t.Vg)})},lg=function(t){if(!qc.test(t.email))throw new K("invalid-email")},mg=function(t){"email"in t&&lg(t)},og=function(t,e){return L(t,ng,{identifier:e,continueUri:window.location.href}).then(function(t){return t.allProviders||[]})},qg=function(t){return L(t,pg,{}).then(function(t){return t.authorizedDomains||[]})},rg=function(t){if(!t.idToken)throw new K("internal-error")};M.prototype.signInAnonymously=function(){return L(this,sg,{})},M.prototype.updateEmail=function(t,e){return L(this,tg,{idToken:t,email:e})},M.prototype.updatePassword=function(t,e){return L(this,Xf,{idToken:t,password:e})};var ug={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};M.prototype.updateProfile=function(t,e){var n={idToken:t},i=[];return Va(ug,function(t,r){var o=e[r];null===o?i.push(t):r in e&&(n[r]=o)}),i.length&&(n.deleteAttribute=i),L(this,tg,n)},M.prototype.sendPasswordResetEmail=function(t){return L(this,vg,{requestType:"PASSWORD_RESET",email:t})},M.prototype.sendEmailVerification=function(t){return L(this,wg,{requestType:"VERIFY_EMAIL",idToken:t})};var yg=function(t,e,n){return L(t,xg,{idToken:e,deleteProvider:n})},zg=function(t){if(!t.requestUri||!t.sessionId&&!t.postBody)throw new K("internal-error")},Ag=function(t){if(t.needConfirmation)throw(t&&t.email?new ag(t.email,$f(t),t.message):null)||new K("account-exists-with-different-credential");if(!t.idToken)throw new K("internal-error")},Nf=function(t,e){return L(t,Bg,e)},Cg=function(t){if(!t.oobCode)throw new K("invalid-action-code")};M.prototype.confirmPasswordReset=function(t,e){return L(this,Dg,{oobCode:t,newPassword:e})},M.prototype.checkActionCode=function(t){return L(this,Eg,{oobCode:t})},M.prototype.applyActionCode=function(t){return L(this,Fg,{oobCode:t})};var Fg={endpoint:"setAccountInfo",ya:Cg,Ec:"email"},Eg={endpoint:"resetPassword",ya:Cg,Gb:function(t){if(!qc.test(t.email))throw new K("internal-error")}},Gg={endpoint:"signupNewUser",ya:function(t){if(lg(t),!t.password)throw new K("weak-password")},Gb:rg,Hb:!0},ng={endpoint:"createAuthUri"},Hg={endpoint:"deleteAccount",Dc:["idToken"]},xg={endpoint:"setAccountInfo",Dc:["idToken","deleteProvider"],ya:function(t){if(!fa(t.deleteProvider))throw new K("internal-error")}},Ig={endpoint:"getAccountInfo"},wg={endpoint:"getOobConfirmationCode",Dc:["idToken","requestType"],ya:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new K("internal-error")},Ec:"email"},vg={endpoint:"getOobConfirmationCode",Dc:["requestType"],ya:function(t){if("PASSWORD_RESET"!=t.requestType)throw new K("internal-error");lg(t)},Ec:"email"},pg={Dg:!0,endpoint:"getProjectConfig",lh:"GET"},Dg={endpoint:"resetPassword",ya:Cg,Ec:"email"},tg={endpoint:"setAccountInfo",Dc:["idToken"],ya:mg,Hb:!0},Xf={endpoint:"setAccountInfo",Dc:["idToken"],ya:function(t){if(mg(t),!t.password)throw new K("weak-password")},Gb:rg,Hb:!0},sg={endpoint:"signupNewUser",Gb:rg,Hb:!0},Bg={endpoint:"verifyAssertion",ya:zg,Gb:Ag,Hb:!0},Pf={endpoint:"verifyAssertion",ya:function(t){if(zg(t),!t.idToken)throw new K("internal-error")},Gb:Ag,Hb:!0},Jg={endpoint:"verifyCustomToken",ya:function(t){if(!t.token)throw new K("invalid-custom-token")},Gb:rg,Hb:!0},Wf={endpoint:"verifyPassword",ya:function(t){if(lg(t),!t.password)throw new K("wrong-password")},Gb:rg,Hb:!0},L=function(t,e,n){if(!Hf(n,e.Dc))return Bd(new K("internal-error"));var i,r=e.lh||"POST";return D(n).then(e.ya).then(function(){return e.Hb&&(n.returnSecureToken=!0),kg(t,e.endpoint,r,n,e.Dg||!1)}).then(function(t){return i=t}).then(e.Gb).then(function(){if(!e.Ec)return i;if(!(e.Ec in i))throw new K("internal-error");return i[e.Ec]})},jg=function(t){var e;e=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"";var n={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(e=n[e]?new K(n[e]):null)return e;if(t=t.error&&t.error.message||"",e={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",EMAIL_NOT_FOUND:"user-not-found",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported"},e[t])return new K(e[t]);e={TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed"};for(var i in e)if(0===t.indexOf(i))return new K(e[i]);return new K("internal-error")},Kg=function(t,e){return e},N=function(t,e){var n=e=Kg(t,e),i=t.split("."),r=m;i[0]in r||!r.execScript||r.execScript("var "+i[0]);for(var o;i.length&&(o=i.shift());)!i.length&&ba(n)?r[o]=n:r=r[o]?r[o]:r[o]={}};window.osapi=window.osapi||{},window.___jsl=window.___jsl||{},(window.___jsl.cd=window.___jsl.cd||[]).push({gwidget:{parsetags:"explicit"},appsapi:{plus_one_service:"/plus/v1"},client:{rms:"migrated"},csi:{rate:.01},poshare:{hangoutContactPickerServer:"https://plus.google.com"},gappsutil:{required_scopes:["https://www.googleapis.com/auth/plus.me","https://www.googleapis.com/auth/plus.people.recommended"],display_on_page_ready:!1},appsutil:{required_scopes:["https://www.googleapis.com/auth/plus.me","https://www.googleapis.com/auth/plus.people.recommended"],display_on_page_ready:!1},"oauth-flow":{authUrl:"https://accounts.google.com/o/oauth2/auth",proxyUrl:"https://accounts.google.com/o/oauth2/postmessageRelay",redirectUri:"postmessage"},iframes:{sharebox:{params:{json:"&"},url:":socialhost:/:session_prefix:_/sharebox/dialog"},plus:{url:":socialhost:/:session_prefix:_/widget/render/badge?usegapi=1"},":socialhost:":"https://apis.google.com",":im_socialhost:":"https://plus.googleapis.com",domains_suggest:{url:"https://domains.google.com/suggest/flow"},card:{params:{s:"#",userid:"&"},url:":socialhost:/:session_prefix:_/hovercard/internalcard"},":signuphost:":"https://plus.google.com",":gplus_url:":"https://plus.google.com",plusone:{url:":socialhost:/:session_prefix:_/+1/fastbutton?usegapi=1"},plus_share:{url:":socialhost:/:session_prefix:_/+1/sharebutton?plusShare=true&usegapi=1"},plus_circle:{url:":socialhost:/:session_prefix:_/widget/plus/circle?usegapi=1"},plus_followers:{url:":socialhost:/_/im/_/widget/render/plus/followers?usegapi=1"},configurator:{url:":socialhost:/:session_prefix:_/plusbuttonconfigurator?usegapi=1"},appcirclepicker:{url:":socialhost:/:session_prefix:_/widget/render/appcirclepicker"},page:{url:":socialhost:/:session_prefix:_/widget/render/page?usegapi=1"},person:{url:":socialhost:/:session_prefix:_/widget/render/person?usegapi=1"},community:{url:":ctx_socialhost:/:session_prefix::im_prefix:_/widget/render/community?usegapi=1"},follow:{url:":socialhost:/:session_prefix:_/widget/render/follow?usegapi=1"},commentcount:{url:":socialhost:/:session_prefix:_/widget/render/commentcount?usegapi=1"},comments:{url:":socialhost:/:session_prefix:_/widget/render/comments?usegapi=1"},blogger:{url:":socialhost:/:session_prefix:_/widget/render/blogger?usegapi=1"},youtube:{url:":socialhost:/:session_prefix:_/widget/render/youtube?usegapi=1"},reportabuse:{url:":socialhost:/:session_prefix:_/widget/render/reportabuse?usegapi=1"},additnow:{url:":socialhost:/additnow/additnow.html"},udc_webconsentflow:{url:"https://myaccount.google.com/webconsent?usegapi=1"},":source:":"1p"},poclient:{update_session:"google.updateSessionCallback"},"googleapis.config":{methods:{"pos.plusones.list":!0,"pos.plusones.get":!0,"pos.plusones.insert":!0,"pos.plusones.delete":!0,"pos.plusones.getSignupState":!0},requestCache:{enabled:!0},versions:{pos:"v1"},rpc:"/rpc",root:"https://content.googleapis.com","root-1p":"https://clients6.google.com",sessionCache:{enabled:!0},transport:{isProxyShared:!0},xd3:"/static/proxy.html",developerKey:"AIzaSyCKSbrvQasunBoV16zDH9R33D88CeLr9gQ",auth:{useInterimAuth:!1}},report:{apis:["iframes\\..*","gadgets\\..*","gapi\\.appcirclepicker\\..*","gapi\\.client\\..*"],rate:1e-4}});var O=window,Lg=document,Mg=/\[native code\]/,Ng=function(t,e,n){return t[e]=t[e]||n},Og=function(t){return!!t&&"object"==typeof t&&Mg.test(t.push)},Pg=function(t){for(var e=0;e<this.length;e++)if(this[e]===t)return e;return-1},Qg=function(t){t=t.sort();for(var e=[],n=void 0,i=0;i<t.length;i++){var r=t[i];r!=n&&e.push(r),n=r}return e},Rg=function(t,e){if(t)if(Og(t)){if(t){P(Og(t),"arrayForEach was called with a non array value");for(var n=0;n<t.length;n++)e.call(void 0,t[n],n)}}else for(n in P("object"==typeof t,"objectForEach was called with a non object value"),t)Q(t,n)&&void 0!==t[n]&&e.call(t,t[n],n)},Sg=/&/g,Tg=/</g,Ug=/>/g,Vg=/"/g,Wg=/'/g,Xg=function(t){return String(t).replace(Sg,"&amp;").replace(Tg,"&lt;").replace(Ug,"&gt;").replace(Vg,"&quot;").replace(Wg,"&#39;")},R=function(){var t;if((t=Object.create)&&Mg.test(t))t=t(null);else{t={};for(var e in t)t[e]=void 0}return t},Q=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},Yg=function(t,e){t=t||{};for(var n in t)Q(t,n)&&(e[n]=t[n])},P=function(t,e){if(!t)throw Error(e||"")},Zg=Ng(O,"gapi",{}),$g=function(t,e,n){var i=new RegExp("([#].*&|[#])"+e+"=([^&#]*)","g");if(e=new RegExp("([?#].*&|[?#])"+e+"=([^&#]*)","g"),t=t&&(i.exec(t)||e.exec(t)))try{n=decodeURIComponent(t[2])}catch(r){}return n},ah=/^([^?#]*)(\?([^#]*))?(\#(.*))?$/,bh=function(t){t=t.match(ah);var e=R();return e.jf=t[1],e.query=t[3]?[t[3]]:[],e.zd=t[5]?[t[5]]:[],e},ch=function(t){return t.jf+(0<t.query.length?"?"+t.query.join("&"):"")+(0<t.zd.length?"#"+t.zd.join("&"):"")},dh=function(t,e){var n=[];if(t)for(var i in t)if(Q(t,i)&&null!=t[i]){var r=e?e(t[i]):t[i];n.push(encodeURIComponent(i)+"="+encodeURIComponent(r))}return n},eh=/^https?:\/\/[^\/%\\?#\s]+\/[^\s]*$/i,fh=function(t,e,n,i,r){t[i+"EventListener"]?t[i+"EventListener"](e,n,!1):t[r+"tachEvent"]&&t[r+"tachEvent"]("on"+e,n)},gh=function(t){for(;t.firstChild;)t.removeChild(t.firstChild)},hh;hh=Ng(O,"___jsl",R()),Ng(hh,"I",0),Ng(hh,"hel",10);var ih=function(){var t=[],e=hh.H;return e&&Rg(e,function(e){t.push.apply(t,e.L)}),Qg(t)},jh=function(t){var e=window.___jsl=window.___jsl||{};return e[t]=e[t]||[],e[t]},kh=function(t){var e=window.___jsl=window.___jsl||{};return e.cfg=!t&&e.cfg||{},e.cfg},lh=function(t){return"object"==typeof t&&/\[native code\]/.test(t.push)},mh=function(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&(t[n]&&e[n]&&"object"==typeof t[n]&&"object"==typeof e[n]&&!lh(t[n])&&!lh(e[n])?mh(t[n],e[n]):e[n]&&"object"==typeof e[n]?(t[n]=lh(e[n])?[]:{},mh(t[n],e[n])):t[n]=e[n])},nh=function(t){if(t&&!/^\s+$/.test(t)){for(;0==t.charCodeAt(t.length-1);)t=t.substring(0,t.length-1);var e;try{e=window.JSON.parse(t)}catch(n){}if("object"==typeof e)return e;try{e=new Function("return ("+t+"\n)")()}catch(n){}if("object"==typeof e)return e;try{e=new Function("return ({"+t+"\n})")()}catch(n){}return"object"==typeof e?e:{}}},oh=function(t){kh(!0);var e=window.___gcfg,n=jh("cu");if(e&&e!==window.___gu){var i={};mh(i,e),n.push(i),window.___gu=e}var e=jh("cu"),r=document.scripts||document.getElementsByTagName("script")||[],i=[],o=[];o.push.apply(o,jh("us"));for(var a=0;a<r.length;++a)for(var s=r[a],c=0;c<o.length;++c)s.src&&0==s.src.indexOf(o[c])&&i.push(s);for(0==i.length&&0<r.length&&r[r.length-1].src&&i.push(r[r.length-1]),r=0;r<i.length;++r)i[r].getAttribute("gapi_processed")||(i[r].setAttribute("gapi_processed",!0),(o=i[r])?(a=o.nodeType,o=3==a||4==a?o.nodeValue:o.textContent||o.innerText||o.innerHTML||""):o=void 0,(o=nh(o))&&e.push(o));for(t&&(i={},mh(i,t),n.push(i)),i=jh("cd"),t=0,e=i.length;e>t;++t)mh(kh(),i[t]);for(i=jh("ci"),t=0,e=i.length;e>t;++t)mh(kh(),i[t]);for(t=0,e=n.length;e>t;++t)mh(kh(),n[t])},ph=function(t,e){if(!t)return kh();for(var n=t.split("/"),i=kh(),r=0,o=n.length;i&&"object"==typeof i&&o>r;++r)i=i[n[r]];return r===n.length&&void 0!==i?i:e},qh=function(){var t=window.__GOOGLEAPIS;t&&(t.googleapis&&!t["googleapis.config"]&&(t["googleapis.config"]=t.googleapis),Ng(hh,"ci",[]).push(t),window.__GOOGLEAPIS=void 0)};qh&&qh(),oh();var rh=function(t){this.b=t};rh.prototype.value=function(){return this.b},rh.prototype.xf=function(){return this.b.height},rh.prototype.Xe=function(t){return this.b.style=t,this},rh.prototype.Cd=function(){return this.b.style};var sh=function(t,e){t.b.onload=e},th=function(t){this.b=t||{}};h=th.prototype,h.value=function(){return this.b},h.setUrl=function(t){return this.b.url=t,this},h.getUrl=function(){return this.b.url},h.Xe=function(t){return this.b.style=t,this},h.Cd=function(){return this.b.style},h.qc=function(){return this.b.id},h.Zb=function(t){return this.b.rpctoken=t,this},h.tc=function(){return this.b.rpctoken};var uh=function(t,e){return t.b.messageHandlers=e,t},vh=function(t,e){return t.b.messageHandlersFilter=e,t};th.prototype.md=function(t){return this.b.apis=t,this},th.prototype.Pc=function(){return this.b.apis};var wh=function(t,e){t.b.onClose=e};th.prototype.getContext=function(){return this.b.context};var xh=function(t){return t.b.attributes=t.b.attributes||{},new rh(t.b.attributes)},yh=function(t){return(t=t.b.timeout)?t:null},T=function(t){this.b=t||{}};T.prototype.value=function(){return this.b},T.prototype.getIframe=function(){return this.b.iframe};var zh=function(t,e){return t.b.role=e,t},Ah=function(t,e){return t.b.data=e,t};T.prototype.vb=function(t){return this.b.setRpcReady=t,this},T.prototype.Tc=function(){return this.b.setRpcReady},T.prototype.Zb=function(t){return this.b.rpctoken=t,this},T.prototype.tc=function(){return this.b.rpctoken};var Bh=function(t){return t.b.selfConnect=!0,t},Ch=function(t){this.b=t||{}};Ch.prototype.value=function(){return this.b};var Dh=function(t){var e=new Ch;return e.b.role=t,e},Eh=function(t,e){return t.b.handler=e,t},Fh=function(t,e){return t.b.filter=e,t};Ch.prototype.md=function(t){return this.b.apis=t,this},Ch.prototype.Pc=function(){return this.b.apis};var Gh=function(t){return t.b.runOnce=!0,t};N("gapi.config.get",ph),N("gapi.config.update",function(t,e){var n=t;if("string"==typeof t){for(var i=n={},r=t.split("/"),o=0,a=r.length;a-1>o;++o)var s={},i=i[r[o]]=s;i[r[o]]=e}oh(n)});var Hh={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},Ih=function(t){var e,n,i;if(e=/[\"\\\x00-\x1f\x7f-\x9f]/g,void 0!==t){switch(typeof t){case"string":return e.test(t)?'"'+t.replace(e,function(t){var e=Hh[t];return e?e:(e=t.charCodeAt(),"\\u00"+Math.floor(e/16).toString(16)+(e%16).toString(16))})+'"':'"'+t+'"';case"number":return isFinite(t)?String(t):"null";case"boolean":case"null":return String(t);case"object":if(!t)return"null";if(e=[],"number"==typeof t.length&&!t.propertyIsEnumerable("length")){for(i=t.length,n=0;i>n;n+=1)e.push(Ih(t[n])||"null");return"["+e.join(",")+"]"}for(n in t)!/___$/.test(n)&&Q(t,n)&&"string"==typeof n&&(i=Ih(t[n]))&&e.push(Ih(n)+":"+i);return"{"+e.join(",")+"}"}return""}},Jh=function(a){if(!a)return!1;if(/^[\],:{}\s]*$/.test(a.replace(/\\["\\\/b-u]/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))try{return eval("("+a+")")}catch(b){}return!1},Kh=!1;try{Kh=!!window.JSON&&'["a"]'===window.JSON.stringify(["a"])&&"a"===window.JSON.parse('["a"]')[0]}catch(a){}var Lh=function(t){try{return window.JSON.parse(t)}catch(e){return!1}},Mh=Kh?window.JSON.stringify:Ih,Nh=Kh?Lh:Jh,Oh,Ph,Qh,Rh,Sh,Th={},Vh=0,Wh=R(),Xh=R(),Yh=function(t){return"number"==typeof t&&t>Math.random()},Zh=function(t){if("undefined"==typeof Oh){var e=ph("report")||{},n=e.rate;Rh=e.timeout||1e3,Ph=e.host||"https://plus.google.com",Qh=e.path||"/_/widget/report",Oh=[],Yh(n)&&(Oh=e.apis||[]);var i,e=e.apiRate||{};for(i in e)Yh(e[i])&&Oh.push(i)}for(i=0;i<Oh.length;++i)if(new RegExp("^"+Oh[i]+"$").test(t))return!0;return!1},$h=function(t){delete Th[t]},ai=function(){Sh&&(O.clearTimeout(Sh),Sh=0),Sh=O.setTimeout(function(){var t;t=document.location,t=t.protocol+"//"+t.host+t.pathname;var e,n=Xh;if(Mg.test(Object.keys))e=Object.keys(n);else{var i=[];for(e in n)Q(n,e)&&i.push(e);e=i}t=[Ph,Qh,"?api=",encodeURIComponent(e.join(":")),"&url=",encodeURIComponent(t),"&loaded=",encodeURIComponent(ih().join(":"))].join(""),Xh=R(),e=new Image,n=Vh++,Th[n]=e,e.onload=e.onerror=na($h,n),e.src=t,Sh=0},Rh)},bi=Kg,Kg=function(t,e){var n=bi(t,e);return"function"==typeof e&&Zh(t)&&(n=function(){return Wh[t]||(Xh[t]=!0,Wh[t]=!0,ai()),e.apply(this,arguments)}),n};N("gadgets.json.stringify",Mh),N("gadgets.json.parse",Nh);var ci=function(t){if(!t)return"";t=t.split("#")[0].split("?")[0],t=t.toLowerCase(),0==t.indexOf("//")&&(t=window.location.protocol+t),/^[\w\-]*:\/\//.test(t)||(t=window.location.href);var e=t.substring(t.indexOf("://")+3),n=e.indexOf("/");if(-1!=n&&(e=e.substring(0,n)),t=t.substring(0,t.indexOf("://")),"http"!==t&&"https"!==t&&"chrome-extension"!==t&&"file"!==t)throw Error("Invalid URI scheme in origin");
var n="",i=e.indexOf(":");if(-1!=i){var r=e.substring(i+1),e=e.substring(0,i);("http"===t&&"80"!==r||"https"===t&&"443"!==r)&&(n=":"+r)}return t+"://"+e+n},di=window.console;$g(O.location.href,"rpctoken")&&fh(Lg,"unload",function(){},"add","at");var ei=ei||{};ei=ei||{},function(){var t=null;ei.Ae=function(e){var n="undefined"==typeof e;if(null!==t&&n)return t;var i={};e=e||window.location.href;var r=e.indexOf("?"),o=e.indexOf("#");e=(-1===o?e.substr(r+1):[e.substr(r+1,o-r-1),"&",e.substr(o+1)].join("")).split("&");for(var r=window.decodeURIComponent?decodeURIComponent:unescape,o=0,a=e.length;a>o;++o){var s=e[o].indexOf("=");if(-1!==s){var c=e[o].substring(0,s),s=e[o].substring(s+1),s=s.replace(/\+/g," ");try{i[c]=r(s)}catch(u){}}}return n&&(t=i),i},ei.Ae()}(),N("gadgets.util.getUrlParameters",ei.Ae);var gi=function(t){if(this.sd=t,this.Ba=O,this.Le=this.Ng,this.Wg=/MSIE\s*[0-8](\D|$)/.test(window.navigator.userAgent),this.sd.bg){this.Ba=this.sd.Bf(this.Ba,this.sd.bg),t=this.Ba.document;var e=t.createElement("script");e.setAttribute("type","text/javascript"),e.text="window.doPostMsg=function(w,s,o) {window.setTimeout(function(){w.postMessage(s,o);},0);};",t.body.appendChild(e),this.Le=this.Ba.doPostMsg}if(this.Ze={},this.df={},t=r(this.eh,this),fh(this.Ba,"message",t,"add","at"),Ng(hh,"RPMQ",[]).push(t),this.Ba!=this.Ba.parent){t=this.Ba.parent;var e="{h:'"+escape(this.Ba.name)+"'}",n=fi(e)?"":"!_";this.Le(t,n+e,"*")}},hi=function(t){var e=null;return 0===t.indexOf("{h:'")&&t.indexOf("'}")===t.length-2&&(e=unescape(t.substring(4,t.length-2))),e},fi=function(t){return/^\s*{/.test(t)?(t=Nh(t),null!==t&&"object"==typeof t&&!!t.g):!1};gi.prototype.eh=function(t){var e=String(t.data),n=0!==e.indexOf("!_");n||(e=e.substring(2));var i=fi(e);if(!n&&!i){if(!i&&(n=hi(e)))return void(this.Ze[n]?this.Ze[n]():this.df[n]=1);var r=t.origin,o=this.sd.Og;this.Wg?O.setTimeout(function(){o(e,r)},0):o(e,r)}},gi.prototype.lg=function(t,e){".."===t||this.df[t]?(e(),delete this.df[t]):this.Ze[t]=e},gi.prototype.Ng=function(t,e,n){t.postMessage(e,n)},gi.prototype.send=function(t,e,n){if((t=this.sd.Bf(this.Ba,t))&&!t.closed){var i=fi(e)?"":"!_";this.Le(t,i+e,n)}};var ii=0,ji=[],ki={},li={},mi=ei.Ae,ni=mi(),oi=ni.rpctoken,pi=ni.parent||Lg.referrer,qi=ni.rly,ri=qi||(O!==O.top||O.opener)&&O.name||"..",si=null,ti={},ui=function(){},vi={send:ui,lg:ui},wi=function(t,e){"/"==e.charAt(0)&&(e=e.substring(1),t=O.top);for(var n=e.split("/");n.length;){var i;if(i=n.shift(),"{"==i.charAt(0)&&"}"==i.charAt(i.length-1)&&(i=i.substring(1,i.length-1)),".."===i)t=t==t.parent?t.opener:t.parent;else{if(".."===i||!t.frames[i])return null;if(t=t.frames[i],!("postMessage"in t))throw"Not a window"}}return t},xi=function(t){return(t=ki[t])&&t.ae},yi=function(t){if(t.f in{})return!1;var e=t.t,n=ki[t.r];return t=t.origin,n&&(n.ae===e||!n.ae&&!e)&&(t===n.origin||"*"===n.origin)},zi=function(t){var e=t.id.split("/"),n=e[e.length-1],i=t.origin;return function(t){var e=t.origin;return t.f==n&&(i==e||"*"==i)}},Ci=function(t,e,n){t=Ai(t),li[t.name]={Oc:e,$c:t.$c,Ia:n||yi},Bi()},Di={},Ei=function(t,e){var n=Di["_"+t];n&&n[1](this)&&n[0].call(this,e)},Gi=function(t){var e=t.c;if(!e)return ui;var n=t.r,i=t.g?"legacy__":"";return function(){var t=[].slice.call(arguments,0);t.unshift(n,i+"__cb",null,e),Fi.apply(null,t)}},Hi=function(t){si=t},Ji=function(t){ti[t]||(ti[t]=O.setTimeout(function(){ti[t]=!1,Ii(t)},0))},Ii=function(t){var e=ki[t];if(e&&e.ready){var n=e.Oe;for(e.Oe=[];n.length;)vi.send(t,Mh(n.shift()),e.origin)}},Ai=function(t){return 0===t.indexOf("legacy__")?{name:t.substring(8),$c:!0}:{name:t,$c:!1}},Bi=function(){for(var t,e=ph("rpc/residenceSec")||60,n=(new Date).getTime()/1e3,i=0;t=ji[i];++i){var r=t.Rh;if(!r||e>0&&n-t.timestamp>e)ji.splice(i,1),--i;else{var o=r.s,a=li[o]||li["*"];if(a&&(ji.splice(i,1),--i,r.origin=t.origin,t=Gi(r),r.callback=t,a.Ia(r))){if("__cb"!==o&&!!a.$c!=!!r.g)break;r=a.Oc.apply(r,r.a),void 0!==r&&t(r)}}}},Ki=function(t,e,n){ji.push({Rh:t,origin:e,timestamp:(new Date).getTime()/1e3}),n||Bi()},Li=function(t,e){var n=Nh(t);Ki(n,e,!1)},Mi=function(t){for(;t.length;)Ki(t.shift(),this.origin,!0);Bi()},Ni=function(t){var e=!1;t=t.split("|");var n=t[0];return 0<=n.indexOf("/")&&(e=!0),{id:n,origin:t[1]||"*",Fe:e}},Oi=function(t,e,n,i){var r=Ni(t);if(i&&(O.frames[r.id]=O.frames[r.id]||i),t=r.id,!ki.hasOwnProperty(t)){if(n=n||null,i=r.origin,".."===t)i=ci(pi),n=n||oi;else if(!r.Fe){var o=Lg.getElementById(t);o&&(o=o.src,i=ci(o),n=n||mi(o).rpctoken)}"*"===r.origin&&i||(i=r.origin),ki[t]={ae:n,Oe:[],origin:i,Qh:e,ag:function(){var e=t;ki[e].ready=1,Ii(e)}},vi.lg(t,ki[t].ag)}return ki[t].ag},Fi=function(t,e,n){t=t||"..",Oi(t),t=t.split("|",1)[0];var i=e,r=[].slice.call(arguments,3),o=n,a=ri,s=oi,c=ki[t],u=a,l=Ni(t);if(c&&".."!==t){if(l.Fe){if(!(s=ki[t].Qh)){for(var s=null,s=si?si.substring(1).split("/"):[ri],u=s.length-1,h=O.parent;h!==O.top;){var f=h.parent;if(!u--){for(var d=null,p=f.frames.length,g=0;p>g;++g)f.frames[g]==h&&(d=g);s.unshift("{"+d+"}")}h=f}s="/"+s.join("/")}u=s}else u=a="..";s=c.ae}o&&l?(c=yi,l.Fe&&(c=zi(l)),Di["_"+ ++ii]=[o,c],l=ii):l=null,r={s:i,f:a,r:u,t:s,c:l,a:r},i=Ai(i),r.s=i.name,r.g=i.$c,ki[t].Oe.push(r),Ji(t)};("function"==typeof O.postMessage||"object"==typeof O.postMessage)&&(vi=new gi({bg:qi?"../"+qi:null,Og:Li,Bf:wi,oi:ri,getToken:xi,ri:Hi}),Ci("__cb",Ei,function(){return!0}),Ci("_processBatch",Mi,function(){return!0}),Oi(".."));var Qi=function(t){this.resolve=this.reject=null,this.promise=new C(r(function(t,e){this.resolve=t,this.reject=e},this)),t&&(this.promise=Pi(this.promise,t))},Pi=function(t,e){return t.then(function(t){try{e(t)}catch(n){}return t})},Ri=Ri||{};Ri.ah=function(){var t=0,e=0;return self.innerHeight?(t=self.innerWidth,e=self.innerHeight):document.documentElement&&document.documentElement.clientHeight?(t=document.documentElement.clientWidth,e=document.documentElement.clientHeight):document.body&&(t=document.body.clientWidth,e=document.body.clientHeight),{width:t,height:e}},Ri=Ri||{},function(){function t(t,e){return window.getComputedStyle(t,"").getPropertyValue(e).match(/^([0-9]+)/),parseInt(RegExp.$1,10)}Ri.xf=function(){var e=Ri.ah().height,n=document.body,i=document.documentElement;if("CSS1Compat"===document.compatMode&&i.scrollHeight)return i.scrollHeight!==e?i.scrollHeight:i.offsetHeight;if(0<=navigator.userAgent.indexOf("AppleWebKit")){for(e=0,n=[document.body];0<n.length;){var r=n.shift(),i=r.childNodes;if("undefined"!=typeof r.style){var o=r.style.overflowY;if(o||(o=(o=document.defaultView.getComputedStyle(r,null))?o.overflowY:null),"visible"!=o&&"inherit"!=o&&(o=r.style.height,o||(o=(o=document.defaultView.getComputedStyle(r,null))?o.height:""),0<o.length&&"auto"!=o))continue}for(r=0;r<i.length;r++){if(o=i[r],"undefined"!=typeof o.offsetTop&&"undefined"!=typeof o.offsetHeight)var a=o.offsetTop+o.offsetHeight+t(o,"margin-bottom"),e=Math.max(e,a);n.push(o)}}return e+t(document.body,"border-bottom")+t(document.body,"margin-bottom")+t(document.body,"padding-bottom")}return n&&i?(r=i.scrollHeight,o=i.offsetHeight,i.clientHeight!==o&&(r=n.scrollHeight,o=n.offsetHeight),r>e?r>o?r:o:o>r?r:o):void 0}}();var Si,Ti,Ui,Vi,Wi=/^https?:\/\/(?:\w|[\-\.])+\.google\.(?:\w|[\-:\.])+(?:\/[^\?\#]*)?\/u\/(\d)\//,Xi=/^https?:\/\/(?:\w|[\-\.])+\.google\.(?:\w|[\-:\.])+(?:\/[^\?\#]*)?\/b\/(\d{10,})\//,Yi=function(t){var e=ph("googleapis.config/sessionIndex");if(null==e&&(e=window.__X_GOOG_AUTHUSER),null==e){var n=window.google;n&&(e=n.authuser)}return null==e&&(t=t||window.location.href,e=$g(t,"authuser")||null,null==e&&(e=(e=t.match(Wi))?e[1]:null)),null==e?null:String(e)},Zi=function(t){var e=ph("googleapis.config/sessionDelegate");return null==e&&(e=(t=(t||window.location.href).match(Xi))?t[1]:null),null==e?null:String(e)},$i=function(){this.hb=-1},aj=function(){this.hb=-1,this.hb=64,this.U=[],this.pe=[],this.Ag=[],this.Od=[],this.Od[0]=128;for(var t=1;t<this.hb;++t)this.Od[t]=0;this.de=this.vc=0,this.reset()};t(aj,$i),aj.prototype.reset=function(){this.U[0]=1732584193,this.U[1]=4023233417,this.U[2]=2562383102,this.U[3]=271733878,this.U[4]=3285377520,this.de=this.vc=0};var bj=function(t,e,i){i||(i=0);var r=t.Ag;if(n(e))for(var o=0;16>o;o++)r[o]=e.charCodeAt(i)<<24|e.charCodeAt(i+1)<<16|e.charCodeAt(i+2)<<8|e.charCodeAt(i+3),i+=4;else for(o=0;16>o;o++)r[o]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i+=4;for(o=16;80>o;o++){var a=r[o-3]^r[o-8]^r[o-14]^r[o-16];r[o]=4294967295&(a<<1|a>>>31)}e=t.U[0],i=t.U[1];for(var s,c=t.U[2],u=t.U[3],l=t.U[4],o=0;80>o;o++)40>o?20>o?(a=u^i&(c^u),s=1518500249):(a=i^c^u,s=1859775393):60>o?(a=i&c|u&(i|c),s=2400959708):(a=i^c^u,s=3395469782),a=(e<<5|e>>>27)+a+l+s+r[o]&4294967295,l=u,u=c,c=4294967295&(i<<30|i>>>2),i=e,e=a;t.U[0]=t.U[0]+e&4294967295,t.U[1]=t.U[1]+i&4294967295,t.U[2]=t.U[2]+c&4294967295,t.U[3]=t.U[3]+u&4294967295,t.U[4]=t.U[4]+l&4294967295};aj.prototype.update=function(t,e){if(null!=t){ba(e)||(e=t.length);for(var i=e-this.hb,r=0,o=this.pe,a=this.vc;e>r;){if(0==a)for(;i>=r;)bj(this,t,r),r+=this.hb;if(n(t)){for(;e>r;)if(o[a]=t.charCodeAt(r),++a,++r,a==this.hb){bj(this,o),a=0;break}}else for(;e>r;)if(o[a]=t[r],++a,++r,a==this.hb){bj(this,o),a=0;break}}this.vc=a,this.de+=e}},aj.prototype.digest=function(){var t=[],e=8*this.de;56>this.vc?this.update(this.Od,56-this.vc):this.update(this.Od,this.hb-(this.vc-56));for(var n=this.hb-1;n>=56;n--)this.pe[n]=255&e,e/=256;for(bj(this,this.pe),n=e=0;5>n;n++)for(var i=24;i>=0;i-=8)t[e]=this.U[n]>>i&255,++e;return t};var cj=function(){this.Ye=new aj};cj.prototype.reset=function(){this.Ye.reset()};var dj=O.crypto,ej=!1,fj=0,gj=0,hj=1,ij=0,jj="",kj=function(t){t=t||O.event;var e=t.screenX+t.clientX<<16,e=e+(t.screenY+t.clientY),e=(new Date).getTime()%1e6*e;hj=hj*e%ij,fj>0&&++gj==fj&&fh(O,"mousemove",kj,"remove","de")},lj=function(t){var e=new cj;t=unescape(encodeURIComponent(t));for(var n=[],i=0,r=t.length;r>i;++i)n.push(t.charCodeAt(i));for(e.Ye.update(n),e=e.Ye.digest(),t="",n=0;n<e.length;n++)t+="0123456789ABCDEF".charAt(Math.floor(e[n]/16))+"0123456789ABCDEF".charAt(e[n]%16);return t},ej=!!dj&&"function"==typeof dj.getRandomValues;ej||(ij=1e6*(screen.width*screen.width+screen.height),jj=lj(Lg.cookie+"|"+Lg.location+"|"+(new Date).getTime()+"|"+Math.random()),fj=ph("random/maxObserveMousemove")||0,0!=fj&&fh(O,"mousemove",kj,"add","at"));var mj=function(){var t=hj,t=t+parseInt(jj.substr(0,20),16);return jj=lj(jj),t/(ij+Math.pow(16,20))},nj=function(){var t=new O.Uint32Array(1);return dj.getRandomValues(t),Number("0."+t[0])},oj=function(){var t=hh.onl;if(!t){t=R(),hh.onl=t;var e=R();t.e=function(t){var n=e[t];n&&(delete e[t],n())},t.a=function(t,n){e[t]=n},t.r=function(t){delete e[t]}}return t},pj=function(t,e){var n=e.onload;return"function"==typeof n?(oj().a(t,n),n):null},qj=function(t){return P(/^\w+$/.test(t),"Unsupported id - "+t),oj(),'onload="window.___jsl.onl.e(&#34;'+t+'&#34;)"'},rj=function(t){oj().r(t)},sj={allowtransparency:"true",frameborder:"0",hspace:"0",marginheight:"0",marginwidth:"0",scrolling:"no",style:"",tabindex:"0",vspace:"0",width:"100%"},tj={allowtransparency:!0,onload:!0},uj=0,vj=function(t,e){return t?e+"/"+t:""},wj=function(t){P(!t||eh.test(t),"Illegal url for new iframe - "+t)},xj=function(t,e,n,i,r){wj(n.src);var o,a=pj(i,n),s=a?qj(i):"";try{document.all&&(o=t.createElement('<iframe frameborder="'+Xg(String(n.frameborder))+'" scrolling="'+Xg(String(n.scrolling))+'" '+s+' name="'+Xg(String(n.name))+'"/>'))}catch(c){}finally{o||(o=t.createElement("iframe"),a&&(o.onload=function(){o.onload=null,a.call(this)},rj(i)))}for(var u in n)t=n[u],"style"===u&&"object"==typeof t?Yg(t,o.style):tj[u]||o.setAttribute(u,String(t));return(u=r&&r.beforeNode||null)||r&&r.dontclear||gh(e),e.insertBefore(o,u),o=u?u.previousSibling:e.lastChild,n.allowtransparency&&(o.allowTransparency=!0),o},yj=/^:[\w]+$/,zj=/:([a-zA-Z_]+):/g,Aj=function(t,e){var n,i=Yi()||"0",r=Zi();n=Yi(void 0)||i;var o=Zi(void 0),a="";n&&(a+="u/"+n+"/"),o&&(a+="b/"+o+"/"),n=a||null,(a=(o=!1===ph("isLoggedIn"))?"_/im/":"")&&(n="");var s=ph("iframes/:socialhost:"),c=ph("iframes/:im_socialhost:");return Si={socialhost:s,ctx_socialhost:o?c:s,session_index:i,session_delegate:r,session_prefix:n,im_prefix:a},Si[e]||""},Bj=function(t){var e=t;yj.test(t)&&(e=ph("iframes/"+e.substring(1)+"/url"),P(!!e,"Unknown iframe url config for - "+t)),t=e.replace(zj,Aj),e="",2e3<t.length&&(e=t.substring(2e3),t=t.substring(0,2e3));var n=Lg.createElement("div"),i=Lg.createElement("a");return i.href=t,n.appendChild(i),n.innerHTML=n.innerHTML,t=String(n.firstChild.href),n.parentNode&&n.parentNode.removeChild(n),t+e},Cj=function(t,e,n){var i=n||{};n=i.attributes||{},P(!i.allowPost||!n.onload,"onload is not supported by post iframe"),t=Bj(t),n=e.ownerDocument||Lg;var r,o=0;do r=i.id||["I",uj++,"_",(new Date).getTime()].join("");while(n.getElementById(r)&&5>++o);P(5>o,"Error creating iframe id");var a=t;t={},o={},n.documentMode&&9>n.documentMode&&(t.hostiemode=n.documentMode),Yg(i.queryParams||{},t),Yg(i.fragmentParams||{},o);var s=i.connectWithQueryParams?t:o,c=i.pfname,u=R();u.id=r,u.parent=n.location.protocol+"//"+n.location.host;var l=$g(n.location.href,"parent"),c=c||"";if(!c&&l&&(c=vj($g(n.location.href,"id",""),$g(n.location.href,"pfname",""))),u.pfname=c,Yg(u,s),(u=$g(a,"rpctoken")||t.rpctoken||o.rpctoken)||(u=s.rpctoken=i.rpctoken||String(Math.round(1e8*(ej?nj():mj())))),i.rpctoken=u,u=n.location.href,s=R(),(l=$g(u,"_bsh",hh.bsh))&&(s._bsh=l),(u=hh.dpo?hh.h:$g(u,"jsh",hh.h))&&(s.jsh=u),i.hintInFragment?Yg(s,o):Yg(s,t),s=i.paramsSerializer,a=bh(a),a.query.push.apply(a.query,dh(t,s)),a.zd.push.apply(a.zd,dh(o,s)),t=ch(a),a=R(),Yg(sj,a),Yg(i.attributes,a),a.name=a.id=r,a.src=t,i.eurl=t,(i||{}).allowPost&&2e3<t.length){o=bh(t),a.src="",a["data-postorigin"]=t,t=xj(n,e,a,r);var h;for(-1!=navigator.userAgent.indexOf("WebKit")&&(h=t.contentWindow.document,h.open(),a=h.createElement("div"),s={},u=r+"_inner",s.name=u,s.src="",s.style="display:none",xj(n,a,s,u,i)),a=(i=o.query[0])?i.split("&"):[],i=[],s=0;s<a.length;s++)u=a[s].split("=",2),i.push([decodeURIComponent(u[0]),decodeURIComponent(u[1])]);for(o.query=[],a=ch(o),P(eh.test(a),"Invalid URL: "+a),o=n.createElement("form"),o.action=a,o.method="POST",o.target=r,o.style.display="none",r=0;r<i.length;r++)a=n.createElement("input"),a.type="hidden",a.name=i[r][0],a.value=i[r][1],o.appendChild(a);e.appendChild(o),o.submit(),o.parentNode.removeChild(o),h&&h.close(),e=t}else e=xj(n,e,a,r,i);return e},U=function(t){this.b=t||{}};t(U,th);var Dj=function(t,e){return t.b.frameName=e,t};U.prototype.ha=function(){return this.b.frameName};var Ej=function(t,e){return t.b.rpcAddr=e,t};U.prototype.sc=function(){return this.b.rpcAddr};var Fj=function(t,e){return t.b.retAddr=e,t},Gj=function(t){return t.b.retAddr},Hj=function(t,e){return t.b.origin=e,t};U.prototype.Na=function(){return this.b.origin},U.prototype.vb=function(t){return this.b.setRpcReady=t,this},U.prototype.Tc=function(){return this.b.setRpcReady};var Ij=function(t,e){t.b.context=e},Jj=function(t,e){t.b._rpcReadyFn=e};U.prototype.Eb=function(){return this.b.iframeEl};var Kj=/^[\w\.\-]*$/,Lj=function(t){return t.Wa===t.getContext().Wa},Mj=function(){return!0},Oj=function(t,e,n){return function(i){if(!e.wa()){P(this.origin===e.Wa,"Wrong origin "+this.origin+" != "+e.Wa);var r=this.callback;i=Nj(t,i,e),!n&&0<i.length&&Ed(i).then(r)}}},Nj=function(t,e,n){if(t=Ti[t],!t)return[];for(var i=[],r=0;r<t.length;r++)i.push(D(t[r].call(n,e,n)));return i},Pj=function(t,e,n){P("_default"!=t,"Cannot update default api"),Ui[t]={map:e,filter:n}},Qj=function(t,e){Ng(Ui,"_default",{map:{},filter:Mj}).map[t]=e,Rg(Vi.ra,function(n){n.register(t,e,Mj)})},V=function(t){if(t=t||{},this.La=!1,this.Vf=R(),this.ra=R(),this.Ba=t._window||O,this.Lb=this.Ba.location.href,this.Wf=(this.Xf=$g(this.Lb,"parent",""))?$g(this.Lb,"pfname",""):"",this.mb=this.Xf?$g(this.Lb,"id",""):"",this.Ea=vj(this.mb,this.Wf),this.Wa=ci(this.Lb),this.mb){var e=new U;Ej(e,t._parentRpcAddr||".."),Fj(e,t._parentRetAddr||this.mb),Hj(e,ci($g(this.Lb,"parent",this.Lb))),Dj(e,this.Wf),this.T=Rj(this,e.value())}else this.T=null};h=V.prototype,h.wa=function(){return this.La},h.Sa=function(){if(!this.wa()){for(var t=0;t<this.ra.length;t++)this.ra[t].Sa();this.La=!0}},h.ha=function(){return this.Ea},h.Rb=function(){return this.Ba},h.Ve=function(t,e){this.Vf[t]=e},h.xe=function(t){return this.Vf[t]};var Rj=function(t,e){P(!t.wa(),"Cannot attach iframe in disposed context");var n=new U(e);n.sc()||Ej(n,n.qc()),Gj(n)||Fj(n,".."),n.Na()||Hj(n,ci(n.getUrl())),n.ha()||Dj(n,vj(n.qc(),t.Ea));var i=n.ha();if(t.ra[i])return t.ra[i];var r=n.sc(),o=r;n.Na()&&(o=r+"|"+n.Na());var a=Gj(n),s=n.tc();s||(s=(s=n.Eb())&&(s.getAttribute("data-postorigin")||s.src)||n.getUrl(),s=$g(s,"rpctoken")),Jj(n,Oi(o,a,s,n.b._popupWindow)),o=((window.gadgets||{}).rpc||{}).setAuthToken,s&&o&&o(r,s);var c=new W(t,r,i,n),u=n.b.messageHandlersFilter;return Rg(n.b.messageHandlers,function(t,e){c.register(e,t,u)}),n.Tc()&&c.vb(),X(c,"_g_rpcReady"),c};V.prototype.Se=function(t){Dj(t,null);var e=t.qc();!e||Kj.test(e)&&!this.Rb().document.getElementById(e)||(di&&di.log&&di.log("Ignoring requested iframe ID - "+e),t.b.id=null)},V.prototype.Rf=function(t){P(!this.wa(),"Cannot open iframe in disposed context");var e=new U(t);Sj(this,e);var n=e.ha();if(n&&this.ra[n])return this.ra[n];this.Se(e),n=e.getUrl(),P(n,"No url for new iframe");var i=e.b.queryParams||{};return i.usegapi="1",e.b.queryParams=i,i=this.kh&&this.kh(n,e),i||(i=e.b.where,P(!!i,"No location for new iframe"),n=Cj(n,i,t),e.b.iframeEl=n,i=n.getAttribute("id")),Ej(e,i).b.id=i,Hj(e,ci(e.b.eurl||"")),this.yh&&this.yh(e,e.Eb()),n=Rj(this,t),n.kg&&n.kg(n,t),(t=e.b.onCreate)&&t(n),e.b.disableRelayOpen||n.Mc("_open"),n};var Tj=function(t,e,n){var i=e.b.canvasUrl;if(!i)return n;P(!e.b.allowPost,"Post is not supported when using canvas url");var r=e.getUrl();return P(r&&ci(r)===t.Wa&&ci(i)===t.Wa,"Wrong origin for canvas or hidden url "+i),e.setUrl(i),e.b.waitForOnload=!0,e.b.canvasUrl=null,function(t){var e=t.Rb(),i=e.location.hash,i=Bj(r)+(/#/.test(r)?i.replace(/^#/,"&"):i);e.location.replace(i),n&&n(t)}},Vj=function(t,e,n){var i=e.b.relayOpen;if(i){var r=t.Sc();if(i instanceof W?(r=i,e.b.relayOpen=0):0<Number(i)&&(e.b.relayOpen=Number(i)-1),r)return P(!!r.Sf,"Relaying iframe open is disabled"),(i=e.Cd())&&(i=Uj[i])&&(Ij(e,t),i(e.value()),Ij(e,null)),e.b.openerIframe=null,n.resolve(r.Sf(e)),!0}return!1},Zj=function(t,e,n){var i=e.Cd();if(i){if(P(!!Wj,"Defer style is disabled, when requesting style "+i),!Xj[i])return Yj(i,function(){P(!!Xj[i],"Fail to load style - "+i),n.resolve(t.open(e.value()))}),!0;Sj(t,e)}return!1};V.prototype.open=function(t,e){P(!this.wa(),"Cannot open iframe in disposed context");var n=new U(t),i=Tj(this,n,e),r=new Qi(i);if((i=n.getUrl())&&n.setUrl(Bj(i)),Vj(this,n,r)||Zj(this,n,r)||Vj(this,n,r))return r.promise;var o;if(null!=yh(n)){var a=setTimeout(function(){o.Eb().src="about:blank",r.reject({timeout:"Exceeded time limit of :"+yh(n)+"milliseconds"})},yh(n)),s=r.resolve;r.resolve=function(t){clearTimeout(a),s(t)}}return n.b.waitForOnload&&sh(xh(n),function(){r.resolve(o)}),o=this.Rf(t),n.b.waitForOnload||r.resolve(o),r.promise},V.prototype.Sc=function(){return this.T};var W=function(t,e,n,i){for(this.La=!1,this.Ca=t,this.Fc=e,this.Ea=n,this.va=i,this.Vd=Gj(this.va),this.Wa=this.va.Na(),this.nh=this.va.Eb(),this.mg=this.va.b.where,this.Bc=[],this.Mc("_default"),t=this.va.Pc()||[],e=0;e<t.length;e++)this.Mc(t[e]);this.Ca.ra[n]=this};h=W.prototype,h.wa=function(){return this.La},h.Sa=function(){if(!this.wa()){for(var t=0;t<this.Bc.length;t++)this.unregister(this.Bc[t]);delete Vi.ra[this.ha()],this.La=!0}},h.getContext=function(){return this.Ca},h.sc=function(){return this.Fc},h.ha=function(){return this.Ea},h.Eb=function(){return this.nh},h.$g=function(){return this.mg},h.ai=function(t){this.mg=t},h.vb=function(){this.va.b._rpcReadyFn()},h.Zh=function(t,e){this.va.value()[t]=e},h.Yg=function(t){return this.va.value()[t]},h.qc=function(){return this.va.qc()},h.Na=function(){return this.Wa},h.register=function(t,e,n){P(!this.wa(),"Cannot register handler on disposed iframe "+t),P((n||Lj)(this),"Rejecting untrusted message "+t),n=this.Ea+":"+this.Ca.Ea+":"+t,1==Ng(Ti,n,[]).push(e)&&(this.Bc.push(t),Ci(n,Oj(n,this,"_g_wasClosed"===t)))},h.unregister=function(t,e){var n=this.Ea+":"+this.Ca.Ea+":"+t,i=Ti[n];if(i){if(e){var r=Pg.call(i,e);r>=0&&i.splice(r,1)}else i.splice(0,i.length);0==i.length&&(r=Pg.call(this.Bc,t),r>=0&&this.Bc.splice(r,1),delete li[Ai(n).name])}},h.Zg=function(){return this.Bc},h.Mc=function(t){if(this.ke=this.ke||[],!(0<=Pg.call(this.ke,t))){this.ke.push(t),t=Ui[t]||{map:{}};for(var e in t.map)Q(t.map,e)&&this.register(e,t.map[e],t.filter)}},h.send=function(t,e,n,i){return P(!this.wa(),"Cannot send message to disposed iframe - "+t),P((i||Lj)(this),"Wrong target for message "+t),n=new Qi(n),Fi(this.Fc,this.Ca.Ea+":"+this.Ea+":"+t,n.resolve,e),n.promise};var X=function(t,e,n,i){return t.send(e,n,i,Mj)};W.prototype.Gh=function(t){return t},W.prototype.ping=function(t,e){return X(this,"_g_ping",e,t)},Ti=R(),Ui=R(),Vi=new V,Qj("_g_rpcReady",W.prototype.vb),Qj("_g_discover",W.prototype.Zg),Qj("_g_ping",W.prototype.Gh);var Xj=R(),Uj=R(),Wj=function(t){return Xj[t]},Yj=function(t,e){Zg.load("gapi.iframes.style."+t,e)},Sj=function(t,e){var n=e.Cd();if(n){e.Xe(null);var i=Xj[n];P(i,"No such style: "+n),Ij(e,t),i(e.value()),Ij(e,null)}},ak={height:!0,width:!0},bk=/^(?!-*(?:expression|(?:moz-)?binding))(?:[.#]?-?(?:[_a-z0-9-]+)(?:-[_a-z0-9-]+)*-?|-?(?:[0-9]+(?:\.[0-9]*)?|\.[0-9]+)(?:[a-z]{1,2}|%)?|!important|)$/i,ck=function(t){return"number"==typeof t&&(t=String(t)+"px"),t};W.prototype.Rb=function(){if(!Lj(this))return null;var t=this.va.b._popupWindow;if(t)return t;for(var e=this.Fc.split("/"),t=this.getContext().Rb(),n=0;n<e.length&&t;n++)var i=e[n],t=".."===i?t==t.parent?t.opener:t.parent:t.frames[i];return t};var dk=function(t,e){var n=t.Sc(),i=!0;return e.filter&&(i=e.filter.call(e.Fd,e.params)),D(i).then(function(i){return i&&n?(e.Uf&&e.Uf.call(t,e.params),i=e.sender?e.sender(e.params):X(n,e.message,e.params),e.ii?i.then(function(){return!0}):!0):!1})};V.prototype.qf=function(t,e,n){return t=dk(this,{sender:function(t){var e=Vi.Sc();return Rg(Vi.ra,function(n){n!==e&&X(n,"_g_wasClosed",t)}),X(e,"_g_closeMe",t)},message:"_g_closeMe",params:t,Fd:n,filter:this.xe("onCloseSelfFilter")}),e=new Qi(e),e.resolve(t),e.promise},V.prototype.eg=function(t,e,n){return t=t||{},e=new Qi(e),e.resolve(dk(this,{message:"_g_restyleMe",params:t,Fd:n,filter:this.xe("onRestyleSelfFilter"),ii:!0,Uf:this.hi})),e.promise},V.prototype.hi=function(t){"auto"===t.height&&(t.height=Ri.xf())};var ek=function(t){var e={};if(t)for(var n in t)Q(t,n)&&Q(ak,n)&&bk.test(t[n])&&(e[n]=t[n]);return e};h=W.prototype,h.close=function(t,e){return X(this,"_g_close",t,e)},h.dg=function(t,e){return X(this,"_g_restyle",t,e)},h.Mh=function(t,e){return X(this,"_g_restyleDone",t,e)},h.Fg=function(t){return this.getContext().qf(t,void 0,this)},h.Oh=function(t){return t&&"object"==typeof t?this.getContext().eg(t,void 0,this):void 0},h.Ph=function(t){var e=this.va.b.onRestyle;e&&e.call(this,t,this),t=t&&"object"==typeof t?ek(t):{},(e=this.Eb())&&t&&"object"==typeof t&&(Q(t,"height")&&(t.height=ck(t.height)),Q(t,"width")&&(t.width=ck(t.width)),Yg(t,e.style))},h.Gg=function(t){var e=this.va.b.onClose;if(e&&e.call(this,t,this),this.Eg&&this.Eg()||(e=this.Eb())&&e.parentNode&&e.parentNode.removeChild(e),e=this.va.b.controller){var n={};n.frameName=this.ha(),X(e,"_g_disposeControl",n)}Nj(this.Ea+":"+this.Ca.Ea+":_g_wasClosed",t,this)},V.prototype.Yh=function(t){this.Ve("onCloseSelfFilter",t)},V.prototype.$h=function(t){this.Ve("onRestyleSelfFilter",t)},W.prototype.Jh=function(t,e){this.register("_g_wasRestyled",t,e)},W.prototype.Ih=function(t,e){this.register("_g_wasClosed",t,e)},W.prototype.ji=function(){delete this.getContext().ra[this.ha()],this.getContext().Rb().setTimeout(r(function(){this.Sa()},this),0)},Qj("_g_close",W.prototype.Fg),Qj("_g_closeMe",W.prototype.Gg),Qj("_g_restyle",W.prototype.Oh),Qj("_g_restyleMe",W.prototype.Ph),Qj("_g_wasClosed",W.prototype.ji);var fk=/^https?:\/\/[^\/%\\?#\s]+$/i,gk={longdesc:!0,name:!0,src:!0,frameborder:!0,marginwidth:!0,marginheight:!0,scrolling:!0,align:!0,height:!0,width:!0,id:!0,"class":!0,title:!0,tabindex:!0,hspace:!0,vspace:!0,allowtransparency:!0},hk=function(t,e,n){var i=t.Fc,r=e.Vd;Fj(Ej(n,t.Vd+"/"+e.Fc),r+"/"+i),Hj(Dj(n,e.ha()),e.Wa)};V.prototype.Ig=function(t,e){var n=new T(t),i=new T(e),r=n.Tc(),o=n.getIframe(),a=i.getIframe();if(a){var s=n.tc(),c=new U;hk(o,a,c),Ah(zh(new T(c.value()).Zb(s),n.b.role),n.b.data).vb(r);var u=new U;hk(a,o,u),Ah(zh(new T(u.value()).Zb(s),i.b.role),i.b.data).vb(!0),X(o,"_g_connect",c.value(),function(){r||X(a,"_g_connect",u.value())}),r&&X(a,"_g_connect",u.value())}else i={},Ah(zh(Bh(new T(i)),n.b.role),n.b.data),X(o,"_g_connect",i)},h=W.prototype,h.Hg=function(t){var e,n=new U(t);t=new T(n.value()),t.b.selfConnect?e=this:(P(fk.test(n.Na()),"Illegal origin for connected iframe - "+n.Na()),(e=this.Ca.ra[n.ha()])?n.Tc()&&(e.vb(),X(e,"_g_rpcReady")):(n=Dj(Hj(Fj(Ej((new U).Zb(n.tc()),n.sc()),Gj(n)),n.Na()),n.ha()).vb(n.Tc()),e=Rj(this.Ca,n.value())));var n=this.Ca,i=t.b.role;t=t.b.data,ik(n),i=i||"",Ng(n.re,i,[]).push({Fd:e.ha(),data:t}),jk(e,t,n.He[i])},h.kg=function(t,e){if(!new U(e).b._relayedDepth){var n={};Bh(zh(new T(n),"_opener")),X(t,"_g_connect",n)}},h.Sf=function(t){var e=this,n=t.b.messageHandlers,i=t.b.messageHandlersFilter,r=t.b.onClose;return wh(vh(uh(t,null),null),null),Gd(),X(this,"_g_open",t.value()).then(function(o){var a=new U(o[0]),s=a.ha();o=new U;var c=e.Vd,u=Gj(a);return Fj(Ej(o,e.Fc+"/"+a.sc()),u+"/"+c),Dj(o,s),Hj(o,a.Na()),o.md(a.Pc()),o.Zb(t.tc()),uh(o,n),vh(o,i),wh(o,r),(a=e.Ca.ra[s])||(a=Rj(e.Ca,o.value())),a})},h.Se=function(t){var e=t.getUrl();P(!e||eh.test(e),"Illegal url for new iframe - "+e);var n,i=xh(t).value(),e={};for(n in i)Q(i,n)&&Q(gk,n)&&(e[n]=i[n]);Q(i,"style")&&(n=i.style,"object"==typeof n&&(e.style=ek(n))),t.value().attributes=e},h.Eh=function(t){t=new U(t),this.Se(t);var e=t.b._relayedDepth||0;t.b._relayedDepth=e+1,t.b.openerIframe=this,Gd();var n=t.tc();return t.Zb(null),this.Ca.open(t.value()).then(r(function(t){var i=new U(t.va.value()).Pc(),r=new U;return hk(t,this,r),0==e&&zh(new T(r.value()),"_opener"),r.vb(!0),r.Zb(n),X(t,"_g_connect",r.value()),r=new U,Hj(Dj(Fj(Ej(r.md(i),t.sc()),t.Vd),t.ha()),t.Na()),r.value()},this))};var ik=function(t){t.re||(t.re=R(),t.He=R())};V.prototype.ff=function(t,e,n,i){ik(this),"object"==typeof t?(e=new Ch(t),n=e.b.role||""):(e=Fh(Eh(Dh(t),e).md(n),i),n=t),i=this.re[n]||[],t=!1;for(var r=0;r<i.length&&!t;r++)jk(this.ra[i[r].Fd],i[r].data,[e]),t=e.b.runOnce;n=Ng(this.He,n,[]),t||e.b.dontWait||n.push(e)},V.prototype.Kh=function(t,e){var n=Ng(this.He,t,[]);if(e)for(var i=0,r=!1;!r&&i<n.length;i++)n[i].Vc===e&&(r=!0,n.splice(i,1));else n.splice(0,n.length)};var jk=function(t,e,n){n=n||[];for(var i=0;i<n.length;i++){var r=n[i];if(r&&t){var o=r.b.filter||Lj;if(t&&o(t)){for(var o=r.Pc()||[],a=0;a<o.length;a++)t.Mc(o[a]);r.b.handler&&r.b.handler(t,e),r.b.runOnce&&(n.splice(i,1),--i)}}}};V.prototype.hf=function(t,e,n){this.ff(Gh(Fh(Eh(Dh("_opener"),t).md(e),n)).value())},W.prototype.Nh=function(t){this.getContext().hf(function(e){e.send("_g_wasRestyled",t,void 0,Mj)},null,Mj)};var kk=Vi.Sc();kk&&kk.register("_g_restyleDone",W.prototype.Nh,Mj),Qj("_g_connect",W.prototype.Hg);var lk={};lk._g_open=W.prototype.Eh,Pj("_open",lk,Mj),N("gapi.iframes.create",Cj),N("gapi.iframes.registerStyle",function(t,e){Xj[t]=e}),N("gapi.iframes.registerBeforeOpenStyle",function(t,e){Uj[t]=e}),N("gapi.iframes.getStyle",Wj),N("gapi.iframes.getBeforeOpenStyle",function(t){return Uj[t]}),N("gapi.iframes.registerIframesApi",Pj),N("gapi.iframes.registerIframesApiHandler",function(t,e,n){P("_default"!=t,"Cannot update default api"),Ng(Ui,t,{map:{},filter:Lj}).map[e]=n}),N("gapi.iframes.getContext",function(){return Vi}),N("gapi.iframes.SAME_ORIGIN_IFRAMES_FILTER",Lj),N("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER",Mj),N("gapi.iframes.makeWhiteListIframesFilter",function(t){for(var e=R(),n=0;n<t.length;n++)e[t[n]]=!0;return function(t){return!!e[t.Wa]}}),N("gapi.iframes.Context",V),N("gapi.iframes.Context.prototype.isDisposed",V.prototype.wa),N("gapi.iframes.Context.prototype.getWindow",V.prototype.Rb),N("gapi.iframes.Context.prototype.getFrameName",V.prototype.ha),N("gapi.iframes.Context.prototype.getGlobalParam",V.prototype.xe),N("gapi.iframes.Context.prototype.setGlobalParam",V.prototype.Ve),N("gapi.iframes.Context.prototype.open",V.prototype.open),N("gapi.iframes.Context.prototype.openChild",V.prototype.Rf),N("gapi.iframes.Context.prototype.getParentIframe",V.prototype.Sc),N("gapi.iframes.Context.prototype.closeSelf",V.prototype.qf),N("gapi.iframes.Context.prototype.restyleSelf",V.prototype.eg),N("gapi.iframes.Context.prototype.setCloseSelfFilter",V.prototype.Yh),N("gapi.iframes.Context.prototype.setRestyleSelfFilter",V.prototype.$h),N("gapi.iframes.Iframe",W),N("gapi.iframes.Iframe.prototype.isDisposed",W.prototype.wa),N("gapi.iframes.Iframe.prototype.getContext",W.prototype.getContext),N("gapi.iframes.Iframe.prototype.getFrameName",W.prototype.ha),N("gapi.iframes.Iframe.prototype.getId",W.prototype.qc),N("gapi.iframes.Iframe.prototype.register",W.prototype.register),N("gapi.iframes.Iframe.prototype.unregister",W.prototype.unregister),N("gapi.iframes.Iframe.prototype.send",W.prototype.send),N("gapi.iframes.Iframe.prototype.applyIframesApi",W.prototype.Mc),N("gapi.iframes.Iframe.prototype.getIframeEl",W.prototype.Eb),N("gapi.iframes.Iframe.prototype.getSiteEl",W.prototype.$g),N("gapi.iframes.Iframe.prototype.setSiteEl",W.prototype.ai),N("gapi.iframes.Iframe.prototype.getWindow",W.prototype.Rb),N("gapi.iframes.Iframe.prototype.getOrigin",W.prototype.Na),N("gapi.iframes.Iframe.prototype.close",W.prototype.close),N("gapi.iframes.Iframe.prototype.restyle",W.prototype.dg),N("gapi.iframes.Iframe.prototype.restyleDone",W.prototype.Mh),N("gapi.iframes.Iframe.prototype.registerWasRestyled",W.prototype.Jh),N("gapi.iframes.Iframe.prototype.registerWasClosed",W.prototype.Ih),N("gapi.iframes.Iframe.prototype.getParam",W.prototype.Yg),N("gapi.iframes.Iframe.prototype.setParam",W.prototype.Zh),N("gapi.iframes.Iframe.prototype.ping",W.prototype.ping),N("gapi.iframes.Context.prototype.addOnConnectHandler",V.prototype.ff),N("gapi.iframes.Context.prototype.removeOnConnectHandler",V.prototype.Kh),N("gapi.iframes.Context.prototype.addOnOpenerHandler",V.prototype.hf),N("gapi.iframes.Context.prototype.connectIframes",V.prototype.Ig);var mk=function(t){this.Lb=t,this.Ce=null,this.Ch=this.Nd()},nk=function(t){var e=new th;return e.b.where=document.body,e.setUrl(t.Lb),vh(e,Mj),xh(e).Xe({position:"absolute",top:"-100px",width:"1px",height:"1px"}),e.b.dontclear=!0,e};mk.prototype.Nd=function(){var t=this;return new C(function(e){Vi.open(nk(t).value(),function(n){t.Ce=n,t.Ce.dg({setHideOnLeave:!1}),e()})})};var ok=function(t,e){t.Ch.then(function(){t.Ce.register("authEvent",e,Mj)})},qk=function(t,e,n,i){this.Bb=t,this.ma=e,this.ab=n,i=this.Nb=i||null,t=tf(t,"/__/auth/iframe"),sf(t,"apiKey",e),sf(t,"appName",n),i&&sf(t,"v",i),this.oh=t.toString(),this.ph=new mk(this.oh),this.le=[],pk(this)},rk=function(t,e,n,i,r,o,a,s,c){return t=tf(t,"/__/auth/handler"),sf(t,"apiKey",e),sf(t,"appName",n),sf(t,"authType",i),sf(t,"providerId",r),o&&o.length&&sf(t,"scopes",o.join(",")),a&&sf(t,"redirectUrl",a),s&&sf(t,"eventId",s),c&&sf(t,"v",c),t.toString()},pk=function(t){ok(t.ph,function(e){var n={};if(e&&e.authEvent){var i=!1;if(e=e.authEvent||{},e.type){if(n=e.error)var r=(n=e.error)&&(n.name||n.code),n=r?new K(r.substring(5),n.message):null;e=new bg(e.type,e.eventId,e.urlResponse,e.sessionId,n)}else e=null;for(n=0;n<t.le.length;n++)i=t.le[n](e)||i;return n={},n.status=i?"ACK":"ERROR",D(n)}return n.status="ERROR",D(n)})};qk.prototype.ef=function(t){this.le.push(t)
};var uk=function(t,e,n){var i=null,r=null;ha(t)?(i=t,r={name:sk(i)}):(r=t,i=tk(t.name)),this.code=i,this.ta=r,t="Error "+e+": "+this.getName(),n&&(t+=", "+n),u.call(this,t)};t(uk,u),uk.prototype.getName=function(){return this.ta.name};var vk={UNKNOWN_ERR:1,NON_TRANSIENT_ERR:2,NOT_FOUND_ERR:3,CONSTRAINT_ERR:4,DATA_ERR:5,NOT_ALLOWED_ERR:6,TRANSACTION_INACTIVE_ERR:7,ABORT_ERR:8,READ_ONLY_ERR:9,mi:10,TIMEOUT_ERR:11,QUOTA_ERR:12,INVALID_ACCESS_ERR:13,INVALID_STATE_ERR:14},wk=(m.IDBDatabaseException||m.webkitIDBDatabaseException||vk).UNKNOWN_ERR,xk=(m.IDBDatabaseException||m.webkitIDBDatabaseException||vk).NOT_FOUND_ERR,yk=(m.IDBDatabaseException||m.webkitIDBDatabaseException||vk).CONSTRAINT_ERR,zk=(m.IDBDatabaseException||m.webkitIDBDatabaseException||vk).DATA_ERR,Ak=(m.IDBDatabaseException||m.webkitIDBDatabaseException||vk).TRANSACTION_INACTIVE_ERR,Bk=(m.IDBDatabaseException||m.webkitIDBDatabaseException||vk).ABORT_ERR,Ck=(m.IDBDatabaseException||m.webkitIDBDatabaseException||vk).READ_ONLY_ERR,Dk=(m.IDBDatabaseException||m.webkitIDBDatabaseException||vk).TIMEOUT_ERR,Ek=(m.IDBDatabaseException||m.webkitIDBDatabaseException||vk).QUOTA_ERR,Fk=(m.DOMException||vk).INVALID_ACCESS_ERR,Gk=(m.DOMException||vk).INVALID_STATE_ERR,tk=function(t){switch(t){case"UnknownError":return wk;case"NotFoundError":return xk;case"ConstraintError":return yk;case"DataError":return zk;case"TransactionInactiveError":return Ak;case"AbortError":return Bk;case"ReadOnlyError":return Ck;case"TimeoutError":return Dk;case"QuotaExceededError":return Ek;case"InvalidAccessError":return Fk;case"InvalidStateError":return Gk;default:return wk}},sk=function(t){switch(t){case wk:return"UnknownError";case xk:return"NotFoundError";case yk:return"ConstraintError";case zk:return"DataError";case Ak:return"TransactionInactiveError";case Bk:return"AbortError";case Ck:return"ReadOnlyError";case Dk:return"TimeoutError";case Ek:return"QuotaExceededError";case Fk:return"InvalidAccessError";case Gk:return"InvalidStateError";default:return"UnknownError"}},Hk=function(t,e){return"error"in t?new uk(t.error,e):"name"in t?new uk({name:sk(t.errorCode)},e):new uk({name:"UnknownError"},e)},Ik=function(t,e){if("name"in t){var n=e+": "+t.message;return new uk(t,n)}if("code"in t){var i=sk(t.code),n=e+": "+t.message;return new uk({name:i},n)}return new uk({name:"UnknownError"},e)},Jk=function(){G.call(this)};t(Jk,G),Jk.prototype.Ob=null,Jk.prototype.next=function(t){t?this.Ob["continue"](t):this.Ob["continue"]()},Jk.prototype.update=function(t){var e,n="updating via cursor with value ",i=new E;try{e=this.Ob.update(t)}catch(r){return n+=Ae(t),F(i,Ik(r,n)),i}return e.onsuccess=function(){i.Cb()},e.onerror=function(e){n+=Ae(t),F(i,Hk(e.target,n))},i},Jk.prototype.remove=function(){var t,e=new E;try{t=this.Ob["delete"]()}catch(n){return F(e,Ik(n,"deleting via cursor")),e}return t.onsuccess=function(){e.Cb()},t.onerror=function(t){F(e,Hk(t.target,"deleting via cursor"))},e};var Kk=function(t,e,n){var i,r=new Jk;try{var o=e?e.pi():null;i=n?t.openCursor(o,n):t.openCursor(o)}catch(a){throw r.Sa(),Ik(a,t.name)}return i.onsuccess=function(t){r.Ob=t.target.result||null,r.dispatchEvent(r.Ob?"n":"c")},i.onerror=function(){r.dispatchEvent("e")},r},Lk=function(t){Qb.call(this),this.Be=t,this.u={}};t(Lk,Qb);var Mk=[];Lk.prototype.Va=function(t,e,n,i){fa(e)||(e&&(Mk[0]=e.toString()),e=Mk);for(var r=0;r<e.length;r++){var o=dc(t,e[r],n||this.handleEvent,i||!1,this.Be||this);if(!o)break;this.u[o.key]=o}return this},Lk.prototype.Id=function(t,e,n,i){return Nk(this,t,e,n,i)};var Nk=function(t,e,n,i,r,o){if(fa(n))for(var a=0;a<n.length;a++)Nk(t,e,n[a],i,r,o);else{if(e=kc(e,n,i||t.handleEvent,r,o||t.Be||t),!e)return t;t.u[e.key]=e}return t};Lk.prototype.cf=function(t,e,n,i,r){if(fa(e))for(var o=0;o<e.length;o++)this.cf(t,e[o],n,i,r);else n=n||this.handleEvent,r=r||this.Be||this,n=ec(n),i=!!i,e=Ub(t)?t.Rc(e,n,i,r):t&&(t=gc(t))?t.Rc(e,n,i,r):null,e&&(mc(e),delete this.u[e.key]);return this},Lk.prototype.removeAll=function(){Va(this.u,function(t,e){this.u.hasOwnProperty(e)&&mc(t)},this),this.u={}},Lk.prototype.Ka=function(){Lk.Hc.Ka.call(this),this.removeAll()},Lk.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ok=function(t){this.Gc=t};Ok.prototype.getName=function(){return this.Gc.name};var Pk=function(t,e,n,i,r){var o,a=new E;try{o=r?t.Gc[e](i,r):t.Gc[e](i)}catch(s){return n+=Ae(i),r&&(n+=", with key "+Ae(r)),F(a,Ik(s,n)),a}return o.onsuccess=function(){a.Cb()},o.onerror=function(t){n+=Ae(i),r&&(n+=", with key "+Ae(r)),F(a,Hk(t.target,n))},a};h=Ok.prototype,h.put=function(t,e){return Pk(this,"put","putting into "+this.getName()+" with value",t,e)},h.add=function(t,e){return Pk(this,"add","adding into "+this.getName()+" with value ",t,e)},h.remove=function(t){var e,n=new E;try{e=this.Gc["delete"](t)}catch(i){return e="removing from "+this.getName()+" with key "+Ae(t),F(n,Ik(i,e)),n}e.onsuccess=function(){n.Cb()};var r=this;return e.onerror=function(e){var i="removing from "+r.getName()+" with key "+Ae(t);F(n,Hk(e.target,i))},n},h.get=function(t){var e,n=new E;try{e=this.Gc.get(t)}catch(i){return e="getting from "+this.getName()+" with key "+Ae(t),F(n,Ik(i,e)),n}e.onsuccess=function(t){n.Cb(t.target.result)};var r=this;return e.onerror=function(e){var i="getting from "+r.getName()+" with key "+Ae(t);F(n,Hk(e.target,i))},n},h.getAll=function(t,e){var n,i=new E;try{n=this.openCursor(t,e)}catch(r){return F(i,r),i}var o=[];return dc(n,"n",function(){o.push(n.Ob.value),n.next()}),kc(n,["e","c"],function(t){n.Sa(),"c"==t.type?i.Cb(o):F(i)}),i},h.openCursor=function(t,e){return Kk(this.Gc,t,e)};var Qk=function(t,e){G.call(this),this.rd=t,this.Ja=e,this.Ta=new Lk(this),this.Ta.Va(this.rd,"complete",r(this.dispatchEvent,this,"complete")),this.Ta.Va(this.rd,"abort",r(this.dispatchEvent,this,"abort")),this.Ta.Va(this.rd,"error",this.ue)};t(Qk,G),Qk.prototype.ue=function(t){this.dispatchEvent(t.target instanceof uk?{type:"error",target:t.target}:{type:"error",target:Hk(t.target,"in transaction")})},Qk.prototype.objectStore=function(t){try{return new Ok(this.rd.objectStore(t))}catch(e){throw Ik(e,"getting object store "+t)}},Qk.prototype.abort=function(){this.rd.abort()},Qk.prototype.Ka=function(){Qk.Hc.Ka.call(this),this.Ta.Sa()};var Rk=function(t){G.call(this),this.Ja=t,this.Ta=new Lk(this),this.Ta.Va(this.Ja,"abort",r(this.dispatchEvent,this,"abort")),this.Ta.Va(this.Ja,"error",this.ue),this.Ta.Va(this.Ja,"versionchange",this.Pg),this.Ta.Va(this.Ja,"close",r(this.dispatchEvent,this,"close"))};t(Rk,G),h=Rk.prototype,h.Nd=!0,h.ue=function(t){this.dispatchEvent({type:"error",errorCode:t.target.errorCode})},h.Pg=function(t){this.dispatchEvent(new Sk(t.oldVersion,t.newVersion))},h.close=function(){this.Nd&&(this.Ja.close(),this.Nd=!1)},h.getName=function(){return this.Ja.name},h.Af=function(){return this.Ja.version},h.createObjectStore=function(t,e){try{return new Ok(this.Ja.createObjectStore(t,e))}catch(n){throw Ik(n,"creating object store "+t)}},h.Ka=function(){Rk.Hc.Ka.call(this),this.Ta.Sa()};var Sk=function(t,e){Rb.call(this,"versionchange"),this.oldVersion=t,this.newVersion=e};t(Sk,Rb);var Tk=m.indexedDB||m.mozIndexedDB||m.webkitIndexedDB||m.moz_indexedDB,Uk=function(t,e,n){w(ba(e)==ba(n),"opt_version must be passed to goog.db.openDatabase if and only if opt_onUpgradeNeeded is also passed");var i=new E;return e=e?Tk.open(t,e):Tk.open(t),e.onsuccess=function(t){t=new Rk(t.target.result),i.Cb(t)},e.onerror=function(e){F(i,Hk(e.target,"opening database "+t))},e.onupgradeneeded=function(t){if(n){var e=new Rk(t.target.result);n(new Sk(t.oldVersion,t.newVersion),e,new Qk(t.target.transaction,e))}},e.onblocked=function(){},i},Vk=function(t){this.Kd=t};Vk.prototype.set=function(t,e){ba(e)?this.Kd.set(t,vc(e)):this.Kd.remove(t)},Vk.prototype.get=function(t){var e;try{e=this.Kd.get(t)}catch(n){return}if(null!==e)try{return sc(e)}catch(n){throw"Storage: Invalid value was encountered"}},Vk.prototype.remove=function(t){this.Kd.remove(t)};var Wk=function(){},Xk=function(){};t(Xk,Wk),Xk.prototype.Ma=function(){var t=0;return ne(this.Mb(!0),function(e){Da(e),t++}),t};var Yk=function(t){this.Ga=t};t(Yk,Xk);var Zk=function(t){if(!t.Ga)return!1;try{return t.Ga.setItem("__sak","1"),t.Ga.removeItem("__sak"),!0}catch(e){return!1}};h=Yk.prototype,h.set=function(t,e){try{this.Ga.setItem(t,e)}catch(n){if(0==this.Ga.length)throw"Storage mechanism: Storage disabled";throw"Storage mechanism: Quota exceeded"}},h.get=function(t){if(t=this.Ga.getItem(t),!n(t)&&null!==t)throw"Storage mechanism: Invalid value was encountered";return t},h.remove=function(t){this.Ga.removeItem(t)},h.Ma=function(){return this.Ga.length},h.Mb=function(t){var e=0,i=this.Ga,r=new le;return r.next=function(){if(e>=i.length)throw ke;var r=Da(i.key(e++));if(t)return r;if(r=i.getItem(r),!n(r))throw"Storage mechanism: Invalid value was encountered";return r},r},h.key=function(t){return this.Ga.key(t)};var $k=function(){var t=null;try{t=window.localStorage||null}catch(e){}this.Ga=t};t($k,Yk);var al=function(){var t=null;try{t=window.sessionStorage||null}catch(e){}this.Ga=t};t(al,Yk);var bl="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" "),Y=function(t,e){return{name:t||"",$a:"a valid string",optional:!!e,Ia:n}},cl=function(t){return{name:t||"",$a:"a valid object",optional:!1,Ia:ia}},dl=function(t,e){return{name:t||"",$a:"a function",optional:!!e,Ia:p}},el=function(){return{name:"",$a:"null",optional:!1,Ia:ea}},fl=function(){return{name:"credential",$a:"a valid credential",optional:!1,Ia:function(t){return!(!t||!t.Bd)}}},gl=function(){return{name:"authProvider",$a:"a valid Auth provider",optional:!1,Ia:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}},hl=function(t,e,n,i){return{name:n||"",$a:t.$a+" or "+e.$a,optional:!!i,Ia:function(n){return t.Ia(n)||e.Ia(n)}}},jl=function(t,e){for(var n in e){var i=e[n].name;t[i]=il(i,t[n],e[n].j)}},kl=function(t,e,n,i){t[e]=il(e,n,i)},il=function(t,e,n){if(!n)return e;var i=ll(t);t=function(){var t,r=Array.prototype.slice.call(arguments);t:{t=Array.prototype.slice.call(r);var o;o=0;for(var a=!1,s=0;s<n.length;s++)if(n[s].optional)a=!0;else{if(a)throw new K("internal-error","Argument validator encountered a required argument after an optional argument.");o++}if(a=n.length,t.length<o||a<t.length)t="Expected "+(o==a?1==o?"1 argument":o+" arguments":o+"-"+a+" arguments")+" but got "+t.length+".";else{for(o=0;o<t.length;o++)if(a=n[o].optional&&void 0===t[o],!n[o].Ia(t[o])&&!a){if(t=n[o],0>o||o>=bl.length)throw new K("internal-error","Argument validator received an unsupported number of arguments.");t=bl[o]+" argument "+(t.name?'"'+t.name+'" ':"")+"must be "+t.$a+".";break t}t=null}}if(t)throw new K("argument-error",i+" failed: "+t);return e.apply(this,r)};for(var r in e)t[r]=e[r];for(r in e.prototype)t.prototype[r]=e.prototype[r];return t},ll=function(t){return t=t.split("."),t[t.length-1]},pl=function(t,e,n){var i=(this.Nb=firebase.SDK_VERSION||null)?Cf(this.Nb):null;this.o=new M(e,null,i),this.Tf=ml(this.o),this.Bb=t,this.ma=e,this.ab=n,this.od=[],this.Hf=!1,this.Cg=r(this.bh,this),this.ld=new nl,this.Zf=new ol,this.Jc={},this.Jc.unknown=this.ld,this.Jc.signInViaRedirect=this.ld,this.Jc.linkViaRedirect=this.ld,this.Jc.signInViaPopup=this.Zf,this.Jc.linkViaPopup=this.Zf},ml=function(t){var e=window.location.href;return qg(t).then(function(t){t:{for(var n=(e instanceof df?e.clone():new df(e,void 0)).Db,i=0;i<t.length;i++){var r,o=t[i];r=n;var a=Yc(o);if(a?r=(r=Yc(r))?a.equals(r):!1:(a=o.split(".").join("\\."),r=new RegExp("^(.+."+a+"|"+a+")$","i").test(r)),r){t=!0;break t}}t=!1}if(!t)throw new K("unauthorized-domain")})},ql=function(t){t.Hf=!0,Af().then(function(){t.mh=new qk(t.Bb,t.ma,t.ab,t.Nb),t.mh.ef(t.Cg)})};pl.prototype.subscribe=function(t){Na(this.od,t)||this.od.push(t),this.Hf||ql(this)},pl.prototype.unsubscribe=function(t){Qa(this.od,function(e){return e==t})},pl.prototype.bh=function(t){if(!t)throw new K("invalid-auth-event");for(var e=!1,n=0;n<this.od.length;n++){var i=this.od[n];if(i.pf(t.Kb,t.Pb)){(e=this.Jc[t.Kb])&&e.$f(t,i),e=!0;break}}return t=this.ld,t.Pe||(t.Pe=!0,rl(t,!1,null,null)),e},pl.prototype.getRedirectResult=function(){return this.ld.getRedirectResult()};var tl=function(t,e,n,i,r){return e?t.Tf.then(function(){sl(i);var o=rk(t.Bb,t.ma,t.ab,n,i.providerId,i.yf(),null,r,t.Nb);return Mb((e||window).location,o),e}):Bd(new K("popup-blocked"))},ul=function(t,e,n,i){return t.Tf.then(function(){sl(n);var r=rk(t.Bb,t.ma,t.ab,e,n.providerId,n.yf(),window.location.href,i,t.Nb);Mb(window.location,r)})},vl=function(t,e,n,i){var r=new K("popup-closed-by-user");return zf(n).then(function(){return Oe(3e4).then(function(){t.Yb(e,null,r,i)})})},sl=function(t){if(!t.isOAuthProvider)throw new K("invalid-oauth-provider")},wl={},xl=function(t,e,n){var i=e+":"+n;return wl[i]||(wl[i]=new pl(t,e,n)),wl[i]},nl=function(){this.Qe=this.Td=this.zc=this.Za=null,this.Pe=!1};nl.prototype.$f=function(t,e){if(!t)return Bd(new K("invalid-auth-event"));this.Pe=!0;var n=t.Kb,i=t.Pb;return"unknown"==n?(this.Za||rl(this,!1,null,null),n=D()):n=t.ta?this.Me(t,e):e.Qc(n,i)?this.Ne(t,e):Bd(new K("invalid-auth-event")),n},nl.prototype.Me=function(t){return this.Za||rl(this,!0,null,t.getError()),D()},nl.prototype.Ne=function(t,e){var n=this,i=t.Kb,r=e.Qc(i,t.Pb),o=t.Kc,a=t.ye(),s="signInViaRedirect"==i||"linkViaRedirect"==i;return r(o,a).then(function(t){n.Za||rl(n,s,t,null)}).Ha(function(t){n.Za||rl(n,s,null,t)})};var rl=function(t,e,n,i){e?i?(t.Za=function(){return Bd(i)},t.Td&&t.Td(i)):(t.Za=function(){return D(n)},t.zc&&t.zc(n)):(t.Za=function(){return D({user:null})},t.zc&&t.zc({user:null})),t.zc=null,t.Td=null};nl.prototype.getRedirectResult=function(){var t=this;return this.mf||(this.mf=new C(function(e,n){t.Za?t.Za().then(e,n):(t.zc=e,t.Td=n,yl(t))})),this.mf};var yl=function(t){var e=new K("timeout");t.Qe&&t.Qe.cancel(),t.Qe=Oe(3e4).then(function(){t.Za||rl(t,!0,null,e)})},ol=function(){};ol.prototype.$f=function(t,e){if(!t)return Bd(new K("invalid-auth-event"));var n=t.Kb,i=t.Pb;return t.ta?this.Me(t,e):e.Qc(n,i)?this.Ne(t,e):Bd(new K("invalid-auth-event"))},ol.prototype.Me=function(t,e){return e.Yb(t.Kb,null,t.getError(),t.Pb),D()},ol.prototype.Ne=function(t,e){var n=t.Pb,i=t.Kb,r=e.Qc(i,n),o=t.Kc,a=t.ye();return r(o,a).then(function(t){e.Yb(i,t,null,n)}).Ha(function(t){e.Yb(i,null,t,n)})};var zl=function(t){this.o=t,this.dc=this.tb=null,this.lc=0};zl.prototype.Ra=function(){return{apiKey:this.o.ma,refreshToken:this.tb,accessToken:this.dc,expirationTime:this.lc}};var Cl=function(t,e){var n=e.idToken,i=e.refreshToken,r=Al(e.expiresIn);t.dc=n,t.lc=r,t.tb=i},Al=function(t){return oa()+1e3*parseInt(t,10)},Dl=function(t,e){return hg(t.o,e).then(function(e){return t.dc=e.access_token,t.lc=Al(e.expires_in),t.tb=e.refresh_token,{accessToken:t.dc,expirationTime:t.lc,refreshToken:t.tb}},function(){throw new K("internal-error")})};zl.prototype.getToken=function(t){return t||!this.dc||oa()>this.lc-3e4?this.tb?Dl(this,{grant_type:"refresh_token",refresh_token:this.tb}):D(null):D({accessToken:this.dc,expirationTime:this.lc,refreshToken:this.tb})};var El=function(t,e,n,i,r){Ff(this,{uid:t,displayName:i||null,photoURL:r||null,email:n||null,providerId:e})},Fl=function(t,e){Rb.call(this,t);for(var n in e)this[n]=e[n]};t(Fl,Rb);var Il=function(t,e,n){this.Qa=[],this.ma=t.apiKey,this.ab=t.appName,this.Bb=t.authDomain||null,t=firebase.SDK_VERSION?Cf(firebase.SDK_VERSION):null,this.o=new M(this.ma,null,t),this.Jb=new zl(this.o),Gl(this,e.idToken),Cl(this.Jb,e),J(this,"refreshToken",this.Jb.tb),Hl(this,n||{}),G.call(this),this.Qd=!1,this.Bb&&(this.$=xl(this.Bb,this.ma,this.ab)),this.Xd=[]};t(Il,G);var Gl=function(t,e){t.Jf=e,J(t,"_lat",e)},Jl=function(t,e){Qa(t.Xd,function(t){return t==e})},Kl=function(t){for(var e=[],n=0;n<t.Xd.length;n++)e.push(t.Xd[n](t));return Fd(e).then(function(){return t})},Ll=function(t){t.$&&!t.Qd&&(t.Qd=!0,t.$.subscribe(t))},Hl=function(t,e){Ff(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,isAnonymous:e.isAnonymous||!1,providerData:[]})};J(Il.prototype,"providerId","firebase");var Ml=function(){},Nl=function(t){return D().then(function(){if(t.Mg)throw new K("app-deleted")})},Ol=function(t){return Ia(t.providerData,function(t){return t.providerId})},Ql=function(t,e){e&&(Pl(t,e.providerId),t.providerData.push(e))},Pl=function(t,e){Qa(t.providerData,function(t){return t.providerId==e})},Rl=function(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&J(t,e,n)};Il.prototype.copy=function(t){var e=this;e!=t&&(Ff(this,{uid:t.uid,displayName:t.displayName,photoURL:t.photoURL,email:t.email,emailVerified:t.emailVerified,isAnonymous:t.isAnonymous,providerData:[]}),Ga(t.providerData,function(t){Ql(e,t)}),this.Jb=t.Jb,J(this,"refreshToken",this.Jb.tb))},Il.prototype.reload=function(){var t=this;return Nl(this).then(function(){return Sl(t).then(function(){return Kl(t)}).then(Ml)})};var Sl=function(t){return t.getToken().then(function(e){var n=t.isAnonymous;return Tl(t,e).then(function(){return n||Rl(t,"isAnonymous",!1),e}).Ha(function(e){throw"auth/user-token-expired"==e.code&&(t.dispatchEvent(new Fl("userDeleted")),t.destroy()),e})})};Il.prototype.getToken=function(t){var e=this;return Nl(this).then(function(){return e.Jb.getToken(t)}).then(function(t){if(!t)throw new K("internal-error");return t.accessToken!=e.Jf&&(Gl(e,t.accessToken),e.Fb()),Rl(e,"refreshToken",t.refreshToken),t.accessToken})};var Ul=function(t,e){e.idToken&&t.Jf!=e.idToken&&(Cl(t.Jb,e),t.Fb(),Gl(t,e.idToken))};Il.prototype.Fb=function(){this.dispatchEvent(new Fl("tokenChanged"))};var Tl=function(t,e){return L(t.o,Ig,{idToken:e}).then(r(t.Fh,t))};Il.prototype.Fh=function(t){if(t=t.users,!t||!t.length)throw new K("internal-error");t=t[0],Hl(this,{uid:t.localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified});for(var e=Vl(t),n=0;n<e.length;n++)Ql(this,e[n]);Rl(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length))};var Vl=function(t){return(t=t.providerUserInfo)&&t.length?Ia(t,function(t){return new El(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl)}):[]};Il.prototype.reauthenticate=function(t){var e=this;return this.v(t.Bd(this.o).then(function(t){var n;t:{var i=t.idToken.split(".");if(3==i.length){for(var i=i[1],r=(4-i.length%4)%4,o=0;r>o;o++)i+=".";try{var a=sc(yb(i));if(a.sub&&a.iss&&a.aud&&a.exp){n=new Lf(a);break t}}catch(s){}}n=null}if(!n||e.uid!=n.wh)throw new K("user-mismatch");return Ul(e,t),e.reload()}))};var Wl=function(t,e){return Sl(t).then(function(){return Na(Ol(t),e)?Kl(t).then(function(){throw new K("provider-already-linked")}):void 0})};h=Il.prototype,h.link=function(t){var e=this;return this.v(Wl(this,t.provider).then(function(){return e.getToken()}).then(function(n){return t.Lf(e.o,n)}).then(r(this.vf,this)))},h.vf=function(t){Ul(this,t);var e=this;return this.reload().then(function(){return e})},h.updateEmail=function(t){var e=this;return this.v(this.getToken().then(function(n){return e.o.updateEmail(n,t)}).then(function(t){return Ul(e,t),e.reload()}))},h.updatePassword=function(t){var e=this;return this.v(this.getToken().then(function(n){return e.o.updatePassword(n,t)}).then(function(t){return Ul(e,t),e.reload()}))},h.updateProfile=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return Nl(this);var e=this;return this.v(this.getToken().then(function(n){return e.o.updateProfile(n,{displayName:t.displayName,photoUrl:t.photoURL})}).then(function(t){return Ul(e,t),Rl(e,"displayName",t.displayName||null),Rl(e,"photoURL",t.photoUrl||null),Kl(e)}).then(Ml))},h.unlink=function(t){var e=this;return this.v(Sl(this).then(function(n){return Na(Ol(e),t)?yg(e.o,n,[t]).then(function(t){var n=new xe;return Ga(t.providerUserInfo||[],function(t){n.add(t.providerId)}),Ga(Ol(e),function(t){n.contains(t)||Pl(e,t)}),Kl(e)}):Kl(e).then(function(){throw new K("no-such-provider")})}))},h["delete"]=function(){var t=this;return this.v(this.getToken().then(function(e){return L(t.o,Hg,{idToken:e})}).then(function(){t.dispatchEvent(new Fl("userDeleted"))})).then(function(){t.destroy()})},h.pf=function(t,e){return"linkViaPopup"==t&&(this.qb||null)==e&&this.Xa||"linkViaRedirect"==t&&(this.Sd||null)==e?!0:!1},h.Yb=function(t,e,n,i){"linkViaPopup"==t&&i==(this.qb||null)&&(n&&this.Vb?this.Vb(n):e&&!n&&this.Xa&&this.Xa(e),this.Wb&&(this.Wb.cancel(),this.Wb=null),delete this.Xa,delete this.Vb)},h.Qc=function(t,e){return"linkViaPopup"==t&&e==(this.qb||null)||"linkViaRedirect"==t&&(this.Sd||null)==e?r(this.Sg,this):null},h.Ad=function(){return this.uid+":::"+Math.floor(1e9*Math.random()).toString()},h.linkWithPopup=function(t){var e=this,n=Jf(t.providerId),i=yf(n&&n.kd,n&&n.jd),r=this.Ad(),n=Wl(this,t.providerId).then(function(){return Kl(e)}).then(function(){return e.nc(),e.getToken()}).then(function(){return tl(e.$,i,"linkViaPopup",t,r)}).then(function(t){return new C(function(n,i){e.Yb("linkViaPopup",null,new K("cancelled-popup-request"),e.qb||null),e.Xa=n,e.Vb=i,e.qb=r,e.Wb=vl(e,"linkViaPopup",t,r)})}).then(function(t){return i&&(i||window).close(),t}).Ha(function(t){throw i&&(i||window).close(),t});return this.v(n)},h.linkWithRedirect=function(t){var e=this,n=null,i=this.Ad(),r=Wl(this,t.providerId).then(function(){return e.nc(),e.getToken()}).then(function(){return e.Sd=i,Kl(e)}).then(function(t){return e.Xb&&(t=e.ma+":"+e.ab,t=Xl(e.Xb,Yl,e.Ra(),t)),t}).then(function(){return ul(e.$,"linkViaRedirect",t,i)}).Ha(function(t){if(n=t,e.Xb)return Zl(e.Xb,Yl,e.ma+":"+e.ab);throw n}).then(function(){if(n)throw n});return this.v(r)},h.nc=function(){if(this.$&&this.Qd)return this.$;if(this.$&&!this.Qd)throw new K("internal-error");throw new K("auth-domain-config-required")},h.Sg=function(t,e){var n=this,i=null,r=this.getToken().then(function(i){return L(n.o,Pf,{requestUri:t,sessionId:e,idToken:i})}).then(function(t){return i=$f(t),n.vf(t)}).then(function(t){return{user:t,credential:i}});return this.v(r)},h.sendEmailVerification=function(){var t=this;return this.v(this.getToken().then(function(e){return t.o.sendEmailVerification(e)}).then(function(e){return t.email!=e?t.reload():void 0}).then(function(){}))},h.destroy=function(){for(var t=0;t<this.Qa.length;t++)this.Qa[t].cancel("app-deleted");this.Qa=[],this.Mg=!0,J(this,"refreshToken",null),this.$&&this.$.unsubscribe(this)},h.v=function(t){var e=this;return this.Qa.push(t),Jd(t,function(){Pa(e.Qa,t)}),t},h.Ra=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,isAnonymous:this.isAnonymous,providerData:[],apiKey:this.ma,appName:this.ab,authDomain:this.Bb,stsTokenManager:this.Jb.Ra(),redirectEventId:this.Sd||null};return Ga(this.providerData,function(e){t.providerData.push(Gf(e))}),t};var $l=function(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName},n={};if(!(t.stsTokenManager&&t.stsTokenManager.accessToken&&t.stsTokenManager.refreshToken&&t.stsTokenManager.expirationTime))return null;n.idToken=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken,n.expiresIn=(t.stsTokenManager.expirationTime-oa())/1e3;var i=new Il(e,n,t);return t.providerData&&Ga(t.providerData,function(t){if(t){var e={};Ff(e,t),Ql(i,e)}}),t.redirectEventId&&(i.Sd=t.redirectEventId),i},am=function(t,e,n){var i=new Il(t,e);return n&&(i.Xb=n),i.reload().then(function(){return i})},bm,cm=function(t,e,n,i,r){this.Lg=t,this.Ge=e,this.te=n,this.rg=i,this.wb=r,this.Jd={},this.nd=[],this.hd=0},dm=function(t){return D(Uk(t.Lg,t.wb,function(e,n){n.createObjectStore(t.Ge,{keyPath:t.te})}))},em=function(t){return t.Gf||(t.Gf=dm(t)),t.Gf},fm=function(t,e,n){var i,r=[t.Ge];n=n?"readwrite":"readonly";try{var o=n?e.Ja.transaction(r,n):e.Ja.transaction(r);i=new Qk(o,e)}catch(a){throw Ik(a,"creating transaction")}return i.objectStore(t.Ge)};cm.prototype.set=function(t,e){var n,i=!1,r=this;return Jd(em(this).then(function(e){return n=e,fm(r,n,!0).get(t)}).then(function(o){var a=fm(r,n,!0);return o?(o.value=e,a.put(o)):(r.hd++,i=!0,o={},o[r.te]=t,o[r.rg]=e,a.add(o))}).then(function(){r.Jd[t]=e}),function(){i&&r.hd--})},cm.prototype.get=function(t){var e=this;return em(this).then(function(n){return fm(e,n,!1).get(t)})},cm.prototype.remove=function(t){var e=!1,n=this;return Jd(em(this).then(function(i){return e=!0,n.hd++,fm(n,i,!0).remove(t)}).then(function(){delete n.Jd[t]}),function(){e&&n.hd--})},cm.prototype.ci=function(){var t=this;return em(this).then(function(e){return fm(t,e,!1).getAll()}).then(function(e){var n={},i=[];if(0==t.hd){for(i=0;i<e.length;i++)n[e[i][t.te]]=e[i][t.rg];i=xf(t.Jd,n),t.Jd=n}return i})};var gm=function(t,e){Qa(t.nd,function(t){return t==e}),0==t.nd.length&&t.Yd()};cm.prototype.af=function(){var t=this;this.Yd();var e=function(){return t.Ke=Oe(1e3).then(r(t.ci,t)).then(function(e){0<e.length&&Ga(t.nd,function(t){t(e)})}).then(e).Ha(function(t){"STOP_EVENT"!=t.message&&e()}),t.Ke};e()},cm.prototype.Yd=function(){this.Ke&&this.Ke.cancel("STOP_EVENT")};var Yl={name:"redirectUser",nb:!1},hm={name:"sessionId",nb:!1},im={name:"authEvent",nb:!0},jm={name:"authUser",nb:!0},km=function(t,e,n,i,o){if(this.Ah=t,this.ig=e,this.dd=i,this.Sh=o,!Zk(new $k)||!Zk(new al))throw new K("web-storage-unsupported");this.Oa={},this.Wc=n,this.Mf=r(this.xh,this),this.Ff=r(this.qh,this)},lm,mm=function(){if(!lm){var t;bm||(bm=new cm("firebaseLocalStorageDb","firebaseLocalStorage","fbase_key","value",1)),t=bm;var e=y&&!!ub&&11==ub||/Edge\/\d+/.test(db),n=navigator.userAgent.toLowerCase();lm=new km("firebase",":",t,e,-1!=n.indexOf("safari")&&-1==n.indexOf("chrome")&&window!=window.top?!0:!1)}return lm},nm=function(t,e){var n;return e?(t.Yf||(n=new $k,n=Zk(n)?n:null,t.Yf=new Vk(n)),n=t.Yf):(t.ng||(n=new al,n=Zk(n)?n:null,t.ng=new Vk(n)),n=t.ng),n};km.prototype.ka=function(t,e){return this.Ah+this.ig+t.name+(e?this.ig+e:"")};var om=function(t,e,n){return t.dd&&e.nb?t.Wc.get(t.ka(e,n)).then(function(t){return t&&t.value}):D(nm(t,e.nb).get(t.ka(e,n)))},Zl=function(t,e,n){return t.dd&&e.nb?t.Wc.remove(t.ka(e,n)):(nm(t,e.nb).remove(t.ka(e,n)),D())},Xl=function(t,e,n,i){return t.dd&&e.nb?t.Wc.set(t.ka(e,i),n):(nm(t,e.nb).set(t.ka(e,i),n),D())};km.prototype.ye=function(t){return om(this,hm,t)},km.prototype.ef=function(t,e){pm(this,this.ka(im,t),e)};var qm=function(t,e){return om(t,jm,e).then(function(t){return $l(t||{})})},rm=function(t,e){return om(t,Yl,e).then(function(t){return $l(t||{})})},pm=function(t,e,n){Za(t.Oa)&&t.af(),t.Oa[e]||(t.Oa[e]=[]),t.Oa[e].push(n)},sm=function(t,e,n){t.Oa[e]&&(Qa(t.Oa[e],function(t){return t==n}),0==t.Oa[e].length&&delete t.Oa[e]),Za(t.Oa)&&t.Yd()};h=km.prototype,h.af=function(){if(this.dd){var t=this.Wc,e=this.Ff;0==t.nd.length&&t.af(),t.nd.push(e)}else dc(window,"storage",this.Mf)},h.Yd=function(){this.dd?gm(this.Wc,this.Ff):lc(window,"storage",this.Mf)},h.xh=function(t){var e=t.yd.key;if(this.Sh){var n=window.localStorage.getItem(e);t=t.yd.newValue,t!=n&&(t?window.localStorage.setItem(e,t):t||window.localStorage.removeItem(e))}this.nf(e)},h.qh=function(t){Ga(t,r(this.nf,this))},h.nf=function(t){this.Oa[t]&&Ga(this.Oa[t],function(t){t()})};var xm=function(t){if(this.tf=!1,J(this,"app",t),this.ac=mm(),this.Ac=mm(),!tm(this).options||!tm(this).options.apiKey)throw new K("invalid-api-key");t=firebase.SDK_VERSION?Cf(firebase.SDK_VERSION):null,this.o=new M(tm(this).options&&tm(this).options.apiKey,null,t),this.Qa=[],this.Nc=[],this.Bh=firebase.INTERNAL.createSubscribe(r(this.rh,this)),um(this,null),this.hc=vm(this),this.Yc=!1,this.zf=r(this.bi,this),this.pg=r(this.uc,this),this.qg=r(this.jh,this),this.og=r(this.ih,this),wm(this),this.INTERNAL={},this.INTERNAL["delete"]=r(this["delete"],this)};xm.prototype.nc=function(){return this.Qg||Bd(new K("auth-domain-config-required"))};var wm=function(t){var e=tm(t).options.authDomain,n=tm(t).options.apiKey;e&&(t.Qg=t.hc.then(function(){return t.$=xl(e,n,tm(t).name),t.$.subscribe(t),Z(t)&&Ll(Z(t)),t.Re&&(Ll(t.Re),t.Re=null),t.$}))};h=xm.prototype,h.pf=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.qb==e&&!!this.Xa;default:return!1}},h.Yb=function(t,e,n,i){"signInViaPopup"==t&&this.qb==i&&(n&&this.Vb?this.Vb(n):e&&!n&&this.Xa&&this.Xa(e),this.Wb&&(this.Wb.cancel(),this.Wb=null),delete this.Xa,delete this.Vb)},h.Qc=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.qb==e&&this.Xa?r(this.Tg,this):null},h.Tg=function(t,e){var n=this,i=null,r=Nf(n.o,{requestUri:t,sessionId:e}).then(function(t){return i=$f(t),t}),o=n.hc.then(function(){return r}).then(function(t){return ym(n,t)}).then(function(){return{user:Z(n),credential:i}});return this.v(o)},h.Ad=function(){return Math.floor(1e9*Math.random()).toString()},h.signInWithPopup=function(t){var e=this,n=Jf(t.providerId),i=yf(n&&n.kd,n&&n.jd),r=this.Ad(),n=this.nc().then(function(e){return tl(e,i,"signInViaPopup",t,r)}).then(function(t){return new C(function(n,i){e.Yb("signInViaPopup",null,new K("cancelled-popup-request"),e.qb),e.Xa=n,e.Vb=i,e.qb=r,e.Wb=vl(e,"signInViaPopup",t,r)})}).then(function(t){return i&&(i||window).close(),t}).Ha(function(t){throw i&&(i||window).close(),t});return this.v(n)},h.signInWithRedirect=function(t){var e=this,n=this.nc().then(function(){return ul(e.$,"signInViaRedirect",t)});return this.v(n)},h.getRedirectResult=function(){var t=this,e=this.nc().then(function(){return t.$.getRedirectResult()});return this.v(e)};var ym=function(t,e){var n={};return n.apiKey=tm(t).options.apiKey,n.authDomain=tm(t).options.authDomain,n.appName=tm(t).name,t.hc.then(function(){return am(n,e,t.Ac)}).then(function(e){return Z(t)&&e.uid==Z(t).uid?(Z(t).copy(e),t.uc(e)):(um(t,e),Ll(e),t.uc(e))}).then(function(){t.Fb()})},um=function(t,e){Z(t)&&(Jl(Z(t),t.pg),lc(Z(t),"tokenChanged",t.qg),lc(Z(t),"userDeleted",t.og)),e&&(e.Xd.push(t.pg),dc(e,"tokenChanged",t.qg),dc(e,"userDeleted",t.og)),J(t,"currentUser",e)};xm.prototype.signOut=function(){var t=this,e=this.hc.then(function(){return Z(t)?(um(t,null),Zl(t.ac,jm,zm(t)).then(function(){t.Fb()})):D()});return this.v(e)};var Am=function(t){var e=zm(t),n=rm(t.Ac,e).then(function(n){return(t.Re=n)&&(n.Xb=t.Ac),Zl(t.Ac,Yl,e)});return t.v(n)},vm=function(t){var e=zm(t),n=Jd(Am(t).then(function(){return qm(t.ac,e)}).then(function(n){return n?(n.Xb=t.Ac,n.reload().then(function(){return n}).Ha(function(i){return"auth/network-request-failed"==i.code?n:Zl(t.ac,jm,e)})):null}).then(function(e){um(t,e||null),t.Yc=!0,t.Fb()}),function(){if(!t.tf){t.Yc=!0;var n=t.ac;pm(n,n.ka(jm,e),t.zf)}});return t.v(n)};xm.prototype.bi=function(){var t=this;return qm(this.ac,zm(this)).then(function(e){var n;if(n=Z(t)&&e){n=Z(t).uid;var i=e.uid;n=void 0===n||null===n||""===n||void 0===i||null===i||""===i?!1:n==i}return n?(Z(t).copy(e),Z(t).getToken()):(um(t,e),e&&(Ll(e),e.Xb=t.Ac),t.$.subscribe(t),void t.Fb())})},xm.prototype.uc=function(t){var e=zm(this);return Xl(this.ac,jm,t.Ra(),e)},xm.prototype.jh=function(){this.Yc=!0,this.Fb(),this.uc(Z(this))},xm.prototype.ih=function(){this.signOut()};var Bm=function(t,e){return t.v(e.then(function(e){return ym(t,e)}).then(function(){return Z(t)}))};h=xm.prototype,h.rh=function(t){var e=this;this.addAuthTokenListener(function(){t.next(Z(e))})},h.onAuthStateChanged=function(t,e,n){var i=this;return this.Yc&&firebase.Promise.resolve().then(function(){p(t)?t(Z(i)):p(t.next)&&t.next(Z(i))}),this.Bh(t,e,n)},h.getToken=function(t){var e=this,n=this.hc.then(function(){return Z(e)?Z(e).getToken(t).then(function(t){return{accessToken:t}}):null});return this.v(n)},h.signInWithCustomToken=function(t){var e=this;return Bm(this,L(this.o,Jg,{token:t})).then(function(t){return Rl(t,"isAnonymous",!1),e.uc(t)}).then(function(){return Z(e)})},h.signInWithEmailAndPassword=function(t,e){return Bm(this,L(this.o,Wf,{email:t,password:e}))
},h.createUserWithEmailAndPassword=function(t,e){return Bm(this,L(this.o,Gg,{email:t,password:e}))},h.signInWithCredential=function(t){return Bm(this,t.Bd(this.o))},h.signInAnonymously=function(){var t=Z(this),e=this;return t&&t.isAnonymous?D(t):Bm(this,this.o.signInAnonymously()).then(function(t){return Rl(t,"isAnonymous",!0),e.uc(t)}).then(function(){return Z(e)})};var zm=function(t){return tm(t).options.apiKey+":"+tm(t).name},tm=function(t){return t.app},Z=function(t){return t.currentUser};h=xm.prototype,h.Fb=function(){for(var t=0;t<this.Nc.length;t++)this.Nc[t]&&this.Nc[t](Z(this)&&Z(this)._lat||null)},h.addAuthTokenListener=function(t){this.Nc.push(t);var e=this;this.Yc&&this.hc.then(function(){t(Z(e)&&Z(e)._lat||null)})},h.removeAuthTokenListener=function(t){Qa(this.Nc,function(e){return e==t})},h["delete"]=function(){this.tf=!0;for(var t=0;t<this.Qa.length;t++)this.Qa[t].cancel("app-deleted");this.Qa=[],t=this.ac,sm(t,t.ka(jm,zm(this)),this.zf),this.$&&this.$.unsubscribe(this)},h.v=function(t){var e=this;return this.Qa.push(t),Jd(t,function(){Pa(e.Qa,t)}),t},h.fetchProvidersForEmail=function(t){return this.v(og(this.o,t))},h.verifyPasswordResetCode=function(t){return this.checkActionCode(t).then(function(t){return t.data.email})},h.confirmPasswordReset=function(t,e){return this.v(this.o.confirmPasswordReset(t,e).then(function(){}))},h.checkActionCode=function(t){return this.v(this.o.checkActionCode(t).then(function(t){return{data:{email:t.email}}}))},h.applyActionCode=function(t){return this.v(this.o.applyActionCode(t).then(function(){}))},h.sendPasswordResetEmail=function(t){return this.v(this.o.sendPasswordResetEmail(t).then(function(){}))},jl(xm.prototype,{applyActionCode:{name:"applyActionCode",j:[Y("code")]},checkActionCode:{name:"checkActionCode",j:[Y("code")]},confirmPasswordReset:{name:"confirmPasswordReset",j:[Y("code"),Y("newPassword")]},createUserWithEmailAndPassword:{name:"createUserWithEmailAndPassword",j:[Y("email"),Y("password")]},fetchProvidersForEmail:{name:"fetchProvidersForEmail",j:[Y("email")]},getRedirectResult:{name:"getRedirectResult",j:[]},onAuthStateChanged:{name:"onAuthStateChanged",j:[hl(cl(),dl(),"nextOrObserver"),dl("opt_error",!0),dl("opt_completed",!0)]},sendPasswordResetEmail:{name:"sendPasswordResetEmail",j:[Y("email")]},signInAnonymously:{name:"signInAnonymously",j:[]},signInWithCredential:{name:"signInWithCredential",j:[fl()]},signInWithCustomToken:{name:"signInWithCustomToken",j:[Y("token")]},signInWithEmailAndPassword:{name:"signInWithEmailAndPassword",j:[Y("email"),Y("password")]},signInWithPopup:{name:"signInWithPopup",j:[gl()]},signInWithRedirect:{name:"signInWithRedirect",j:[gl()]},signOut:{name:"signOut",j:[]},verifyPasswordResetCode:{name:"verifyPasswordResetCode",j:[Y("code")]}}),jl(Il.prototype,{"delete":{name:"delete",j:[]},getToken:{name:"getToken",j:[{name:"opt_forceRefresh",$a:"a boolean",optional:!0,Ia:function(t){return"boolean"==typeof t}}]},link:{name:"link",j:[fl()]},linkWithPopup:{name:"linkWithPopup",j:[gl()]},linkWithRedirect:{name:"linkWithRedirect",j:[gl()]},reauthenticate:{name:"reauthenticate",j:[fl()]},reload:{name:"reload",j:[]},sendEmailVerification:{name:"sendEmailVerification",j:[]},unlink:{name:"unlink",j:[Y("provider")]},updateEmail:{name:"updateEmail",j:[Y("email")]},updatePassword:{name:"updatePassword",j:[Y("password")]},updateProfile:{name:"updateProfile",j:[cl("profile")]}}),jl(C.prototype,{Ha:{name:"catch"},then:{name:"then"}}),kl(Yf,"credential",function(t,e){return new Vf(t,e)},[Y("email"),Y("password")]),jl(Rf.prototype,{addScope:{name:"addScope",j:[Y("scope")]}}),kl(Rf,"credential",Rf.credential,[hl(Y(),cl(),"token")]),jl(Sf.prototype,{addScope:{name:"addScope",j:[Y("scope")]}}),kl(Sf,"credential",Sf.credential,[hl(Y(),cl(),"token")]),jl(Tf.prototype,{addScope:{name:"addScope",j:[Y("scope")]}}),kl(Tf,"credential",Tf.credential,[hl(Y(),hl(cl(),el()),"idToken"),hl(Y(),el(),"accessToken",!0)]),kl(Uf,"credential",Uf.credential,[hl(Y(),cl(),"token"),Y("secret",!0)]),function(){if("undefined"==typeof firebase||!firebase.INTERNAL||!firebase.INTERNAL.registerService)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={Auth:xm,Error:K};kl(t,"EmailAuthProvider",Yf,[]),kl(t,"FacebookAuthProvider",Rf,[]),kl(t,"GithubAuthProvider",Sf,[]),kl(t,"GoogleAuthProvider",Tf,[]),kl(t,"TwitterAuthProvider",Uf,[]),firebase.INTERNAL.registerService("auth",function(t,e){var n=new xm(t);return e({INTERNAL:{getToken:r(n.getToken,n),addAuthTokenListener:r(n.addAuthTokenListener,n),removeAuthTokenListener:r(n.removeAuthTokenListener,n)}}),n},t),firebase.INTERNAL.registerAppHook(function(t,e){"create"===t&&e.auth()}),firebase.INTERNAL.extendNamespace({User:Il})}()}(),function(){function p(t){return void 0!==t}function aa(){}function ba(t){t.Wb=function(){return t.$e?t.$e:t.$e=new t}}function ca(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&"undefined"!=typeof t.splice&&"undefined"!=typeof t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||"undefined"!=typeof t.call&&"undefined"!=typeof t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&"undefined"==typeof t.call)return"object";return e}function da(t){return"array"==ca(t)}function ea(t){var e=ca(t);return"array"==e||"object"==e&&"number"==typeof t.length}function q(t){return"string"==typeof t}function fa(t){return"number"==typeof t}function ga(t){return"function"==ca(t)}function ha(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function ia(t){return t.call.apply(t.bind,arguments)}function ja(t,e){if(!t)throw Error();if(2<arguments.length){var n=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,n),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function r(){return r=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ia:ja,r.apply(null,arguments)}function ka(t,e){function n(){}n.prototype=e.prototype,t.Eg=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Bg=function(t,n){for(var i=Array(arguments.length-2),r=2;r<arguments.length;r++)i[r-2]=arguments[r];return e.prototype[n].apply(t,i)}}function la(){this.Xa=-1}function ma(){this.Xa=-1,this.Xa=64,this.N=[],this.Wd=[],this.Hf=[],this.zd=[],this.zd[0]=128;for(var t=1;t<this.Xa;++t)this.zd[t]=0;this.Pd=this.ac=0,this.reset()}function na(t,e,n){n||(n=0);var i=t.Hf;if(q(e))for(var r=0;16>r;r++)i[r]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(r=0;16>r;r++)i[r]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(r=16;80>r;r++){var o=i[r-3]^i[r-8]^i[r-14]^i[r-16];i[r]=4294967295&(o<<1|o>>>31)}e=t.N[0],n=t.N[1];for(var a,s=t.N[2],c=t.N[3],u=t.N[4],r=0;80>r;r++)40>r?20>r?(o=c^n&(s^c),a=1518500249):(o=n^s^c,a=1859775393):60>r?(o=n&s|c&(n|s),a=2400959708):(o=n^s^c,a=3395469782),o=(e<<5|e>>>27)+o+u+a+i[r]&4294967295,u=c,c=s,s=4294967295&(n<<30|n>>>2),n=e,e=o;t.N[0]=t.N[0]+e&4294967295,t.N[1]=t.N[1]+n&4294967295,t.N[2]=t.N[2]+s&4294967295,t.N[3]=t.N[3]+c&4294967295,t.N[4]=t.N[4]+u&4294967295}function t(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function oa(t,e){var n,i={};for(n in t)i[n]=e.call(void 0,t[n],n,t);return i}function pa(t,e){for(var n in t)if(!e.call(void 0,t[n],n,t))return!1;return!0}function qa(t){var e,n=0;for(e in t)n++;return n}function ra(t){for(var e in t)return e}function sa(t){var e,n=[],i=0;for(e in t)n[i++]=t[e];return n}function ta(t){var e,n=[],i=0;for(e in t)n[i++]=e;return n}function ua(t,e){for(var n in t)if(t[n]==e)return!0;return!1}function va(t,e,n){for(var i in t)if(e.call(n,t[i],i,t))return i}function wa(t,e){var n=va(t,e,void 0);return n&&t[n]}function xa(t){for(var e in t)return!1;return!0}function ya(t){var e,n={};for(e in t)n[e]=t[e];return n}function za(a){if(a=String(a),/^\s*$/.test(a)?0:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+a+")")}catch(b){}throw Error("Invalid JSON string: "+a)}function Aa(){this.Fd=void 0}function Ba(t,e,n){switch(typeof e){case"string":Ca(e,n);break;case"number":n.push(isFinite(e)&&!isNaN(e)?e:"null");break;case"boolean":n.push(e);break;case"undefined":n.push("null");break;case"object":if(null==e){n.push("null");break}if(da(e)){var i=e.length;n.push("[");for(var r="",o=0;i>o;o++)n.push(r),r=e[o],Ba(t,t.Fd?t.Fd.call(e,String(o),r):r,n),r=",";n.push("]");break}n.push("{"),i="";for(o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r=e[o],"function"!=typeof r&&(n.push(i),Ca(o,n),n.push(":"),Ba(t,t.Fd?t.Fd.call(e,o,r):r,n),i=","));n.push("}");break;case"function":break;default:throw Error("Unknown type: "+typeof e)}}function Ca(t,e){e.push('"',t.replace(Ea,function(t){if(t in Da)return Da[t];var e=t.charCodeAt(0),n="\\u";return 16>e?n+="000":256>e?n+="00":4096>e&&(n+="0"),Da[t]=n+e.toString(16)}),'"')}function Ha(t){if(Error.captureStackTrace)Error.captureStackTrace(this,Ha);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function Oa(t,e){var n=Pa(t,e,void 0);return 0>n?null:q(t)?t.charAt(n):t[n]}function Pa(t,e,n){for(var i=t.length,r=q(t)?t.split(""):t,o=0;i>o;o++)if(o in r&&e.call(n,r[o],o,t))return o;return-1}function Qa(t,e){var n=Ia(t,e);n>=0&&w.splice.call(t,n,1)}function Ra(t,e,n){return 2>=arguments.length?w.slice.call(t,e):w.slice.call(t,e,n)}function Sa(t,e){t.sort(e||Ta)}function Ta(t,e){return t>e?1:e>t?-1:0}function ab(t,e){if(!ea(t))throw Error("encodeByteArray takes an array as a parameter");bb();for(var n=e?Za:Ya,i=[],r=0;r<t.length;r+=3){var o=t[r],a=r+1<t.length,s=a?t[r+1]:0,c=r+2<t.length,u=c?t[r+2]:0,l=o>>2,o=(3&o)<<4|s>>4,s=(15&s)<<2|u>>6,u=63&u;c||(u=64,a||(s=64)),i.push(n[l],n[o],n[s],n[u])}return i.join("")}function bb(){if(!Ya){Ya={},Za={},$a={};for(var t=0;65>t;t++)Ya[t]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(t),Za[t]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(t),$a[Za[t]]=t,t>=62&&($a["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(t)]=t)}}function cb(t){n.setTimeout(function(){throw t},0)}function eb(){var t=n.MessageChannel;if("undefined"==typeof t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&-1==v.indexOf("Presto")&&(t=function(){var t=document.createElement("iframe");t.style.display="none",t.src="",document.documentElement.appendChild(t);var e=t.contentWindow,t=e.document;t.open(),t.write(""),t.close();var n="callImmediate"+Math.random(),i="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host,t=r(function(t){"*"!=i&&t.origin!=i||t.data!=n||this.port1.onmessage()},this);e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,i)}}}),"undefined"!=typeof t&&-1==v.indexOf("Trident")&&-1==v.indexOf("MSIE")){var e=new t,i={},o=i;return e.port1.onmessage=function(){if(p(i.next)){i=i.next;var t=i.Ke;i.Ke=null,t()}},function(t){o.next={Ke:t},o=o.next,e.port2.postMessage(0)}}return"undefined"!=typeof document&&"onreadystatechange"in document.createElement("script")?function(t){var e=document.createElement("script");e.onreadystatechange=function(){e.onreadystatechange=null,e.parentNode.removeChild(e),e=null,t(),t=null},document.documentElement.appendChild(e)}:function(t){n.setTimeout(t,0)}}function fb(t,e){gb||hb(),ib||(gb(),ib=!0),jb.push(new kb(t,e))}function hb(){if(n.Promise&&n.Promise.resolve){var t=n.Promise.resolve();gb=function(){t.then(lb)}}else gb=function(){var t=lb;!ga(n.setImmediate)||n.Window&&n.Window.prototype&&n.Window.prototype.setImmediate==n.setImmediate?(db||(db=eb()),db(t)):n.setImmediate(t)}}function lb(){for(;jb.length;){var t=jb;jb=[];for(var e=0;e<t.length;e++){var n=t[e];try{n.Uf.call(n.scope)}catch(i){cb(i)}}}ib=!1}function kb(t,e){this.Uf=t,this.scope=e}function mb(t,e){if(this.L=nb,this.sf=void 0,this.Ca=this.Ha=null,this.jd=this.be=!1,t==ob)pb(this,qb,e);else try{var n=this;t.call(e,function(t){pb(n,qb,t)},function(t){if(!(t instanceof rb))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(e){}pb(n,sb,t)})}catch(i){pb(this,sb,i)}}function ob(){}function ub(t,e){if(t.L==nb)if(t.Ha){var n=t.Ha;if(n.Ca){for(var i,r=0,o=-1,a=0;(i=n.Ca[a])&&!((i=i.m)&&(r++,i==t&&(o=a),o>=0&&r>1));a++);o>=0&&(n.L==nb&&1==r?ub(n,e):(r=n.Ca.splice(o,1)[0],vb(n,r,sb,e)))}t.Ha=null}else pb(t,sb,e)}function wb(t,e){t.Ca&&t.Ca.length||t.L!=qb&&t.L!=sb||xb(t),t.Ca||(t.Ca=[]),t.Ca.push(e)}function tb(t,e,n,i){var r={m:null,ff:null,hf:null};return r.m=new mb(function(t,o){r.ff=e?function(n){try{var r=e.call(i,n);t(r)}catch(a){o(a)}}:t,r.hf=n?function(e){try{var r=n.call(i,e);!p(r)&&e instanceof rb?o(e):t(r)}catch(a){o(a)}}:o}),r.m.Ha=t,wb(t,r),r.m}function pb(t,e,n){if(t.L==nb){if(t==n)e=sb,n=new TypeError("Promise cannot resolve to itself");else{var i;if(n)try{i=!!n.$goog_Thenable}catch(r){i=!1}else i=!1;if(i)return t.L=1,void n.then(t.Af,t.Bf,t);if(ha(n))try{var o=n.then;if(ga(o))return void yb(t,n,o)}catch(a){e=sb,n=a}}t.sf=n,t.L=e,t.Ha=null,xb(t),e!=sb||n instanceof rb||zb(t,n)}}function yb(t,e,n){function i(e){o||(o=!0,t.Bf(e))}function r(e){o||(o=!0,t.Af(e))}t.L=1;var o=!1;try{n.call(e,r,i)}catch(a){i(a)}}function xb(t){t.be||(t.be=!0,fb(t.Sf,t))}function vb(t,e,n,i){if(n==qb)e.ff(i);else{if(e.m)for(;t&&t.jd;t=t.Ha)t.jd=!1;e.hf(i)}}function zb(t,e){t.jd=!0,fb(function(){t.jd&&Ab.call(null,e)})}function rb(t){Ha.call(this,t)}function Bb(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function x(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0}function Cb(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function y(t,e,n,i){var r;if(e>i?r="at least "+e:i>n&&(r=0===n?"none":"no more than "+n),r)throw Error(t+" failed: Was called with "+i+(1===i?" argument.":" arguments.")+" Expects "+r+".")}function Db(t,e,n){var i="";switch(e){case 1:i=n?"first":"First";break;case 2:i=n?"second":"Second";break;case 3:i=n?"third":"Third";break;case 4:i=n?"fourth":"Fourth";break;default:throw Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return t=t+" failed: "+(i+" argument ")}function A(t,e,n,i){if((!i||p(n))&&!ga(n))throw Error(Db(t,e,i)+"must be a valid function.")}function Eb(t,e,n){if(p(n)&&(!ha(n)||null===n))throw Error(Db(t,e,!0)+"must be a valid context object.")}function Fb(t){var e=[];return Cb(t,function(t,n){da(n)?Ja(n,function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}),e.length?"&"+e.join("&"):""}function Hb(){var t=this;this.reject=this.resolve=null,this.ra=new Gb(function(e,n){t.resolve=e,t.reject=n})}function Ib(t,e){return function(n,i){n?t.reject(n):t.resolve(i),ga(e)&&(Jb(t.ra),1===e.length?e(n):e(n,i))}}function Jb(t){t.then(void 0,aa)}function Kb(t,e){if(!t)throw Lb(e)}function Lb(t){return Error("Firebase Database ("+firebase.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)}function Mb(t){for(var e=[],n=0,i=0;i<t.length;i++){var r=t.charCodeAt(i);r>=55296&&56319>=r&&(r-=55296,i++,Kb(i<t.length,"Surrogate pair missing trail surrogate."),r=65536+(r<<10)+(t.charCodeAt(i)-56320)),128>r?e[n++]=r:(2048>r?e[n++]=r>>6|192:(65536>r?e[n++]=r>>12|224:(e[n++]=r>>18|240,e[n++]=r>>12&63|128),e[n++]=r>>6&63|128),e[n++]=63&r|128)}return e}function Nb(t){for(var e=0,n=0;n<t.length;n++){var i=t.charCodeAt(n);128>i?e++:2048>i?e+=2:i>=55296&&56319>=i?(e+=4,n++):e+=3}return e}function Ob(t){return"undefined"!=typeof JSON&&p(JSON.parse)?JSON.parse(t):za(t)}function B(t){if("undefined"!=typeof JSON&&p(JSON.stringify))t=JSON.stringify(t);else{var e=[];Ba(new Aa,t,e),t=e.join("")}return t}function Pb(t,e){this.committed=t,this.snapshot=e}function Qb(t){this.se=t,this.Bd=[],this.Rb=0,this.Yd=-1,this.Gb=null}function Rb(t,e,n){t.Yd=e,t.Gb=n,t.Yd<t.Rb&&(t.Gb(),t.Gb=null)}function Sb(t,e,n){for(t.Bd[e]=n;t.Bd[t.Rb];){var i=t.Bd[t.Rb];delete t.Bd[t.Rb];for(var r=0;r<i.length;++r)if(i[r]){var o=t;Tb(function(){o.se(i[r])})}if(t.Rb===t.Yd){t.Gb&&(clearTimeout(t.Gb),t.Gb(),t.Gb=null);break}t.Rb++}}function Ub(){this.qc={}}function Vb(t){this.vc=t,this.Cd="firebase:"}function Wb(t){try{if("undefined"!=typeof window&&"undefined"!=typeof window[t]){var e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Vb(e)}}catch(n){}return new Ub}function Zb(t,e,n){this.type=$b,this.source=t,this.path=e,this.Ja=n}function ac(t,e){this.type=bc,this.source=t,this.path=e}function cc(t){this.Ge=t}function dc(t,e){t.Ge.INTERNAL.addAuthTokenListener(e)}function ec(){this.Jd=F}function fc(t,e,n,i,r){this.host=t.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(".")+1),this.Sc=e,this.oe=n,this.zg=i,this.lf=r||"",this.ab=Xb.get("host:"+t)||this.host}function gc(t,e){e!==t.ab&&(t.ab=e,"s-"===t.ab.substr(0,2)&&Xb.set("host:"+t.host,t.ab))}function hc(e,n,i){if(H("string"==typeof n,"typeof type must == string"),H("object"==typeof i,"typeof params must == object"),"websocket"===n)n=(e.Sc?"wss://":"ws://")+e.ab+"/.ws?";else{if("long_polling"!==n)throw Error("Unknown connection type: "+n);n=(e.Sc?"https://":"http://")+e.ab+"/.lp?"}e.host!==e.ab&&(i.ns=e.oe);var r=[];return t(i,function(t,e){r.push(e+"="+t)}),n+r.join("&")}function ic(t,e){this.xf={},this.Vc=new jc(t),this.va=e;var n=1e4+2e4*Math.random();setTimeout(r(this.pf,this),Math.floor(n))}function kc(){this.uc={}}function lc(t,e,n){p(n)||(n=1),Bb(t.uc,e)||(t.uc[e]=0),t.uc[e]+=n}function jc(t){this.Lf=t,this.rd=null}function oc(t){return t=t.toString(),mc[t]||(mc[t]=new kc),mc[t]}function pc(t,e){var n=t.toString();return nc[n]||(nc[n]=e()),nc[n]}function qc(){this.wb=[]}function rc(t,e){for(var n=null,i=0;i<e.length;i++){var r=e[i],o=r.Zb();null===n||o.ca(n.Zb())||(t.wb.push(n),n=null),null===n&&(n=new sc(o)),n.add(r)}n&&t.wb.push(n)}function tc(t,e,n){rc(t,n),uc(t,function(t){return t.ca(e)})}function vc(t,e,n){rc(t,n),uc(t,function(t){return t.contains(e)||e.contains(t)})}function uc(t,e){for(var n=!0,i=0;i<t.wb.length;i++){var r=t.wb[i];if(r)if(r=r.Zb(),e(r)){for(var r=t.wb[i],o=0;o<r.hd.length;o++){var a=r.hd[o];if(null!==a){r.hd[o]=null;var s=a.Ub();wc&&E("event: "+a.toString()),Tb(s)}}t.wb[i]=null}else n=!1}n&&(t.wb=[])}function sc(t){this.qa=t,this.hd=[]}function xc(t,e,n,i){this.ae=e,this.Md=n,this.Dd=i,this.gd=t}function yc(t,e,n){this.ae=t,this.error=e,this.path=n}function zc(){}function Bc(t,e,n){this.Ef=t,this.Na=e,this.yd=n}function I(t,e,n,i){this.type=t,this.Ma=e,this.Ya=n,this.pe=i,this.Dd=void 0}function Fc(t){return new I(Gc,t)}function Dc(t,e,n){this.A=t,this.ea=e,this.Tb=n}function Hc(t){return t.ea}function Ic(t){return t.Tb}function Jc(t,e){return e.e()?t.ea&&!t.Tb:Cc(t,J(e))}function Cc(t,e){return t.ea&&!t.Tb||t.A.Fa(e)}function Kc(t,e){return Lc(t.name,e.name)}function Mc(t,e){return Lc(t,e)}function K(t,e){this.name=t,this.S=e}function Nc(t,e){return new K(t,e)}function Oc(t,e){return t&&"object"==typeof t?(H(".sv"in t,"Unexpected leaf node or priority contents"),e[t[".sv"]]):t}function Pc(t,e){var n=new Qc;return Rc(t,new L(""),function(t,i){Sc(n,t,Tc(i,e))}),n}function Tc(t,e){var n,i=t.C().H(),i=Oc(i,e);if(t.J()){var r=Oc(t.Ea(),e);return r!==t.Ea()||i!==t.C().H()?new Uc(r,M(i)):t}return n=t,i!==t.C().H()&&(n=n.ga(new Uc(i))),t.P(N,function(t,i){var r=Tc(i,e);r!==i&&(n=n.U(t,r))}),n}function Xc(t){try{var e;if("undefined"!=typeof atob)e=atob(t);else{bb();for(var n=$a,i=[],r=0;r<t.length;){var o=n[t.charAt(r++)],a=r<t.length?n[t.charAt(r)]:0;++r;var s=r<t.length?n[t.charAt(r)]:64;++r;var c=r<t.length?n[t.charAt(r)]:64;if(++r,null==o||null==a||null==s||null==c)throw Error();i.push(o<<2|a>>4),64!=s&&(i.push(a<<4&240|s>>2),64!=c&&i.push(s<<6&192|c))}if(8192>i.length)e=String.fromCharCode.apply(null,i);else{for(t="",n=0;n<i.length;n+=8192)t+=String.fromCharCode.apply(null,Ra(i,n,n+8192));e=t}}return e}catch(u){E("base64Decode failed: ",u)}return null}function Yc(t){var e=Mb(t);t=new ma,t.update(e);var e=[],n=8*t.Pd;56>t.ac?t.update(t.zd,56-t.ac):t.update(t.zd,t.Xa-(t.ac-56));for(var i=t.Xa-1;i>=56;i--)t.Wd[i]=255&n,n/=256;for(na(t,t.Wd),i=n=0;5>i;i++)for(var r=24;r>=0;r-=8)e[n]=t.N[i]>>r&255,++n;return ab(e)}function Zc(){for(var t="",e=0;e<arguments.length;e++)t=ea(arguments[e])?t+Zc.apply(null,arguments[e]):"object"==typeof arguments[e]?t+B(arguments[e]):t+arguments[e],t+=" ";return t}function ad(t,e){Kb(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?("undefined"!=typeof console&&("function"==typeof console.log?wc=r(console.log,console):"object"==typeof console.log&&(wc=function(t){console.log(t)})),e&&Yb.set("logging_enabled",!0)):ga(t)?wc=t:(wc=null,Yb.remove("logging_enabled"))}function E(){if(!0===$c&&($c=!1,null===wc&&!0===Yb.get("logging_enabled")&&ad(!0)),wc){var t=Zc.apply(null,arguments);wc(t)}}function bd(t){return function(){E(t,arguments)}}function cd(){if("undefined"!=typeof console){var t="FIREBASE INTERNAL ERROR: "+Zc.apply(null,arguments);"undefined"!=typeof console.error?console.error(t):console.log(t)}}function dd(){var t=Zc.apply(null,arguments);throw Error("FIREBASE FATAL ERROR: "+t)}function O(){if("undefined"!=typeof console){var t="FIREBASE WARNING: "+Zc.apply(null,arguments);"undefined"!=typeof console.warn?console.warn(t):console.log(t)}}function ed(t){var e,n,i,r,o,a=t;if(o=n=t=e="",i=!0,r="https",q(a)){var s=a.indexOf("//");for(s>=0&&(r=a.substring(0,s-1),a=a.substring(s+2)),s=a.indexOf("/"),-1===s&&(s=a.length),e=a.substring(0,s),o="",a=a.substring(s).split("/"),s=0;s<a.length;s++)if(0<a[s].length){var c=a[s];try{c=decodeURIComponent(c.replace(/\+/g," "))}catch(u){}o+="/"+c}a=e.split("."),3===a.length?(t=a[1],n=a[0].toLowerCase()):2===a.length&&(t=a[0]),s=e.indexOf(":"),s>=0&&(i="https"===r||"wss"===r)}return"firebase"===t&&dd(e+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),n&&"undefined"!=n||dd("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),i||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&O("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{kc:new fc(e,i,n,"ws"===r||"wss"===r),path:new L(o)}}function fd(t){return fa(t)&&(t!=t||t==Number.POSITIVE_INFINITY||t==Number.NEGATIVE_INFINITY)}function gd(t){if("complete"===document.readyState)t();else{var e=!1,n=function(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}function Lc(t,e){if(t===e)return 0;if("[MIN_NAME]"===t||"[MAX_NAME]"===e)return-1;if("[MIN_NAME]"===e||"[MAX_NAME]"===t)return 1;var n=hd(t),i=hd(e);return null!==n?null!==i?0==n-i?t.length-e.length:n-i:-1:null!==i?1:e>t?-1:1}function id(t,e){if(e&&t in e)return e[t];throw Error("Missing required key ("+t+") in object: "+B(e))}function jd(t){if("object"!=typeof t||null===t)return B(t);var e,n=[];for(e in t)n.push(e);n.sort(),e="{";for(var i=0;i<n.length;i++)0!==i&&(e+=","),e+=B(n[i]),e+=":",e+=jd(t[n[i]]);return e+"}"}function kd(t,e){if(t.length<=e)return[t];for(var n=[],i=0;i<t.length;i+=e)n.push(i+e>t?t.substring(i,t.length):t.substring(i,i+e));return n}function ld(e,n){if(da(e))for(var i=0;i<e.length;++i)n(i,e[i]);else t(e,n)}function md(t){H(!fd(t),"Invalid JSON number");var e,n,i,r;for(0===t?(i=n=0,e=-1/0===1/t?1:0):(e=0>t,t=Math.abs(t),t>=Math.pow(2,-1022)?(i=Math.min(Math.floor(Math.log(t)/Math.LN2),1023),n=i+1023,i=Math.round(t*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,i=Math.round(t/Math.pow(2,-1074)))),r=[],t=52;t;--t)r.push(i%2?1:0),i=Math.floor(i/2);for(t=11;t;--t)r.push(n%2?1:0),n=Math.floor(n/2);for(r.push(e?1:0),r.reverse(),e=r.join(""),n="",t=0;64>t;t+=8)i=parseInt(e.substr(t,8),2).toString(16),1===i.length&&(i="0"+i),n+=i;return n.toLowerCase()}function hd(t){return nd.test(t)&&(t=Number(t),t>=-2147483648&&2147483647>=t)?t:null}function Tb(t){try{t()}catch(e){setTimeout(function(){throw O("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}}function od(t,e,n){Object.defineProperty(t,e,{get:n})}function pd(t){var e={};try{var n=t.split(".");Ob(Xc(n[0])||""),e=Ob(Xc(n[1])||""),delete e.d}catch(i){}return t=e,"object"==typeof t&&!0===x(t,"admin")}function rd(t,e,n,i){this.Zd=t,this.f=bd(this.Zd),this.frames=this.Ac=null,this.qb=this.rb=this.Ee=0,this.Wa=oc(e),t={v:"5"},"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(t.r="f"),n&&(t.s=n),i&&(t.ls=i),this.Le=hc(e,"websocket",t)}function vd(t,e){if(t.frames.push(e),t.frames.length==t.Ee){var n=t.frames.join("");t.frames=null,n=Ob(n),t.fg(n)}}function ud(t){clearInterval(t.Ac),t.Ac=setInterval(function(){t.La&&wd(t,"0"),ud(t)},Math.floor(45e3))}function wd(t,e){try{t.La.send(e)}catch(n){t.f("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(r(t.eb,t),0)}}function xd(t,e,n){this.f=bd("p:rest:"),this.M=t,this.Hb=e,this.Vd=n,this.$={}}function yd(t,e){return p(e)?"tag$"+e:(H(zd(t.n),"should have a tag if it's not a default query."),t.path.toString())}function Bd(t,e,n,i){n=n||{},n.format="export",t.Vd.getToken(!1).then(function(r){(r=r&&r.accessToken)&&(n.auth=r);var o=(t.M.Sc?"https://":"http://")+t.M.host+e+"?"+Fb(n);t.f("Sending REST request for "+o);var a=new XMLHttpRequest;a.onreadystatechange=function(){if(i&&4===a.readyState){t.f("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);var e=null;if(200<=a.status&&300>a.status){try{e=Ob(a.responseText)}catch(n){O("Failed to parse JSON response for "+o+": "+a.responseText)}i(null,e)}else 401!==a.status&&404!==a.status&&O("Got unsuccessful REST response for "+o+" Status: "+a.status),i(a.status);i=null}},a.open("GET",o,!0),a.send()})}function Cd(t,e,n){this.type=Dd,this.source=t,this.path=e,this.children=n}function Ed(){this.hb={}}function Fd(t,e){var n=e.type,i=e.Ya;H("child_added"==n||"child_changed"==n||"child_removed"==n,"Only child changes supported for tracking"),H(".priority"!==i,"Only non-priority child changes can be tracked.");var r=x(t.hb,i);if(r){var o=r.type;if("child_added"==n&&"child_removed"==o)t.hb[i]=new I("child_changed",e.Ma,i,r.Ma);else if("child_removed"==n&&"child_added"==o)delete t.hb[i];else if("child_removed"==n&&"child_changed"==o)t.hb[i]=new I("child_removed",r.pe,i);else if("child_changed"==n&&"child_added"==o)t.hb[i]=new I("child_added",e.Ma,i);else{if("child_changed"!=n||"child_changed"!=o)throw Wc("Illegal combination of changes: "+e+" occurred after "+r);t.hb[i]=new I("child_changed",e.Ma,i,r.pe)}}else t.hb[i]=e}function Gd(t){this.W=t,this.g=t.n.g}function Hd(t,e,n,i){var r=[],o=[];return Ja(e,function(e){"child_changed"===e.type&&t.g.nd(e.pe,e.Ma)&&o.push(new I("child_moved",e.Ma,e.Ya))}),Id(t,r,"child_removed",e,i,n),Id(t,r,"child_added",e,i,n),Id(t,r,"child_moved",o,i,n),Id(t,r,"child_changed",e,i,n),Id(t,r,Gc,e,i,n),r}function Id(t,e,n,i,o,a){i=Ka(i,function(t){return t.type===n}),Sa(i,r(t.Mf,t)),Ja(i,function(n){var i=Jd(t,n,a);Ja(o,function(r){r.rf(n.type)&&e.push(r.createEvent(i,t.W))})})}function Jd(t,e,n){return"value"!==e.type&&"child_removed"!==e.type&&(e.Dd=n.Xe(e.Ya,e.Ma,t.g)),e}function Kd(t,e){this.Sd=t,this.Kf=e}function Ld(t){this.V=t}function Td(t,e,n,i,r,o){var a=e.O;if(null!=i.mc(n))return e;var s;if(n.e())H(Hc(e.u()),"If change path is empty, we must have complete server data"),Ic(e.u())?(r=Ec(e),i=i.sc(r instanceof P?r:F)):i=i.Ba(Ec(e)),o=t.V.za(e.O.j(),i,o);else{var c=J(n);if(".priority"==c)H(1==Wd(n),"Can't have a priority with additional path components"),o=a.j(),s=e.u().j(),i=i.$c(n,o,s),o=null!=i?t.V.ga(o,i):a.j();else{var u=D(n);Cc(a,c)?(s=e.u().j(),i=i.$c(n,a.j(),s),i=null!=i?a.j().R(c).F(u,i):a.j().R(c)):i=i.rc(c,e.u()),o=null!=i?t.V.F(a.j(),c,i,u,r,o):a.j()}}return Rd(e,o,a.ea||n.e(),t.V.Qa())}function Nd(t,e,n,i,r,o,a,s){var c=e.u();if(a=a?t.V:t.V.Vb(),n.e())i=a.za(c.j(),i,null);else if(a.Qa()&&!c.Tb)i=c.j().F(n,i),i=a.za(c.j(),i,null);else{var u=J(n);if(!Jc(c,n)&&1<Wd(n))return e;var l=D(n);i=c.j().R(u).F(l,i),i=".priority"==u?a.ga(c.j(),i):a.F(c.j(),u,i,l,Ac,null)}return c=c.ea||n.e(),e=new Ud(e.O,new Dc(i,c,a.Qa())),Td(t,e,n,r,new Bc(r,e,o),s)}function Md(t,e,n,i,r,o,a){var s=e.O;if(r=new Bc(r,e,o),n.e())a=t.V.za(e.O.j(),i,a),t=Rd(e,a,!0,t.V.Qa());else if(o=J(n),".priority"===o)a=t.V.ga(e.O.j(),i),t=Rd(e,a,s.ea,s.Tb);else{n=D(n);var c=s.j().R(o);if(!n.e()){var u=r.Ve(o);i=null!=u?".priority"===Xd(n)&&u.Q(n.parent()).e()?u:u.F(n,i):F}c.ca(i)?t=e:(a=t.V.F(s.j(),o,i,n,r,a),t=Rd(e,a,s.ea,t.V.Qa()))}return t}function Od(t,e,n,i,r,o,a){var s=e;return Yd(i,function(i,c){var u=n.m(i);Cc(e.O,J(u))&&(s=Md(t,s,u,c,r,o,a))}),Yd(i,function(i,c){var u=n.m(i);Cc(e.O,J(u))||(s=Md(t,s,u,c,r,o,a))}),s}function Zd(t,e){return Yd(e,function(e,n){t=t.F(e,n)}),t}function Pd(t,e,n,i,r,o,a,s){if(e.u().j().e()&&!Hc(e.u()))return e;var c=e;n=n.e()?i:$d(Q,n,i);var u=e.u().j();return n.children.ia(function(n,i){if(u.Fa(n)){var l=e.u().j().R(n),l=Zd(l,i);c=Nd(t,c,new L(n),l,r,o,a,s)}}),n.children.ia(function(n,i){var l=!Cc(e.u(),n)&&null==i.value;u.Fa(n)||l||(l=e.u().j().R(n),l=Zd(l,i),c=Nd(t,c,new L(n),l,r,o,a,s))}),c}function Sd(t,e,n,i,r,o,a){if(null!=r.mc(n))return e;var s=Ic(e.u()),c=e.u();if(null!=i.value){if(n.e()&&c.ea||Jc(c,n))return Nd(t,e,n,c.j().Q(n),r,o,s,a);if(n.e()){var u=Q;return c.j().P(ae,function(t,e){u=u.set(new L(t),e)}),Pd(t,e,n,u,r,o,s,a)}return e}return u=Q,Yd(i,function(t){var e=n.m(t);Jc(c,e)&&(u=u.set(t,c.j().Q(e)))}),Pd(t,e,n,u,r,o,s,a)}function be(t){this.g=t}function ce(t){this.he=new be(t.g),this.g=t.g;var e;t.ka?(e=de(t),e=t.g.Fc(ee(t),e)):e=t.g.Ic(),this.Uc=e,t.na?(e=fe(t),t=t.g.Fc(ge(t),e)):t=t.g.Gc(),this.wc=t}function he(t){this.sa=new ce(t),this.g=t.g,H(t.xa,"Only valid if limit has been set"),this.oa=t.oa,this.Jb=!ie(t)}function je(t,e,n,i,r,o){var a;if(t.Jb){var s=ke(t.g);a=function(t,e){return s(e,t)}}else a=ke(t.g);H(e.Fb()==t.oa,"");var c=new K(n,i),u=t.Jb?le(e,t.g):me(e,t.g),l=t.sa.matches(c);if(e.Fa(n)){for(var h=e.R(n),u=r.fe(t.g,u,t.Jb);null!=u&&(u.name==n||e.Fa(u.name));)u=r.fe(t.g,u,t.Jb);return r=null==u?1:a(u,c),l&&!i.e()&&r>=0?(null!=o&&Fd(o,new I("child_changed",i,n,h)),e.U(n,i)):(null!=o&&Fd(o,new I("child_removed",h,n)),e=e.U(n,F),null!=u&&t.sa.matches(u)?(null!=o&&Fd(o,new I("child_added",u.S,u.name)),e.U(u.name,u.S)):e)}return i.e()?e:l&&0<=a(u,c)?(null!=o&&(Fd(o,new I("child_removed",u.S,u.name)),Fd(o,new I("child_added",i,n))),e.U(n,i).U(u.name,F)):e}function Uc(t,e){this.B=t,H(p(this.B)&&null!==this.B,"LeafNode shouldn't be created with null/undefined value."),this.aa=e||F,ne(this.aa),this.Eb=null}function qe(){}function ke(t){return r(t.compare,t)}function te(t){H(!t.e()&&".priority"!==J(t),"Can't create PathIndex with empty path or .priority key"),this.cc=t}function ve(){}function we(){}function xe(){}function Ae(){this.Sb=this.na=this.Lb=this.ka=this.xa=!1,this.oa=0,this.oc="",this.ec=null,this.Ab="",this.bc=null,this.yb="",this.g=N}function ie(t){return""===t.oc?t.ka:"l"===t.oc}function ee(t){return H(t.ka,"Only valid if start has been set"),t.ec}function de(t){return H(t.ka,"Only valid if start has been set"),t.Lb?t.Ab:"[MIN_NAME]"}function ge(t){return H(t.na,"Only valid if end has been set"),t.bc}function fe(t){return H(t.na,"Only valid if end has been set"),t.Sb?t.yb:"[MAX_NAME]"}function Ce(t){var e=new Ae;return e.xa=t.xa,e.oa=t.oa,e.ka=t.ka,e.ec=t.ec,e.Lb=t.Lb,e.Ab=t.Ab,e.na=t.na,e.bc=t.bc,e.Sb=t.Sb,e.yb=t.yb,e.g=t.g,e
}function De(t,e){var n=Ce(t);return n.g=e,n}function Ee(t){var e={};if(t.ka&&(e.sp=t.ec,t.Lb&&(e.sn=t.Ab)),t.na&&(e.ep=t.bc,t.Sb&&(e.en=t.yb)),t.xa){e.l=t.oa;var n=t.oc;""===n&&(n=ie(t)?"l":"r"),e.vf=n}return t.g!==N&&(e.i=t.g.toString()),e}function S(t){return!(t.ka||t.na||t.xa)}function zd(t){return S(t)&&t.g==N}function Ad(t){var e={};if(zd(t))return e;var n;return t.g===N?n="$priority":t.g===ze?n="$value":t.g===ae?n="$key":(H(t.g instanceof te,"Unrecognized index type!"),n=t.g.toString()),e.orderBy=B(n),t.ka&&(e.startAt=B(t.ec),t.Lb&&(e.startAt+=","+B(t.Ab))),t.na&&(e.endAt=B(t.bc),t.Sb&&(e.endAt+=","+B(t.yb))),t.xa&&(ie(t)?e.limitToFirst=t.oa:e.limitToLast=t.oa),e}function Fe(t,e){this.od=t,this.dc=e}function Ge(t,e,n){var i=oa(t.od,function(i,r){var o=x(t.dc,r);if(H(o,"Missing index implementation for "+r),i===re){if(o.yc(e.S)){for(var a=[],s=n.Xb(Nc),c=R(s);c;)c.name!=e.name&&a.push(c),c=R(s);return a.push(e),He(a,ke(o))}return re}return o=n.get(e.name),a=i,o&&(a=a.remove(new K(e.name,o))),a.Ra(e,e.S)});return new Fe(i,t.dc)}function Ie(t,e,n){var i=oa(t.od,function(t){if(t===re)return t;var i=n.get(e.name);return i?t.remove(new K(e.name,i)):t});return new Fe(i,t.dc)}function Ke(){this.set={}}function Le(e,n){t(e.set,function(t,e){n(e,t)})}function Me(t,e,n,i){this.Zd=t,this.f=bd(t),this.kc=e,this.qb=this.rb=0,this.Wa=oc(e),this.zf=n,this.xc=!1,this.Db=i,this.Yc=function(t){return hc(e,"long_polling",t)}}function Qe(t,e){var n=B(e).length;t.qb+=n,lc(t.Wa,"bytes_received",n)}function Pe(t,e,n,i){if(this.Yc=i,this.kb=n,this.ue=new Ke,this.Qc=[],this.$d=Math.floor(1e8*Math.random()),this.Kd=!0,this.Qd=Vc(),window["pLPCommand"+this.Qd]=t,window["pRTLPCB"+this.Qd]=e,t=document.createElement("iframe"),t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||E("No IE domain setting required")}catch(r){t.src="javascript:void((function(){document.open();document.domain='"+document.domain+"';document.close();})())"}t.contentDocument?t.ib=t.contentDocument:t.contentWindow?t.ib=t.contentWindow.document:t.document&&(t.ib=t.document),this.Ga=t,t="",this.Ga.src&&"javascript:"===this.Ga.src.substr(0,11)&&(t='<script>document.domain="'+document.domain+'";</script>'),t="<html><body>"+t+"</body></html>";try{this.Ga.ib.open(),this.Ga.ib.write(t),this.Ga.ib.close()}catch(o){E("frame writing exception"),o.stack&&E(o.stack),E(o)}}function Se(t){if(t.Ud&&t.Kd&&t.ue.count()<(0<t.Qc.length?2:1)){t.$d++;var e={};e.id=t.dg,e.pw=t.eg,e.ser=t.$d;for(var e=t.Yc(e),n="",i=0;0<t.Qc.length&&1870>=t.Qc[0].Qe.length+30+n.length;){var r=t.Qc.shift(),n=n+"&seg"+i+"="+r.sg+"&ts"+i+"="+r.yg+"&d"+i+"="+r.Qe;i++}return Te(t,e+n,t.$d),!0}return!1}function Te(t,e,n){function i(){t.ue.remove(n),Se(t)}t.ue.add(n,1);var r=setTimeout(i,Math.floor(25e3));Re(t,e,function(){clearTimeout(r),i()})}function Re(t,e,n){setTimeout(function(){try{if(t.Kd){var i=t.Ga.ib.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){var t=i.readyState;t&&"loaded"!==t&&"complete"!==t||(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=function(){E("Long-poll script failed to load: "+e),t.Kd=!1,t.close()},t.Ga.ib.body.appendChild(i)}}catch(r){}},Math.floor(1))}function Ue(t){Ve(this,t)}function Ve(t,e){var n=rd&&rd.isAvailable(),i=n&&!(Xb.af||!0===Xb.get("previous_websocket_failure"));if(e.zg&&(n||O("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)t.Wc=[rd];else{var r=t.Wc=[];ld(We,function(t,e){e&&e.isAvailable()&&r.push(e)})}}function Xe(t){if(0<t.Wc.length)return t.Wc[0];throw Error("No transports available")}function Ye(t,e,n,i,r,o,a){this.id=t,this.f=bd("c:"+this.id+":"),this.se=n,this.Mc=i,this.ja=r,this.re=o,this.M=e,this.Ad=[],this.Me=0,this.yf=new Ue(e),this.L=0,this.Db=a,this.f("Connection created"),Ze(this)}function Ze(t){var e=Xe(t.yf);t.I=new e("c:"+t.id+":"+t.Me++,t.M,void 0,t.Db),t.we=e.responsesRequiredToBeHealthy||0;var n=$e(t,t.I),i=af(t,t.I);t.Xc=t.I,t.Rc=t.I,t.D=null,t.Cb=!1,setTimeout(function(){t.I&&t.I.open(n,i)},Math.floor(0)),e=e.healthyTimeout||0,e>0&&(t.md=setTimeout(function(){t.md=null,t.Cb||(t.I&&102400<t.I.qb?(t.f("Connection exceeded healthy timeout but has received "+t.I.qb+" bytes.  Marking connection healthy."),t.Cb=!0,t.I.sd()):t.I&&10240<t.I.rb?t.f("Connection exceeded healthy timeout but has sent "+t.I.rb+" bytes.  Leaving connection alive."):(t.f("Closing unhealthy connection after timeout."),t.close()))},Math.floor(e)))}function af(t,e){return function(n){e===t.I?(t.I=null,n||0!==t.L?1===t.L&&t.f("Realtime connection lost."):(t.f("Realtime connection failed."),"s-"===t.M.ab.substr(0,2)&&(Xb.remove("host:"+t.M.host),t.M.ab=t.M.host)),t.close()):e===t.D?(t.f("Secondary connection lost."),n=t.D,t.D=null,t.Xc!==n&&t.Rc!==n||t.close()):t.f("closing an old connection")}}function $e(t,e){return function(n){if(2!=t.L)if(e===t.Rc){var i=id("t",n);if(n=id("d",n),"c"==i){if(i=id("t",n),"d"in n)if(n=n.d,"h"===i){var i=n.ts,r=n.v,o=n.h;t.wf=n.s,gc(t.M,o),0==t.L&&(t.I.start(),bf(t,t.I,i),"5"!==r&&O("Protocol version mismatch detected"),n=t.yf,(n=1<n.Wc.length?n.Wc[1]:null)&&cf(t,n))}else if("n"===i){for(t.f("recvd end transmission on primary"),t.Rc=t.D,n=0;n<t.Ad.length;++n)t.wd(t.Ad[n]);t.Ad=[],df(t)}else"s"===i?(t.f("Connection shutdown command received. Shutting down..."),t.re&&(t.re(n),t.re=null),t.ja=null,t.close()):"r"===i?(t.f("Reset packet received.  New host: "+n),gc(t.M,n),1===t.L?t.close():(ef(t),Ze(t))):"e"===i?cd("Server Error: "+n):"o"===i?(t.f("got pong on primary."),ff(t),gf(t)):cd("Unknown control packet command: "+i)}else"d"==i&&t.wd(n)}else if(e===t.D)if(i=id("t",n),n=id("d",n),"c"==i)"t"in n&&(n=n.t,"a"===n?hf(t):"r"===n?(t.f("Got a reset on secondary, closing it"),t.D.close(),t.Xc!==t.D&&t.Rc!==t.D||t.close()):"o"===n&&(t.f("got pong on secondary."),t.uf--,hf(t)));else{if("d"!=i)throw Error("Unknown protocol layer: "+i);t.Ad.push(n)}else t.f("message on old connection")}}function df(t){t.Xc===t.D&&t.Rc===t.D&&(t.f("cleaning up and promoting a connection: "+t.D.Zd),t.I=t.D,t.D=null)}function hf(t){0>=t.uf?(t.f("Secondary connection is healthy."),t.Cb=!0,t.D.sd(),t.D.start(),t.f("sending client ack on secondary"),t.D.send({t:"c",d:{t:"a",d:{}}}),t.f("Ending transmission on primary"),t.I.send({t:"c",d:{t:"n",d:{}}}),t.Xc=t.D,df(t)):(t.f("sending ping on secondary."),t.D.send({t:"c",d:{t:"p",d:{}}}))}function ff(t){t.Cb||(t.we--,0>=t.we&&(t.f("Primary connection is healthy."),t.Cb=!0,t.I.sd()))}function cf(t,e){t.D=new e("c:"+t.id+":"+t.Me++,t.M,t.wf),t.uf=e.responsesRequiredToBeHealthy||0,t.D.open($e(t,t.D),af(t,t.D)),setTimeout(function(){t.D&&(t.f("Timed out trying to upgrade."),t.D.close())},Math.floor(6e4))}function bf(t,e,n){t.f("Realtime connection established."),t.I=e,t.L=1,t.Mc&&(t.Mc(n,t.wf),t.Mc=null),0===t.we?(t.f("Primary connection is healthy."),t.Cb=!0):setTimeout(function(){gf(t)},Math.floor(5e3))}function gf(t){t.Cb||1!==t.L||(t.f("sending ping on primary."),jf(t,{t:"c",d:{t:"p",d:{}}}))}function jf(t,e){if(1!==t.L)throw"Connection is not connected";t.Xc.send(e)}function ef(t){t.f("Shutting down all connections"),t.I&&(t.I.close(),t.I=null),t.D&&(t.D.close(),t.D=null),t.md&&(clearTimeout(t.md),t.md=null)}function L(t,e){if(1==arguments.length){this.o=t.split("/");for(var n=0,i=0;i<this.o.length;i++)0<this.o[i].length&&(this.o[n]=this.o[i],n++);this.o.length=n,this.Z=0}else this.o=t,this.Z=e}function T(t,e){var n=J(t);if(null===n)return e;if(n===J(e))return T(D(t),D(e));throw Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function kf(t,e){for(var n=t.slice(),i=e.slice(),r=0;r<n.length&&r<i.length;r++){var o=Lc(n[r],i[r]);if(0!==o)return o}return n.length===i.length?0:n.length<i.length?-1:1}function J(t){return t.Z>=t.o.length?null:t.o[t.Z]}function Wd(t){return t.o.length-t.Z}function D(t){var e=t.Z;return e<t.o.length&&e++,new L(t.o,e)}function Xd(t){return t.Z<t.o.length?t.o[t.o.length-1]:null}function lf(t,e){this.Ta=t.slice(),this.Ka=Math.max(1,this.Ta.length),this.Re=e;for(var n=0;n<this.Ta.length;n++)this.Ka+=Nb(this.Ta[n]);mf(this)}function mf(t){if(768<t.Ka)throw Error(t.Re+"has a key path longer than 768 bytes ("+t.Ka+").");if(32<t.Ta.length)throw Error(t.Re+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+nf(t))}function nf(t){return 0==t.Ta.length?"":"in property '"+t.Ta.join(".")+"'"}function of(t){t instanceof pf||dd("Don't call new Database() directly - please use firebase.database()."),this.ta=t,this.ba=new U(t,C),this.INTERNAL=new qf(this)}function sf(t,e){null===t.ta&&dd("Cannot call "+e+" on a deleted database.")}function qf(t){this.Za=t}function Qc(){this.k=this.B=null}function Sc(t,e,n){if(e.e())t.B=n,t.k=null;else if(null!==t.B)t.B=t.B.F(e,n);else{null==t.k&&(t.k=new Ke);var i=J(e);t.k.contains(i)||t.k.add(i,new Qc),t=t.k.get(i),e=D(e),Sc(t,e,n)}}function vf(t,e){if(e.e())return t.B=null,t.k=null,!0;if(null!==t.B){if(t.B.J())return!1;var n=t.B;return t.B=null,n.P(N,function(e,n){Sc(t,new L(e),n)}),vf(t,e)}return null!==t.k?(n=J(e),e=D(e),t.k.contains(n)&&vf(t.k.get(n),e)&&t.k.remove(n),t.k.e()?(t.k=null,!0):!1):!0}function Rc(t,e,n){null!==t.B?n(e,t.B):t.P(function(t,i){var r=new L(e.toString()+"/"+t);Rc(i,r,n)})}function yf(t){return q(t)&&0!==t.length&&!wf.test(t)}function zf(t){return null===t||q(t)||fa(t)&&!fd(t)||ha(t)&&Bb(t,".sv")}function Af(t,e,n,i){i&&!p(e)||Bf(Db(t,1,i),e,n)}function Bf(t,e,n){if(n instanceof L&&(n=new lf(n,t)),!p(e))throw Error(t+"contains undefined "+nf(n));if(ga(e))throw Error(t+"contains a function "+nf(n)+" with contents: "+e.toString());if(fd(e))throw Error(t+"contains "+e.toString()+" "+nf(n));if(q(e)&&e.length>10485760/3&&10485760<Nb(e))throw Error(t+"contains a string greater than 10485760 utf8 bytes "+nf(n)+" ('"+e.substring(0,50)+"...')");if(ha(e)){var i=!1,r=!1;if(Cb(e,function(e,o){if(".value"===e)i=!0;else if(".priority"!==e&&".sv"!==e&&(r=!0,!yf(e)))throw Error(t+" contains an invalid key ("+e+") "+nf(n)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');n.push(e),Bf(t,o,n),n.pop()}),i&&r)throw Error(t+' contains ".value" child '+nf(n)+" in addition to actual children.")}}function Cf(t,e){var n,i;for(n=0;n<e.length;n++){i=e[n];for(var r=i.slice(),o=0;o<r.length;o++)if((".priority"!==r[o]||o!==r.length-1)&&!yf(r[o]))throw Error(t+"contains an invalid key ("+r[o]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}for(e.sort(kf),r=null,n=0;n<e.length;n++){if(i=e[n],null!==r&&r.contains(i))throw Error(t+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}}function Df(t,e,n){var i=Db(t,1,!1);if(!ha(e)||da(e))throw Error(i+" must be an object containing the children to replace.");var r=[];Cb(e,function(t,e){var o=new L(t);if(Bf(i,e,n.m(o)),".priority"===Xd(o)&&!zf(e))throw Error(i+"contains an invalid value for '"+o.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");r.push(o)}),Cf(i,r)}function Ef(t,e,n){if(fd(n))throw Error(Db(t,e,!1)+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!zf(n))throw Error(Db(t,e,!1)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}function Ff(t,e,n){if(!n||p(e))switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw Error(Db(t,1,n)+'must be a valid event type: "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}function Gf(t,e){if(p(e)&&!yf(e))throw Error(Db(t,2,!0)+'was an invalid key: "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')}function Hf(t,e){if(!q(e)||0===e.length||xf.test(e))throw Error(Db(t,1,!1)+'was an invalid path: "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')}function If(t,e){if(".info"===J(e))throw Error(t+" failed: Can't modify data under /.info/")}function tf(t,e){var n,i=e.path.toString();if(!(n=!q(e.kc.host)||0===e.kc.host.length||!yf(e.kc.oe))&&(n=0!==i.length)&&(i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),n=!(q(i)&&0!==i.length&&!xf.test(i))),n)throw Error(Db(t,1,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')}function V(t,e){this.ta=t,this.qa=e}function Mf(t){H(da(t)&&0<t.length,"Requires a non-empty array"),this.If=t,this.Ec={}}function Nf(t,e){H(Oa(t.If,function(t){return t===e}),"Unknown event: "+e)}function Of(){if(Mf.call(this,["online"]),this.ic=!0,"undefined"!=typeof window&&"undefined"!=typeof window.addEventListener){var t=this;window.addEventListener("online",function(){t.ic||(t.ic=!0,t.Fe("online",!0))},!1),window.addEventListener("offline",function(){t.ic&&(t.ic=!1,t.Fe("online",!1))},!1)}}function Pf(){Mf.call(this,["visible"]);var t,e;if("undefined"!=typeof document&&"undefined"!=typeof document.addEventListener&&("undefined"!=typeof document.hidden?(e="visibilitychange",t="hidden"):"undefined"!=typeof document.mozHidden?(e="mozvisibilitychange",t="mozHidden"):"undefined"!=typeof document.msHidden?(e="msvisibilitychange",t="msHidden"):"undefined"!=typeof document.webkitHidden&&(e="webkitvisibilitychange",t="webkitHidden")),this.Nb=!0,e){var n=this;document.addEventListener(e,function(){var e=!document[t];e!==n.Nb&&(n.Nb=e,n.Fe("visible",e))},!1)}}function Rf(t,e){this.Oa=t,this.ba=e?e:Sf}function Tf(t,e){for(var n,i=t.ba,r=null;!i.e();){if(n=t.Oa(e,i.key),0===n){if(i.left.e())return r?r.key:null;for(i=i.left;!i.right.e();)i=i.right;return i.key}0>n?i=i.left:n>0&&(r=i,i=i.right)}throw Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}function Uf(t,e,n,i,r){for(this.Hd=r||null,this.ke=i,this.Sa=[],r=1;!t.e();)if(r=e?n(t.key,e):1,i&&(r*=-1),0>r)t=this.ke?t.left:t.right;else{if(0===r){this.Sa.push(t);break}this.Sa.push(t),t=this.ke?t.right:t.left}}function R(t){if(0===t.Sa.length)return null;var e,n=t.Sa.pop();if(e=t.Hd?t.Hd(n.key,n.value):{key:n.key,value:n.value},t.ke)for(n=n.left;!n.e();)t.Sa.push(n),n=n.right;else for(n=n.right;!n.e();)t.Sa.push(n),n=n.left;return e}function Vf(t){if(0===t.Sa.length)return null;var e;return e=t.Sa,e=e[e.length-1],t.Hd?t.Hd(e.key,e.value):{key:e.key,value:e.value}}function Wf(t,e,n,i,r){this.key=t,this.value=e,this.color=null!=n?n:!0,this.left=null!=i?i:Sf,this.right=null!=r?r:Sf}function Xf(t){return t.left.e()?t:Xf(t.left)}function Zf(t){return t.left.e()?Sf:(t.left.fa()||t.left.left.fa()||(t=$f(t)),t=t.Y(null,null,null,Zf(t.left),null),Yf(t))}function Yf(t){return t.right.fa()&&!t.left.fa()&&(t=cg(t)),t.left.fa()&&t.left.left.fa()&&(t=ag(t)),t.left.fa()&&t.right.fa()&&(t=bg(t)),t}function $f(t){return t=bg(t),t.right.left.fa()&&(t=t.Y(null,null,null,null,ag(t.right)),t=cg(t),t=bg(t)),t}function cg(t){return t.right.Y(null,null,t.color,t.Y(null,null,!0,null,t.right.left),null)}function ag(t){return t.left.Y(null,null,t.color,null,t.Y(null,null,!0,t.left.right,null))}function bg(t){return t.Y(null,null,!t.color,t.left.Y(null,null,!t.left.color,null,null),t.right.Y(null,null,!t.right.color,null,null))}function dg(){}function P(t,e,n){this.k=t,(this.aa=e)&&ne(this.aa),t.e()&&H(!this.aa||this.aa.e(),"An empty node cannot have a priority"),this.zb=n,this.Eb=null}function le(t,e){var n;return n=(n=fg(t,e))?(n=n.Hc())&&n.name:t.k.Hc(),n?new K(n,t.k.get(n)):null}function me(t,e){var n;return n=(n=fg(t,e))?(n=n.fc())&&n.name:t.k.fc(),n?new K(n,t.k.get(n)):null}function fg(t,e){return e===ae?null:t.zb.get(e.toString())}function M(e,n){if(null===e)return F;var i=null;if("object"==typeof e&&".priority"in e?i=e[".priority"]:"undefined"!=typeof n&&(i=n),H(null===i||"string"==typeof i||"number"==typeof i||"object"==typeof i&&".sv"in i,"Invalid priority type found: "+typeof i),"object"==typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!=typeof e||".sv"in e)return new Uc(e,M(i));if(e instanceof Array){var r=F,o=e;return t(o,function(t,e){if(Bb(o,e)&&"."!==e.substring(0,1)){var n=M(t);(n.J()||!n.e())&&(r=r.U(e,n))}}),r.ga(M(i))}var a=[],s=!1,c=e;if(Cb(c,function(t){if("string"!=typeof t||"."!==t.substring(0,1)){var e=M(c[t]);e.e()||(s=s||!e.C().e(),a.push(new K(t,e)))}}),0==a.length)return F;var u=He(a,Kc,function(t){return t.name},Mc);if(s){var l=He(a,ke(N));return new P(u,M(i),new Fe({".priority":l},{".priority":N}))}return new P(u,M(i),Je)}function hg(t){this.count=parseInt(Math.log(t+1)/gg,10),this.Pe=this.count-1,this.Jf=t+1&parseInt(Array(this.count+1).join("1"),2)}function ig(t){var e=!(t.Jf&1<<t.Pe);return t.Pe--,e}function He(t,e,n,i){function r(e,i){var o=i-e;if(0==o)return null;if(1==o){var a=t[e],s=n?n(a):a;return new Wf(s,a.S,!1,null,null)}var a=parseInt(o/2,10)+e,o=r(e,a),c=r(a+1,i),a=t[a],s=n?n(a):a;return new Wf(s,a.S,!1,o,c)}t.sort(e);var o=function(e){function i(e,i){var c=s-e,u=s;s-=e;var u=r(c+1,u),c=t[c],l=n?n(c):c,u=new Wf(l,c.S,i,null,u);o?o.left=u:a=u,o=u}for(var o=null,a=null,s=t.length,c=0;c<e.count;++c){var u=ig(e),l=Math.pow(2,e.count-(c+1));u?i(l,!1):(i(l,!1),i(l,!0))}return a}(new hg(t.length));return null!==o?new Rf(i||e,o):new Rf(i||e)}function pe(t){return"number"==typeof t?"number:"+md(t):"string:"+t}function ne(t){if(t.J()){var e=t.H();H("string"==typeof e||"number"==typeof e||"object"==typeof e&&Bb(e,".sv"),"Priority must be a string or number.")}else H(t===ue||t.e(),"priority of unexpected type.");H(t===ue||t.C().e(),"Priority nodes can't have a priority of their own.")}function jg(){P.call(this,new Rf(Mc),F,Je)}function W(t,e,n){this.A=t,this.W=e,this.g=n}function Ud(t,e){this.O=t,this.Ld=e}function Rd(t,e,n,i){return new Ud(new Dc(e,n,i),t.Ld)}function Vd(t){return t.O.ea?t.O.j():null}function Ec(t){return t.Ld.ea?t.Ld.j():null}function kg(t,e){this.W=t;var n=t.n,i=new be(n.g),n=S(n)?new be(n.g):n.xa?new he(n):new ce(n);this.mf=new Ld(n);var r=e.u(),o=e.O,a=i.za(F,r.j(),null),s=n.za(F,o.j(),null);this.Na=new Ud(new Dc(s,o.ea,n.Qa()),new Dc(a,r.ea,i.Qa())),this.$a=[],this.Qf=new Gd(t)}function lg(t){return t.W}function ng(t,e){var n=t.Na.O,i=[];return n.j().J()||n.j().P(N,function(t,e){i.push(new I("child_added",e,t))}),n.ea&&i.push(Fc(n.j())),mg(t,i,n.j(),e)}function mg(t,e,n,i){return Hd(t.Qf,e,n,i?[i]:t.$a)}function og(t,e,n){this.Qb=t,this.sb=e,this.ub=n||null}function pg(t,e,n){this.ha=t,this.sb=e,this.ub=n}function X(t,e,n,i){this.w=t,this.path=e,this.n=n,this.Oc=i}function qg(t){var e=null,n=null;if(t.ka&&(e=ee(t)),t.na&&(n=ge(t)),t.g===ae){if(t.ka){if("[MIN_NAME]"!=de(t))throw Error("Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().");if("string"!=typeof e)throw Error("Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.")}if(t.na){if("[MAX_NAME]"!=fe(t))throw Error("Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().");if("string"!=typeof n)throw Error("Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.")}}else if(t.g===N){if(null!=e&&!zf(e)||null!=n&&!zf(n))throw Error("Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(H(t.g instanceof te||t.g===ze,"unknown index type."),null!=e&&"object"==typeof e||null!=n&&"object"==typeof n)throw Error("Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.")}function rg(t){if(t.ka&&t.na&&t.xa&&(!t.xa||""===t.oc))throw Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.")}function sg(t,e){if(!0===t.Oc)throw Error(e+": You can't combine multiple orderBy calls.")}function tg(t,e,n){var i={cancel:null,Pa:null};if(e&&n)i.cancel=e,A(t,3,i.cancel,!0),i.Pa=n,Eb(t,4,i.Pa);else if(e)if("object"==typeof e&&null!==e)i.Pa=e;else{if("function"!=typeof e)throw Error(Db(t,3,!0)+" must either be a cancel callback or a context object.");i.cancel=e}return i}function vg(t,e){this.value=t,this.children=e||wg}function xg(e){var n=Q;return t(e,function(t,e){n=n.set(new L(e),t)}),n}function yg(t,e,n){if(null!=t.value&&n(t.value))return{path:C,value:t.value};if(e.e())return null;var i=J(e);return t=t.children.get(i),null!==t?(e=yg(t,D(e),n),null!=e?{path:new L(i).m(e.path),value:e.value}:null):null}function zg(t,e){return yg(t,e,function(){return!0})}function $d(t,e,n){if(e.e())return n;var i=J(e);return e=$d(t.children.get(i)||Q,D(e),n),i=e.e()?t.children.remove(i):t.children.Ra(i,e),new vg(t.value,i)}function Ag(t,e){return Bg(t,C,e)}function Bg(t,e,n){var i={};return t.children.ia(function(t,r){i[t]=Bg(r,e.m(t),n)}),n(e,t.value,i)}function Cg(t,e,n){return Dg(t,e,C,n)}function Dg(t,e,n,i){var r=t.value?i(n,t.value):!1;return r?r:e.e()?null:(r=J(e),(t=t.children.get(r))?Dg(t,D(e),n.m(r),i):null)}function Eg(t,e,n){Fg(t,e,C,n)}function Fg(t,e,n,i){if(e.e())return t;t.value&&i(n,t.value);var r=J(e);return(t=t.children.get(r))?Fg(t,D(e),n.m(r),i):Q}function Yd(t,e){Gg(t,C,e)}function Gg(t,e,n){t.children.ia(function(t,i){Gg(i,e.m(t),n)}),t.value&&n(e,t.value)}function Hg(t,e){t.children.ia(function(t,n){n.value&&e(t,n.value)})}function Ig(t,e,n){this.type=Qd,this.source=Jg,this.path=t,this.Pb=e,this.Id=n}function Kg(t,e,n,i){this.ee=t,this.Ue=e,this.Ib=n,this.De=i,H(!i||e,"Tagged queries must be from server.")}function Mg(t){this.X=t}function Og(t,e,n){if(e.e())return new Mg(new vg(n));var i=zg(t.X,e);if(null!=i){var r=i.path,i=i.value;return e=T(r,e),i=i.F(e,n),new Mg(t.X.set(r,i))}return t=$d(t.X,e,new vg(n)),new Mg(t)}function Pg(t,e,n){var i=t;return Cb(n,function(t,n){i=Og(i,e.m(t),n)}),i}function Qg(t,e){var n=zg(t.X,e);return null!=n?t.X.get(n.path).Q(T(n.path,e)):null}function Rg(t){var e=[],n=t.X.value;return null!=n?n.J()||n.P(N,function(t,n){e.push(new K(t,n))}):t.X.children.ia(function(t,n){null!=n.value&&e.push(new K(t,n.value))}),e}function Sg(t,e){if(e.e())return t;var n=Qg(t,e);return new Mg(null!=n?new vg(n):t.X.subtree(e))}function Tg(t,e,n){if(null!=e.value)return n.F(t,e.value);var i=null;return e.children.ia(function(e,r){".priority"===e?(H(null!==r.value,"Priority writes must always be leaf nodes"),i=r.value):n=Tg(t.m(e),r,n)}),n.Q(t).e()||null===i||(n=n.F(t.m(".priority"),i)),n}function Ug(){this.Aa={}}function Wg(t){return Ka(sa(t.Aa),function(t){return!S(t.W.n)})}function Xg(t,e){if(S(e.n))return Vg(t);var n=e.ya();return x(t.Aa,n)}function Vg(t){return wa(t.Aa,function(t){return S(t.W.n)})||null}function Yg(){this.T=Ng,this.la=[],this.Cc=-1}function Zg(t,e){for(var n=0;n<t.la.length;n++){var i=t.la[n];if(i.Zc===e)return i}return null}function $g(t,e){return t.Ja?t.path.contains(e):!!va(t.children,function(n,i){return t.path.m(i).contains(e)})}function bh(t){return t.visible}function ah(t,e,n){for(var i=Ng,r=0;r<t.length;++r){var o=t[r];if(e(o)){var a=o.path;if(o.Ja)n.contains(a)?(a=T(n,a),i=Og(i,a,o.Ja)):a.contains(n)&&(a=T(a,n),i=Og(i,C,o.Ja.Q(a)));else{if(!o.children)throw Wc("WriteRecord should have .snap or .children");n.contains(a)?(a=T(n,a),i=Pg(i,a,o.children)):a.contains(n)&&(a=T(a,n),a.e()?i=Pg(i,C,o.children):(o=x(o.children,J(a)))&&(o=o.Q(D(a)),i=Og(i,C,o)))}}}return i}function ch(t,e){this.Mb=t,this.X=e}function dh(){this.children={},this.ad=0,this.value=null}function eh(t,e,n){this.ud=t?t:"",this.Ha=e?e:null,this.A=n?n:new dh}function fh(t,e){for(var n,i=e instanceof L?e:new L(e),r=t;null!==(n=J(i));)r=new eh(n,r,x(r.A.children,n)||new dh),i=D(i);return r}function gh(t,e){H("undefined"!=typeof e,"Cannot set value to undefined"),t.A.value=e,hh(t)}function ih(t,e,n,i){n&&!i&&e(t),t.P(function(t){ih(t,e,!0,i)}),n&&i&&e(t)}function jh(t,e){for(var n=t.parent();null!==n&&!e(n);)n=n.parent()}function hh(t){if(null!==t.Ha){var e=t.Ha,n=t.ud,i=t.e(),r=Bb(e.A.children,n);i&&r?(delete e.A.children[n],e.A.ad--,hh(e)):i||r||(e.A.children[n]=t.A,e.A.ad++,hh(e))}}function kh(t,e,n,i,r,o){if(this.id=lh++,this.f=bd("p:"+this.id+":"),this.qd={},this.$={},this.pa=[],this.Pc=0,this.Lc=[],this.ma=!1,this.fb=1e3,this.td=3e5,this.Hb=e,this.Kc=n,this.te=i,this.M=t,this.pb=this.Ia=this.Db=this.ye=null,this.Vd=r,this.de=!1,o)throw Error("Auth override specified in options, but not supported on non Node.js platforms");this.Ie=o||null,this.vb=null,this.Nb=!1,this.Gd={},this.rg=0,this.Te=!0,this.Bc=this.le=null,mh(this,0),Pf.Wb().hc("visible",this.hg,this),-1===t.host.indexOf("fblocal")&&Of.Wb().hc("online",this.gg,this)}function oh(t,e){var n=e.ng,i=n.path.toString(),r=n.ya();t.f("Listen on "+i+" for "+r);var o={p:i};e.tag&&(o.q=Ee(n.n),o.t=e.tag),o.h=e.ld(),t.ua("q",o,function(o){var a=o.d,s=o.s;if(a&&"object"==typeof a&&Bb(a,"w")){var c=x(a,"w");da(c)&&0<=Ia(c,"no_index")&&O("Using an unspecified index. Consider adding "+('".indexOn": "'+n.n.g.toString()+'"')+" at "+n.path.toString()+" to your security rules for better performance")}(t.$[i]&&t.$[i][r])===e&&(t.f("listen response",o),"ok"!==s&&ph(t,i,r),e.G&&e.G(s,a))})}function qh(t){if(t.ma&&t.pb){var e=t.pb,n={cred:e};t.Ie&&(n.authvar=t.Ie),t.ua("auth",n,function(n){var i=n.s;n=n.d||"error","ok"!==i&&t.pb===e&&rh(t,i,n)})}}function sh(t,e,n,i,r){n={p:n,d:i},t.f("onDisconnect "+e,n),t.ua(e,n,function(t){r&&setTimeout(function(){r(t.s,t.d)},Math.floor(0))})}function th(t,e,n,i,r,o){i={p:n,d:i},p(o)&&(i.h=o),t.pa.push({action:e,qf:i,G:r}),t.Pc++,e=t.pa.length-1,t.ma?uh(t,e):t.f("Buffering put: "+n)}function uh(t,e){var n=t.pa[e].action,i=t.pa[e].qf,r=t.pa[e].G;t.pa[e].og=t.ma,t.ua(n,i,function(i){t.f(n+" response",i),delete t.pa[e],t.Pc--,0===t.Pc&&(t.pa=[]),r&&r(i.s,i.d)})}function mh(t,e){H(!t.Ia,"Scheduling a connect when we're already connected/ing?"),t.vb&&clearTimeout(t.vb),t.vb=setTimeout(function(){t.vb=null,xh(t)},Math.floor(e))}function xh(t){if(yh(t)){t.f("Making a connection attempt"),t.le=(new Date).getTime(),t.Bc=null;var e=r(t.wd,t),n=r(t.Mc,t),i=r(t.gf,t),o=t.id+":"+nh++,a=t.Db,s=!1,c=null,u=function(){c?c.close():(s=!0,i())};t.Ia={close:u,ua:function(t){H(c,"sendRequest call when we're not connected not allowed."),c.ua(t)}};var l=t.de;t.de=!1,t.Vd.getToken(l).then(function(r){s?E("getToken() completed but was canceled"):(E("getToken() completed. Creating connection."),t.pb=r&&r.accessToken,c=new Ye(o,t.M,e,n,i,function(e){O(e+" ("+t.M.toString()+")"),t.bb("server_kill")},a))}).then(null,function(e){t.f("Failed to get token: "+e),s||u()})}}function vh(t,e,n){n=n?La(n,function(t){return jd(t)}).join("$"):"default",(t=ph(t,e,n))&&t.G&&t.G("permission_denied")}function ph(t,e,n){e=new L(e).toString();var i;return p(t.$[e])?(i=t.$[e][n],delete t.$[e][n],0===qa(t.$[e])&&delete t.$[e]):i=void 0,i}function rh(t,e,n){E("Auth token revoked: "+e+"/"+n),t.pb=null,t.de=!0,t.Ia.close()}function wh(e){qh(e),t(e.$,function(n){t(n,function(t){oh(e,t)})});for(var n=0;n<e.pa.length;n++)e.pa[n]&&uh(e,n);for(;e.Lc.length;)n=e.Lc.shift(),sh(e,n.action,n.ve,n.data,n.G)}function yh(t){var e;return e=Of.Wb().ic,xa(t.qd)&&e}function zh(t){this.wa=Q,this.lb=new Yg,this.Ce={},this.jc={},this.Dc=t}function Ah(t,e,n,i,r){var o=t.lb,a=r;return H(i>o.Cc,"Stacking an older write on top of newer ones"),p(a)||(a=!0),o.la.push({path:e,Ja:n,Zc:i,visible:a}),a&&(o.T=Og(o.T,e,n)),o.Cc=i,r?Bh(t,new Zb(Jg,e,n)):[]}function Ch(t,e,n,i){var r=t.lb;return H(i>r.Cc,"Stacking an older merge on top of newer ones"),r.la.push({path:e,children:n,Zc:i,visible:!0}),r.T=Pg(r.T,e,n),r.Cc=i,n=xg(n),Bh(t,new Cd(Jg,e,n))}function Dh(t,e,n){n=n||!1;var i=Zg(t.lb,e);if(t.lb.Ed(e)){var r=Q;return null!=i.Ja?r=r.set(C,!0):Cb(i.children,function(t,e){r=r.set(new L(t),e)}),Bh(t,new Ig(i.path,r,n))}return[]}function Eh(t,e,n){return n=xg(n),Bh(t,new Cd(Lg,e,n))}function Fh(t,e,n,i){if(i=Gh(t,i),null!=i){var r=Hh(i);return i=r.path,r=r.Ib,e=T(i,e),n=new Zb(new Kg(!1,!0,r,!0),e,n),Ih(t,i,n)}return[]}function Jh(t,e,n,i){if(i=Gh(t,i)){var r=Hh(i);return i=r.path,r=r.Ib,e=T(i,e),n=xg(n),n=new Cd(new Kg(!1,!0,r,!0),e,n),Ih(t,i,n)}return[]}function Nh(e){return Ag(e,function(e,n,i){if(n&&null!=Vg(n))return[Vg(n)];var r=[];return n&&(r=Wg(n)),t(i,function(t){r=r.concat(t)}),r})}function Rh(t,e){for(var n=0;n<e.length;++n){var i=e[n];if(!S(i.n)){var i=Kh(i),r=t.jc[i];delete t.jc[i],delete t.Ce["_"+r]}}}function Ph(t){return S(t.n)&&!zd(t.n)?t.xb():t}function Mh(e,n,i){var r=n.path,o=Qh(e,n);if(i=Oh(e,i),n=e.Dc.ze(Ph(n),o,i.ld,i.G),r=e.wa.subtree(r),o)H(null==Vg(r.value),"If we're adding a query, it shouldn't be shadowed");else for(o=Ag(r,function(e,n,i){if(!e.e()&&n&&null!=Vg(n))return[lg(Vg(n))];var r=[];return n&&(r=r.concat(La(Wg(n),function(t){return t.W}))),t(i,function(t){r=r.concat(t)}),r}),r=0;r<o.length;++r)i=o[r],e.Dc.Od(Ph(i),Qh(e,i));return n}function Oh(t,e){var n=e.W,i=Qh(t,n);return{ld:function(){return(e.u()||F).hash()},G:function(e){if("ok"===e){if(i){var r=n.path;if(e=Gh(t,i)){var o=Hh(e);e=o.path,o=o.Ib,r=T(e,r),r=new ac(new Kg(!1,!0,o,!0),r),e=Ih(t,e,r)}else e=[]}else e=Bh(t,new ac(Lg,n.path));return e}return r="Unknown Error","too_big"===e?r="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"==e?r="Client doesn't have permission to access the desired data.":"unavailable"==e&&(r="The service is unavailable"),r=Error(e+" at "+n.path.toString()+": "+r),r.code=e.toUpperCase(),t.mb(n,null,r)}}}function Kh(t){return t.path.toString()+"$"+t.ya()}function Hh(t){var e=t.indexOf("$");return H(-1!==e&&e<t.length-1,"Bad queryKey."),{Ib:t.substr(e+1),path:new L(t.substr(0,e))}}function Gh(t,e){var n=t.Ce,i="_"+e;return i in n?n[i]:void 0}function Qh(t,e){var n=Kh(e);return x(t.jc,n)}function Ih(t,e,n){var i=t.wa.get(e);return H(i,"Missing sync point for query tag that we're tracking"),i.gb(n,new ch(e,t.lb),null)}function Bh(t,e){return Sh(t,e,t.wa,null,new ch(C,t.lb))}function Sh(t,e,n,i,r){if(e.path.e())return Th(t,e,n,i,r);var o=n.get(C);null==i&&null!=o&&(i=o.jb(C));var a=[],s=J(e.path),c=e.Nc(s);if((n=n.children.get(s))&&c)var u=i?i.R(s):null,s=r.m(s),a=a.concat(Sh(t,c,n,u,s));return o&&(a=a.concat(o.gb(e,r,i))),a}function Th(t,e,n,i,r){var o=n.get(C);null==i&&null!=o&&(i=o.jb(C));var a=[];return n.children.ia(function(n,o){var s=i?i.R(n):null,c=r.m(n),u=e.Nc(n);u&&(a=a.concat(Th(t,u,o,s,c)))}),o&&(a=a.concat(o.gb(e,r,i))),a}function pf(t,e,n){this.app=n;var i=new cc(n);if(this.M=t,this.Wa=oc(t),this.Vc=null,this.da=new qc,this.vd=1,this.Ua=null,e||0<=("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i))this.va=new xd(this.M,r(this.Hb,this),i),setTimeout(r(this.Kc,this,!0),0);else{if(e=n.options.databaseAuthVariableOverride||null,null!==e){if("object"!==ca(e))throw Error("Only objects are supported for option databaseAuthVariableOverride");try{B(e)}catch(o){throw Error("Invalid authOverride provided: "+o)}}this.va=this.Ua=new kh(this.M,r(this.Hb,this),r(this.Kc,this),r(this.te,this),i,e)}var a=this;dc(i,function(t){a.va.of(t)}),this.wg=pc(t,r(function(){return new ic(this.Wa,this.va)},this)),this.nc=new eh,this.ie=new ec,this.pd=new zh({ze:function(t,e,n,i){return e=[],n=a.ie.j(t.path),n.e()||(e=Bh(a.pd,new Zb(Lg,t.path,n)),setTimeout(function(){i("ok")},0)),e},Od:aa}),Uh(this,"connected",!1),this.ja=new Qc,this.Za=new of(this),this.ed=0,this.je=null,this.K=new zh({ze:function(t,e,n,i){return a.va.bf(t,n,e,function(e,n){var r=i(e,n);vc(a.da,t.path,r)}),[]},Od:function(t,e){a.va.Cf(t,e)}})}function Vh(t){return t=t.ie.j(new L(".info/serverTimeOffset")).H()||0,(new Date).getTime()+t}function Wh(t){return t=t={timestamp:Vh(t)},t.timestamp=t.timestamp||(new Date).getTime(),t}function Uh(t,e,n){e=new L("/.info/"+e),n=M(n);
var i=t.ie;i.Jd=i.Jd.F(e,n),n=Bh(t.pd,new Zb(Lg,e,n)),vc(t.da,e,n)}function Yh(t){t.f("onDisconnectEvents");var e=Wh(t),n=[];Rc(Pc(t.ja,e),C,function(e,i){n=n.concat(Bh(t.K,new Zb(Lg,e,i)));var r=$h(t,e);Xh(t,r)}),t.ja=new Qc,vc(t.da,C,n)}function Jf(t,e,n,i){var r=M(n);t.va.qe(e.toString(),r.H(!0),function(n,o){"ok"===n&&Sc(t.ja,e,r),Zh(i,n,o)})}function Kf(t,e,n,i,r){var o=M(n,i);t.va.qe(e.toString(),o.H(!0),function(n,i){"ok"===n&&Sc(t.ja,e,o),Zh(r,n,i)})}function Lf(t,e,n,i){var r,o=!0;for(r in n)o=!1;o?(E("onDisconnect().update() called with empty data.  Don't do anything."),Zh(i,"ok")):t.va.ef(e.toString(),n,function(r,o){if("ok"===r)for(var a in n){var s=M(n[a]);Sc(t.ja,e.m(a),s)}Zh(i,r,o)})}function ug(t,e,n){n=".info"===J(e.path)?t.pd.Ob(e,n):t.K.Ob(e,n),tc(t.da,e.path,n)}function Zh(t,e,n){t&&Tb(function(){if("ok"==e)t(null);else{var i=(e||"error").toUpperCase(),r=i;n&&(r+=": "+n),r=Error(r),r.code=i,t(r)}})}function ai(t,e,n,i,r){function o(){}t.f("transaction on "+e);var a=new U(t,e);if(a.hc("value",o),n={path:e,update:n,G:i,status:null,jf:Vc(),He:r,tf:0,Rd:function(){a.Jc("value",o)},Td:null,Da:null,bd:null,cd:null,dd:null},i=t.K.Ba(e,void 0)||F,n.bd=i,i=n.update(i.H()),p(i)){Bf("transaction failed: Data returned ",i,n.path),n.status=1,r=fh(t.nc,e);var s=r.Ea()||[];s.push(n),gh(r,s),"object"==typeof i&&null!==i&&Bb(i,".priority")?(s=x(i,".priority"),H(zf(s),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):s=(t.K.Ba(e)||F).C().H(),r=Wh(t),i=M(i,s),r=Tc(i,r),n.cd=i,n.dd=r,n.Da=t.vd++,n=Ah(t.K,e,r,n.Da,n.He),vc(t.da,e,n),bi(t)}else n.Rd(),n.cd=null,n.dd=null,n.G&&(t=new W(n.bd,new U(t,n.path),N),n.G(null,!1,t))}function bi(t,e){var n=e||t.nc;if(e||ci(t,n),null!==n.Ea()){var i=di(t,n);H(0<i.length,"Sending zero length transaction queue"),Na(i,function(t){return 1===t.status})&&ei(t,n.path(),i)}else n.kd()&&n.P(function(e){bi(t,e)})}function ei(t,e,n){for(var i=La(n,function(t){return t.Da}),o=t.K.Ba(e,i)||F,i=o,o=o.hash(),a=0;a<n.length;a++){var s=n[a];H(1===s.status,"tryToSendTransactionQueue_: items in queue should all be run."),s.status=2,s.tf++;var c=T(e,s.path),i=i.F(c,s.cd)}i=i.H(!0),t.va.put(e.toString(),i,function(i){t.f("transaction put response",{path:e.toString(),status:i});var o=[];if("ok"===i){for(i=[],a=0;a<n.length;a++){if(n[a].status=3,o=o.concat(Dh(t.K,n[a].Da)),n[a].G){var s=n[a].dd,c=new U(t,n[a].path);i.push(r(n[a].G,null,null,!0,new W(s,c,N)))}n[a].Rd()}for(ci(t,fh(t.nc,e)),bi(t),vc(t.da,e,o),a=0;a<i.length;a++)Tb(i[a])}else{if("datastale"===i)for(a=0;a<n.length;a++)n[a].status=4===n[a].status?5:1;else for(O("transaction at "+e.toString()+" failed: "+i),a=0;a<n.length;a++)n[a].status=5,n[a].Td=i;Xh(t,e)}},o)}function Xh(t,e){var n=fi(t,e),i=n.path(),n=di(t,n);return gi(t,n,i),i}function gi(t,e,n){if(0!==e.length){for(var i=[],o=[],a=La(e,function(t){return t.Da}),s=0;s<e.length;s++){var c,u=e[s],l=T(n,u.path),h=!1;if(H(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),5===u.status)h=!0,c=u.Td,o=o.concat(Dh(t.K,u.Da,!0));else if(1===u.status)if(25<=u.tf)h=!0,c="maxretry",o=o.concat(Dh(t.K,u.Da,!0));else{var f=t.K.Ba(u.path,a)||F;u.bd=f;var d=e[s].update(f.H());p(d)?(Bf("transaction failed: Data returned ",d,u.path),l=M(d),"object"==typeof d&&null!=d&&Bb(d,".priority")||(l=l.ga(f.C())),f=u.Da,d=Wh(t),d=Tc(l,d),u.cd=l,u.dd=d,u.Da=t.vd++,Qa(a,f),o=o.concat(Ah(t.K,u.path,d,u.Da,u.He)),o=o.concat(Dh(t.K,f,!0))):(h=!0,c="nodata",o=o.concat(Dh(t.K,u.Da,!0)))}vc(t.da,n,o),o=[],h&&(e[s].status=3,setTimeout(e[s].Rd,Math.floor(0)),e[s].G&&("nodata"===c?(u=new U(t,e[s].path),i.push(r(e[s].G,null,null,!1,new W(e[s].bd,u,N)))):i.push(r(e[s].G,null,Error(c),!1,null))))}for(ci(t,t.nc),s=0;s<i.length;s++)Tb(i[s]);bi(t)}}function fi(t,e){for(var n,i=t.nc;null!==(n=J(e))&&null===i.Ea();)i=fh(i,n),e=D(e);return i}function di(t,e){var n=[];return hi(t,e,n),n.sort(function(t,e){return t.jf-e.jf}),n}function hi(t,e,n){var i=e.Ea();if(null!==i)for(var r=0;r<i.length;r++)n.push(i[r]);e.P(function(e){hi(t,e,n)})}function ci(t,e){var n=e.Ea();if(n){for(var i=0,r=0;r<n.length;r++)3!==n[r].status&&(n[i]=n[r],i++);n.length=i,gh(e,0<n.length?n:null)}e.P(function(e){ci(t,e)})}function $h(t,e){var n=fi(t,e).path(),i=fh(t.nc,e);return jh(i,function(e){ii(t,e)}),ii(t,i),ih(i,function(e){ii(t,e)}),n}function ii(t,e){var n=e.Ea();if(null!==n){for(var i=[],o=[],a=-1,s=0;s<n.length;s++)4!==n[s].status&&(2===n[s].status?(H(a===s-1,"All SENT items should be at beginning of queue."),a=s,n[s].status=4,n[s].Td="set"):(H(1===n[s].status,"Unexpected transaction status in abort"),n[s].Rd(),o=o.concat(Dh(t.K,n[s].Da,!0)),n[s].G&&i.push(r(n[s].G,null,Error("set"),!1,null))));for(-1===a?gh(e,null):n.length=a+1,vc(t.da,e.path(),o),s=0;s<i.length;s++)Tb(i[s])}}function uf(){this.nb={},this.Df=!1}function U(t,e){if(!(t instanceof pf))throw Error("new Firebase() no longer supported - use app.database().");X.call(this,t,e,Be,!1),this.then=void 0,this["catch"]=void 0}var g,n=this;ka(ma,la),ma.prototype.reset=function(){this.N[0]=1732584193,this.N[1]=4023233417,this.N[2]=2562383102,this.N[3]=271733878,this.N[4]=3285377520,this.Pd=this.ac=0},ma.prototype.update=function(t,e){if(null!=t){p(e)||(e=t.length);for(var n=e-this.Xa,i=0,r=this.Wd,o=this.ac;e>i;){if(0==o)for(;n>=i;)na(this,t,i),i+=this.Xa;if(q(t)){for(;e>i;)if(r[o]=t.charCodeAt(i),++o,++i,o==this.Xa){na(this,r),o=0;break}}else for(;e>i;)if(r[o]=t[i],++o,++i,o==this.Xa){na(this,r),o=0;break}}this.ac=o,this.Pd+=e}};var Da={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","":"\\u000b"},Ea=/\uffff/.test("￿")?/[\\\"\x00-\x1f\x7f-\uffff]/g:/[\\\"\x00-\x1f\x7f-\xff]/g,v;t:{var Fa=n.navigator;if(Fa){var Ga=Fa.userAgent;if(Ga){v=Ga;break t}}v=""}ka(Ha,Error),Ha.prototype.name="CustomError";var w=Array.prototype,Ia=w.indexOf?function(t,e,n){return w.indexOf.call(t,e,n)}:function(t,e,n){if(n=null==n?0:0>n?Math.max(0,t.length+n):n,q(t))return q(e)&&1==e.length?t.indexOf(e,n):-1;for(;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},Ja=w.forEach?function(t,e,n){w.forEach.call(t,e,n)}:function(t,e,n){for(var i=t.length,r=q(t)?t.split(""):t,o=0;i>o;o++)o in r&&e.call(n,r[o],o,t)},Ka=w.filter?function(t,e,n){return w.filter.call(t,e,n)}:function(t,e,n){for(var i=t.length,r=[],o=0,a=q(t)?t.split(""):t,s=0;i>s;s++)if(s in a){var c=a[s];e.call(n,c,s,t)&&(r[o++]=c)}return r},La=w.map?function(t,e,n){return w.map.call(t,e,n)}:function(t,e,n){for(var i=t.length,r=Array(i),o=q(t)?t.split(""):t,a=0;i>a;a++)a in o&&(r[a]=e.call(n,o[a],a,t));return r},Ma=w.reduce?function(t,e,n,i){for(var o=[],a=1,s=arguments.length;s>a;a++)o.push(arguments[a]);return i&&(o[0]=r(e,i)),w.reduce.apply(t,o)}:function(t,e,n,i){var r=n;return Ja(t,function(n,o){r=e.call(i,r,n,o,t)}),r},Na=w.every?function(t,e,n){return w.every.call(t,e,n)}:function(t,e,n){for(var i=t.length,r=q(t)?t.split(""):t,o=0;i>o;o++)if(o in r&&!e.call(n,r[o],o,t))return!1;return!0},Ua=-1!=v.indexOf("Opera")||-1!=v.indexOf("OPR"),Va=-1!=v.indexOf("Trident")||-1!=v.indexOf("MSIE"),Wa=-1!=v.indexOf("Gecko")&&-1==v.toLowerCase().indexOf("webkit")&&!(-1!=v.indexOf("Trident")||-1!=v.indexOf("MSIE")),Xa=-1!=v.toLowerCase().indexOf("webkit");!function(){var t,e="";return Ua&&n.opera?(e=n.opera.version,ga(e)?e():e):(Wa?t=/rv\:([^\);]+)(\)|;)/:Va?t=/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/:Xa&&(t=/WebKit\/(\S+)/),t&&(e=(e=t.exec(v))?e[1]:""),Va&&(t=(t=n.document)?t.documentMode:void 0,t>parseFloat(e))?String(t):e)}();var Ya=null,Za=null,$a=null,db,gb,ib=!1,jb=[];[].push(function(){ib=!1,jb=[]});var nb=0,qb=2,sb=3;mb.prototype.then=function(t,e,n){return tb(this,ga(t)?t:null,ga(e)?e:null,n)},mb.prototype.then=mb.prototype.then,mb.prototype.$goog_Thenable=!0,g=mb.prototype,g.xg=function(t,e){return tb(this,null,t,e)},g.cancel=function(t){this.L==nb&&fb(function(){var e=new rb(t);ub(this,e)},this)},g.Af=function(t){this.L=nb,pb(this,qb,t)},g.Bf=function(t){this.L=nb,pb(this,sb,t)},g.Sf=function(){for(;this.Ca&&this.Ca.length;){var t=this.Ca;this.Ca=null;for(var e=0;e<t.length;e++)vb(this,t[e],this.L,this.sf)}this.be=!1};var Ab=cb;ka(rb,Ha),rb.prototype.name="cancel";var Gb=n.Promise||mb;mb.prototype["catch"]=mb.prototype.xg,Ub.prototype.set=function(t,e){null==e?delete this.qc[t]:this.qc[t]=e},Ub.prototype.get=function(t){return Bb(this.qc,t)?this.qc[t]:null},Ub.prototype.remove=function(t){delete this.qc[t]},Ub.prototype.af=!0,g=Vb.prototype,g.set=function(t,e){null==e?this.vc.removeItem(this.Cd+t):this.vc.setItem(this.Cd+t,B(e))},g.get=function(t){return t=this.vc.getItem(this.Cd+t),null==t?null:Ob(t)},g.remove=function(t){this.vc.removeItem(this.Cd+t)},g.af=!1,g.toString=function(){return this.vc.toString()};var Xb=Wb("localStorage"),Yb=Wb("sessionStorage");Zb.prototype.Nc=function(t){return this.path.e()?new Zb(this.source,C,this.Ja.R(t)):new Zb(this.source,D(this.path),this.Ja)},Zb.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" overwrite: "+this.Ja.toString()+")"},ac.prototype.Nc=function(){return this.path.e()?new ac(this.source,C):new ac(this.source,D(this.path))},ac.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" listen_complete)"},cc.prototype.getToken=function(t){return this.Ge.INTERNAL.getToken(t).then(null,function(t){return t&&"auth/token-not-initialized"===t.code?(E("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)})},ec.prototype.j=function(t){return this.Jd.Q(t)},ec.prototype.toString=function(){return this.Jd.toString()},fc.prototype.toString=function(){var t=(this.Sc?"https://":"http://")+this.host;return this.lf&&(t+="<"+this.lf+">"),t},ic.prototype.pf=function(){var t,e=this.Vc.get(),n={},i=!1;for(t in e)0<e[t]&&Bb(this.xf,t)&&(n[t]=e[t],i=!0);i&&this.va.xe(n),setTimeout(r(this.pf,this),Math.floor(6e5*Math.random()))},kc.prototype.get=function(){return ya(this.uc)},jc.prototype.get=function(){var t=this.Lf.get(),e=ya(t);if(this.rd)for(var n in this.rd)e[n]-=this.rd[n];return this.rd=t,e};var mc={},nc={};sc.prototype.add=function(t){this.hd.push(t)},sc.prototype.Zb=function(){return this.qa},xc.prototype.Zb=function(){var t=this.Md.xb();return"value"===this.gd?t.path:t.getParent().path},xc.prototype.ge=function(){return this.gd},xc.prototype.Ub=function(){return this.ae.Ub(this)},xc.prototype.toString=function(){return this.Zb().toString()+":"+this.gd+":"+B(this.Md.Se())},yc.prototype.Zb=function(){return this.path},yc.prototype.ge=function(){return"cancel"},yc.prototype.Ub=function(){return this.ae.Ub(this)},yc.prototype.toString=function(){return this.path.toString()+":cancel"},zc.prototype.Ve=function(){return null},zc.prototype.fe=function(){return null};var Ac=new zc;Bc.prototype.Ve=function(t){var e=this.Na.O;return Cc(e,t)?e.j().R(t):(e=null!=this.yd?new Dc(this.yd,!0,!1):this.Na.u(),this.Ef.rc(t,e))},Bc.prototype.fe=function(t,e,n){var i=null!=this.yd?this.yd:Ec(this.Na);return t=this.Ef.Xd(i,e,1,n,t),0===t.length?null:t[0]};var Gc="value";Dc.prototype.j=function(){return this.A};var Vc=function(){var t=1;return function(){return t++}}(),H=Kb,Wc=Lb,wc=null,$c=!0,nd=/^-?\d{1,10}$/,qd=null;"undefined"!=typeof MozWebSocket?qd=MozWebSocket:"undefined"!=typeof WebSocket&&(qd=WebSocket);var td;rd.prototype.open=function(t,e){this.kb=e,this.fg=t,this.f("Websocket connecting to "+this.Le),this.xc=!1,Xb.set("previous_websocket_failure",!0);try{this.La=new qd(this.Le)}catch(n){this.f("Error instantiating WebSocket.");var i=n.message||n.data;return i&&this.f(i),void this.eb()}var r=this;this.La.onopen=function(){r.f("Websocket connected."),r.xc=!0},this.La.onclose=function(){r.f("Websocket connection was disconnected."),r.La=null,r.eb()},this.La.onmessage=function(t){if(null!==r.La)if(t=t.data,r.qb+=t.length,lc(r.Wa,"bytes_received",t.length),ud(r),null!==r.frames)vd(r,t);else{t:{if(H(null===r.frames,"We already have a frame buffer"),6>=t.length){var e=Number(t);if(!isNaN(e)){r.Ee=e,r.frames=[],t=null;break t}}r.Ee=1,r.frames=[]}null!==t&&vd(r,t)}},this.La.onerror=function(t){r.f("WebSocket error.  Closing connection."),(t=t.message||t.data)&&r.f(t),r.eb()}},rd.prototype.start=function(){},rd.isAvailable=function(){var t=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var e=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);e&&1<e.length&&4.4>parseFloat(e[1])&&(t=!0)}return!t&&null!==qd&&!td},rd.responsesRequiredToBeHealthy=2,rd.healthyTimeout=3e4,g=rd.prototype,g.sd=function(){Xb.remove("previous_websocket_failure")},g.send=function(t){ud(this),t=B(t),this.rb+=t.length,lc(this.Wa,"bytes_sent",t.length),t=kd(t,16384),1<t.length&&wd(this,String(t.length));for(var e=0;e<t.length;e++)wd(this,t[e])},g.Tc=function(){this.Bb=!0,this.Ac&&(clearInterval(this.Ac),this.Ac=null),this.La&&(this.La.close(),this.La=null)},g.eb=function(){this.Bb||(this.f("WebSocket is closing itself"),this.Tc(),this.kb&&(this.kb(this.xc),this.kb=null))},g.close=function(){this.Bb||(this.f("WebSocket is being closed"),this.Tc())},g=xd.prototype,g.bf=function(t,e,n,i){var r=t.path.toString();this.f("Listen called for "+r+" "+t.ya());var o=yd(t,n),a={};this.$[o]=a,t=Ad(t.n);var s=this;Bd(this,r+".json",t,function(t,e){var c=e;404===t&&(t=c=null),null===t&&s.Hb(r,c,!1,n),x(s.$,o)===a&&i(t?401==t?"permission_denied":"rest_error:"+t:"ok",null)})},g.Cf=function(t,e){var n=yd(t,e);delete this.$[n]},g.of=function(){},g.qe=function(){},g.ef=function(){},g.xd=function(){},g.put=function(){},g.cf=function(){},g.xe=function(){},Cd.prototype.Nc=function(t){return this.path.e()?(t=this.children.subtree(new L(t)),t.e()?null:t.value?new Zb(this.source,C,t.value):new Cd(this.source,C,t)):(H(J(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new Cd(this.source,D(this.path),this.children))},Cd.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},Gd.prototype.Mf=function(t,e){if(null==t.Ya||null==e.Ya)throw Wc("Should only compare child_ events.");return this.g.compare(new K(t.Ya,t.Ma),new K(e.Ya,e.Ma))},Ld.prototype.gb=function(t,e,n,i){var r,o=new Ed;if(e.type===$b)e.source.ee?n=Md(this,t,e.path,e.Ja,n,i,o):(H(e.source.Ue,"Unknown source."),r=e.source.De||Ic(t.u())&&!e.path.e(),n=Nd(this,t,e.path,e.Ja,n,i,r,o));else if(e.type===Dd)e.source.ee?n=Od(this,t,e.path,e.children,n,i,o):(H(e.source.Ue,"Unknown source."),r=e.source.De||Ic(t.u()),n=Pd(this,t,e.path,e.children,n,i,r,o));else if(e.type===Qd)if(e.Id)if(e=e.path,null!=n.mc(e))n=t;else{if(r=new Bc(n,t,i),i=t.O.j(),e.e()||".priority"===J(e))Hc(t.u())?e=n.Ba(Ec(t)):(e=t.u().j(),H(e instanceof P,"serverChildren would be complete if leaf node"),e=n.sc(e)),e=this.V.za(i,e,o);else{var a=J(e),s=n.rc(a,t.u());null==s&&Cc(t.u(),a)&&(s=i.R(a)),e=null!=s?this.V.F(i,a,s,D(e),r,o):t.O.j().Fa(a)?this.V.F(i,a,F,D(e),r,o):i,e.e()&&Hc(t.u())&&(i=n.Ba(Ec(t)),i.J()&&(e=this.V.za(e,i,o)))}i=Hc(t.u())||null!=n.mc(C),n=Rd(t,e,i,this.V.Qa())}else n=Sd(this,t,e.path,e.Pb,n,i,o);else{if(e.type!==bc)throw Wc("Unknown operation type: "+e.type);i=e.path,e=t.u(),r=e.j(),a=e.ea||i.e(),n=Td(this,new Ud(t.O,new Dc(r,a,e.Tb)),i,n,Ac,o)}return o=sa(o.hb),i=n,e=i.O,e.ea&&(r=e.j().J()||e.j().e(),a=Vd(t),(0<o.length||!t.O.ea||r&&!e.j().ca(a)||!e.j().C().ca(a.C()))&&o.push(Fc(Vd(i)))),new Kd(n,o)},g=be.prototype,g.F=function(t,e,n,i,r,o){return H(t.zc(this.g),"A node must be indexed if only a child is updated"),r=t.R(e),r.Q(i).ca(n.Q(i))&&r.e()==n.e()?t:(null!=o&&(n.e()?t.Fa(e)?Fd(o,new I("child_removed",r,e)):H(t.J(),"A child remove without an old child only makes sense on a leaf node"):r.e()?Fd(o,new I("child_added",n,e)):Fd(o,new I("child_changed",n,e,r))),t.J()&&n.e()?t:t.U(e,n).ob(this.g))},g.za=function(t,e,n){return null!=n&&(t.J()||t.P(N,function(t,i){e.Fa(t)||Fd(n,new I("child_removed",i,t))}),e.J()||e.P(N,function(e,i){if(t.Fa(e)){var r=t.R(e);r.ca(i)||Fd(n,new I("child_changed",i,e,r))}else Fd(n,new I("child_added",i,e))})),e.ob(this.g)},g.ga=function(t,e){return t.e()?F:t.ga(e)},g.Qa=function(){return!1},g.Vb=function(){return this},g=ce.prototype,g.matches=function(t){return 0>=this.g.compare(this.Uc,t)&&0>=this.g.compare(t,this.wc)},g.F=function(t,e,n,i,r,o){return this.matches(new K(e,n))||(n=F),this.he.F(t,e,n,i,r,o)},g.za=function(t,e,n){e.J()&&(e=F);var i=e.ob(this.g),i=i.ga(F),r=this;return e.P(N,function(t,e){r.matches(new K(t,e))||(i=i.U(t,F))}),this.he.za(t,i,n)},g.ga=function(t){return t},g.Qa=function(){return!0},g.Vb=function(){return this.he},g=he.prototype,g.F=function(t,e,n,i,r,o){return this.sa.matches(new K(e,n))||(n=F),t.R(e).ca(n)?t:t.Fb()<this.oa?this.sa.Vb().F(t,e,n,i,r,o):je(this,t,e,n,r,o)},g.za=function(t,e,n){var i;if(e.J()||e.e())i=F.ob(this.g);else if(2*this.oa<e.Fb()&&e.zc(this.g)){i=F.ob(this.g),e=this.Jb?e.$b(this.sa.wc,this.g):e.Yb(this.sa.Uc,this.g);for(var r=0;0<e.Sa.length&&r<this.oa;){var o,a=R(e);if(!(o=this.Jb?0>=this.g.compare(this.sa.Uc,a):0>=this.g.compare(a,this.sa.wc)))break;i=i.U(a.name,a.S),r++}}else{i=e.ob(this.g),i=i.ga(F);var s,c,u;if(this.Jb){e=i.Ye(this.g),s=this.sa.wc,c=this.sa.Uc;var l=ke(this.g);u=function(t,e){return l(e,t)}}else e=i.Xb(this.g),s=this.sa.Uc,c=this.sa.wc,u=ke(this.g);for(var r=0,h=!1;0<e.Sa.length;)a=R(e),!h&&0>=u(s,a)&&(h=!0),(o=h&&r<this.oa&&0>=u(a,c))?r++:i=i.U(a.name,F)}return this.sa.Vb().za(t,i,n)},g.ga=function(t){return t},g.Qa=function(){return!0},g.Vb=function(){return this.sa.Vb()};var oe=["object","boolean","number","string"];g=Uc.prototype,g.J=function(){return!0},g.C=function(){return this.aa},g.ga=function(t){return new Uc(this.B,t)},g.R=function(t){return".priority"===t?this.aa:F},g.Q=function(t){return t.e()?this:".priority"===J(t)?this.aa:F},g.Fa=function(){return!1},g.Xe=function(){return null},g.U=function(t,e){return".priority"===t?this.ga(e):e.e()&&".priority"!==t?this:F.U(t,e).ga(this.aa)},g.F=function(t,e){var n=J(t);return null===n?e:e.e()&&".priority"!==n?this:(H(".priority"!==n||1===Wd(t),".priority must be the last token in a path"),this.U(n,F.F(D(t),e)))},g.e=function(){return!1},g.Fb=function(){return 0},g.P=function(){return!1},g.H=function(t){return t&&!this.C().e()?{".value":this.Ea(),".priority":this.C().H()}:this.Ea()},g.hash=function(){if(null===this.Eb){var t="";this.aa.e()||(t+="priority:"+pe(this.aa.H())+":");var e=typeof this.B,t=t+(e+":"),t="number"===e?t+md(this.B):t+this.B;this.Eb=Yc(t)}return this.Eb},g.Ea=function(){return this.B},g.tc=function(t){if(t===F)return 1;if(t instanceof P)return-1;H(t.J(),"Unknown node type");var e=typeof t.B,n=typeof this.B,i=Ia(oe,e),r=Ia(oe,n);return H(i>=0,"Unknown leaf type: "+e),H(r>=0,"Unknown leaf type: "+n),i===r?"object"===n?0:this.B<t.B?-1:this.B===t.B?0:1:r-i},g.ob=function(){return this},g.zc=function(){return!0},g.ca=function(t){return t===this?!0:t.J()?this.B===t.B&&this.aa.ca(t.aa):!1},g.toString=function(){return B(this.H(!0))};var re={};qe.prototype.nd=function(t,e){return 0!==this.compare(new K("[MIN_NAME]",t),new K("[MIN_NAME]",e))},qe.prototype.Ic=function(){return se},ka(te,qe),g=te.prototype,g.yc=function(t){return!t.Q(this.cc).e()},g.compare=function(t,e){var n=t.S.Q(this.cc),i=e.S.Q(this.cc),n=n.tc(i);return 0===n?Lc(t.name,e.name):n},g.Fc=function(t,e){var n=M(t),n=F.F(this.cc,n);return new K(e,n)},g.Gc=function(){var t=F.F(this.cc,ue);return new K("[MAX_NAME]",t)},g.toString=function(){return this.cc.slice().join("/")},ka(ve,qe),g=ve.prototype,g.compare=function(t,e){var n=t.S.C(),i=e.S.C(),n=n.tc(i);return 0===n?Lc(t.name,e.name):n},g.yc=function(t){return!t.C().e()},g.nd=function(t,e){return!t.C().ca(e.C())},g.Ic=function(){return se},g.Gc=function(){return new K("[MAX_NAME]",new Uc("[PRIORITY-POST]",ue))},g.Fc=function(t,e){var n=M(t);return new K(e,new Uc("[PRIORITY-POST]",n))},g.toString=function(){return".priority"};var N=new ve;ka(we,qe),g=we.prototype,g.compare=function(t,e){return Lc(t.name,e.name)},g.yc=function(){throw Wc("KeyIndex.isDefinedOn not expected to be called.")},g.nd=function(){return!1},g.Ic=function(){return se},g.Gc=function(){return new K("[MAX_NAME]",F)},g.Fc=function(t){return H(q(t),"KeyIndex indexValue must always be a string."),new K(t,F)},g.toString=function(){return".key"};var ae=new we;ka(xe,qe),g=xe.prototype,g.compare=function(t,e){var n=t.S.tc(e.S);return 0===n?Lc(t.name,e.name):n},g.yc=function(){return!0},g.nd=function(t,e){return!t.ca(e)},g.Ic=function(){return se},g.Gc=function(){return ye},g.Fc=function(t,e){var n=M(t);return new K(e,n)},g.toString=function(){return".value"};var ze=new xe,Be=new Ae;g=Ae.prototype,g.me=function(t){var e=Ce(this);return e.xa=!0,e.oa=t,e.oc="l",e},g.ne=function(t){var e=Ce(this);return e.xa=!0,e.oa=t,e.oc="r",e},g.Nd=function(t,e){var n=Ce(this);return n.ka=!0,p(t)||(t=null),n.ec=t,null!=e?(n.Lb=!0,n.Ab=e):(n.Lb=!1,n.Ab=""),n},g.fd=function(t,e){var n=Ce(this);return n.na=!0,p(t)||(t=null),n.bc=t,p(e)?(n.Sb=!0,n.yb=e):(n.Dg=!1,n.yb=""),n},g.toString=function(){return B(Ee(this))},Fe.prototype.get=function(t){var e=x(this.od,t);if(!e)throw Error("No index defined for "+t);return e===re?null:e};var Je=new Fe({".priority":re},{".priority":N});g=Ke.prototype,g.add=function(t,e){this.set[t]=null!==e?e:!0},g.contains=function(t){return Bb(this.set,t)},g.get=function(t){return this.contains(t)?this.set[t]:void 0},g.remove=function(t){delete this.set[t]},g.clear=function(){this.set={}},g.e=function(){return xa(this.set)},g.count=function(){return qa(this.set)},g.keys=function(){var e=[];return t(this.set,function(t,n){e.push(n)}),e};var Ne,Oe;Me.prototype.open=function(t,e){this.Oe=0,this.ja=e,this.df=new Qb(t),this.Bb=!1;var n=this;this.tb=setTimeout(function(){n.f("Timed out trying to connect."),n.eb(),n.tb=null},Math.floor(3e4)),gd(function(){if(!n.Bb){n.Va=new Pe(function(t,e,i){if(Qe(n,arguments),n.Va)if(n.tb&&(clearTimeout(n.tb),n.tb=null),n.xc=!0,"start"==t)n.id=e,n.kf=i;else{if("close"!==t)throw Error("Unrecognized command received: "+t);e?(n.Va.Kd=!1,Rb(n.df,e,function(){n.eb()})):n.eb()}},function(t,e){Qe(n,arguments),Sb(n.df,t,e)},function(){n.eb()},n.Yc);var t={start:"t"};t.ser=Math.floor(1e8*Math.random()),n.Va.Qd&&(t.cb=n.Va.Qd),t.v="5",n.zf&&(t.s=n.zf),n.Db&&(t.ls=n.Db),"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(t.r="f"),t=n.Yc(t),n.f("Connecting via long-poll to "+t),Re(n.Va,t,function(){})}})},Me.prototype.start=function(){var t=this.Va,e=this.kf;for(t.dg=this.id,t.eg=e,t.Ud=!0;Se(t););t=this.id,e=this.kf,this.gc=document.createElement("iframe");var n={dframe:"t"};n.id=t,n.pw=e,this.gc.src=this.Yc(n),this.gc.style.display="none",document.body.appendChild(this.gc)},Me.isAvailable=function(){return!(!Ne&&(Oe||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.Ag))},g=Me.prototype,g.sd=function(){},g.Tc=function(){this.Bb=!0,this.Va&&(this.Va.close(),this.Va=null),this.gc&&(document.body.removeChild(this.gc),this.gc=null),this.tb&&(clearTimeout(this.tb),this.tb=null)},g.eb=function(){this.Bb||(this.f("Longpoll is closing itself"),this.Tc(),this.ja&&(this.ja(this.xc),this.ja=null))},g.close=function(){this.Bb||(this.f("Longpoll is being closed."),this.Tc())},g.send=function(t){t=B(t),this.rb+=t.length,lc(this.Wa,"bytes_sent",t.length),t=Mb(t),t=ab(t,!0),t=kd(t,1840);for(var e=0;e<t.length;e++){var n=this.Va;n.Qc.push({sg:this.Oe,yg:t.length,Qe:t[e]}),n.Ud&&Se(n),this.Oe++}},Pe.prototype.close=function(){if(this.Ud=!1,this.Ga){this.Ga.ib.body.innerHTML="";var t=this;setTimeout(function(){null!==t.Ga&&(document.body.removeChild(t.Ga),t.Ga=null)},Math.floor(0))}var e=this.kb;e&&(this.kb=null,e())};var We=[Me,rd];Ye.prototype.ua=function(t){jf(this,{t:"d",d:t})},Ye.prototype.wd=function(t){ff(this),this.se(t)},Ye.prototype.close=function(){2!==this.L&&(this.f("Closing realtime connection."),this.L=2,ef(this),this.ja&&(this.ja(),this.ja=null))},g=L.prototype,g.toString=function(){for(var t="",e=this.Z;e<this.o.length;e++)""!==this.o[e]&&(t+="/"+this.o[e]);return t||"/"},g.slice=function(t){return this.o.slice(this.Z+(t||0))},g.parent=function(){if(this.Z>=this.o.length)return null;for(var t=[],e=this.Z;e<this.o.length-1;e++)t.push(this.o[e]);return new L(t,0)},g.m=function(t){for(var e=[],n=this.Z;n<this.o.length;n++)e.push(this.o[n]);if(t instanceof L)for(n=t.Z;n<t.o.length;n++)e.push(t.o[n]);else for(t=t.split("/"),n=0;n<t.length;n++)0<t[n].length&&e.push(t[n]);return new L(e,0)},g.e=function(){return this.Z>=this.o.length},g.ca=function(t){if(Wd(this)!==Wd(t))return!1;for(var e=this.Z,n=t.Z;e<=this.o.length;e++,n++)if(this.o[e]!==t.o[n])return!1;return!0},g.contains=function(t){var e=this.Z,n=t.Z;if(Wd(this)>Wd(t))return!1;for(;e<this.o.length;){if(this.o[e]!==t.o[n])return!1;++e,++n}return!0};var C=new L("");lf.prototype.push=function(t){0<this.Ta.length&&(this.Ka+=1),this.Ta.push(t),this.Ka+=Nb(t),mf(this)},lf.prototype.pop=function(){var t=this.Ta.pop();this.Ka-=Nb(t),0<this.Ta.length&&--this.Ka};var rf={TIMESTAMP:{".sv":"timestamp"}};g=of.prototype,g.app=null,g.nf=function(t){return sf(this,"ref"),y("database.ref",0,1,arguments.length),p(t)?this.ba.m(t):this.ba},g.pg=function(t){sf(this,"database.refFromURL"),y("database.refFromURL",1,1,arguments.length);var e=ed(t);tf("database.refFromURL",e);var n=e.kc;return n.host!==this.ta.M.host&&dd("database.refFromURL: Host name does not match the current database: (found "+n.host+" but expected "+this.ta.M.host+")"),this.nf(e.path.toString())},g.Yf=function(){y("database.goOffline",0,0,arguments.length),sf(this,"goOffline"),this.ta.bb()},g.Zf=function(){y("database.goOnline",0,0,arguments.length),sf(this,"goOnline"),this.ta.lc()},Object.defineProperty(of.prototype,"app",{get:function(){return this.ta.app}}),qf.prototype["delete"]=function(){sf(this.Za,"delete");var t=uf.Wb(),e=this.Za.ta;return x(t.nb,e.app.name)!==e&&dd("Database "+e.app.name+" has already been deleted."),e.bb(),delete t.nb[e.app.name],this.Za.ta=null,this.Za.ba=null,this.Za=this.Za.INTERNAL=null,Promise.resolve()},of.prototype.ref=of.prototype.nf,of.prototype.refFromURL=of.prototype.pg,of.prototype.goOnline=of.prototype.Zf,of.prototype.goOffline=of.prototype.Yf,qf.prototype["delete"]=qf.prototype["delete"],Qc.prototype.find=function(t){if(null!=this.B)return this.B.Q(t);if(t.e()||null==this.k)return null;var e=J(t);return t=D(t),this.k.contains(e)?this.k.get(e).find(t):null},Qc.prototype.P=function(t){null!==this.k&&Le(this.k,function(e,n){t(e,n)})};var wf=/[\[\].#$\/\u0000-\u001F\u007F]/,xf=/[\[\].#$\u0000-\u001F\u007F]/;V.prototype.cancel=function(t){y("Firebase.onDisconnect().cancel",0,1,arguments.length),A("Firebase.onDisconnect().cancel",1,t,!0);var e=new Hb;return this.ta.xd(this.qa,Ib(e,t)),e.ra},V.prototype.cancel=V.prototype.cancel,V.prototype.remove=function(t){y("Firebase.onDisconnect().remove",0,1,arguments.length),If("Firebase.onDisconnect().remove",this.qa),A("Firebase.onDisconnect().remove",1,t,!0);var e=new Hb;return Jf(this.ta,this.qa,null,Ib(e,t)),e.ra},V.prototype.remove=V.prototype.remove,V.prototype.set=function(t,e){y("Firebase.onDisconnect().set",1,2,arguments.length),If("Firebase.onDisconnect().set",this.qa),Af("Firebase.onDisconnect().set",t,this.qa,!1),A("Firebase.onDisconnect().set",2,e,!0);var n=new Hb;return Jf(this.ta,this.qa,t,Ib(n,e)),n.ra},V.prototype.set=V.prototype.set,V.prototype.Kb=function(t,e,n){y("Firebase.onDisconnect().setWithPriority",2,3,arguments.length),If("Firebase.onDisconnect().setWithPriority",this.qa),Af("Firebase.onDisconnect().setWithPriority",t,this.qa,!1),Ef("Firebase.onDisconnect().setWithPriority",2,e),A("Firebase.onDisconnect().setWithPriority",3,n,!0);var i=new Hb;return Kf(this.ta,this.qa,t,e,Ib(i,n)),i.ra},V.prototype.setWithPriority=V.prototype.Kb,V.prototype.update=function(t,e){if(y("Firebase.onDisconnect().update",1,2,arguments.length),If("Firebase.onDisconnect().update",this.qa),da(t)){for(var n={},i=0;i<t.length;++i)n[""+i]=t[i];t=n,O("Passing an Array to Firebase.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}return Df("Firebase.onDisconnect().update",t,this.qa),A("Firebase.onDisconnect().update",2,e,!0),n=new Hb,Lf(this.ta,this.qa,t,Ib(n,e)),n.ra},V.prototype.update=V.prototype.update,Mf.prototype.Fe=function(t){var e;e=this.Ec[t]||[];var n=e.length;if(n>0){for(var i=Array(n),r=0;n>r;r++)i[r]=e[r];e=i}else e=[];for(n=0;n<e.length;n++)e[n].Je.apply(e[n].Pa,Array.prototype.slice.call(arguments,1))},Mf.prototype.hc=function(t,e,n){Nf(this,t),this.Ec[t]=this.Ec[t]||[],this.Ec[t].push({Je:e,Pa:n}),(t=this.We(t))&&e.apply(n,t)},Mf.prototype.Jc=function(t,e,n){Nf(this,t),t=this.Ec[t]||[];for(var i=0;i<t.length;i++)if(t[i].Je===e&&(!n||n===t[i].Pa)){t.splice(i,1);break}},ka(Of,Mf),Of.prototype.We=function(t){return H("online"===t,"Unknown event type: "+t),[this.ic]},ba(Of),ka(Pf,Mf),Pf.prototype.We=function(t){return H("visible"===t,"Unknown event type: "+t),[this.Nb]},ba(Pf);var Qf=function(){var t=0,e=[];return function(n){var i=n===t;t=n;for(var r=Array(8),o=7;o>=0;o--)r[o]="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz".charAt(n%64),n=Math.floor(n/64);if(H(0===n,"Cannot push at time == 0"),n=r.join(""),i){for(o=11;o>=0&&63===e[o];o--)e[o]=0;e[o]++}else for(o=0;12>o;o++)e[o]=Math.floor(64*Math.random());for(o=0;12>o;o++)n+="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz".charAt(e[o]);return H(20===n.length,"nextPushId: Length should be 20."),n}}();g=Rf.prototype,g.Ra=function(t,e){return new Rf(this.Oa,this.ba.Ra(t,e,this.Oa).Y(null,null,!1,null,null))},g.remove=function(t){return new Rf(this.Oa,this.ba.remove(t,this.Oa).Y(null,null,!1,null,null))},g.get=function(t){for(var e,n=this.ba;!n.e();){if(e=this.Oa(t,n.key),0===e)return n.value;0>e?n=n.left:e>0&&(n=n.right)}return null},g.e=function(){return this.ba.e()},g.count=function(){return this.ba.count()},g.Hc=function(){return this.ba.Hc()},g.fc=function(){return this.ba.fc()},g.ia=function(t){return this.ba.ia(t)},g.Xb=function(t){return new Uf(this.ba,null,this.Oa,!1,t)},g.Yb=function(t,e){return new Uf(this.ba,t,this.Oa,!1,e)},g.$b=function(t,e){return new Uf(this.ba,t,this.Oa,!0,e)},g.Ye=function(t){return new Uf(this.ba,null,this.Oa,!0,t)},g=Wf.prototype,g.Y=function(t,e,n,i,r){return new Wf(null!=t?t:this.key,null!=e?e:this.value,null!=n?n:this.color,null!=i?i:this.left,null!=r?r:this.right)},g.count=function(){return this.left.count()+1+this.right.count()},g.e=function(){return!1},g.ia=function(t){return this.left.ia(t)||t(this.key,this.value)||this.right.ia(t)},g.Hc=function(){return Xf(this).key},g.fc=function(){return this.right.e()?this.key:this.right.fc()},g.Ra=function(t,e,n){var i,r;return r=this,i=n(t,r.key),r=0>i?r.Y(null,null,null,r.left.Ra(t,e,n),null):0===i?r.Y(null,e,null,null,null):r.Y(null,null,null,null,r.right.Ra(t,e,n)),Yf(r)},g.remove=function(t,e){var n,i;if(n=this,0>e(t,n.key))n.left.e()||n.left.fa()||n.left.left.fa()||(n=$f(n)),n=n.Y(null,null,null,n.left.remove(t,e),null);else{if(n.left.fa()&&(n=ag(n)),n.right.e()||n.right.fa()||n.right.left.fa()||(n=bg(n),n.left.left.fa()&&(n=ag(n),n=bg(n))),0===e(t,n.key)){if(n.right.e())return Sf;i=Xf(n.right),n=n.Y(i.key,i.value,null,null,Zf(n.right))}n=n.Y(null,null,null,null,n.right.remove(t,e))}return Yf(n)},g.fa=function(){return this.color},g=dg.prototype,g.Y=function(){return this},g.Ra=function(t,e){return new Wf(t,e,null)},g.remove=function(){return this},g.count=function(){return 0},g.e=function(){return!0},g.ia=function(){return!1},g.Hc=function(){return null},g.fc=function(){return null},g.fa=function(){return!1};var Sf=new dg;g=P.prototype,g.J=function(){return!1},g.C=function(){return this.aa||F},g.ga=function(t){return this.k.e()?this:new P(this.k,t,this.zb)
},g.R=function(t){return".priority"===t?this.C():(t=this.k.get(t),null===t?F:t)},g.Q=function(t){var e=J(t);return null===e?this:this.R(e).Q(D(t))},g.Fa=function(t){return null!==this.k.get(t)},g.U=function(t,e){if(H(e,"We should always be passing snapshot nodes"),".priority"===t)return this.ga(e);var n,i,r=new K(t,e);return e.e()?(n=this.k.remove(t),r=Ie(this.zb,r,this.k)):(n=this.k.Ra(t,e),r=Ge(this.zb,r,this.k)),i=n.e()?F:this.aa,new P(n,i,r)},g.F=function(t,e){var n=J(t);if(null===n)return e;H(".priority"!==J(t)||1===Wd(t),".priority must be the last token in a path");var i=this.R(n).F(D(t),e);return this.U(n,i)},g.e=function(){return this.k.e()},g.Fb=function(){return this.k.count()};var eg=/^(0|[1-9]\d*)$/;g=P.prototype,g.H=function(t){if(this.e())return null;var e={},n=0,i=0,r=!0;if(this.P(N,function(o,a){e[o]=a.H(t),n++,r&&eg.test(o)?i=Math.max(i,Number(o)):r=!1}),!t&&r&&2*n>i){var o,a=[];for(o in e)a[o]=e[o];return a}return t&&!this.C().e()&&(e[".priority"]=this.C().H()),e},g.hash=function(){if(null===this.Eb){var t="";this.C().e()||(t+="priority:"+pe(this.C().H())+":"),this.P(N,function(e,n){var i=n.hash();""!==i&&(t+=":"+e+":"+i)}),this.Eb=""===t?"":Yc(t)}return this.Eb},g.Xe=function(t,e,n){return(n=fg(this,n))?(t=Tf(n,new K(t,e)))?t.name:null:Tf(this.k,t)},g.P=function(t,e){var n=fg(this,t);return n?n.ia(function(t){return e(t.name,t.S)}):this.k.ia(e)},g.Xb=function(t){return this.Yb(t.Ic(),t)},g.Yb=function(t,e){var n=fg(this,e);if(n)return n.Yb(t,function(t){return t});for(var n=this.k.Yb(t.name,Nc),i=Vf(n);null!=i&&0>e.compare(i,t);)R(n),i=Vf(n);return n},g.Ye=function(t){return this.$b(t.Gc(),t)},g.$b=function(t,e){var n=fg(this,e);if(n)return n.$b(t,function(t){return t});for(var n=this.k.$b(t.name,Nc),i=Vf(n);null!=i&&0<e.compare(i,t);)R(n),i=Vf(n);return n},g.tc=function(t){return this.e()?t.e()?0:-1:t.J()||t.e()?1:t===ue?-1:0},g.ob=function(t){if(t===ae||ua(this.zb.dc,t.toString()))return this;var e=this.zb,n=this.k;H(t!==ae,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var i=[],r=!1,n=n.Xb(Nc),o=R(n);o;)r=r||t.yc(o.S),i.push(o),o=R(n);return i=r?He(i,ke(t)):re,r=t.toString(),n=ya(e.dc),n[r]=t,t=ya(e.od),t[r]=i,new P(this.k,this.aa,new Fe(t,n))},g.zc=function(t){return t===ae||ua(this.zb.dc,t.toString())},g.ca=function(t){if(t===this)return!0;if(t.J())return!1;if(this.C().ca(t.C())&&this.k.count()===t.k.count()){var e=this.Xb(N);t=t.Xb(N);for(var n=R(e),i=R(t);n&&i;){if(n.name!==i.name||!n.S.ca(i.S))return!1;n=R(e),i=R(t)}return null===n&&null===i}return!1},g.toString=function(){return B(this.H(!0))};var gg=Math.log(2),F=new P(new Rf(Mc),null,Je);ka(jg,P),g=jg.prototype,g.tc=function(t){return t===this?0:1},g.ca=function(t){return t===this},g.C=function(){return this},g.R=function(){return F},g.e=function(){return!1};var ue=new jg,se=new K("[MIN_NAME]",F),ye=new K("[MAX_NAME]",ue);W.prototype.H=function(){return y("Firebase.DataSnapshot.val",0,0,arguments.length),this.A.H()},W.prototype.val=W.prototype.H,W.prototype.Se=function(){return y("Firebase.DataSnapshot.exportVal",0,0,arguments.length),this.A.H(!0)},W.prototype.exportVal=W.prototype.Se,W.prototype.Tf=function(){return y("Firebase.DataSnapshot.exists",0,0,arguments.length),!this.A.e()},W.prototype.exists=W.prototype.Tf,W.prototype.m=function(t){y("Firebase.DataSnapshot.child",0,1,arguments.length),fa(t)&&(t=String(t)),Hf("Firebase.DataSnapshot.child",t);var e=new L(t),n=this.W.m(e);return new W(this.A.Q(e),n,N)},W.prototype.child=W.prototype.m,W.prototype.Fa=function(t){y("Firebase.DataSnapshot.hasChild",1,1,arguments.length),Hf("Firebase.DataSnapshot.hasChild",t);var e=new L(t);return!this.A.Q(e).e()},W.prototype.hasChild=W.prototype.Fa,W.prototype.C=function(){return y("Firebase.DataSnapshot.getPriority",0,0,arguments.length),this.A.C().H()},W.prototype.getPriority=W.prototype.C,W.prototype.forEach=function(t){if(y("Firebase.DataSnapshot.forEach",1,1,arguments.length),A("Firebase.DataSnapshot.forEach",1,t,!1),this.A.J())return!1;var e=this;return!!this.A.P(this.g,function(n,i){return t(new W(i,e.W.m(n),N))})},W.prototype.forEach=W.prototype.forEach,W.prototype.kd=function(){return y("Firebase.DataSnapshot.hasChildren",0,0,arguments.length),this.A.J()?!1:!this.A.e()},W.prototype.hasChildren=W.prototype.kd,W.prototype.getKey=function(){return y("Firebase.DataSnapshot.key",0,0,arguments.length),this.W.getKey()},od(W.prototype,"key",W.prototype.getKey),W.prototype.Fb=function(){return y("Firebase.DataSnapshot.numChildren",0,0,arguments.length),this.A.Fb()},W.prototype.numChildren=W.prototype.Fb,W.prototype.xb=function(){return y("Firebase.DataSnapshot.ref",0,0,arguments.length),this.W},od(W.prototype,"ref",W.prototype.xb),Ud.prototype.u=function(){return this.Ld},g=kg.prototype,g.u=function(){return this.Na.u().j()},g.jb=function(t){var e=Ec(this.Na);return e&&(S(this.W.n)||!t.e()&&!e.R(J(t)).e())?e.Q(t):null},g.e=function(){return 0===this.$a.length},g.Ob=function(t){this.$a.push(t)},g.mb=function(t,e){var n=[];if(e){H(null==t,"A cancel should cancel all event registrations.");var i=this.W.path;Ja(this.$a,function(t){(t=t.Ne(e,i))&&n.push(t)})}if(t){for(var r=[],o=0;o<this.$a.length;++o){var a=this.$a[o];if(a.matches(t)){if(t.Ze()){r=r.concat(this.$a.slice(o+1));break}}else r.push(a)}this.$a=r}else this.$a=[];return n},g.gb=function(t,e,n){t.type===Dd&&null!==t.source.Ib&&(H(Ec(this.Na),"We should always have a full cache before handling merges"),H(Vd(this.Na),"Missing event cache, even though we have a server cache"));var i=this.Na;return t=this.mf.gb(i,t,e,n),e=this.mf,n=t.Sd,H(n.O.j().zc(e.V.g),"Event snap not indexed"),H(n.u().j().zc(e.V.g),"Server snap not indexed"),H(Hc(t.Sd.u())||!Hc(i.u()),"Once a server snap is complete, it should never go back"),this.Na=t.Sd,mg(this,t.Kf,t.Sd.O.j(),null)},g=og.prototype,g.rf=function(t){return"value"===t},g.createEvent=function(t,e){var n=e.n.g;return new xc("value",this,new W(t.Ma,e.xb(),n))},g.Ub=function(t){var e=this.ub;if("cancel"===t.ge()){H(this.sb,"Raising a cancel event on a listener with no cancel callback");var n=this.sb;return function(){n.call(e,t.error)}}var i=this.Qb;return function(){i.call(e,t.Md)}},g.Ne=function(t,e){return this.sb?new yc(this,t,e):null},g.matches=function(t){return t instanceof og?t.Qb&&this.Qb?t.Qb===this.Qb&&t.ub===this.ub:!0:!1},g.Ze=function(){return null!==this.Qb},g=pg.prototype,g.rf=function(t){return t="children_added"===t?"child_added":t,("children_removed"===t?"child_removed":t)in this.ha},g.Ne=function(t,e){return this.sb?new yc(this,t,e):null},g.createEvent=function(t,e){H(null!=t.Ya,"Child events should have a childName.");var n=e.xb().m(t.Ya);return new xc(t.type,this,new W(t.Ma,n,e.n.g),t.Dd)},g.Ub=function(t){var e=this.ub;if("cancel"===t.ge()){H(this.sb,"Raising a cancel event on a listener with no cancel callback");var n=this.sb;return function(){n.call(e,t.error)}}var i=this.ha[t.gd];return function(){i.call(e,t.Md,t.Dd)}},g.matches=function(t){if(t instanceof pg){if(!this.ha||!t.ha)return!0;if(this.ub===t.ub){var e=qa(t.ha);if(e===qa(this.ha)){if(1===e){var e=ra(t.ha),n=ra(this.ha);return!(n!==e||t.ha[e]&&this.ha[n]&&t.ha[e]!==this.ha[n])}return pa(this.ha,function(e,n){return t.ha[n]===e})}}}return!1},g.Ze=function(){return null!==this.ha},g=X.prototype,g.xb=function(){return y("Query.ref",0,0,arguments.length),new U(this.w,this.path)},g.hc=function(t,e,n,i){y("Query.on",2,4,arguments.length),Ff("Query.on",t,!1),A("Query.on",2,e,!1);var r=tg("Query.on",n,i);if("value"===t)ug(this.w,this,new og(e,r.cancel||null,r.Pa||null));else{var o={};o[t]=e,ug(this.w,this,new pg(o,r.cancel,r.Pa))}return e},g.Jc=function(t,e,n){y("Query.off",0,3,arguments.length),Ff("Query.off",t,!0),A("Query.off",2,e,!0),Eb("Query.off",3,n);var i=null,r=null;"value"===t?i=new og(e||null,null,n||null):t&&(e&&(r={},r[t]=e),i=new pg(r,null,n||null)),r=this.w,i=".info"===J(this.path)?r.pd.mb(this,i):r.K.mb(this,i),tc(r.da,this.path,i)},g.ig=function(t,e){function n(s){o&&(o=!1,r.Jc(t,n),e&&e.call(i.Pa,s),a.resolve(s))}y("Query.once",1,4,arguments.length),Ff("Query.once",t,!1),A("Query.once",2,e,!0);var i=tg("Query.once",arguments[2],arguments[3]),r=this,o=!0,a=new Hb;return Jb(a.ra),this.hc(t,n,function(e){r.Jc(t,n),i.cancel&&i.cancel.call(i.Pa,e),a.reject(e)}),a.ra},g.me=function(t){if(y("Query.limitToFirst",1,1,arguments.length),!fa(t)||Math.floor(t)!==t||0>=t)throw Error("Query.limitToFirst: First argument must be a positive integer.");if(this.n.xa)throw Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new X(this.w,this.path,this.n.me(t),this.Oc)},g.ne=function(t){if(y("Query.limitToLast",1,1,arguments.length),!fa(t)||Math.floor(t)!==t||0>=t)throw Error("Query.limitToLast: First argument must be a positive integer.");if(this.n.xa)throw Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new X(this.w,this.path,this.n.ne(t),this.Oc)},g.jg=function(t){if(y("Query.orderByChild",1,1,arguments.length),"$key"===t)throw Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===t)throw Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===t)throw Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');Hf("Query.orderByChild",t),sg(this,"Query.orderByChild");var e=new L(t);if(e.e())throw Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");return e=new te(e),e=De(this.n,e),qg(e),new X(this.w,this.path,e,!0)},g.kg=function(){y("Query.orderByKey",0,0,arguments.length),sg(this,"Query.orderByKey");var t=De(this.n,ae);return qg(t),new X(this.w,this.path,t,!0)},g.lg=function(){y("Query.orderByPriority",0,0,arguments.length),sg(this,"Query.orderByPriority");var t=De(this.n,N);return qg(t),new X(this.w,this.path,t,!0)},g.mg=function(){y("Query.orderByValue",0,0,arguments.length),sg(this,"Query.orderByValue");var t=De(this.n,ze);return qg(t),new X(this.w,this.path,t,!0)},g.Nd=function(t,e){y("Query.startAt",0,2,arguments.length),Af("Query.startAt",t,this.path,!0),Gf("Query.startAt",e);var n=this.n.Nd(t,e);if(rg(n),qg(n),this.n.ka)throw Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return p(t)||(e=t=null),new X(this.w,this.path,n,this.Oc)},g.fd=function(t,e){y("Query.endAt",0,2,arguments.length),Af("Query.endAt",t,this.path,!0),Gf("Query.endAt",e);var n=this.n.fd(t,e);if(rg(n),qg(n),this.n.na)throw Error("Query.endAt: Ending point was already set (by another call to endAt or equalTo).");return new X(this.w,this.path,n,this.Oc)},g.Pf=function(t,e){if(y("Query.equalTo",1,2,arguments.length),Af("Query.equalTo",t,this.path,!1),Gf("Query.equalTo",e),this.n.ka)throw Error("Query.equalTo: Starting point was already set (by another call to endAt or equalTo).");if(this.n.na)throw Error("Query.equalTo: Ending point was already set (by another call to endAt or equalTo).");return this.Nd(t,e).fd(t,e)},g.toString=function(){y("Query.toString",0,0,arguments.length);for(var t=this.path,e="",n=t.Z;n<t.o.length;n++)""!==t.o[n]&&(e+="/"+encodeURIComponent(String(t.o[n])));return this.w.toString()+(e||"/")},g.ya=function(){var t=jd(Ee(this.n));return"{}"===t?"default":t},X.prototype.on=X.prototype.hc,X.prototype.off=X.prototype.Jc,X.prototype.once=X.prototype.ig,X.prototype.limitToFirst=X.prototype.me,X.prototype.limitToLast=X.prototype.ne,X.prototype.orderByChild=X.prototype.jg,X.prototype.orderByKey=X.prototype.kg,X.prototype.orderByPriority=X.prototype.lg,X.prototype.orderByValue=X.prototype.mg,X.prototype.startAt=X.prototype.Nd,X.prototype.endAt=X.prototype.fd,X.prototype.equalTo=X.prototype.Pf,X.prototype.toString=X.prototype.toString,od(X.prototype,"ref",X.prototype.xb);var wg=new Rf(function(t,e){return t===e?0:e>t?-1:1});g=vg.prototype,g.e=function(){return null===this.value&&this.children.e()},g.subtree=function(t){if(t.e())return this;var e=this.children.get(J(t));return null!==e?e.subtree(D(t)):Q},g.set=function(t,e){if(t.e())return new vg(e,this.children);var n=J(t),i=(this.children.get(n)||Q).set(D(t),e),n=this.children.Ra(n,i);return new vg(this.value,n)},g.remove=function(t){if(t.e())return this.children.e()?Q:new vg(null,this.children);var e=J(t),n=this.children.get(e);return n?(t=n.remove(D(t)),e=t.e()?this.children.remove(e):this.children.Ra(e,t),null===this.value&&e.e()?Q:new vg(this.value,e)):this},g.get=function(t){if(t.e())return this.value;var e=this.children.get(J(t));return e?e.get(D(t)):null};var Q=new vg(null);vg.prototype.toString=function(){var t={};return Yd(this,function(e,n){t[e.toString()]=n.toString()}),B(t)},Ig.prototype.Nc=function(t){return this.path.e()?null!=this.Pb.value?(H(this.Pb.children.e(),"affectedTree should not have overlapping affected paths."),this):(t=this.Pb.subtree(new L(t)),new Ig(C,t,this.Id)):(H(J(this.path)===t,"operationForChild called for unrelated child."),new Ig(D(this.path),this.Pb,this.Id))},Ig.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" ack write revert="+this.Id+" affectedTree="+this.Pb+")"};var $b=0,Dd=1,Qd=2,bc=3,Jg=new Kg(!0,!1,null,!1),Lg=new Kg(!1,!0,null,!1);Kg.prototype.toString=function(){return this.ee?"user":this.De?"server(queryID="+this.Ib+")":"server"};var Ng=new Mg(new vg(null));Mg.prototype.Ed=function(t){return t.e()?Ng:(t=$d(this.X,t,Q),new Mg(t))},Mg.prototype.e=function(){return this.X.e()},Mg.prototype.apply=function(t){return Tg(C,this.X,t)},g=Ug.prototype,g.e=function(){return xa(this.Aa)},g.gb=function(e,n,i){var r=e.source.Ib;if(null!==r)return r=x(this.Aa,r),H(null!=r,"SyncTree gave us an op for an invalid query."),r.gb(e,n,i);var o=[];return t(this.Aa,function(t){o=o.concat(t.gb(e,n,i))}),o},g.Ob=function(t,e,n,i,r){var o=t.ya(),a=x(this.Aa,o);if(!a){var a=n.Ba(r?i:null),s=!1;a?s=!0:(a=i instanceof P?n.sc(i):F,s=!1),a=new kg(t,new Ud(new Dc(a,s,!1),new Dc(i,r,!1))),this.Aa[o]=a}return a.Ob(e),ng(a,e)},g.mb=function(e,n,i){var r=e.ya(),o=[],a=[],s=null!=Vg(this);if("default"===r){var c=this;t(this.Aa,function(t,e){a=a.concat(t.mb(n,i)),t.e()&&(delete c.Aa[e],S(t.W.n)||o.push(t.W))})}else{var u=x(this.Aa,r);u&&(a=a.concat(u.mb(n,i)),u.e()&&(delete this.Aa[r],S(u.W.n)||o.push(u.W)))}return s&&null==Vg(this)&&o.push(new U(e.w,e.path)),{qg:o,Rf:a}},g.jb=function(e){var n=null;return t(this.Aa,function(t){n=n||t.jb(e)}),n},g=Yg.prototype,g.Ed=function(e){var n=Pa(this.la,function(t){return t.Zc===e});H(n>=0,"removeWrite called with nonexistent writeId.");var i=this.la[n];this.la.splice(n,1);for(var r=i.visible,o=!1,a=this.la.length-1;r&&a>=0;){var s=this.la[a];s.visible&&(a>=n&&$g(s,i.path)?r=!1:i.path.contains(s.path)&&(o=!0)),a--}if(r){if(o)this.T=ah(this.la,bh,C),this.Cc=0<this.la.length?this.la[this.la.length-1].Zc:-1;else if(i.Ja)this.T=this.T.Ed(i.path);else{var c=this;t(i.children,function(t,e){c.T=c.T.Ed(i.path.m(e))})}return!0}return!1},g.Ba=function(t,e,n,i){if(n||i){var r=Sg(this.T,t);return!i&&r.e()?e:i||null!=e||null!=Qg(r,C)?(r=ah(this.la,function(e){return!(!e.visible&&!i||n&&0<=Ia(n,e.Zc)||!e.path.contains(t)&&!t.contains(e.path))},t),e=e||F,r.apply(e)):null}return r=Qg(this.T,t),null!=r?r:(r=Sg(this.T,t),r.e()?e:null!=e||null!=Qg(r,C)?(e=e||F,r.apply(e)):null)},g.sc=function(t,e){var n=F,i=Qg(this.T,t);if(i)i.J()||i.P(N,function(t,e){n=n.U(t,e)});else if(e){var r=Sg(this.T,t);e.P(N,function(t,e){var i=Sg(r,new L(t)).apply(e);n=n.U(t,i)}),Ja(Rg(r),function(t){n=n.U(t.name,t.S)})}else r=Sg(this.T,t),Ja(Rg(r),function(t){n=n.U(t.name,t.S)});return n},g.$c=function(t,e,n,i){return H(n||i,"Either existingEventSnap or existingServerSnap must exist"),t=t.m(e),null!=Qg(this.T,t)?null:(t=Sg(this.T,t),t.e()?i.Q(e):t.apply(i.Q(e)))},g.rc=function(t,e,n){t=t.m(e);var i=Qg(this.T,t);return null!=i?i:Cc(n,e)?Sg(this.T,t).apply(n.j().R(e)):null},g.mc=function(t){return Qg(this.T,t)},g.Xd=function(t,e,n,i,r,o){var a;if(t=Sg(this.T,t),a=Qg(t,C),null==a){if(null==e)return[];a=t.apply(e)}if(a=a.ob(o),a.e()||a.J())return[];for(e=[],t=ke(o),r=r?a.$b(n,o):a.Yb(n,o),o=R(r);o&&e.length<i;)0!==t(o,n)&&e.push(o),o=R(r);return e},g=ch.prototype,g.Ba=function(t,e,n){return this.X.Ba(this.Mb,t,e,n)},g.sc=function(t){return this.X.sc(this.Mb,t)},g.$c=function(t,e,n){return this.X.$c(this.Mb,t,e,n)},g.mc=function(t){return this.X.mc(this.Mb.m(t))},g.Xd=function(t,e,n,i,r){return this.X.Xd(this.Mb,t,e,n,i,r)},g.rc=function(t,e){return this.X.rc(this.Mb,t,e)},g.m=function(t){return new ch(this.Mb.m(t),this.X)},g=eh.prototype,g.Ea=function(){return this.A.value},g.clear=function(){this.A.value=null,this.A.children={},this.A.ad=0,hh(this)},g.kd=function(){return 0<this.A.ad},g.e=function(){return null===this.Ea()&&!this.kd()},g.P=function(e){var n=this;t(this.A.children,function(t,i){e(new eh(i,n,t))})},g.path=function(){return new L(null===this.Ha?this.ud:this.Ha.path()+"/"+this.ud)},g.name=function(){return this.ud},g.parent=function(){return this.Ha};var lh=0,nh=0;g=kh.prototype,g.ua=function(t,e,n){var i=++this.rg;t={r:i,a:t,b:e},this.f(B(t)),H(this.ma,"sendRequest call when we're not connected not allowed."),this.Ia.ua(t),n&&(this.Gd[i]=n)},g.bf=function(t,e,n,i){var r=t.ya(),o=t.path.toString();this.f("Listen called for "+o+" "+r),this.$[o]=this.$[o]||{},H(zd(t.n)||!S(t.n),"listen() called for non-default but complete query"),H(!this.$[o][r],"listen() called twice for same path/queryId."),t={G:i,ld:e,ng:t,tag:n},this.$[o][r]=t,this.ma&&oh(this,t)},g.of=function(t){this.pb=t,this.f("Auth token refreshed"),this.pb?qh(this):this.ma&&this.ua("unauth",{},function(){}),(t&&40===t.length||pd(t))&&(this.f("Admin auth credential detected.  Reducing max reconnect time."),this.td=3e4)},g.Cf=function(t,e){var n=t.path.toString(),i=t.ya();if(this.f("Unlisten called for "+n+" "+i),H(zd(t.n)||!S(t.n),"unlisten() called for non-default but complete query"),ph(this,n,i)&&this.ma){var r=Ee(t.n);this.f("Unlisten on "+n+" for "+i),n={p:n},e&&(n.q=r,n.t=e),this.ua("n",n)}},g.qe=function(t,e,n){this.ma?sh(this,"o",t,e,n):this.Lc.push({ve:t,action:"o",data:e,G:n})},g.ef=function(t,e,n){this.ma?sh(this,"om",t,e,n):this.Lc.push({ve:t,action:"om",data:e,G:n})},g.xd=function(t,e){this.ma?sh(this,"oc",t,null,e):this.Lc.push({ve:t,action:"oc",data:null,G:e})},g.put=function(t,e,n,i){th(this,"p",t,e,n,i)},g.cf=function(t,e,n,i){th(this,"m",t,e,n,i)},g.xe=function(t){this.ma&&(t={c:t},this.f("reportStats",t),this.ua("s",t,function(t){"ok"!==t.s&&this.f("reportStats","Error sending stats: "+t.d)}))},g.wd=function(t){if("r"in t){this.f("from server: "+B(t));var e=t.r,n=this.Gd[e];n&&(delete this.Gd[e],n(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&(e=t.a,t=t.b,this.f("handleServerMessage",e,t),"d"===e?this.Hb(t.p,t.d,!1,t.t):"m"===e?this.Hb(t.p,t.d,!0,t.t):"c"===e?vh(this,t.p,t.q):"ac"===e?rh(this,t.s,t.d):"sd"===e?this.ye?this.ye(t):"msg"in t&&"undefined"!=typeof console&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: ")):cd("Unrecognized action received from server: "+B(e)+"\nAre you using the latest client?"))}},g.Mc=function(t,e){if(this.f("connection ready"),this.ma=!0,this.Bc=(new Date).getTime(),this.te({serverTimeOffset:t-(new Date).getTime()}),this.Db=e,this.Te){var n={};n["sdk.js."+firebase.SDK_VERSION.replace(/\./g,"-")]=1,"undefined"!=typeof window&&(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test("undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:"")?n["framework.cordova"]=1:"object"==typeof navigator&&"ReactNative"===navigator.product&&(n["framework.reactnative"]=1),this.xe(n)}wh(this),this.Te=!1,this.Kc(!0)},g.hg=function(t){t&&!this.Nb&&this.fb===this.td&&(this.f("Window became visible.  Reducing delay."),this.fb=1e3,this.Ia||mh(this,0)),this.Nb=t},g.gg=function(t){t?(this.f("Browser went online."),this.fb=1e3,this.Ia||mh(this,0)):(this.f("Browser went offline.  Killing connection."),this.Ia&&this.Ia.close())},g.gf=function(){this.f("data client disconnected"),this.ma=!1,this.Ia=null;for(var t=0;t<this.pa.length;t++){var e=this.pa[t];e&&"h"in e.qf&&e.og&&(e.G&&e.G("disconnect"),delete this.pa[t],this.Pc--)}0===this.Pc&&(this.pa=[]),this.Gd={},yh(this)&&(this.Nb?this.Bc&&(3e4<(new Date).getTime()-this.Bc&&(this.fb=1e3),this.Bc=null):(this.f("Window isn't visible.  Delaying reconnect."),this.fb=this.td,this.le=(new Date).getTime()),t=Math.max(0,this.fb-((new Date).getTime()-this.le)),t*=Math.random(),this.f("Trying to reconnect in "+t+"ms"),mh(this,t),this.fb=Math.min(this.td,1.3*this.fb)),this.Kc(!1)},g.bb=function(t){E("Interrupting connection for reason: "+t),this.qd[t]=!0,this.Ia?this.Ia.close():(this.vb&&(clearTimeout(this.vb),this.vb=null),this.ma&&this.gf())},g.lc=function(t){E("Resuming connection for reason: "+t),delete this.qd[t],xa(this.qd)&&(this.fb=1e3,this.Ia||mh(this,0))};var Y={Vf:function(){Ne=td=!0}};Y.forceLongPolling=Y.Vf,Y.Wf=function(){Oe=!0},Y.forceWebSockets=Y.Wf,Y.bg=function(){return rd.isAvailable()},Y.isWebSocketsAvailable=Y.bg,Y.ug=function(t,e){t.w.Ua.ye=e},Y.setSecurityDebugCallback=Y.ug,Y.Ae=function(t,e){t.w.Ae(e)},Y.stats=Y.Ae,Y.Be=function(t,e){t.w.Be(e)},Y.statsIncrementCounter=Y.Be,Y.ed=function(t){return t.w.ed},Y.dataUpdateCount=Y.ed,Y.ag=function(t,e){t.w.je=e},Y.interceptServerData=Y.ag,zh.prototype.Ob=function(t,e){var n=t.path,i=null,r=!1;Eg(this.wa,n,function(t,e){var o=T(t,n);i=i||e.jb(o),r=r||null!=Vg(e)});var o=this.wa.get(n);o?(r=r||null!=Vg(o),i=i||o.jb(C)):(o=new Ug,this.wa=this.wa.set(n,o));var a;null!=i?a=!0:(a=!1,i=F,Hg(this.wa.subtree(n),function(t,e){var n=e.jb(C);n&&(i=i.U(t,n))}));var s=null!=Xg(o,t);if(!s&&!S(t.n)){var c=Kh(t);H(!(c in this.jc),"View does not exist, but we have a tag");var u=Lh++;this.jc[c]=u,this.Ce["_"+u]=c}return a=o.Ob(t,e,new ch(n,this.lb),i,a),s||r||(o=Xg(o,t),a=a.concat(Mh(this,t,o))),a},zh.prototype.mb=function(t,e,n){var i=t.path,r=this.wa.get(i),o=[];if(r&&("default"===t.ya()||null!=Xg(r,t))){o=r.mb(t,e,n),r.e()&&(this.wa=this.wa.remove(i)),r=o.qg,o=o.Rf,e=-1!==Pa(r,function(t){return S(t.n)});var a=Cg(this.wa,i,function(t,e){return null!=Vg(e)});if(e&&!a&&(i=this.wa.subtree(i),!i.e()))for(var i=Nh(i),s=0;s<i.length;++s){var c=i[s],u=c.W,c=Oh(this,c);this.Dc.ze(Ph(u),Qh(this,u),c.ld,c.G)}if(!a&&0<r.length&&!n)if(e)this.Dc.Od(Ph(t),null);else{var l=this;Ja(r,function(t){t.ya();var e=l.jc[Kh(t)];l.Dc.Od(Ph(t),e)})}Rh(this,r)}return o},zh.prototype.Ba=function(t,e){var n=this.lb,i=Cg(this.wa,t,function(e,n){var i=T(e,t);return(i=n.jb(i))?i:void 0});return n.Ba(t,i,e,!0)};var Lh=1;g=pf.prototype,g.toString=function(){return(this.M.Sc?"https://":"http://")+this.M.host},g.name=function(){return this.M.oe},g.Hb=function(t,e,n,i){this.ed++;var r=new L(t);e=this.je?this.je(t,e):e,t=[],i?n?(e=oa(e,function(t){return M(t)}),t=Jh(this.K,r,e,i)):(e=M(e),t=Fh(this.K,r,e,i)):n?(i=oa(e,function(t){return M(t)}),t=Eh(this.K,r,i)):(i=M(e),t=Bh(this.K,new Zb(Lg,r,i))),i=r,0<t.length&&(i=Xh(this,r)),vc(this.da,i,t)},g.Kc=function(t){Uh(this,"connected",t),!1===t&&Yh(this)},g.te=function(t){var e=this;ld(t,function(t,n){Uh(e,n,t)})},g.Kb=function(t,e,n,i){this.f("set",{path:t.toString(),value:e,Cg:n});var r=Wh(this);e=M(e,n);var r=Tc(e,r),o=this.vd++,r=Ah(this.K,t,r,o,!0);rc(this.da,r);var a=this;this.va.put(t.toString(),e.H(!0),function(e,n){var r="ok"===e;r||O("set at "+t+" failed: "+e),r=Dh(a.K,o,!r),vc(a.da,t,r),Zh(i,e,n)}),r=$h(this,t),Xh(this,r),vc(this.da,r,[])},g.update=function(e,n,i){this.f("update",{path:e.toString(),value:n});var r=!0,o=Wh(this),a={};if(t(n,function(t,e){r=!1;var n=M(t);a[e]=Tc(n,o)}),r)E("update() called with empty data.  Don't do anything."),Zh(i,"ok");else{var s=this.vd++,c=Ch(this.K,e,a,s);rc(this.da,c);var u=this;this.va.cf(e.toString(),n,function(t,n){var r="ok"===t;r||O("update at "+e+" failed: "+t);var r=Dh(u.K,s,!r),o=e;0<r.length&&(o=Xh(u,e)),vc(u.da,o,r),Zh(i,t,n)}),n=$h(this,e),Xh(this,n),vc(this.da,e,[])}},g.xd=function(t,e){var n=this;this.va.xd(t.toString(),function(i,r){"ok"===i&&vf(n.ja,t),Zh(e,i,r)})},g.bb=function(){this.Ua&&this.Ua.bb("repo_interrupt")},g.lc=function(){this.Ua&&this.Ua.lc("repo_interrupt")},g.Ae=function(t){if("undefined"!=typeof console){t?(this.Vc||(this.Vc=new jc(this.Wa)),t=this.Vc.get()):t=this.Wa.get();var e,n=Ma(ta(t),function(t,e){return Math.max(e.length,t)},0);for(e in t){for(var i=t[e],r=e.length;n+2>r;r++)e+=" ";console.log(e+i)}}},g.Be=function(t){lc(this.Wa,t),this.wg.xf[t]=!0},g.f=function(){var t="";this.Ua&&(t=this.Ua.id+":"),E(t,arguments)},uf.prototype.bb=function(){for(var t in this.nb)this.nb[t].bb()},uf.prototype.lc=function(){for(var t in this.nb)this.nb[t].lc()},uf.prototype.ce=function(t){this.Df=t},ba(uf),uf.prototype.interrupt=uf.prototype.bb,uf.prototype.resume=uf.prototype.lc;var Z={};if(Z.pc=kh,Z.DataConnection=Z.pc,kh.prototype.vg=function(t,e){this.ua("q",{p:t},e)},Z.pc.prototype.simpleListen=Z.pc.prototype.vg,kh.prototype.Of=function(t,e){this.ua("echo",{d:t},e)},Z.pc.prototype.echo=Z.pc.prototype.Of,kh.prototype.interrupt=kh.prototype.bb,Z.Gf=Ye,Z.RealTimeConnection=Z.Gf,Ye.prototype.sendRequest=Ye.prototype.ua,Ye.prototype.close=Ye.prototype.close,Z.$f=function(t){var e=kh.prototype.put;return kh.prototype.put=function(n,i,r,o){p(o)&&(o=t()),e.call(this,n,i,r,o)},function(){kh.prototype.put=e}},Z.hijackHash=Z.$f,Z.Ff=fc,Z.ConnectionTarget=Z.Ff,Z.ya=function(t){return t.ya()},Z.queryIdentifier=Z.ya,Z.cg=function(t){return t.w.Ua.$},Z.listens=Z.cg,Z.ce=function(t){uf.Wb().ce(t)},Z.forceRestClient=Z.ce,Z.Context=uf,ka(U,X),g=U.prototype,g.getKey=function(){return y("Firebase.key",0,0,arguments.length),this.path.e()?null:Xd(this.path)},g.m=function(t){if(y("Firebase.child",1,1,arguments.length),fa(t))t=String(t);else if(!(t instanceof L))if(null===J(this.path)){var e=t;e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Hf("Firebase.child",e)}else Hf("Firebase.child",t);return new U(this.w,this.path.m(t))},g.getParent=function(){y("Firebase.parent",0,0,arguments.length);var t=this.path.parent();return null===t?null:new U(this.w,t)},g.Xf=function(){y("Firebase.ref",0,0,arguments.length);for(var t=this;null!==t.getParent();)t=t.getParent();return t},g.Nf=function(){return this.w.Za},g.set=function(t,e){y("Firebase.set",1,2,arguments.length),If("Firebase.set",this.path),Af("Firebase.set",t,this.path,!1),A("Firebase.set",2,e,!0);var n=new Hb;return this.w.Kb(this.path,t,null,Ib(n,e)),n.ra},g.update=function(t,e){if(y("Firebase.update",1,2,arguments.length),If("Firebase.update",this.path),da(t)){for(var n={},i=0;i<t.length;++i)n[""+i]=t[i];t=n,O("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}return Df("Firebase.update",t,this.path),A("Firebase.update",2,e,!0),n=new Hb,this.w.update(this.path,t,Ib(n,e)),n.ra},g.Kb=function(t,e,n){if(y("Firebase.setWithPriority",2,3,arguments.length),If("Firebase.setWithPriority",this.path),Af("Firebase.setWithPriority",t,this.path,!1),Ef("Firebase.setWithPriority",2,e),A("Firebase.setWithPriority",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Firebase.setWithPriority failed: "+this.getKey()+" is a read-only object.";var i=new Hb;return this.w.Kb(this.path,t,e,Ib(i,n)),i.ra},g.remove=function(t){return y("Firebase.remove",0,1,arguments.length),If("Firebase.remove",this.path),A("Firebase.remove",1,t,!0),this.set(null,t)},g.transaction=function(t,e,n){if(y("Firebase.transaction",1,3,arguments.length),If("Firebase.transaction",this.path),A("Firebase.transaction",1,t,!1),A("Firebase.transaction",2,e,!0),p(n)&&"boolean"!=typeof n)throw Error(Db("Firebase.transaction",3,!0)+"must be a boolean.");if(".length"===this.getKey()||".keys"===this.getKey())throw"Firebase.transaction failed: "+this.getKey()+" is a read-only object.";"undefined"==typeof n&&(n=!0);var i=new Hb;return ga(e)&&Jb(i.ra),ai(this.w,this.path,t,function(t,n,r){t?i.reject(t):i.resolve(new Pb(n,r)),ga(e)&&e(t,n,r)},n),i.ra},g.tg=function(t,e){y("Firebase.setPriority",1,2,arguments.length),If("Firebase.setPriority",this.path),Ef("Firebase.setPriority",1,t),A("Firebase.setPriority",2,e,!0);var n=new Hb;return this.w.Kb(this.path.m(".priority"),t,null,Ib(n,e)),n.ra},g.push=function(t,e){y("Firebase.push",0,2,arguments.length),If("Firebase.push",this.path),Af("Firebase.push",t,this.path,!0),A("Firebase.push",2,e,!0);var n=Vh(this.w),i=Qf(n),n=this.m(i);if(null!=t){var o=this,a=n.set(t,e).then(function(){return o.m(i)});n.then=r(a.then,a),n["catch"]=r(a.then,a,void 0),ga(e)&&Jb(a)}return n},g.kb=function(){return If("Firebase.onDisconnect",this.path),new V(this.w,this.path)},U.prototype.child=U.prototype.m,U.prototype.set=U.prototype.set,U.prototype.update=U.prototype.update,U.prototype.setWithPriority=U.prototype.Kb,U.prototype.remove=U.prototype.remove,U.prototype.transaction=U.prototype.transaction,U.prototype.setPriority=U.prototype.tg,U.prototype.push=U.prototype.push,U.prototype.onDisconnect=U.prototype.kb,od(U.prototype,"database",U.prototype.Nf),od(U.prototype,"key",U.prototype.getKey),od(U.prototype,"parent",U.prototype.getParent),od(U.prototype,"root",U.prototype.Xf),"undefined"==typeof firebase)throw Error("Cannot install Firebase Database - be sure to load firebase-app.js first.");try{firebase.INTERNAL.registerService("database",function(t){var e=uf.Wb(),n=t.options.databaseURL;p(n)||dd("Can't determine Firebase Database URL.  Be sure to include databaseURL option when calling firebase.intializeApp().");var i=ed(n),n=i.kc;return tf("Invalid Firebase Database URL",i),i.path.e()||dd("Database URL must point to the root of a Firebase Database (not including a child path)."),(i=x(e.nb,t.name))&&dd("FIREBASE INTERNAL ERROR: Database initialized multiple times."),i=new pf(n,e.Df,t),e.nb[t.name]=i,i.Za},{Reference:U,Query:X,Database:of,enableLogging:ad,INTERNAL:Y,TEST_ACCESS:Z,ServerValue:rf})}catch(ji){dd("Failed to register the Firebase Database Service ("+ji+")")}}(),function(){var t,e=e||{},n=this,i=function(t){return void 0!==t},r=function(){},o=function(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&"undefined"!=typeof t.splice&&"undefined"!=typeof t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||"undefined"!=typeof t.call&&"undefined"!=typeof t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&"undefined"==typeof t.call)return"object";return e},a=function(t){var e=o(t);return"array"==e||"object"==e&&"number"==typeof t.length},s=function(t){return"string"==typeof t},c=function(t){return"function"==o(t)},u=function(t){var e=typeof t;return"object"==e&&null!=t||"function"==e},l="closure_uid_"+(1e9*Math.random()>>>0),h=0,f=function(t){return t.call.apply(t.bind,arguments)},d=function(t,e){if(!t)throw Error();if(2<arguments.length){var n=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,n),t.apply(e,i)}}return function(){return t.apply(e,arguments)}},p=function(){return p=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?f:d,p.apply(null,arguments)},g=Date.now||function(){return+new Date},m=function(t,e){function n(){}n.prototype=e.prototype,t.G=e.prototype,t.prototype=new n,t.Ma=function(t,n){for(var i=Array(arguments.length-2),r=2;r<arguments.length;r++)i[r-2]=arguments[r];return e.prototype[n].apply(t,i)}},v=function(t,e,n){function i(){h||(h=!0,e.apply(null,arguments))}function r(e){c=setTimeout(function(){c=null,t(o,2===l)},e)}function o(t){if(!h)if(t)i.apply(null,arguments);
else if(2===l||u)i.apply(null,arguments);else{64>s&&(s*=2);var e;1===l?(l=2,e=0):e=1e3*(s+Math.random()),r(e)}}function a(t){f||(f=!0,h||(null!==c?(t||(l=2),clearTimeout(c),r(0)):t||(l=1)))}var s=1,c=null,u=!1,l=0,h=!1,f=!1;return r(0),setTimeout(function(){u=!0,a(!0)},n),a},y="https://firebasestorage.googleapis.com",b=function(t,e){this.code="storage/"+t,this.message="Firebase Storage: "+e,this.serverResponse=null,this.name="FirebaseError"};m(b,Error);var w=function(){return new b("unknown","An unknown error occurred, please check the error payload for server response.")},k=function(){return new b("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")},x=function(t){return new b("unauthorized","User does not have permission to access '"+t+"'.")},C=function(){return new b("canceled","User canceled the upload/download.")},S=function(t,e,n){return new b("invalid-argument","Invalid argument in `"+e+"` at index "+t+": "+n)},T=function(){return new b("app-deleted","The Firebase app was deleted.")},_=function(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])},E=function(t){var e={};return _(t,function(t,n){e[t]=n}),e},A=function(t,e,n,i){this.l=t,this.f={},this.i=e,this.b={},this.c="",this.N=n,this.g=this.a=null,this.h=[200],this.j=i},D={STATE_CHANGED:"state_changed"},I={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"},O=function(t){switch(t){case"running":case"pausing":case"canceling":return"running";case"paused":return"paused";case"success":return"success";case"canceled":return"canceled";case"error":return"error";default:return"error"}},N=function(t){return i(t)&&null!==t},M=function(t){return"string"==typeof t||t instanceof String},P=function(t,e,n){this.f=n,this.c=t,this.g=e,this.b=0,this.a=null};P.prototype.get=function(){var t;return 0<this.b?(this.b--,t=this.a,this.a=t.next,t.next=null):t=this.c(),t};var j=function(t,e){t.g(e),t.b<t.f&&(t.b++,e.next=t.a,t.a=e)},F=function(t){if(Error.captureStackTrace)Error.captureStackTrace(this,F);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))};m(F,Error),F.prototype.name="CustomError";var R=function(t,e,n,i,r){this.reset(t,e,n,i,r)};R.prototype.a=null;var L=0;R.prototype.reset=function(t,e,n,i,r){"number"==typeof r||L++,i||g(),this.b=e,delete this.a};var H=function(t){var e,n=[],i=0;for(e in t)n[i++]=t[e];return n},B=function(t){var e,n=[],i=0;for(e in t)n[i++]=e;return n},U=function(t){return null!==t&&"withCredentials"in t},W="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),q=function(t){for(var e,n,i=1;i<arguments.length;i++){n=arguments[i];for(e in n)t[e]=n[e];for(var r=0;r<W.length;r++)e=W[r],Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])}},$=function(t){t.prototype.then=t.prototype.then,t.prototype.$goog_Thenable=!0},V=function(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(e){return!1}},Y=function(t){return Y[" "](t),t};Y[" "]=r;var z=function(t){for(var e=t.split("%s"),n="",i=Array.prototype.slice.call(arguments,1);i.length&&1<e.length;)n+=e.shift()+i.shift();return n+e.join("%s")},X=String.prototype.trim?function(t){return t.trim()}:function(t){return t.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},G=function(t,e){return e>t?-1:t>e?1:0},K=function(t,e){this.a=t,this.b=e};K.prototype.clone=function(){return new K(this.a,this.b)};var Q=function(t,e){this.bucket=t,this.path=e},J=function(t){var e=encodeURIComponent;return"/b/"+e(t.bucket)+"/o/"+e(t.path)},Z=function(t){for(var e=null,n=[{ja:/^gs:\/\/([A-Za-z0-9.\-]+)(\/(.*))?$/i,aa:{bucket:1,path:3},ia:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path=t.path.slice(0,-1))}},{ja:/^https?:\/\/firebasestorage\.googleapis\.com\/v[A-Za-z0-9_]+\/b\/([A-Za-z0-9.\-]+)\/o(\/([^?#]*).*)?$/i,aa:{bucket:1,path:3},ia:function(t){t.path=decodeURIComponent(t.path)}}],i=0;i<n.length;i++){var r=n[i],o=r.ja.exec(t);if(o){e=o[r.aa.bucket],(o=o[r.aa.path])||(o=""),e=new Q(e,o),r.ia(e);break}}if(null==e)throw new b("invalid-url","Invalid URL '"+t+"'.");return e},te=function(t,e,n){c(t)||N(e)||N(n)?(this.next=t,this.error=e||null,this.a=n||null):(this.next=t.next||null,this.error=t.error||null,this.a=t.complete||null)},ee=function(t){var e=encodeURIComponent,n="?";return _(t,function(t,i){var r=e(t)+"="+e(i);n=n+r+"&"}),n=n.slice(0,-1)},ne=function(t,e,n,i,r,o){this.b=t,this.h=e,this.f=n,this.a=i,this.g=r,this.c=o};t=ne.prototype,t.qa=function(){return this.b},t.La=function(){return this.h},t.Ia=function(){return this.f},t.Da=function(){return this.a},t.sa=function(){if(N(this.a)){var t=this.a.downloadURLs;return N(t)&&N(t[0])?t[0]:null}return null},t.Ka=function(){return this.g},t.Ga=function(){return this.c};var ie=function(t,e){e.unshift(t),F.call(this,z.apply(null,e)),e.shift()};m(ie,F),ie.prototype.name="AssertionError";var re=function(t,e,n,i){var r="Assertion failed";if(n)var r=r+(": "+n),o=i;else t&&(r+=": "+t,o=e);throw new ie(""+r,o||[])},oe=function(t,e){t||re("",null,e,Array.prototype.slice.call(arguments,2))},ae=function(t){throw new ie("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))},se=function(t,e){c(t)||re("Expected function but got %s: %s.",[o(t),t],e,Array.prototype.slice.call(arguments,2))},ce=function(){this.g=this.g,this.s=this.s};ce.prototype.g=!1,ce.prototype.fa=function(){this.g||(this.g=!0,this.A())},ce.prototype.A=function(){if(this.s)for(;this.s.length;)this.s.shift()()};var ue,le="closure_listenable_"+(1e6*Math.random()|0),he=0;t:{var fe=n.navigator;if(fe){var de=fe.userAgent;if(de){ue=de;break t}}ue=""}var pe=function(t){return-1!=ue.indexOf(t)},ge=function(){};ge.prototype.a=null;var me=function(t){var e;return(e=t.a)||(e={},We(t)&&(e[0]=!0,e[1]=!0),e=t.a=e),e},ve=Array.prototype.indexOf?function(t,e,n){return oe(null!=t.length),Array.prototype.indexOf.call(t,e,n)}:function(t,e,n){if(n=null==n?0:0>n?Math.max(0,t.length+n):n,s(t))return s(e)&&1==e.length?t.indexOf(e,n):-1;for(;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},ye=Array.prototype.forEach?function(t,e,n){oe(null!=t.length),Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var i=t.length,r=s(t)?t.split(""):t,o=0;i>o;o++)o in r&&e.call(n,r[o],o,t)},be=Array.prototype.filter?function(t,e,n){return oe(null!=t.length),Array.prototype.filter.call(t,e,n)}:function(t,e,n){for(var i=t.length,r=[],o=0,a=s(t)?t.split(""):t,c=0;i>c;c++)if(c in a){var u=a[c];e.call(n,u,c,t)&&(r[o++]=u)}return r},we=Array.prototype.map?function(t,e,n){return oe(null!=t.length),Array.prototype.map.call(t,e,n)}:function(t,e,n){for(var i=t.length,r=Array(i),o=s(t)?t.split(""):t,a=0;i>a;a++)a in o&&(r[a]=e.call(n,o[a],a,t));return r},ke=Array.prototype.some?function(t,e,n){return oe(null!=t.length),Array.prototype.some.call(t,e,n)}:function(t,e,n){for(var i=t.length,r=s(t)?t.split(""):t,o=0;i>o;o++)if(o in r&&e.call(n,r[o],o,t))return!0;return!1},xe=function(t){var e;t:{e=Ui;for(var n=t.length,i=s(t)?t.split(""):t,r=0;n>r;r++)if(r in i&&e.call(void 0,i[r],r,t)){e=r;break t}e=-1}return 0>e?null:s(t)?t.charAt(e):t[e]},Ce=function(t){if("array"!=o(t))for(var e=t.length-1;e>=0;e--)delete t[e];t.length=0},Se=function(t,e){var n,i=ve(t,e);return(n=i>=0)&&(oe(null!=t.length),Array.prototype.splice.call(t,i,1)),n},Te=function(t){var e=t.length;if(e>0){for(var n=Array(e),i=0;e>i;i++)n[i]=t[i];return n}return[]},_e=new P(function(){return new Ae},function(t){t.reset()},100),Ee=function(){var t=xn,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e},Ae=function(){this.next=this.b=this.a=null};Ae.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Ae.prototype.reset=function(){this.next=this.b=this.a=null};var De=function(t,e){this.type=t,this.a=this.target=e,this.ka=!0};De.prototype.b=function(){this.ka=!1};var Ie,Oe=function(t,e,n,i,r){this.listener=t,this.a=null,this.src=e,this.type=n,this.U=!!i,this.N=r,++he,this.O=this.T=!1},Ne=function(t){t.O=!0,t.listener=null,t.a=null,t.src=null,t.N=null},Me=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#(.*))?$/,Pe=function(t,e){var n=be(e.split("/"),function(t){return 0<t.length}).join("/");return 0===t.length?n:t+"/"+n},je=function(t){var e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)},Fe=function(t){this.src=t,this.a={},this.b=0},Re=function(t,e,n,i,r,o){var a=e.toString();e=t.a[a],e||(e=t.a[a]=[],t.b++);var s=He(e,n,r,o);return s>-1?(t=e[s],i||(t.T=!1)):(t=new Oe(n,t.src,a,!!r,o),t.T=i,e.push(t)),t},Le=function(t,e){var n=e.type;n in t.a&&Se(t.a[n],e)&&(Ne(e),0==t.a[n].length&&(delete t.a[n],t.b--))},He=function(t,e,n,i){for(var r=0;r<t.length;++r){var o=t[r];if(!o.O&&o.listener==e&&o.U==!!n&&o.N==i)return r}return-1},Be=function(){};m(Be,ge);var Ue=function(t){return(t=We(t))?new ActiveXObject(t):new XMLHttpRequest},We=function(t){if(!t.b&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var i=e[n];try{return new ActiveXObject(i),t.b=i}catch(r){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.b};Ie=new Be;var qe=function(t){if(this.a=[],t)t:{var e;if(t instanceof qe){if(e=t.D(),t=t.w(),0>=this.o()){for(var n=this.a,i=0;i<e.length;i++)n.push(new K(e[i],t[i]));break t}}else e=B(t),t=H(t);for(i=0;i<e.length;i++)$e(this,e[i],t[i])}},$e=function(t,e,n){var i=t.a;for(i.push(new K(e,n)),e=i.length-1,t=t.a,n=t[e];e>0&&(i=e-1>>1,t[i].a>n.a);)t[e]=t[i],e=i;t[e]=n};t=qe.prototype,t.w=function(){for(var t=this.a,e=[],n=t.length,i=0;n>i;i++)e.push(t[i].b);return e},t.D=function(){for(var t=this.a,e=[],n=t.length,i=0;n>i;i++)e.push(t[i].a);return e},t.clone=function(){return new qe(this)},t.o=function(){return this.a.length},t.F=function(){return 0==this.a.length},t.clear=function(){Ce(this.a)};var Ve=function(){this.b=[],this.a=[]},Ye=function(t){return 0==t.b.length&&(t.b=t.a,t.b.reverse(),t.a=[]),t.b.pop()};Ve.prototype.o=function(){return this.b.length+this.a.length},Ve.prototype.F=function(){return 0==this.b.length&&0==this.a.length},Ve.prototype.clear=function(){this.b=[],this.a=[]},Ve.prototype.w=function(){for(var t=[],e=this.b.length-1;e>=0;--e)t.push(this.b[e]);for(var n=this.a.length,e=0;n>e;++e)t.push(this.a[e]);return t};var ze,Xe=function(t){if(t.w&&"function"==typeof t.w)return t.w();if(s(t))return t.split("");if(a(t)){for(var e=[],n=t.length,i=0;n>i;i++)e.push(t[i]);return e}return H(t)},Ge=function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(a(t)||s(t))ye(t,e,void 0);else{var n;if(t.D&&"function"==typeof t.D)n=t.D();else if(t.w&&"function"==typeof t.w)n=void 0;else if(a(t)||s(t)){n=[];for(var i=t.length,r=0;i>r;r++)n.push(r)}else n=B(t);for(var i=Xe(t),r=i.length,o=0;r>o;o++)e.call(void 0,i[o],n&&n[o],t)}},Ke=function(t){n.setTimeout(function(){throw t},0)},Qe=function(){var t=n.MessageChannel;if("undefined"==typeof t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!pe("Presto")&&(t=function(){var t=document.createElement("IFRAME");t.style.display="none",t.src="",document.documentElement.appendChild(t);var e=t.contentWindow,t=e.document;t.open(),t.write(""),t.close();var n="callImmediate"+Math.random(),i="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host,t=p(function(t){"*"!=i&&t.origin!=i||t.data!=n||this.port1.onmessage()},this);e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,i)}}}),"undefined"!=typeof t&&!pe("Trident")&&!pe("MSIE")){var e=new t,r={},o=r;return e.port1.onmessage=function(){if(i(r.next)){r=r.next;var t=r.ea;r.ea=null,t()}},function(t){o.next={ea:t},o=o.next,e.port2.postMessage(0)}}return"undefined"!=typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(t){var e=document.createElement("SCRIPT");e.onreadystatechange=function(){e.onreadystatechange=null,e.parentNode.removeChild(e),e=null,t(),t=null},document.documentElement.appendChild(e)}:function(t){n.setTimeout(t,0)}},Je="StopIteration"in n?n.StopIteration:{message:"StopIteration",stack:""},Ze=function(){};Ze.prototype.next=function(){throw Je},Ze.prototype.X=function(){return this};var tn=function(){qe.call(this)};m(tn,qe);var en,nn=pe("Opera"),rn=pe("Trident")||pe("MSIE"),on=pe("Edge"),an=!(!pe("Gecko")||-1!=ue.toLowerCase().indexOf("webkit")&&!pe("Edge")||pe("Trident")||pe("MSIE")||pe("Edge")),sn=-1!=ue.toLowerCase().indexOf("webkit")&&!pe("Edge"),cn=function(){var t=n.document;return t?t.documentMode:void 0};t:{var un="",ln=function(){var t=ue;return an?/rv\:([^\);]+)(\)|;)/.exec(t):on?/Edge\/([\d\.]+)/.exec(t):rn?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):sn?/WebKit\/(\S+)/.exec(t):nn?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(ln&&(un=ln?ln[1]:""),rn){var hn=cn();if(null!=hn&&hn>parseFloat(un)){en=String(hn);break t}}en=un}var fn,dn,pn=en,gn={},mn=function(t){var e;if(!(e=gn[t])){e=0;for(var n=X(String(pn)).split("."),i=X(String(t)).split("."),r=Math.max(n.length,i.length),o=0;0==e&&r>o;o++){var a=n[o]||"",s=i[o]||"",c=/(\d*)(\D*)/g,u=/(\d*)(\D*)/g;do{var l=c.exec(a)||["","",""],h=u.exec(s)||["","",""];if(0==l[0].length&&0==h[0].length)break;e=G(0==l[1].length?0:parseInt(l[1],10),0==h[1].length?0:parseInt(h[1],10))||G(0==l[2].length,0==h[2].length)||G(l[2],h[2])}while(0==e)}e=gn[t]=e>=0}return e},vn=n.document,yn=vn&&rn?cn()||("CSS1Compat"==vn.compatMode?parseInt(pn,10):5):void 0,bn=function(t,e){fn||wn(),kn||(fn(),kn=!0);var n=xn,i=_e.get();i.set(t,e),n.b?n.b.next=i:(oe(!n.a),n.a=i),n.b=i},wn=function(){if(n.Promise&&n.Promise.resolve){var t=n.Promise.resolve(void 0);fn=function(){t.then(Cn)}}else fn=function(){var t=Cn;!c(n.setImmediate)||n.Window&&n.Window.prototype&&!pe("Edge")&&n.Window.prototype.setImmediate==n.setImmediate?(ze||(ze=Qe()),ze(t)):n.setImmediate(t)}},kn=!1,xn=new function(){this.b=this.a=null},Cn=function(){for(var t=null;t=Ee();){try{t.a.call(t.b)}catch(e){Ke(e)}j(_e,t)}kn=!1};(dn=!rn)||(dn=9<=Number(yn));var Sn=dn,Tn=rn&&!mn("9");!sn||mn("528"),an&&mn("1.9b")||rn&&mn("8")||nn&&mn("9.5")||sn&&mn("528"),an&&!mn("8")||rn&&mn("9");var _n=function(t){this.b={},this.a=[],this.f=this.c=0;var e=arguments.length;if(e>1){if(e%2)throw Error("Uneven number of arguments");for(var n=0;e>n;n+=2)this.set(arguments[n],arguments[n+1])}else if(t){t instanceof _n?(e=t.D(),n=t.w()):(e=B(t),n=H(t));for(var i=0;i<e.length;i++)this.set(e[i],n[i])}};t=_n.prototype,t.o=function(){return this.c},t.w=function(){An(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},t.D=function(){return An(this),this.a.concat()},t.F=function(){return 0==this.c},t.clear=function(){this.b={},this.f=this.c=this.a.length=0};var En=function(t,e){return Object.prototype.hasOwnProperty.call(t.b,e)?(delete t.b[e],t.c--,t.f++,t.a.length>2*t.c&&An(t),!0):!1},An=function(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var i=t.a[e];Object.prototype.hasOwnProperty.call(t.b,i)&&(t.a[n++]=i),e++}t.a.length=n}if(t.c!=t.a.length){for(var r={},n=e=0;e<t.a.length;)i=t.a[e],Object.prototype.hasOwnProperty.call(r,i)||(t.a[n++]=i,r[i]=1),e++;t.a.length=n}};t=_n.prototype,t.get=function(t,e){return Object.prototype.hasOwnProperty.call(this.b,t)?this.b[t]:e},t.set=function(t,e){Object.prototype.hasOwnProperty.call(this.b,t)||(this.c++,this.a.push(t),this.f++),this.b[t]=e},t.forEach=function(t,e){for(var n=this.D(),i=0;i<n.length;i++){var r=n[i],o=this.get(r);t.call(e,o,r,this)}},t.clone=function(){return new _n(this)},t.X=function(t){An(this);var e=0,n=this.f,i=this,r=new Ze;return r.next=function(){if(n!=i.f)throw Error("The map has changed since the iterator was created");if(e>=i.a.length)throw Je;var r=i.a[e++];return t?r:i.b[r]},r};var Dn=function(t,e){if(De.call(this,t?t.type:""),this.c=this.a=this.target=null,t){this.type=t.type,this.target=t.target||t.srcElement,this.a=e;var n=t.relatedTarget;if(n&&an)try{Y(n.nodeName)}catch(i){}this.c=t,t.defaultPrevented&&this.b()}};m(Dn,De),Dn.prototype.b=function(){Dn.G.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Tn)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var In=function(t,e){if(this.a=0,this.i=void 0,this.c=this.b=this.f=null,this.g=this.h=!1,t!=r)try{var n=this;t.call(e,function(t){Ln(n,2,t)},function(t){try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(e){}Ln(n,3,t)})}catch(i){Ln(this,3,i)}},On=function(){this.next=this.f=this.c=this.a=this.b=null,this.g=!1};On.prototype.reset=function(){this.f=this.c=this.a=this.b=null,this.g=!1};var Nn=new P(function(){return new On},function(t){t.reset()},100),Mn=function(t,e,n){var i=Nn.get();return i.a=t,i.c=e,i.f=n,i},Pn=function(t){if(t instanceof In)return t;var e=new In(r);return Ln(e,2,t),e},jn=function(t){return new In(function(e,n){n(t)})};In.prototype.then=function(t,e,n){return null!=t&&se(t,"opt_onFulfilled should be a function."),null!=e&&se(e,"opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?"),Rn(this,c(t)?t:null,c(e)?e:null,n)},$(In),In.prototype.l=function(t,e){return Rn(this,null,t,e)};var Fn=function(t,e){t.b||2!=t.a&&3!=t.a||Bn(t),oe(null!=e.a),t.c?t.c.next=e:t.b=e,t.c=e},Rn=function(t,e,n,i){var r=Mn(null,null,null);return r.b=new In(function(t,o){r.a=e?function(n){try{var r=e.call(i,n);t(r)}catch(a){o(a)}}:t,r.c=n?function(e){try{var r=n.call(i,e);t(r)}catch(a){o(a)}}:o}),r.b.f=t,Fn(t,r),r.b};In.prototype.s=function(t){oe(1==this.a),this.a=0,Ln(this,2,t)},In.prototype.m=function(t){oe(1==this.a),this.a=0,Ln(this,3,t)};var Ln=function(t,e,n){if(0==t.a){t==n&&(e=3,n=new TypeError("Promise cannot resolve to itself")),t.a=1;var i;t:{var o=n,a=t.s,s=t.m;if(o instanceof In)null!=a&&se(a,"opt_onFulfilled should be a function."),null!=s&&se(s,"opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?"),Fn(o,Mn(a||r,s||null,t)),i=!0;else if(V(o))o.then(a,s,t),i=!0;else{if(u(o))try{var l=o.then;if(c(l)){Hn(o,l,a,s,t),i=!0;break t}}catch(h){s.call(t,h),i=!0;break t}i=!1}}i||(t.i=n,t.a=e,t.f=null,Bn(t),3!=e||qn(t,n))}},Hn=function(t,e,n,i,r){var o=!1,a=function(t){o||(o=!0,n.call(r,t))},s=function(t){o||(o=!0,i.call(r,t))};try{e.call(t,a,s)}catch(c){s(c)}},Bn=function(t){t.h||(t.h=!0,bn(t.j,t))},Un=function(t){var e=null;return t.b&&(e=t.b,t.b=e.next,e.next=null),t.b||(t.c=null),null!=e&&oe(null!=e.a),e};In.prototype.j=function(){for(var t=null;t=Un(this);){var e=this.a,n=this.i;if(3==e&&t.c&&!t.g)for(var i=void 0,i=this;i&&i.g;i=i.f)i.g=!1;if(t.b)t.b.f=null,Wn(t,e,n);else try{t.g?t.a.call(t.f):Wn(t,e,n)}catch(r){$n.call(null,r)}j(Nn,t)}this.h=!1};var Wn=function(t,e,n){2==e?t.a.call(t.f,n):t.c&&t.c.call(t.f,n)},qn=function(t,e){t.g=!0,bn(function(){t.g&&$n.call(null,e)})},$n=Ke,Vn=function(t){if(this.a=new _n,t){t=Xe(t);for(var e=t.length,n=0;e>n;n++){var i=t[n];this.a.set(Yn(i),i)}}},Yn=function(t){var e=typeof t;return"object"==e&&t||"function"==e?"o"+(t[l]||(t[l]=++h)):e.substr(0,1)+t};t=Vn.prototype,t.o=function(){return this.a.o()},t.clear=function(){this.a.clear()},t.F=function(){return this.a.F()},t.w=function(){return this.a.w()},t.clone=function(){return new Vn(this)},t.X=function(){return this.a.X(!1)};var zn=function(t){return function(){var e=[];Array.prototype.push.apply(e,arguments),Pn(!0).then(function(){t.apply(null,e)})}},Xn="closure_lm_"+(1e6*Math.random()|0),Gn={},Kn=0,Qn=function(t,e,n,i,r){if("array"==o(e)){for(var a=0;a<e.length;a++)Qn(t,e[a],n,i,r);return null}return n=ui(n),t&&t[le]?(Oi(t),t=Re(t.b,String(e),n,!1,i,r)):t=Jn(t,e,n,!1,i,r),t},Jn=function(t,e,n,i,r,o){if(!e)throw Error("Invalid event type");var a=!!r,s=si(t);if(s||(t[Xn]=s=new Fe(t)),n=Re(s,e,n,i,r,o),n.a)return n;if(i=Zn(),n.a=i,i.src=t,i.listener=n,t.addEventListener)t.addEventListener(e.toString(),i,a);else{if(!t.attachEvent)throw Error("addEventListener and attachEvent are unavailable.");t.attachEvent(ii(e.toString()),i)}return Kn++,n},Zn=function(){var t=ai,e=Sn?function(n){return t.call(e.src,e.listener,n)}:function(n){return n=t.call(e.src,e.listener,n),n?void 0:n};return e},ti=function(t,e,n,i,r){if("array"==o(e))for(var a=0;a<e.length;a++)ti(t,e[a],n,i,r);else n=ui(n),t&&t[le]?Re(t.b,String(e),n,!0,i,r):Jn(t,e,n,!0,i,r)},ei=function(t,e,n,i,r){if("array"==o(e))for(var a=0;a<e.length;a++)ei(t,e[a],n,i,r);else n=ui(n),t&&t[le]?(t=t.b,e=String(e).toString(),e in t.a&&(a=t.a[e],n=He(a,n,i,r),n>-1&&(Ne(a[n]),oe(null!=a.length),Array.prototype.splice.call(a,n,1),0==a.length&&(delete t.a[e],t.b--)))):t&&(t=si(t))&&(e=t.a[e.toString()],t=-1,e&&(t=He(e,n,!!i,r)),(n=t>-1?e[t]:null)&&ni(n))},ni=function(t){if("number"!=typeof t&&t&&!t.O){var e=t.src;if(e&&e[le])Le(e.b,t);else{var n=t.type,i=t.a;e.removeEventListener?e.removeEventListener(n,i,t.U):e.detachEvent&&e.detachEvent(ii(n),i),Kn--,(n=si(e))?(Le(n,t),0==n.b&&(n.src=null,e[Xn]=null)):Ne(t)}}},ii=function(t){return t in Gn?Gn[t]:Gn[t]="on"+t},ri=function(t,e,n,i){var r=!0;if((t=si(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.U==n&&!o.O&&(o=oi(o,i),r=r&&!1!==o)}return r},oi=function(t,e){var n=t.listener,i=t.N||t.src;return t.T&&ni(t),n.call(i,e)},ai=function(t,e){if(t.O)return!0;if(!Sn){var i;if(!(i=e))t:{i=["window","event"];for(var r,o=n;r=i.shift();){if(null==o[r]){i=null;break t}o=o[r]}i=o}if(r=i,i=new Dn(r,this),o=!0,!(0>r.keyCode||void 0!=r.returnValue)){t:{var a=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(s){a=!0}(a||void 0==r.returnValue)&&(r.returnValue=!0)}for(r=[],a=i.a;a;a=a.parentNode)r.push(a);for(var a=t.type,c=r.length-1;c>=0;c--){i.a=r[c];var u=ri(r[c],a,!0,i),o=o&&u}for(c=0;c<r.length;c++)i.a=r[c],u=ri(r[c],a,!1,i),o=o&&u}return o}return oi(t,new Dn(e,this))},si=function(t){return t=t[Xn],t instanceof Fe?t:null},ci="__closure_events_fn_"+(1e9*Math.random()>>>0),ui=function(t){return oe(t,"Listener can not be null."),c(t)?t:(oe(t.handleEvent,"An object listener must have handleEvent method."),t[ci]||(t[ci]=function(e){return t.handleEvent(e)}),t[ci])},li=function(t,e){if(ce.call(this),this.l=t||0,this.c=e||10,this.l>this.c)throw Error("[goog.structs.Pool] Min can not be greater than max");this.a=new Ve,this.b=new Vn,this.i=null,this.S()};m(li,ce),li.prototype.W=function(){var t=g();if(!(null!=this.i&&0>t-this.i)){for(var e;0<this.a.o()&&(e=Ye(this.a),!this.j(e));)this.S();return!e&&this.o()<this.c&&(e=this.h()),e&&(this.i=t,this.b.a.set(Yn(e),e)),e}};var hi=function(t){var e=nr;En(e.b.a,Yn(t))&&e.Y(t)};li.prototype.Y=function(t){En(this.b.a,Yn(t)),this.j(t)&&this.o()<this.c?this.a.a.push(t):fi(t)},li.prototype.S=function(){for(var t=this.a;this.o()<this.l;){var e=this.h();t.a.push(e)}for(;this.o()>this.c&&0<this.a.o();)fi(Ye(t))},li.prototype.h=function(){return{}};var fi=function(t){if("function"==typeof t.fa)t.fa();else for(var e in t)t[e]=null};li.prototype.j=function(t){return"function"==typeof t.ra?t.ra():!0},li.prototype.o=function(){return this.a.o()+this.b.o()},li.prototype.F=function(){return this.a.F()&&this.b.F()},li.prototype.A=function(){if(li.G.A.call(this),0<this.b.o())throw Error("[goog.structs.Pool] Objects not released");delete this.b;for(var t=this.a;!t.F();)fi(Ye(t));delete this.a};var di=function(t,e){this.c=[],this.m=e||null,this.a=this.h=!1,this.b=void 0,this.j=this.g=!1,this.f=0,this.i=null,this.s=0};di.prototype.l=function(t,e){this.g=!1,this.h=!0,this.b=e,this.a=!t,mi(this)};var pi=function(t,e,n){oe(!t.j,"Blocking Deferreds can not be re-used"),t.c.push([e,n,void 0]),t.h&&mi(t)};di.prototype.then=function(t,e,n){var i,r,o=new In(function(t,e){i=t,r=e});return pi(this,i,function(t){r(t)}),o.then(t,e,n)},$(di);var gi=function(t){return ke(t.c,function(t){return c(t[1])})},mi=function(t){if(t.f&&t.h&&gi(t)){var e=t.f,r=yi[e];r&&(n.clearTimeout(r.a),delete yi[e]),t.f=0}t.i&&(t.i.s--,delete t.i);for(var e=t.b,o=r=!1;t.c.length&&!t.g;){var a=t.c.shift(),s=a[0],c=a[1],a=a[2];if(s=t.a?c:s)try{var u=s.call(a||t.m,e);i(u)&&(t.a=t.a&&(u==e||u instanceof Error),t.b=e=u),(V(e)||"function"==typeof n.Promise&&e instanceof n.Promise)&&(o=!0,t.g=!0)}catch(l){e=l,t.a=!0,gi(t)||(r=!0)}}t.b=e,o&&(u=p(t.l,t,!0),o=p(t.l,t,!1),e instanceof di?(pi(e,u,o),e.j=!0):e.then(u,o)),r&&(e=new vi(e),yi[e.a]=e,t.f=e.a)},vi=function(t){this.a=n.setTimeout(p(this.c,this),0),this.b=t};vi.prototype.c=function(){throw oe(yi[this.a],"Cannot throw an error that is not scheduled."),delete yi[this.a],this.b};var yi={},bi=function(t){this.f=t,this.b=this.c=this.a=null},wi=function(t,e){this.name=t,this.value=e};wi.prototype.toString=function(){return this.name};var ki=new wi("SEVERE",1e3),xi=new wi("CONFIG",700),Ci=new wi("FINE",500),Si=function(t){return t.c?t.c:t.a?Si(t.a):(ae("Root logger has no level set."),null)};bi.prototype.log=function(t,e,i){if(t.value>=Si(this).value)for(c(e)&&(e=e()),t=new R(t,String(e),this.f),i&&(t.a=i),i="log:"+t.b,n.console&&(n.console.timeStamp?n.console.timeStamp(i):n.console.markTimeline&&n.console.markTimeline(i)),n.msWriteProfilerMark&&n.msWriteProfilerMark(i),i=this;i;)i=i.a};var Ti={},_i=null,Ei=function(t){_i||(_i=new bi(""),Ti[""]=_i,_i.c=xi);var e;if(!(e=Ti[t])){e=new bi(t);var n=t.lastIndexOf("."),i=t.substr(n+1),n=Ei(t.substr(0,n));n.b||(n.b={}),n.b[i]=e,e.a=n,Ti[t]=e}return e},Ai=function(){ce.call(this),this.b=new Fe(this),this.ma=this,this.I=null};m(Ai,ce),Ai.prototype[le]=!0,Ai.prototype.removeEventListener=function(t,e,n,i){ei(this,t,e,n,i)};var Di=function(t,e){Oi(t);var n,i=t.I;if(i){n=[];for(var r=1;i;i=i.I)n.push(i),oe(1e3>++r,"infinite loop")}var i=t.ma,r=e,o=r.type||r;if(s(r))r=new De(r,i);else if(r instanceof De)r.target=r.target||i;else{var a=r,r=new De(o,i);q(r,a)}var c,a=!0;if(n)for(var u=n.length-1;u>=0;u--)c=r.a=n[u],a=Ii(c,o,!0,r)&&a;if(c=r.a=i,a=Ii(c,o,!0,r)&&a,a=Ii(c,o,!1,r)&&a,n)for(u=0;u<n.length;u++)c=r.a=n[u],a=Ii(c,o,!1,r)&&a};Ai.prototype.A=function(){if(Ai.G.A.call(this),this.b){var t,e=this.b,n=0;for(t in e.a){for(var i=e.a[t],r=0;r<i.length;r++)++n,Ne(i[r]);delete e.a[t],e.b--}}this.I=null};var Ii=function(t,e,n,i){if(e=t.b.a[String(e)],!e)return!0;e=e.concat();for(var r=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.O&&a.U==n){var s=a.listener,c=a.N||a.src;a.T&&Le(t.b,a),r=!1!==s.call(c,i)&&r}}return r&&0!=i.ka},Oi=function(t){oe(t.b,"Event target is not initialized. Did you call the superclass (goog.events.EventTarget) constructor?")},Ni=function(t,e){this.f=new tn,li.call(this,t,e)};m(Ni,li),t=Ni.prototype,t.W=function(t,e){return t?($e(this.f,i(e)?e:100,t),void this.$()):Ni.G.W.call(this)},t.$=function(){for(var t=this.f;0<t.o();){var e=this.W();if(!e)break;var n,i=t,r=i.a,o=r.length;if(n=r[0],0>=o)n=void 0;else{if(1==o)Ce(r);else{r[0]=r.pop();for(var r=0,i=i.a,o=i.length,a=i[r];o>>1>r;){var s=2*r+1,c=2*r+2,s=o>c&&i[c].a<i[s].a?c:s;if(i[s].a>a.a)break;i[r]=i[s],r=s}i[r]=a}n=n.b}n.apply(this,[e])}},t.Y=function(t){Ni.G.Y.call(this,t),this.$()},t.S=function(){Ni.G.S.call(this),this.$()},t.A=function(){Ni.G.A.call(this),n.clearTimeout(void 0),this.f.clear(),this.f=null};var Mi=function(t,e){t&&t.log(Ci,e,void 0)},Pi=function(t,e,i){if(c(t))i&&(t=p(t,i));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=p(t.handleEvent,t)}return 2147483647<Number(e)?-1:n.setTimeout(t,e||0)},ji=function(t){Ai.call(this),this.L=new _n,this.C=t||null,this.c=!1,this.B=this.a=null,this.P=this.l="",this.J=0,this.h="",this.f=this.H=this.j=this.K=!1,this.i=0,this.m=null,this.da="",this.v=this.ba=this.Z=!1};m(ji,Ai);var Fi=ji.prototype,Ri=Ei("goog.net.XhrIo");Fi.u=Ri;var Li=/^https?$/i,Hi=["POST","PUT"];ji.prototype.send=function(t,e,i,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.l+"; newUri="+t);e=e?e.toUpperCase():"GET",this.l=t,this.h="",this.J=0,this.P=e,this.K=!1,this.c=!0,this.a=Ue(this.C?this.C:Ie),this.B=me(this.C?this.C:Ie),this.a.onreadystatechange=p(this.ca,this),this.ba&&"onprogress"in this.a&&(this.a.onprogress=p(function(t){this.R(t,!0)},this),this.a.upload&&(this.a.upload.onprogress=p(this.R,this)));try{Mi(this.u,tr(this,"Opening Xhr")),this.H=!0,this.a.open(e,String(t),!0),this.H=!1}catch(o){return Mi(this.u,tr(this,"Error opening Xhr: "+o.message)),void Wi(this,o)}t=i||"";var a=this.L.clone();r&&Ge(r,function(t,e){a.set(e,t)}),r=xe(a.D()),i=n.FormData&&t instanceof n.FormData,!(0<=ve(Hi,e))||r||i||a.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),a.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.da&&(this.a.responseType=this.da),U(this.a)&&(this.a.withCredentials=this.Z);try{Xi(this),0<this.i&&(this.v=Bi(this.a),Mi(this.u,tr(this,"Will abort after "+this.i+"ms if incomplete, xhr2 "+this.v)),this.v?(this.a.timeout=this.i,this.a.ontimeout=p(this.M,this)):this.m=Pi(this.M,this.i,this)),Mi(this.u,tr(this,"Sending request")),this.j=!0,this.a.send(t),this.j=!1}catch(o){Mi(this.u,tr(this,"Send error: "+o.message)),Wi(this,o)}};var Bi=function(t){return rn&&mn(9)&&"number"==typeof t.timeout&&i(t.ontimeout)},Ui=function(t){return"content-type"==t.toLowerCase()};ji.prototype.M=function(){"undefined"!=typeof e&&this.a&&(this.h="Timed out after "+this.i+"ms, aborting",this.J=8,Mi(this.u,tr(this,this.h)),Di(this,"timeout"),$i(this,8))};var Wi=function(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,t.J=5,qi(t),zi(t)},qi=function(t){t.K||(t.K=!0,Di(t,"complete"),Di(t,"error"))},$i=function(t,e){t.a&&t.c&&(Mi(t.u,tr(t,"Aborting")),t.c=!1,t.f=!0,t.a.abort(),t.f=!1,t.J=e||7,Di(t,"complete"),Di(t,"abort"),zi(t))};ji.prototype.A=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),zi(this,!0)),ji.G.A.call(this)},ji.prototype.ca=function(){this.g||(this.H||this.j||this.f?Vi(this):this.na())},ji.prototype.na=function(){Vi(this)};var Vi=function(t){if(t.c&&"undefined"!=typeof e)if(t.B[1]&&4==Ki(t)&&2==Qi(t))Mi(t.u,tr(t,"Local request error detected and ignored"));else if(t.j&&4==Ki(t))Pi(t.ca,0,t);else if(Di(t,"readystatechange"),4==Ki(t)){Mi(t.u,tr(t,"Request complete")),t.c=!1;try{if(Gi(t))Di(t,"complete"),Di(t,"success");else{t.J=6;var n;try{n=2<Ki(t)?t.a.statusText:""}catch(i){Mi(t.u,"Can not get status: "+i.message),n=""}t.h=n+" ["+Qi(t)+"]",qi(t)}}finally{zi(t)}}};ji.prototype.R=function(t,e){oe("progress"===t.type,"goog.net.EventType.PROGRESS is of the same type as raw XHR progress."),Di(this,Yi(t,"progress")),Di(this,Yi(t,e?"downloadprogress":"uploadprogress"))};var Yi=function(t,e){return{type:e,lengthComputable:t.lengthComputable,loaded:t.loaded,total:t.total}},zi=function(t,e){if(t.a){Xi(t);var n=t.a,i=t.B[0]?r:null;t.a=null,t.B=null,e||Di(t,"ready");try{n.onreadystatechange=i}catch(o){(n=t.u)&&n.log(ki,"Problem encountered resetting onreadystatechange: "+o.message,void 0)}}},Xi=function(t){t.a&&t.v&&(t.a.ontimeout=null),"number"==typeof t.m&&(n.clearTimeout(t.m),t.m=null)},Gi=function(t){var e,i=Qi(t);t:switch(i){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:e=!0;break t;default:e=!1}return e||((i=0===i)&&(t=String(t.l).match(Me)[1]||null,!t&&n.self&&n.self.location&&(t=n.self.location.protocol,t=t.substr(0,t.length-1)),i=!Li.test(t?t.toLowerCase():"")),e=i),e},Ki=function(t){return t.a?t.a.readyState:0},Qi=function(t){try{return 2<Ki(t)?t.a.status:-1}catch(e){return-1}},Ji=function(t){try{return t.a?t.a.responseText:""}catch(e){return Mi(t.u,"Can not get responseText: "+e.message),""}},Zi=function(t,e){return t.a&&4==Ki(t)?t.a.getResponseHeader(e):void 0},tr=function(t,e){return e+" ["+t.P+" "+t.l+" "+Qi(t)+"]"},er=function(t,e,n,i){this.m=t,this.v=!!i,Ni.call(this,e,n)};m(er,Ni),er.prototype.h=function(){var t=new ji,e=this.m;return e&&e.forEach(function(e,n){t.L.set(n,e)}),this.v&&(t.Z=!0),t},er.prototype.j=function(t){return!t.g&&!t.a};var nr=new er,ir=function(t,e,n,i,r,o,a,s,c,u){this.L=t,this.H=e,this.B=n,this.m=i,this.I=r.slice(),this.s=this.l=this.f=this.c=null,this.h=this.i=!1,this.v=o,this.j=a,this.g=c,this.M=u,this.K=s;
var l=this;this.C=new In(function(t,e){l.l=t,l.s=e,or(l)})},rr=function(t,e,n){this.b=t,this.c=e,this.a=!!n},or=function(t){function e(t,e){e?t(!1,new rr(!1,null,!0)):nr.W(function(e){e.Z=r.M,r.c=e;var n=null;null!==r.g&&(e.ba=!0,n=Qn(e,"uploadprogress",function(t){r.g(t.loaded,t.lengthComputable?t.total:-1)}),e.ba=null!==r.g),e.send(r.L,r.H,r.m,r.B),ti(e,"complete",function(e){null!==n&&ni(n),r.c=null,e=e.target;var i=6===e.J&&100<=Qi(e),i=Gi(e)||i,o=Qi(e);!i||o>=500&&600>o||429===o?(i=7===e.J,hi(e),t(!1,new rr(!1,null,i))):(i=0<=ve(r.I,o),t(!0,new rr(i,e)))})})}function n(t,e){var n=r.l,o=r.s,a=e.c;if(e.b)try{var s=r.v(a,Ji(a));i(s)?n(s):n()}catch(c){o(c)}else null!==a?(n=w(),s=Ji(a),n.serverResponse=s,o(r.j?r.j(a,n):n)):(n=e.a?r.h?T():C():new b("retry-limit-exceeded","Max retry time for operation exceeded, please try again."),o(n));hi(a)}var r=t;t.i?n(0,new rr(!1,null,!0)):t.f=v(e,n,t.K)};ir.prototype.a=function(){return this.C},ir.prototype.b=function(t){this.i=!0,this.h=t||!1,null!==this.f&&this.f(!1),null!==this.c&&$i(this.c)};var ar=function(t,e,n){var i=ee(t.f),i=t.l+i,r=t.b?E(t.b):{};return null!==e&&0<e.length&&(r.Authorization="Firebase "+e),r["X-Firebase-Storage-Version"]="webjs/1.0.0",new ir(i,t.i,r,t.c,t.h,t.N,t.a,t.j,t.g,n)},sr=function(){var t=n.BlobBuilder||n.WebKitBlobBuilder;if(i(t)){for(var t=new t,e=0;e<arguments.length;e++)t.append(arguments[e]);return t.getBlob()}if(t=Te(arguments),e=n.BlobBuilder||n.WebKitBlobBuilder,i(e)){for(var e=new e,r=0;r<t.length;r++)e.append(t[r],void 0);t=e.getBlob(void 0)}else{if(!i(n.Blob))throw Error("This browser doesn't seem to support creating Blobs");t=new Blob(t,{})}return t},cr=function(t,e,n){return i(n)||(n=t.size),t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?an&&!mn("13.0")||sn&&!mn("537.1")?(0>e&&(e+=t.size),0>e&&(e=0),0>n&&(n+=t.size),e>n&&(n=e),t.slice(e,n-e)):t.slice(e,n):null},ur=function(t){this.c=jn(t)};ur.prototype.a=function(){return this.c},ur.prototype.b=function(){};var lr=function(){this.a={},this.b=Number.MIN_SAFE_INTEGER},hr=function(t,e){function n(){delete r.a[i]}var i=t.b;t.b++,t.a[i]=e;var r=t;e.a().then(n,n)};lr.prototype.clear=function(){_(this.a,function(t,e){e&&e.b(!0)}),this.a={}};var fr=function(t,e,n,i){this.a=t,this.f=null,null!==this.a&&(t=this.a.options,this.f=N(t)?t.storageBucket||null:null),this.l=e,this.j=n,this.i=i,this.c=12e4,this.b=6e4,this.h=new lr,this.g=!1},dr=function(t){return null!==t.a&&N(t.a.INTERNAL)&&N(t.a.INTERNAL.getToken)?t.a.INTERNAL.getToken().then(function(t){return N(t)?t.accessToken:null},function(){return null}):Pn(null)};fr.prototype.bucket=function(){if(this.g)throw T();return this.f};var pr=function(t,e,n){return t.g?new ur(T()):(e=t.j(e,n,null===t.a),hr(t.h,e),e)},gr=function(t,e){return e},mr=function(t,e,n,i){this.c=t,this.b=e||t,this.f=!!n,this.a=i||gr},vr=null,yr=function(){if(vr)return vr;var t=[];t.push(new mr("bucket")),t.push(new mr("generation")),t.push(new mr("metageneration")),t.push(new mr("name","fullPath",!0));var e=new mr("name");return e.a=function(t,e){return!M(e)||2>e.length?e:je(e)},t.push(e),e=new mr("size"),e.a=function(t,e){return N(e)?+e:e},t.push(e),t.push(new mr("timeCreated")),t.push(new mr("updated")),t.push(new mr("md5Hash",null,!0)),t.push(new mr("cacheControl",null,!0)),t.push(new mr("contentDisposition",null,!0)),t.push(new mr("contentEncoding",null,!0)),t.push(new mr("contentLanguage",null,!0)),t.push(new mr("contentType",null,!0)),t.push(new mr("metadata","customMetadata",!0)),t.push(new mr("downloadTokens","downloadURLs",!1,function(t,e){if(!(M(e)&&0<e.length))return[];var n=encodeURIComponent;return we(e.split(","),function(e){var i=t.fullPath,i="https://firebasestorage.googleapis.com/v0"+("/b/"+n(t.bucket)+"/o/"+n(i));return e=ee({alt:"media",token:e}),i+e})})),vr=t},br=function(t,e){Object.defineProperty(t,"ref",{get:function(){return e.l(e,new Q(t.bucket,t.fullPath))}})},wr=function(t,e){for(var n={},i=e.length,r=0;i>r;r++){var o=e[r];o.f&&(n[o.c]=t[o.b])}return JSON.stringify(n)},kr=function(t){if(!t||"object"!=typeof t)throw"Expected Metadata object.";for(var e in t){var n=t[e];if("customMetadata"===e&&"object"!=typeof n)throw"Expected object for 'customMetadata' mapping."}},xr=function(t,e,n){for(var i=e.length,r=e.length,o=0;o<e.length;o++)if(e[o].b){i=o;break}if(!(i<=n.length&&n.length<=r))throw i===r?(e=i,i=1===i?"argument":"arguments"):(e="between "+i+" and "+r,i="arguments"),new b("invalid-argument-count","Invalid argument count in `"+t+"`: Expected "+e+" "+i+", received "+n.length+".");for(o=0;o<n.length;o++)try{e[o].a(n[o])}catch(a){if(a instanceof Error)throw S(o,t,a.message);throw S(o,t,a)}},Cr=function(t,e){var n=this;this.a=function(e){n.b&&!i(e)||t(e)},this.b=!!e},Sr=function(t,e){return function(n){t(n),e(n)}},Tr=function(t,e){function n(t){if(!("string"==typeof t||t instanceof String))throw"Expected string."}var i;return i=t?Sr(n,t):n,new Cr(i,e)},_r=function(){return new Cr(function(t){if(!(t instanceof Blob))throw"Expected Blob or File."})},Er=function(){return new Cr(function(t){if(!(("number"==typeof t||t instanceof Number)&&t>=0))throw"Expected a number 0 or greater."})},Ar=function(t,e){return new Cr(function(e){if(!(null===e||N(e)&&e instanceof Object))throw"Expected an Object.";N(t)&&t(e)},e)},Dr=function(){return new Cr(function(t){if(null!==t&&!c(t))throw"Expected a Function."},!0)},Ir=function(t){if(!t)throw w()},Or=function(t,e){return function(n,i){var r;t:{try{r=JSON.parse(i)}catch(o){r=null;break t}r=u(r)?r:null}if(null===r)r=null;else{for(var a={type:"file"},s=e.length,c=0;s>c;c++){var l=e[c];a[l.b]=l.a(a,r[l.c])}br(a,t),r=a}return Ir(null!==r),r}},Nr=function(t){return function(e,n){var i;return i=404===Qi(e)?new b("object-not-found","Object '"+t.path+"' does not exist."):401===Qi(e)?k():403===Qi(e)?x(t.path):n,i.serverResponse=n.serverResponse,i}},Mr=function(t){return function(e,n){var i;return i=401===Qi(e)?k():403===Qi(e)?x(t.path):n,i.serverResponse=n.serverResponse,i}},Pr=function(t,e,n){var i=J(e);return t=new A(y+"/v0"+i,"GET",Or(t,n),t.c),t.a=Nr(e),t},jr=function(t,e){var n=J(e),n=new A(y+"/v0"+n,"DELETE",function(){},t.c);return n.h=[200,204],n.a=Nr(e),n},Fr=function(t,e,n){return n=n?E(n):{},n.fullPath=t.path,n.size=e.size,n.contentType||(n.contentType=e&&e.type||"application/octet-stream"),n},Rr=function(t,e,n,i,r){var o,a="/b/"+encodeURIComponent(e.bucket)+"/o",s={"X-Goog-Upload-Protocol":"multipart"};o="";for(var c=0;2>c;c++)o+=Math.random().toString().slice(2);return s["Content-Type"]="multipart/related; boundary="+o,r=Fr(e,i,r),c=wr(r,n),i=sr("--"+o+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+c+"\r\n--"+o+"\r\nContent-Type: "+r.contentType+"\r\n\r\n",i,"\r\n--"+o+"--"),t=new A(y+"/v0"+a,"POST",Or(t,n),t.b),t.f={name:r.fullPath},t.b=s,t.c=i,t.a=Mr(e),t},Lr=function(t,e,n,i){this.a=t,this.total=e,this.b=!!n,this.c=i||null},Hr=function(t,e){var n;try{n=Zi(t,"X-Goog-Upload-Status")}catch(i){Ir(!1)}var r;return r=0<=ve(e||["active"],n),Ir(r),n},Br=function(t,e,n,i,r){var o="/b/"+encodeURIComponent(e.bucket)+"/o",a=Fr(e,i,r);return r={name:a.fullPath},o=y+"/v0"+o,i={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":i.size,"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},n=wr(a,n),t=new A(o,"POST",function(t){Hr(t);var e;try{e=Zi(t,"X-Goog-Upload-URL")}catch(n){Ir(!1)}return Ir(M(e)),e},t.b),t.f=r,t.b=i,t.c=n,t.a=Mr(e),t},Ur=function(t,e,n,i){return t=new A(n,"POST",function(t){var e,n=Hr(t,["active","final"]);try{e=Zi(t,"X-Goog-Upload-Size-Received")}catch(r){Ir(!1)}return t=e,isFinite(t)&&(t=String(t)),t=s(t)?/^\s*-?0x/i.test(t)?parseInt(t,16):parseInt(t,10):0/0,Ir(!isNaN(t)),new Lr(t,i.size,"final"===n)},t.b),t.b={"X-Goog-Upload-Command":"query"},t.a=Mr(e),t},Wr=function(t,e,n,i,r,o){var a=new Lr(0,0);if(o?(a.a=o.a,a.total=o.total):(a.a=0,a.total=i.size),i.size!==a.total)throw new b("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var s=o=a.total-a.a,s=Math.min(s,262144),c=a.a;if(o={"X-Goog-Upload-Command":s===o?"upload, finalize":"upload","X-Goog-Upload-Offset":a.a},c=cr(i,c,c+s),null===c)throw new b("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.");return n=new A(n,"POST",function(t,n){var o,c=Hr(t,["active","final"]),u=a.a+s,l=i.size;return o="final"===c?Or(e,r)(t,n):null,new Lr(u,l,"final"===c,o)},e.b),n.b=o,n.c=c,n.g=null,n.a=Mr(t),n},qr=function(t,e,n,i,r,o){this.K=t,this.c=e,this.i=n,this.f=r,this.h=o||null,this.l=i,this.j=0,this.B=this.s=!1,this.v=[],this.R=262144<this.f.size,this.b="running",this.a=this.m=this.g=null;var a=this;this.V=function(t){a.a=null,"storage/canceled"===t.code?(a.s=!0,Zr(a)):(a.g=t,Jr(a,"error"))},this.P=function(t){a.a=null,"storage/canceled"===t.code?Zr(a):(a.g=t,Jr(a,"error"))},$r(this)},$r=function(t){"running"===t.b&&null===t.a&&(t.R?null===t.m?Yr(t):t.s?zr(t):t.B?Gr(t):Xr(t):Kr(t))},Vr=function(t,e){dr(t.c).then(function(n){switch(t.b){case"running":e(n);break;case"canceling":Jr(t,"canceled");break;case"pausing":Jr(t,"paused")}})},Yr=function(t){Vr(t,function(e){var n=Br(t.c,t.i,t.l,t.f,t.h);t.a=pr(t.c,n,e),t.a.a().then(function(e){t.a=null,t.m=e,t.s=!1,Zr(t)},this.V)})},zr=function(t){var e=t.m;Vr(t,function(n){var i=Ur(t.c,t.i,e,t.f);t.a=pr(t.c,i,n),t.a.a().then(function(e){t.a=null,Qr(t,e.a),t.s=!1,e.b&&(t.B=!0),Zr(t)},t.V)})},Xr=function(t){var e=new Lr(t.j,t.f.size),n=t.m;Vr(t,function(i){var r;try{r=Wr(t.i,t.c,n,t.f,t.l,e)}catch(o){return t.g=o,void Jr(t,"error")}t.a=pr(t.c,r,i),t.a.a().then(function(e){t.a=null,Qr(t,e.a),e.b?(t.h=e.c,Jr(t,"success")):Zr(t)},t.V)})},Gr=function(t){Vr(t,function(e){var n=Pr(t.c,t.i,t.l);t.a=pr(t.c,n,e),t.a.a().then(function(e){t.a=null,t.h=e,Jr(t,"success")},t.P)})},Kr=function(t){Vr(t,function(e){var n=Rr(t.c,t.i,t.l,t.f,t.h);t.a=pr(t.c,n,e),t.a.a().then(function(e){t.a=null,t.h=e,Qr(t,t.f.size),Jr(t,"success")},t.V)})},Qr=function(t,e){var n=t.j;t.j=e,t.j>n&&eo(t)},Jr=function(t,e){if(t.b!==e)switch(e){case"canceling":t.b=e,null!==t.a&&t.a.b();break;case"pausing":t.b=e,null!==t.a&&t.a.b();break;case"running":var n="paused"===t.b;t.b=e,n&&(eo(t),$r(t));break;case"paused":t.b=e,eo(t);break;case"canceled":t.g=C(),t.b=e,eo(t);break;case"error":t.b=e,eo(t);break;case"success":t.b=e,eo(t)}},Zr=function(t){switch(t.b){case"pausing":Jr(t,"paused");break;case"canceling":Jr(t,"canceled");break;case"running":$r(t)}};qr.prototype.C=function(){return new ne(this.j,this.f.size,O(this.b),this.h,this,this.K)},qr.prototype.I=function(t,e,n,r){function o(t){try{return void s(t)}catch(e){}try{if(c(t),!(i(t.next)||i(t.error)||i(t.complete)))throw""}catch(e){throw"Expected a function or an Object with one of `next`, `error`, `complete` properties."}}function a(t){return function(e,n,i){null!==t&&xr("on",t,arguments);var r=new te(e,n,i);return to(u,r),function(){Se(u.v,r)}}}var s=Dr().a,c=Ar(null,!0).a;xr("on",[Tr(function(){if("state_changed"!==t)throw"Expected one of the event types: [state_changed]."}),Ar(o,!0),Dr(),Dr()],arguments);var u=this,l=[Ar(function(t){if(null===t)throw"Expected a function or an Object with one of `next`, `error`, `complete` properties.";o(t)}),Dr(),Dr()];return i(e)||i(n)||i(r)?a(null)(e,n,r):a(l)};var to=function(t,e){t.v.push(e),no(t,e)},eo=function(t){var e=Te(t.v);ye(e,function(e){no(t,e)})},no=function(t,e){switch(O(t.b)){case"running":case"paused":null!==e.next&&zn(e.next.bind(e,t.C()))();break;case"success":null!==e.a&&zn(e.a.bind(e))();break;case"canceled":case"error":null!==e.error&&zn(e.error.bind(e,t.g))();break;default:null!==e.error&&zn(e.error.bind(e,t.g))()}};qr.prototype.M=function(){xr("resume",[],arguments);var t="paused"===this.b||"pausing"===this.b;return t&&Jr(this,"running"),t},qr.prototype.L=function(){xr("pause",[],arguments);var t="running"===this.b;return t&&Jr(this,"pausing"),t},qr.prototype.H=function(){xr("cancel",[],arguments);var t="running"===this.b||"pausing"===this.b;return t&&Jr(this,"canceling"),t};var io=function(t,e){if(this.b=t,e)this.a=e instanceof Q?e:Z(e);else{var n=t.bucket();if(null===n)throw new b("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");this.a=new Q(n,"")}};io.prototype.toString=function(){return xr("toString",[],arguments),"gs://"+this.a.bucket+"/"+this.a.path};var ro=function(t,e){return new io(t,e)};t=io.prototype,t.ga=function(t){xr("child",[Tr()],arguments);var e=Pe(this.a.path,t);return ro(this.b,new Q(this.a.bucket,e))},t.Fa=function(){var t;if(t=this.a.path,0==t.length)t=null;else{var e=t.lastIndexOf("/");t=-1===e?"":t.slice(0,e)}return null===t?null:ro(this.b,new Q(this.a.bucket,t))},t.Ha=function(){return ro(this.b,new Q(this.a.bucket,""))},t.pa=function(){return this.a.bucket},t.Aa=function(){return this.a.path},t.Ea=function(){return je(this.a.path)},t.Ja=function(){return this.b.i},t.ua=function(t,e){return xr("put",[_r(),new Cr(kr,!0)],arguments),oo(this,"put"),new qr(this,this.b,this.a,yr(),t,e)},t["delete"]=function(){xr("delete",[],arguments),oo(this,"delete");var t=this;return dr(this.b).then(function(e){var n=jr(t.b,t.a);return pr(t.b,n,e).a()})},t.ha=function(){xr("getMetadata",[],arguments),oo(this,"getMetadata");var t=this;return dr(this.b).then(function(e){var n=Pr(t.b,t.a,yr());return pr(t.b,n,e).a()})},t.va=function(t){xr("updateMetadata",[new Cr(kr,void 0)],arguments),oo(this,"updateMetadata");var e=this;return dr(this.b).then(function(n){var i=e.b,r=e.a,o=t,a=yr(),s=J(r),s=y+"/v0"+s,o=wr(o,a),i=new A(s,"PATCH",Or(i,a),i.c);return i.b={"Content-Type":"application/json; charset=utf-8"},i.c=o,i.a=Nr(r),pr(e.b,i,n).a()})},t.ta=function(){return xr("getDownloadURL",[],arguments),oo(this,"getDownloadURL"),this.ha().then(function(t){if(t=t.downloadURLs[0],N(t))return t;throw new b("no-download-url","The given file does not have any download URLs.")})};var oo=function(t,e){if(""===t.a.path)throw new b("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")},ao=function(t){this.a=new fr(t,function(t,e){return new io(t,e)},ar,this),this.b=t,this.c=new so(this)};t=ao.prototype,t.wa=function(t){xr("ref",[Tr(function(t){if(/^[A-Za-z]+:\/\//.test(t))throw"Expected child path but got a URL, use refFromURL instead."},!0)],arguments);var e=new io(this.a);return i(t)?e.ga(t):e},t.xa=function(t){return xr("refFromURL",[Tr(function(t){if(!/^[A-Za-z]+:\/\//.test(t))throw"Expected full URL but got a child path, use ref instead.";try{Z(t)}catch(e){throw"Expected valid full URL but got an invalid one."}},!1)],arguments),new io(this.a,t)},t.Ca=function(){return this.a.b},t.za=function(t){xr("setMaxUploadRetryTime",[Er()],arguments),this.a.b=t},t.Ba=function(){return this.a.c},t.ya=function(t){xr("setMaxOperationRetryTime",[Er()],arguments),this.a.c=t},t.oa=function(){return this.b},t.la=function(){return this.c};var so=function(t){this.a=t};so.prototype["delete"]=function(){var t=this.a.a;t.g=!0,t.a=null,t.h.clear()};var co=function(t,e,n){Object.defineProperty(t,e,{get:n})};io.prototype.toString=io.prototype.toString,io.prototype.child=io.prototype.ga,io.prototype.put=io.prototype.ua,io.prototype["delete"]=io.prototype["delete"],io.prototype.getMetadata=io.prototype.ha,io.prototype.updateMetadata=io.prototype.va,io.prototype.getDownloadURL=io.prototype.ta,co(io.prototype,"parent",io.prototype.Fa),co(io.prototype,"root",io.prototype.Ha),co(io.prototype,"bucket",io.prototype.pa),co(io.prototype,"fullPath",io.prototype.Aa),co(io.prototype,"name",io.prototype.Ea),co(io.prototype,"storage",io.prototype.Ja),ao.prototype.ref=ao.prototype.wa,ao.prototype.refFromURL=ao.prototype.xa,co(ao.prototype,"maxOperationRetryTime",ao.prototype.Ba),ao.prototype.setMaxOperationRetryTime=ao.prototype.ya,co(ao.prototype,"maxUploadRetryTime",ao.prototype.Ca),ao.prototype.setMaxUploadRetryTime=ao.prototype.za,co(ao.prototype,"app",ao.prototype.oa),co(ao.prototype,"INTERNAL",ao.prototype.la),so.prototype["delete"]=so.prototype["delete"],ao.prototype.capi_=function(t){y=t},qr.prototype.on=qr.prototype.I,qr.prototype.resume=qr.prototype.M,qr.prototype.pause=qr.prototype.L,qr.prototype.cancel=qr.prototype.H,co(qr.prototype,"snapshot",qr.prototype.C),co(ne.prototype,"bytesTransferred",ne.prototype.qa),co(ne.prototype,"totalBytes",ne.prototype.La),co(ne.prototype,"state",ne.prototype.Ia),co(ne.prototype,"metadata",ne.prototype.Da),co(ne.prototype,"downloadURL",ne.prototype.sa),co(ne.prototype,"task",ne.prototype.Ka),co(ne.prototype,"ref",ne.prototype.Ga),D.STATE_CHANGED="state_changed",I.RUNNING="running",I.PAUSED="paused",I.SUCCESS="success",I.CANCELED="canceled",I.ERROR="error",In.prototype["catch"]=In.prototype.l,In.prototype.then=In.prototype.then,function(){function t(t){return new ao(t)}var e={TaskState:I,TaskEvent:D,Storage:ao,Reference:io};if(!(window.firebase&&firebase.INTERNAL&&firebase.INTERNAL.registerService))throw Error("Cannot install Firebase Storage - be sure to load firebase-app.js first.");firebase.INTERNAL.registerService("storage",t,e)}()}(),root.firebase=firebase}.apply(root,arguments)})}(this),define("legacy/UnsupportLibOnSomeBrowser",["require"],function(){"use strict";Array.prototype.indexOf||(Array.prototype.indexOf=function(t,e){var n,i,r=e?e:0;if(!this)throw new TypeError;if(i=this.length,0===i||r>=i)return-1;for(0>r&&(r=i-Math.abs(r)),n=r;i>n;n++)if(this[n]===t)return n;return-1}),console&&console.log||(console={log:function(){}}),Function.prototype.bind||(Function.prototype.bind=function(t){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var e=Array.prototype.slice.call(arguments,1),n=this,i=function(){},r=function(){return n.apply(this instanceof i&&t?this:t,e.concat(Array.prototype.slice.call(arguments)))};return i.prototype=this.prototype,r.prototype=new i,r}),Object.keys||(Object.keys=function(){var t=Object.prototype.hasOwnProperty,e=!{toString:null}.propertyIsEnumerable("toString"),n=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],i=n.length;return function(r){if("object"!=typeof r&&("function"!=typeof r||null===r))throw new TypeError("Object.keys called on non-object");var o,a,s=[];for(o in r)t.call(r,o)&&s.push(o);if(e)for(a=0;i>a;a++)t.call(r,n[a])&&s.push(n[a]);return s}}())}),function(t){"function"==typeof define&&define.amd?define("jquery.cookie-min",["jquery"],t):"object"==typeof exports?module.exports=t(require("jquery")):t(jQuery)}(function(t){function e(t){return s.raw?t:encodeURIComponent(t)}function n(t){return s.raw?t:decodeURIComponent(t)}function i(t){return e(s.json?JSON.stringify(t):String(t))}function r(t){0===t.indexOf('"')&&(t=t.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return t=decodeURIComponent(t.replace(a," ")),s.json?JSON.parse(t):t}catch(e){}}function o(e,n){var i=s.raw?e:r(e);return t.isFunction(n)?n(i):i}var a=/\+/g,s=t.cookie=function(r,a,c){if(arguments.length>1&&!t.isFunction(a)){if(c=t.extend({},s.defaults,c),"number"==typeof c.expires){var u=c.expires,l=c.expires=new Date;l.setMilliseconds(l.getMilliseconds()+864e5*u)}return document.cookie=[e(r),"=",i(a),c.expires?"; expires="+c.expires.toUTCString():"",c.path?"; path="+c.path:"",c.domain?"; domain="+c.domain:"",c.secure?"; secure":""].join("")}for(var h=r?void 0:{},f=document.cookie?document.cookie.split("; "):[],d=0,p=f.length;p>d;d++){var g=f[d].split("="),m=n(g.shift()),v=g.join("=");if(r===m){h=o(v,a);break}r||void 0===(v=o(v))||(h[m]=v)}return h};s.defaults={},t.removeCookie=function(e,n){return t.cookie(e,"",t.extend({},n,{expires:-1})),!t.cookie(e)}}),define("legacy/highcharts",["require"],function(){!function(){function t(t,e){var n;t||(t={});for(n in e)t[n]=e[n];return t}function e(){for(var t=0,e=arguments,n=e.length,i={};n>t;t++)i[e[t++]]=e[t];return i}function n(t,e){return parseInt(t,e||10)}function i(t){return"string"==typeof t}function r(t){return"object"==typeof t}function o(t){return"[object Array]"===Object.prototype.toString.call(t)}function a(t){return"number"==typeof t}function s(t){return ie.log(t)/ie.LN10}function c(t){return ie.pow(10,t)}function u(t,e){for(var n=t.length;n--;)if(t[n]===e){t.splice(n,1);break}}function l(t){return t!==j&&null!==t}function h(t,e,n){var o,a;if(i(e))l(n)?t.setAttribute(e,n):t&&t.getAttribute&&(a=t.getAttribute(e));else if(l(e)&&r(e))for(o in e)t.setAttribute(o,e[o]);return a}function f(t){return o(t)?t:[t]}function d(){var t,e,n=arguments,i=n.length;for(t=0;i>t;t++)if(e=n[t],"undefined"!=typeof e&&null!==e)return e}function p(e,n){ge&&n&&n.opacity!==j&&(n.filter="alpha(opacity="+100*n.opacity+")"),t(e.style,n)}function g(e,n,i,r,o){return e=ee.createElement(e),n&&t(e,n),o&&p(e,{padding:0,border:Ne,margin:0}),i&&p(e,i),r&&r.appendChild(e),e}function m(e,n){var i=function(){};return i.prototype=new e,t(i.prototype,n),i}function v(t,e,i,r){var o=L.lang,a=isNaN(e=ue(e))?2:e,e=void 0===i?o.decimalPoint:i,r=void 0===r?o.thousandsSep:r,o=0>t?"-":"",i=String(n(t=ue(+t||0).toFixed(a))),s=i.length>3?i.length%3:0;return o+(s?i.substr(0,s)+r:"")+i.substr(s).replace(/(\d{3})(?=\d)/g,"$1"+r)+(a?e+ue(t-i).toFixed(a).slice(2):"")}function y(t,e){return Array((e||2)+1-String(t).length).join(0)+t}function b(t,e,n,i){var r,n=d(n,1);for(r=t/n,e||(e=[1,2,2.5,5,10],i&&i.allowDecimals===!1&&(1===n?e=[1,2,5,10]:.1>=n&&(e=[1/n]))),i=0;i<e.length&&(t=e[i],!(r<=(e[i]+(e[i+1]||e[i]))/2));i++);return t*=n}function w(t,e){var n,i=e||[[Le,[1,2,5,10,20,25,50,100,200,500]],[He,[1,2,5,10,15,30]],[Be,[1,2,5,10,15,30]],[Ue,[1,2,3,4,6,8,12]],[We,[1,2]],[qe,[1,2]],[$e,[1,2,3,4,6]],[Ve,null]],r=i[i.length-1],o=W[r[0]],a=r[1];for(n=0;n<i.length&&(r=i[n],o=W[r[0]],a=r[1],!(i[n+1]&&t<=(o*a[a.length-1]+W[i[n+1][0]])/2));n++);return o===W[Ve]&&5*o>t&&(a=[1,2,5]),o===W[Ve]&&5*o>t&&(a=[1,2,5]),i=b(t/o,a),{unitRange:o,count:i,unitName:r[0]}}function k(e,n,i,r){var o,a=[],s={},c=L.global.useUTC,u=new Date(n),n=e.unitRange,l=e.count;n>=W[He]&&(u.setMilliseconds(0),u.setSeconds(n>=W[Be]?0:l*oe(u.getSeconds()/l))),n>=W[Be]&&u[K](n>=W[Ue]?0:l*oe(u[$]()/l)),n>=W[Ue]&&u[Q](n>=W[We]?0:l*oe(u[V]()/l)),n>=W[We]&&u[J](n>=W[$e]?1:l*oe(u[z]()/l)),n>=W[$e]&&(u[Z](n>=W[Ve]?0:l*oe(u[X]()/l)),o=u[G]()),n>=W[Ve]&&(o-=o%l,u[te](o)),n===W[qe]&&u[J](u[z]()-u[Y]()+d(r,1)),r=1,o=u[G]();for(var h=u.getTime(),f=u[X](),u=u[z]();i>h;)a.push(h),n===W[Ve]?h=q(o+r*l,0):n===W[$e]?h=q(o,f+r*l):c||n!==W[We]&&n!==W[qe]?(h+=n*l,n<=W[Ue]&&h%W[We]===0&&(s[h]=We)):h=q(o,f,u+r*l*(n===W[We]?1:7)),r++;return a.push(h),a.info=t(e,{higherRanks:s,totalRange:n*l}),a}function x(){this.symbol=this.color=0}function C(t,e,n,i,r,o,a,s,c){var u,l=a.x,a=a.y,c=l+n+(c?s:-t-s),h=a-e+i+15;return 7>c&&(c=n+l+s),c+t>n+r&&(c-=c+t-(n+r),h=a-e+i-s,u=!0),i+5>h&&(h=i+5,u&&a>=h&&h+e>=a&&(h=a+i+s)),h+e>i+o&&(h=i+o-e-s),{x:c,y:h}}function S(t,e){var n,i,r=t.length;for(i=0;r>i;i++)t[i].ss_i=i;for(t.sort(function(t,i){return n=e(t,i),0===n?t.ss_i-i.ss_i:n}),i=0;r>i;i++)delete t[i].ss_i}function T(t){for(var e=t.length,n=t[0];e--;)t[e]<n&&(n=t[e]);return n}function _(t){for(var e=t.length,n=t[0];e--;)t[e]>n&&(n=t[e]);return n}function E(t){for(var e in t)t[e]&&t[e].destroy&&t[e].destroy(),delete t[e]}function A(t){R||(R=g(Te)),t&&R.appendChild(t),R.innerHTML=""}function D(t,e){var n="Highcharts error #"+t+": www.highcharts.com/errors/"+t;if(e)throw n;ne.console&&console.log(n)}function I(t){return parseFloat(t.toPrecision(14))}function O(t,e){B=d(t,e.animation)}function N(){var t=L.global.useUTC,e=t?"getUTC":"get",n=t?"setUTC":"set";q=t?Date.UTC:function(t,e,n,i,r,o){return new Date(t,e,d(n,1),d(i,0),d(r,0),d(o,0)).getTime()},$=e+"Minutes",V=e+"Hours",Y=e+"Day",z=e+"Date",X=e+"Month",G=e+"FullYear",K=n+"Minutes",Q=n+"Hours",J=n+"Date",Z=n+"Month",te=n+"FullYear"}function M(){}function P(e,o){function a(e){function i(t,e){this.pos=t,this.type=e||"",this.isNew=!0,e||this.addLabel()}function r(t){return t&&(this.options=t,this.id=t.id),this}function o(t,e,n,i){this.isNegative=e,this.options=t,this.x=n,this.stack=i,this.alignOptions={align:t.align||(_n?e?"left":"right":"center"),verticalAlign:t.verticalAlign||(_n?"middle":e?"bottom":"top"),y:d(t.y,_n?4:e?14:-6),x:d(t.x,_n?e?-6:6:0)},this.textAlign=t.textAlign||(_n?e?"right":"left":"center")}function a(){var t,e=[],n=[];X=G=null,Ge(He.series,function(i){if(i.visible||!Ln.ignoreHiddenSeries){var r,a,s,c,u,h,f,p,g,m,v=i.options,y=v.threshold,b=[],w=0;if(We&&0>=y&&(y=v.threshold=null),_e)v=i.xData,v.length&&(X=ce(d(X,v[0]),T(v)),G=se(d(G,v[0]),_(v)));else{var k,x,C,S=i.cropped,E=i.xAxis.getExtremes(),A=!!i.modifyValue;for(r=v.stacking,ge="percent"===r,r&&(u=v.stack,c=i.type+d(u,""),h="-"+c,i.stackKey=c,a=e[c]||[],e[c]=a,s=n[h]||[],n[h]=s),ge&&(X=0,G=99),v=i.processedXData,f=i.processedYData,m=f.length,t=0;m>t;t++)if(p=v[t],g=f[t],null!==g&&g!==j&&(r?(x=(k=y>g)?s:a,C=k?h:c,g=x[p]=l(x[p])?x[p]+g:g,Fe[C]||(Fe[C]={}),Fe[C][p]||(Fe[C][p]=new o(Re.stackLabels,k,p,u)),Fe[C][p].setTotal(g)):A&&(g=i.modifyValue(g)),S||(v[t+1]||p)>=E.min&&(v[t-1]||p)<=E.max))if(p=g.length)for(;p--;)null!==g[p]&&(b[w++]=g[p]);else b[w++]=g;!ge&&b.length&&(X=ce(d(X,b[0]),T(b)),G=se(d(G,b[0]),_(b))),l(y)&&(X>=y?(X=y,de=!0):y>G&&(G=y,pe=!0))}}})}function h(t,e,n){for(var i,e=I(oe(e/t)*t),n=I(ae(n/t)*t),r=[];n>=e&&(r.push(e),e=I(e+t),e!==i);)i=e;return r}function f(t,e,n,i){var r=[];if(i||(He._minorAutoInterval=null),t>=.5)t=re(t),r=h(t,e,n);else if(t>=.08){var o,a,u,l,f,p,g=oe(e);for(o=t>.3?[1,2,4]:t>.15?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];n+1>g&&!p;g++)for(u=o.length,a=0;u>a&&!p;a++)l=s(c(g)*o[a]),l>e&&r.push(f),f>n&&(p=!0),f=l}else e=c(e),n=c(n),t=Re[i?"minorTickInterval":"tickInterval"],t=d("auto"===t?null:t,He._minorAutoInterval,(n-e)*(Re.tickPixelInterval/(i?5:1))/((i?Ve/ke.length:Ve)||1)),t=b(t,null,ie.pow(10,oe(ie.log(t)/ie.LN10))),r=Je(h(t,e,n),s),i||(He._minorAutoInterval=t/5);return i||(ve=t),r}function p(){var t,e,n=[];if(We)for(e=ke.length,t=1;e>t;t++)n=n.concat(f(ye,ke[t-1],ke[t],!0));else for(t=Ke+(ke[0]-Ke)%ye;Xe>=t;t+=ye)n.push(t);return n}function g(){var t,e,n,i,r,o,a,s=G-X>=Ye;_e&&Ye===j&&!We&&(l(Re.min)||l(Re.max)?Ye=null:(Ge(He.series,function(t){for(r=t.xData,n=o=t.xIncrement?1:r.length-1;n>0;n--)i=r[n]-r[n-1],(e===j||e>i)&&(e=i)}),Ye=ce(5*e,G-X)),He.setMinRange=function(t){Ye=t}),Ye>Xe-Ke&&(t=(Ye-Xe+Ke)/2,t=[Ke-t,d(Re.min,Ke-t)],s&&(t[2]=X),Ke=_(t),a=[Ke+Ye,d(Re.max,Ke+Ye)],s&&(a[2]=G),Xe=T(a),Ye>Xe-Ke&&(t[0]=Xe-Ye,t[1]=d(Re.min,Xe-Ye),Ke=_(t)))}function m(t){var e,n=Re.tickInterval,i=Re.tickPixelInterval;an?(le=zn[_e?"xAxis":"yAxis"][Re.linkedTo],e=le.getExtremes(),Ke=d(e.min,e.dataMin),Xe=d(e.max,e.dataMax),Re.type!==le.options.type&&D(11,1)):(Ke=d(K,Re.min,X),Xe=d(Q,Re.max,G)),We&&(!t&&ce(Ke,X)<=0&&D(10,1),Ke=s(Ke),Xe=s(Xe)),ze&&(K=Ke=se(Ke,Xe-ze),Q=Xe,t&&(ze=null)),g(),kn||ge||an||!l(Ke)||!l(Xe)||(e=Xe-Ke||1,l(Re.min)||l(K)||!Qe||!(0>X)&&de||(Ke-=e*Qe),l(Re.max)||l(Q)||!rn||!(G>0)&&pe||(Xe+=e*rn)),ve=Ke===Xe||void 0===Ke||void 0===Xe?1:an&&!n&&i===le.options.tickPixelInterval?le.tickInterval:d(n,kn?1:(Xe-Ke)*i/(Ve||1)),_e&&!t&&Ge(He.series,function(t){t.processData(Ke!==ee||Xe!==ne)}),q(),He.beforeSetTickPositions&&He.beforeSetTickPositions(),He.postProcessTickInterval&&(ve=He.postProcessTickInterval(ve)),!Ue&&!We&&(be=ie.pow(10,oe(ie.log(ve)/ie.LN10)),l(Re.tickInterval)||(ve=b(ve,null,be,Re))),He.tickInterval=ve,ye="auto"===Re.minorTickInterval&&ve?ve/5:Re.minorTickInterval,(ke=Re.tickPositions||cn&&cn.apply(He,[Ke,Xe]))||(ke=Ue?(He.getNonLinearTimeTicks||k)(w(ve,Re.units),Ke,Xe,Re.startOfWeek,He.ordinalPositions,He.closestPointRange,!0):We?f(ve,Ke,Xe):h(ve,Ke,Xe)),!an&&(t=ke[0],n=ke[ke.length-1],Re.startOnTick?Ke=t:Ke>t&&ke.shift(),Re.endOnTick?Xe=n:n>Xe&&ke.pop(),Tn||(Tn={x:0,y:0}),!Ue&&ke.length>Tn[$e]&&Re.alignTicks!==!1)&&(Tn[$e]=ke.length)}function y(t){return t=new r(t).render(),sn.push(t),t}function x(){var t,e,o,a,s=Re.title,u=Re.stackLabels,h=Re.alternateGridColor,f=Re.lineWidth,g=zn.hasRendered&&l(ee)&&!isNaN(ee),m=(t=He.series.length&&l(Ke)&&l(Xe))||d(Re.showEmpty,!0);if((t||an)&&(ye&&!kn&&Ge(p(),function(t){bn[t]||(bn[t]=new i(t,"minor")),g&&bn[t].isNew&&bn[t].render(null,!0),bn[t].isActive=!0,bn[t].render()}),Ge(ke.slice(1).concat([ke[0]]),function(t,e){e=e===ke.length-1?0:e+1,(!an||t>=Ke&&Xe>=t)&&(yn[t]||(yn[t]=new i(t)),g&&yn[t].isNew&&yn[t].render(e,!0),yn[t].isActive=!0,yn[t].render(e))}),h&&Ge(ke,function(t,e){e%2===0&&Xe>t&&(wn[t]||(wn[t]=new r),o=t,a=ke[e+1]!==j?ke[e+1]:Xe,wn[t].options={from:We?c(o):o,to:We?c(a):a,color:h},wn[t].render(),wn[t].isActive=!0)}),He._addedPlotLB||(Ge((Re.plotLines||[]).concat(Re.plotBands||[]),function(t){y(t)}),He._addedPlotLB=!0)),Ge([yn,bn,wn],function(t){for(var e in t)t[e].isActive?t[e].isActive=!1:(t[e].destroy(),delete t[e])}),f&&(t=P+(Ee?R:0)+qe,e=Ce-B-(Ee?L:0)+qe,t=En.crispLine([Me,De?P:t,De?e:F,Pe,De?we-U:t,De?e:Ce-B],f),z?z.animate({d:t}):z=En.path(t).attr({stroke:Re.lineColor,"stroke-width":f,zIndex:7}).add(),z[m?"show":"hide"]()),S&&m&&(m=De?P:F,f=n(s.style.fontSize||12),m={low:m+(De?0:Ve),middle:m+Ve/2,high:m+(De?Ve:0)}[s.align],f=(De?F+L:P)+(De?1:-1)*(Ee?-1:1)*Te+(2===Ne?f:0),S[S.isNew?"attr":"animate"]({x:De?m:f+(Ee?R:0)+qe+(s.x||0),y:De?f-(Ee?L:0)+qe:m+(s.y||0)}),S.isNew=!1),u&&u.enabled){var v,b,u=He.stackTotalGroup;u||(He.stackTotalGroup=u=En.g("stack-labels").attr({visibility:Ie,zIndex:6}).add()),u.translate(he,Z);for(v in Fe)for(b in s=Fe[v])s[b].render(u)}He.isDirty=!1}function C(t){for(var e=sn.length;e--;)sn[e].id===t&&sn[e].destroy()}var S,A,O,N,M,P,F,R,L,B,U,W,q,$,V,Y,z,X,G,K,Q,J,te,ee,ne,le,de,pe,ge,me,ve,ye,be,ke,xe,Se,Te,_e=e.isX,Ee=e.opposite,De=_n?!_e:_e,Ne=De?Ee?0:2:Ee?1:3,Fe={},Re=Ze(_e?hn:fn,[mn,pn,gn,dn][Ne],e),He=this,Be=Re.type,Ue="datetime"===Be,We="logarithmic"===Be,qe=Re.offset||0,$e=_e?"x":"y",Ve=0,Ye=Re.minRange||Re.maxZoom,ze=Re.range,Xe=null,Ke=null,Qe=Re.minPadding,rn=Re.maxPadding,on=0,an=l(Re.linkedTo),Be=Re.events,sn=[],cn=Re.tickPositioner,yn={},bn={},wn={},kn=Re.categories,xn=Re.labels.formatter||function(){var t=this.value,e=this.dateTimeLabelFormat;return e?H(e,t):ve%1e6===0?t/1e6+"M":ve%1e3===0?t/1e3+"k":!kn&&t>=1e3?v(t,0):t},Cn=De&&Re.labels.staggerLines,Sn=Re.reversed,An=kn&&"between"===Re.tickmarkPlacement?.5:0;i.prototype={addLabel:function(){var e,n=this.pos,i=Re.labels,r=kn&&De&&kn.length&&!i.step&&!i.staggerLines&&!i.rotation&&ln/kn.length||!De&&ln/2,o=n===ke[0],a=n===ke[ke.length-1],s=kn&&l(kn[n])?kn[n]:n,u=this.label,h=ke.info;Ue&&h&&(e=Re.dateTimeLabelFormats[h.higherRanks[n]||h.unitName]),this.isFirst=o,this.isLast=a,n=xn.call({axis:He,chart:zn,isFirst:o,isLast:a,dateTimeLabelFormat:e,value:We?I(c(s)):s}),r=r&&{width:se(1,re(r-2*(i.padding||10)))+Oe},r=t(r,i.style),l(u)?u&&u.attr({text:n}).css(r):this.label=l(n)&&i.enabled?En.text(n,0,0,i.useHTML).attr({align:i.align,rotation:i.rotation}).css(r).add(V):null},getLabelSize:function(){var t=this.label;return t?(this.labelBBox=t.getBBox(!0))[De?"height":"width"]:0},getLabelSides:function(){var t=Re.labels,e=this.labelBBox.width,t=e*{left:0,center:.5,right:1}[t.align]-t.x;return[-t,e-t]},handleOverflow:function(t){var e=!0,n=this.isFirst,i=this.isLast,r=this.label,o=r.x;if(n||i){var a=this.getLabelSides(),s=a[0],a=a[1],c=zn.plotLeft,u=c+He.len,l=(t=yn[ke[t+(n?1:-1)]])&&t.label.x+t.getLabelSides()[n?0:1];n&&!Sn||i&&Sn?c>o+s&&(o=c-s,t&&o+a>l&&(e=!1)):o+a>u&&(o=u-a,t&&l>o+s&&(e=!1)),r.x=o}return e},render:function(t,e){var i,r=this.type,o=this.label,a=this.pos,s=Re.labels,c=this.gridLine,u=r?r+"Grid":"grid",h=r?r+"Tick":"tick",f=Re[u+"LineWidth"],p=Re[u+"LineColor"],g=Re[u+"LineDashStyle"],m=Re[h+"Length"],u=Re[h+"Width"]||0,v=Re[h+"Color"],y=Re[h+"Position"],h=this.mark,b=s.step,w=e&&Le||Ce,k=!0;i=De?W(a+An,null,null,e)+N:P+qe+(Ee?(e&&je||we)-U-P:0),w=De?w-B+qe-(Ee?L:0):w-W(a+An,null,null,e)-N,f&&(a=$(a+An,f,e),c===j&&(c={stroke:p,"stroke-width":f},g&&(c.dashstyle=g),r||(c.zIndex=1),this.gridLine=c=f?En.path(a).attr(c).add(Y):null),!e&&c&&a&&c[this.isNew?"attr":"animate"]({d:a})),u&&("inside"===y&&(m=-m),Ee&&(m=-m),r=En.crispLine([Me,i,w,Pe,i+(De?0:-m),w+(De?m:0)],u),h?h.animate({d:r}):this.mark=En.path(r).attr({stroke:v,"stroke-width":u}).add(V)),o&&!isNaN(i)&&(i=i+s.x-(An&&De?An*O*(Sn?-1:1):0),w=w+s.y-(An&&!De?An*O*(Sn?1:-1):0),l(s.y)||(w+=.9*n(o.styles.lineHeight)-o.getBBox().height/2),Cn&&(w+=t/(b||1)%Cn*16),o.x=i,o.y=w,this.isFirst&&!d(Re.showFirstLabel,1)||this.isLast&&!d(Re.showLastLabel,1)?k=!1:!Cn&&De&&"justify"===s.overflow&&!this.handleOverflow(t)&&(k=!1),b&&t%b&&(k=!1),k?(o[this.isNew?"attr":"animate"]({x:o.x,y:o.y}),o.show(),this.isNew=!1):o.hide())
},destroy:function(){E(this)}},r.prototype={render:function(){var t,e,n,i=this,r=(He.pointRange||0)/2,o=i.options,a=o.label,c=i.label,u=o.width,h=o.to,f=o.from,p=o.value,g=o.dashStyle,m=i.svgElem,v=[],y=o.color;n=o.zIndex;var b=o.events;if(We&&(f=s(f),h=s(h),p=s(p)),u)v=$(p,u),r={stroke:y,"stroke-width":u},g&&(r.dashstyle=g);else{if(!l(f)||!l(h))return;f=se(f,Ke-r),h=ce(h,Xe+r),t=$(h),(v=$(f))&&t?v.push(t[4],t[5],t[1],t[2]):v=null,r={fill:y}}if(l(n)&&(r.zIndex=n),m)v?m.animate({d:v},null,m.onGetPath):(m.hide(),m.onGetPath=function(){m.show()});else if(v&&v.length&&(i.svgElem=m=En.path(v).attr(r).add(),b))for(e in g=function(t){m.on(t,function(e){b[t].apply(i,[e])})},b)g(e);return a&&l(a.text)&&v&&v.length&&R>0&&L>0?(a=Ze({align:De&&t&&"center",x:De?!t&&4:10,verticalAlign:!De&&t&&"middle",y:De?t?16:10:t?6:-4,rotation:De&&!t&&90},a),c||(i.label=c=En.text(a.text,0,0).attr({align:a.textAlign||a.align,rotation:a.rotation,zIndex:n}).css(a.style).add()),t=[v[1],v[4],d(v[6],v[1])],v=[v[2],v[5],d(v[7],v[2])],e=T(t),n=T(v),c.align(a,!1,{x:e,y:n,width:_(t)-e,height:_(v)-n}),c.show()):c&&c.hide(),i},destroy:function(){E(this),u(sn,this)}},o.prototype={destroy:function(){E(this)},setTotal:function(t){this.cum=this.total=t},render:function(t){var e=this.options.formatter.call(this);this.label?this.label.attr({text:e,visibility:Ae}):this.label=zn.renderer.text(e,0,0).css(this.options.style).attr({align:this.textAlign,rotation:this.options.rotation,visibility:Ae}).add(t)},setOffset:function(t,e){var n=this.isNegative,i=He.translate(this.total,0,0,0,1),r=He.translate(0),r=ue(i-r),o=zn.xAxis[0].translate(this.x)+t,a=zn.plotHeight,n={x:_n?n?i:i-r:o,y:_n?a-o-e:n?a-i-r:a-i,width:_n?r:e,height:_n?e:r};this.label&&this.label.align(this.alignOptions,null,n).attr({visibility:Ie})}},W=function(t,e,n,i,r){var o=1,a=0,s=i?M:O,i=i?ee:Ke,r=Re.ordinal||We&&r;return s||(s=O),n&&(o*=-1,a=Ve),Sn&&(o*=-1,a-=o*Ve),e?(Sn&&(t=Ve-t),t=t/s+i,r&&(t=He.lin2val(t))):(r&&(t=He.val2lin(t)),t=o*(t-i)*s+a+o*on),t},$=function(t,e,n){var i,r,o,a,t=W(t,null,null,n),s=n&&Le||Ce,c=n&&je||we,n=r=re(t+N);return i=o=re(s-t-N),isNaN(t)?a=!0:De?(i=F,o=s-B,(P>n||n>P+R)&&(a=!0)):(n=P,r=c-U,(F>i||i>F+L)&&(a=!0)),a?null:En.crispLine([Me,n,i,Pe,r,o],e||0)},q=function(){var t,e,n=Xe-Ke,i=0;_e&&(an?i=le.pointRange:Ge(He.series,function(n){i=se(i,n.pointRange),e=n.closestPointRange,!n.noSharedTooltip&&l(e)&&(t=l(t)?ce(t,e):e)}),He.pointRange=i,He.closestPointRange=t),M=O,He.translationSlope=O=Ve/(n+i||1),N=De?P:B,on=O*(i/2)},Qn.push(He),zn[_e?"xAxis":"yAxis"].push(He),_n&&_e&&Sn===j&&(Sn=!0),t(He,{addPlotBand:y,addPlotLine:y,adjustTickAmount:function(){if(Tn&&Tn[$e]&&!Ue&&!kn&&!an&&Re.alignTicks!==!1){var t=xe,e=ke.length;if(xe=Tn[$e],xe>e){for(;ke.length<xe;)ke.push(I(ke[ke.length-1]+ve));O*=(e-1)/(xe-1),Xe=ke[ke.length-1]}l(t)&&xe!==t&&(He.isDirty=!0)}},categories:kn,getExtremes:function(){return{min:We?I(c(Ke)):Ke,max:We?I(c(Xe)):Xe,dataMin:X,dataMax:G,userMin:K,userMax:Q}},getPlotLinePath:$,getThreshold:function(t){var e=We?c(Ke):Ke,n=We?c(Xe):Xe;return e>t||null===t?t=e:t>n&&(t=n),W(t,0,1,0,1)},isXAxis:_e,options:Re,plotLinesAndBands:sn,getOffset:function(){var t,e,n=He.series.length&&l(Ke)&&l(Xe),r=n||d(Re.showEmpty,!0),o=0,a=0,s=Re.title,c=Re.labels,u=[-1,1,1,-1][Ne];if(V||(V=En.g("axis").attr({zIndex:7}).add(),Y=En.g("grid").attr({zIndex:Re.gridZIndex||1}).add()),Se=0,n||an)Ge(ke,function(t){yn[t]?yn[t].addLabel():yn[t]=new i(t)}),Ge(ke,function(t){(0===Ne||2===Ne||{1:"left",3:"right"}[Ne]===c.align)&&(Se=se(yn[t].getLabelSize(),Se))}),Cn&&(Se+=16*(Cn-1));else for(e in yn)yn[e].destroy(),delete yn[e];s&&s.text&&(S||(S=He.axisTitle=En.text(s.text,0,0,s.useHTML).attr({zIndex:7,rotation:s.rotation||0,align:s.textAlign||{low:"left",middle:"center",high:"right"}[s.align]}).css(s.style).add(),S.isNew=!0),r&&(o=S.getBBox()[De?"height":"width"],a=d(s.margin,De?5:10),t=s.offset),S[r?"show":"hide"]()),qe=u*d(Re.offset,fe[Ne]),Te=d(t,Se+a+(2!==Ne&&Se&&u*Re.labels[De?"y":"x"])),fe[Ne]=se(fe[Ne],Te+o+u*qe)},render:x,setAxisSize:function(){var t=Re.offsetLeft||0,e=Re.offsetRight||0;P=d(Re.left,he+t),F=d(Re.top,Z),R=d(Re.width,ln-t+e),L=d(Re.height,un),B=Ce-L-F,U=we-R-P,Ve=se(De?R:L,0),He.left=P,He.top=F,He.len=Ve},setAxisTranslation:q,setCategories:function(t,n){He.categories=e.categories=kn=t,Ge(He.series,function(t){t.translate(),t.setTooltipPoints(!0)}),He.isDirty=!0,d(n,!0)&&zn.redraw()},setExtremes:function(e,n,i,r,o){i=d(i,!0),o=t(o,{min:e,max:n}),nn(He,"setExtremes",o,function(){K=e,Q=n,He.isDirtyExtremes=!0,i&&zn.redraw(r)})},setScale:function(){var t,e,n,i;if(ee=Ke,ne=Xe,A=Ve,He.setAxisSize(),i=Ve!==A,Ge(He.series,function(t){(t.isDirtyData||t.isDirty||t.xAxis.isDirty)&&(n=!0)}),i||n||an||K!==J||Q!==te){if(a(),m(),J=K,te=Q,!_e)for(t in Fe)for(e in Fe[t])Fe[t][e].cum=Fe[t][e].total;He.isDirty||(He.isDirty=i||Ke!==ee||Xe!==ne)}},setTickPositions:m,translate:W,redraw:function(){vn.resetTracker&&vn.resetTracker(!0),x(),Ge(sn,function(t){t.render()}),Ge(He.series,function(t){t.isDirty=!0})},removePlotBand:C,removePlotLine:C,reversed:Sn,setTitle:function(t,e){Re.title=Ze(Re.title,t),S=S.destroy(),He.isDirty=!0,d(e,!0)&&zn.redraw()},series:[],stacks:Fe,destroy:function(){var t;en(He);for(t in Fe)E(Fe[t]),Fe[t]=null;He.stackTotalGroup&&(He.stackTotalGroup=He.stackTotalGroup.destroy()),Ge([yn,bn,wn,sn],function(t){E(t)}),Ge([z,V,Y,S],function(t){t&&t.destroy()}),z=V=Y=S=null}});for(me in Be)tn(He,me,Be[me]);We&&(He.val2lin=s,He.lin2val=c)}function m(t){function e(){var e,n=this.points||f(this),i=n[0].series;return e=[i.tooltipHeaderFormatter(n[0].key)],Ge(n,function(t){i=t.series,e.push(i.tooltipFormatter&&i.tooltipFormatter(t)||t.point.tooltipFormatter(i.tooltipOptions.pointFormat))}),e.push(t.footerFormat||""),e.join("")}function i(t,e){g=p?t:(2*g+t)/3,m=p?e:(m+e)/2,v.attr({x:g,y:m}),An=ue(t-g)>1||ue(e-m)>1?function(){i(t,e)}:null}function r(){if(!p){var t=zn.hoverPoints;v.hide(),t&&Ge(t,function(t){t.setState()}),zn.hoverPoints=null,p=!0}}var o,a=t.borderWidth,s=t.crosshairs,c=[],u=t.style,l=t.shared,h=n(u.padding),p=!0,g=0,m=0;u.padding=0;var v=En.label("",0,0,null,null,null,t.useHTML,null,"tooltip").attr({padding:h,fill:t.backgroundColor,"stroke-width":a,r:t.borderRadius,zIndex:8}).css(u).hide().add();return ke||v.shadow(t.shadow),{shared:l,refresh:function(n){var a,u,h,g,m={},y=[];h=n.tooltipPos,a=t.formatter||e;var b,m=zn.hoverPoints;if(!l||n.series&&n.series.noSharedTooltip?m=n.getLabelConfig():(g=0,m&&Ge(m,function(t){t.setState()}),zn.hoverPoints=n,Ge(n,function(t){t.setState(Re),g+=t.plotY,y.push(t.getLabelConfig())}),u=n[0].plotX,g=re(g)/n.length,m={x:n[0].category},m.points=y,n=n[0]),m=a.call(m),o=n.series,u=d(u,n.plotX),g=d(g,n.plotY),a=re(h?h[0]:_n?ln-g:u),u=re(h?h[1]:_n?un-u:g),h=l||!o.isCartesian||o.tooltipOutsidePlot||$e(a,u),m!==!1&&h?(p&&(v.show(),p=!1),v.attr({text:m}),b=t.borderColor||n.color||o.color||"#606060",v.attr({stroke:b}),h=C(v.width,v.height,he,Z,ln,un,{x:a,y:u},d(t.distance,12),_n),i(re(h.x),re(h.y))):r(),s){s=f(s);var w;h=s.length;for(var k;h--;)w=n.series[h?"yAxis":"xAxis"],s[h]&&w&&(w=w.getPlotLinePath(h?d(n.stackY,n.y):n.x,1),c[h]?c[h].attr({d:w,visibility:Ie}):(k={"stroke-width":s[h].width||1,stroke:s[h].color||"#C0C0C0",zIndex:s[h].zIndex||2},s[h].dashStyle&&(k.dashstyle=s[h].dashStyle),c[h]=En.path(w).attr(k).add()))}nn(zn,"tooltipRefresh",{text:m,x:a+he,y:u+Z,borderColor:b})},hide:r,hideCrosshairs:function(){Ge(c,function(t){t&&t.hide()})},destroy:function(){Ge(c,function(t){t&&t.destroy()}),v&&(v=v.destroy())}}}function y(e){function n(e){var n,i,e=e||ne.event;return e.target||(e.target=e.srcElement),e.originalEvent&&(e=e.originalEvent),e.event&&(e=e.event),n=e.touches?e.touches.item(0):e,Sn=Qe(ge),n.pageX===j?(i=e.x,n=e.y):(i=n.pageX-Sn.left,n=n.pageY-Sn.top),t(e,{chartX:re(i),chartY:re(n)})}function i(t){var e={xAxis:[],yAxis:[]};return Ge(Qn,function(n){var i=n.translate,r=n.isXAxis;e[r?"xAxis":"yAxis"].push({axis:n,value:i((_n?!r:r)?t.chartX-he:un-t.chartY+Z,!0)})}),e}function r(t){var e=zn.hoverSeries,n=zn.hoverPoint,i=zn.hoverPoints||n;t&&Ve&&i?Ve.refresh(i):(n&&n.onMouseOut(),e&&e.onMouseOut(),Ve&&(Ve.hide(),Ve.hideCrosshairs()),In=null)}function o(){if(f){var t,e={xAxis:[],yAxis:[]},n=f.getBBox(),i=n.x-he,r=n.y-Z;l&&(Ge(Qn,function(o){if(o.options.zoomEnabled!==!1){var a=o.translate,s=o.isXAxis,c=_n?!s:s,u=a(c?i:un-r-n.height,!0,0,0,1),a=a(c?i+n.width:un-r,!0,0,0,1);!isNaN(u)&&!isNaN(a)&&(e[s?"xAxis":"yAxis"].push({axis:o,min:ce(u,a),max:se(u,a)}),t=!0)}}),t&&nn(zn,"selection",e,Fn)),f=f.destroy()}zn&&(p(ge,{cursor:"auto"}),zn.cancelClick=l,zn.mouseIsDown=Ye=l=!1),en(ee,xe?"touchend":"mouseup",o)}function a(t){rn(t),Sn&&!$e(t.pageX-Sn.left-he,t.pageY-Sn.top-Z)&&r()}function s(){r(),Sn=null}var c,u,l,f,d=ke?"":Ln.zoomType,g=/x/.test(d),v=/y/.test(d),y=g&&!_n||v&&_n,b=v&&!_n||g&&_n;yn||(zn.trackerGroup=yn=En.g("tracker").attr({zIndex:9}).add()),e.enabled&&(zn.tooltip=Ve=m(e),Dn=setInterval(function(){An&&An()},32)),function(){ge.onmousedown=function(t){t=n(t),!xe&&t.preventDefault&&t.preventDefault(),zn.mouseIsDown=Ye=!0,zn.cancelClick=!1,zn.mouseDownX=c=t.chartX,u=t.chartY,tn(ee,xe?"touchend":"mouseup",o)};var d=function(t){if(!t||!(t.touches&&t.touches.length>1)){t=n(t),xe||(t.returnValue=!1);var i=t.chartX,r=t.chartY,o=!$e(i-he,r-Z);if(xe&&"touchstart"===t.type&&(h(t.target,"isTracker")?zn.runTrackerClick||t.preventDefault():!Xn&&!o&&t.preventDefault()),o&&(he>i?i=he:i>he+ln&&(i=he+ln),Z>r?r=Z:r>Z+un&&(r=Z+un)),Ye&&"touchstart"!==t.type){if(l=Math.sqrt(Math.pow(c-i,2)+Math.pow(u-r,2)),l>10){var a=$e(c-he,u-Z);Gn&&(g||v)&&a&&(f||(f=En.rect(he,Z,y?1:ln,b?1:un,0).attr({fill:Ln.selectionMarkerFill||"rgba(69,114,167,0.25)",zIndex:7}).add())),f&&y&&(t=i-c,f.attr({width:ue(t),x:(t>0?0:t)+c})),f&&b&&(r-=u,f.attr({height:ue(r),y:(r>0?0:r)+u})),a&&!f&&Ln.panning&&zn.pan(i)}}else if(!o){var s,d,p,i=zn.hoverPoint,r=zn.hoverSeries,a=we,m=_n?un+Z-t.chartY:t.chartX-he;if(Ve&&e.shared&&(!r||!r.noSharedTooltip)){for(s=[],d=Jn.length,p=0;d>p;p++)Jn[p].visible&&Jn[p].options.enableMouseTracking!==!1&&!Jn[p].noSharedTooltip&&Jn[p].tooltipPoints.length&&(t=Jn[p].tooltipPoints[m],t._dist=ue(m-t.plotX),a=ce(a,t._dist),s.push(t));for(d=s.length;d--;)s[d]._dist>a&&s.splice(d,1);s.length&&s[0].plotX!==In&&(Ve.refresh(s),In=s[0].plotX)}r&&r.tracker&&(t=r.tooltipPoints[m])&&t!==i&&t.onMouseOver()}return o||!Gn}};ge.onmousemove=d,tn(ge,"mouseleave",s),tn(ee,"mousemove",a),ge.ontouchstart=function(t){(g||v)&&ge.onmousedown(t),d(t)},ge.ontouchmove=d,ge.ontouchend=function(){l&&r()},ge.onclick=function(e){var r=zn.hoverPoint,e=n(e);if(e.cancelBubble=!0,!zn.cancelClick)if(r&&(h(e.target,"isTracker")||h(e.target.parentNode,"isTracker"))){var o=r.plotX,a=r.plotY;t(r,{pageX:Sn.left+he+(_n?ln-a:o),pageY:Sn.top+Z+(_n?un-o:a)}),nn(r.series,"click",t(e,{point:r})),r.firePointEvent("click",e)}else t(e,i(e)),$e(e.chartX-he,e.chartY-Z)&&nn(zn,"click",e)}}(),t(this,{zoomX:g,zoomY:v,resetTracker:r,normalizeMouseEvent:n,destroy:function(){zn.trackerGroup&&(zn.trackerGroup=yn=zn.trackerGroup.destroy()),en(ge,"mouseleave",s),en(ee,"mousemove",a),ge.onclick=ge.onmousedown=ge.onmousemove=ge.ontouchstart=ge.ontouchend=ge.ontouchmove=null}})}function N(t){var e=t.type||Ln.type||Ln.defaultSeriesType,n=sn[e],i=zn.hasRendered;return i&&(_n&&"column"===e?n=sn.bar:_n||"bar"!==e||(n=sn.column)),e=new n,e.init(zn,t),!i&&e.inverted&&(_n=!0),e.isCartesian&&(Gn=e.isCartesian),Jn.push(e),e}function M(){Ln.alignTicks!==!1&&Ge(Qn,function(t){t.adjustTickAmount()}),Tn=null}function P(t){var e,n=zn.isDirtyLegend,i=zn.isDirtyBox,r=Jn.length,o=r,a=zn.clipRect;for(O(t,zn);o--;)if(t=Jn[o],t.isDirty&&t.options.stacking){e=!0;break}if(e)for(o=r;o--;)t=Jn[o],t.options.stacking&&(t.isDirty=!0);Ge(Jn,function(t){t.isDirty&&"point"===t.options.legendType&&(n=!0)}),n&&wn.renderLegend&&(wn.renderLegend(),zn.isDirtyLegend=!1),Gn&&(Kn||(Tn=null,Ge(Qn,function(t){t.setScale()})),M(),Nn(),Ge(Qn,function(t){t.isDirtyExtremes&&(t.isDirtyExtremes=!1,nn(t,"afterSetExtremes",t.getExtremes())),(t.isDirty||i||e)&&(t.redraw(),i=!0)})),i&&(On(),a&&(an(a),a.animate({width:zn.plotSizeX,height:zn.plotSizeY+1}))),Ge(Jn,function(t){t.isDirty&&t.visible&&(!t.isCartesian||t.xAxis)&&t.redraw()}),vn&&vn.resetTracker&&vn.resetTracker(!0),En.draw(),nn(zn,"redraw")}function R(){var t=X.xAxis||{},e=X.yAxis||{},t=f(t);Ge(t,function(t,e){t.index=e,t.isX=!0}),e=f(e),Ge(e,function(t,e){t.index=e}),t=t.concat(e),Ge(t,function(t){new a(t)}),M()}function U(){var t=L.lang,e=Ln.resetZoomButton,n=e.theme,i=n.states,r="chart"===e.relativeTo?null:{x:he,y:Z,width:ln,height:un};zn.resetZoomButton=En.button(t.resetZoom,null,null,Rn,n,i&&i.hover).attr({align:e.position.align,title:t.resetZoomTitle}).add().align(e.position,!1,r)}function W(t,e){Q=Ze(X.title,t),J=Ze(X.subtitle,e),Ge([["title",t,Q],["subtitle",e,J]],function(t){var e=t[0],n=zn[e],i=t[1],t=t[2];n&&i&&(n=n.destroy()),t&&t.text&&!n&&(zn[e]=En.text(t.text,0,0,t.useHTML).attr({align:t.align,"class":De+e,zIndex:t.zIndex||4}).css(t.style).add().align(t,!1,K))})}function q(){function t(t){var n=Ln.width||de.offsetWidth,i=Ln.height||de.offsetHeight,t=t?t.target:ne;n&&i&&(t===ne||t===ee)&&((n!==ve||i!==ye)&&(clearTimeout(e),e=setTimeout(function(){jn(n,i,!1)},100)),ve=n,ye=i)}var e;tn(ne,"resize",t),tn(zn,"destroy",function(){en(ne,"resize",t)})}function $(){zn&&nn(zn,"endResize",null,function(){Kn-=1})}function V(){for(var t=_n||Ln.inverted||"bar"===Ln.type||"bar"===Ln.defaultSeriesType,e=X.series,n=e&&e.length;!t&&n--;)"bar"===e[n].type&&(t=!0);zn.inverted=_n=t}function Y(){var e,i=X.labels,r=X.credits;W(),wn=zn.legend=new Zn,Ge(Qn,function(t){t.setScale()}),Nn(),Tn=null,Ge(Qn,function(t){t.setTickPositions(!0)}),M(),Nn(),On(),Gn&&Ge(Qn,function(t){t.render()}),zn.seriesGroup||(zn.seriesGroup=En.g("series-group").attr({zIndex:3}).add()),Ge(Jn,function(t){t.translate(),t.setTooltipPoints(),t.render()}),i.items&&Ge(i.items,function(){var e=t(i.style,this.style),r=n(e.left)+he,o=n(e.top)+Z+12;delete e.left,delete e.top,En.text(this.html,r,o).attr({zIndex:2}).css(e).add()}),r.enabled&&!zn.credits&&(e=r.href,zn.credits=En.text(r.text,0,0).on("click",function(){e&&(location.href=e)}).attr({align:r.position.align,zIndex:8}).css(r.style).add().align(r.position)),zn.hasRendered=!0}function z(){!be&&ne==ne.top&&"complete"!==ee.readyState||ke&&!ne.canvg?ke?xn.push(z,X.global.canvasToolsURL):ee.attachEvent("onreadystatechange",function(){ee.detachEvent("onreadystatechange",z),"complete"===ee.readyState&&z()}):(de=Ln.renderTo,me=De+Se++,i(de)&&(de=ee.getElementById(de)),de||D(13,!0),de.innerHTML="",de.offsetWidth||(pe=de.cloneNode(0),p(pe,{position:_e,top:"-9999px",display:"block"}),ee.body.appendChild(pe)),ve=(pe||de).offsetWidth,ye=(pe||de).offsetHeight,zn.chartWidth=we=Ln.width||ve||600,zn.chartHeight=Ce=Ln.height||(ye>19?ye:400),zn.container=ge=g(Te,{className:De+"container"+(Ln.className?" "+Ln.className:""),id:me},t({position:Ee,overflow:Ae,width:we+Oe,height:Ce+Oe,textAlign:"left",lineHeight:"normal"},Ln.style),pe||de),zn.renderer=En=Ln.forExport?new bn(ge,we,Ce,!0):new F(ge,we,Ce),ke&&En.create(zn,ge,we,Ce),nn(zn,"init"),Highcharts.RangeSelector&&X.rangeSelector.enabled&&(zn.rangeSelector=new Highcharts.RangeSelector(zn)),Mn(),Pn(),V(),R(),Ge(X.series||[],function(t){N(t)}),Highcharts.Scroller&&(X.navigator.enabled||X.scrollbar.enabled)&&(zn.scroller=new Highcharts.Scroller(zn)),zn.render=Y,zn.tracker=vn=new y(X.tooltip),Y(),En.draw(),o&&o.apply(zn,[zn]),Ge(zn.callbacks,function(t){t.apply(zn,[zn])}),pe&&(de.appendChild(ge),A(pe)),nn(zn,"load"))}var X,G=e.series;e.series=null,X=Ze(L,e),X.series=e.series=G;var K,Q,J,Z,te,le,he,fe,de,pe,ge,me,ve,ye,we,Ce,je,Le,He,Be,Ue,We,qe,$e,Ve,Ye,ze,Xe,cn,un,ln,vn,yn,wn,kn,Cn,Sn,Tn,_n,En,An,Dn,In,On,Nn,Mn,Pn,jn,Fn,Rn,Ln=X.chart,G=Ln.margin,G=r(G)?G:[G,G,G,G],Hn=d(Ln.marginTop,G[0]),Bn=d(Ln.marginRight,G[1]),Un=d(Ln.marginBottom,G[2]),Wn=d(Ln.marginLeft,G[3]),qn=Ln.spacingTop,$n=Ln.spacingRight,Vn=Ln.spacingBottom,Yn=Ln.spacingLeft,zn=this,Xn=(G=Ln.events)&&!!G.click,Gn=Ln.showAxes,Kn=0,Qn=[],Jn=[],Zn=function(){function e(t,e){var n=t.legendItem,i=t.legendLine,r=t.legendSymbol,o=C.color,a=e?s.itemStyle.color:o,o=e?t.color:o;n&&n.css({fill:a}),i&&i.attr({stroke:o}),r&&r.attr({stroke:o,fill:o})}function i(t){var e=t.legendItem,n=t.legendLine,i=t._legendItemPos,r=i[0],i=i[1],o=t.legendSymbol,t=t.checkbox;e&&e.attr({x:_?r:kn-r,y:i}),n&&n.translate(_?r:kn-r,i-4),o&&(e=r+o.xOff,o.attr({x:_?e:kn-e,y:i+o.yOff})),t&&(t.x=r,t.y=i)}function r(){Ge(c,function(t){var e=t.checkbox,n=d.alignAttr;e&&p(e,{left:n.translateX+t.legendItemWidth+e.x-40+Oe,top:n.translateY+e.y-11+Oe})})}function o(t){var n,i,r,o,a=t.legendItem;o=t.series||t;var c=o.options,f=c&&c.borderWidth||0;if(!a){if(o=/^(bar|pie|area|column)$/.test(o.type),t.legendItem=a=En.text(s.labelFormatter.call(t),0,0,s.useHTML).css(t.visible?k:C).on("mouseover",function(){t.setState(Re),a.css(x)}).on("mouseout",function(){a.css(t.visible?k:C),t.setState()}).on("click",function(){var e=function(){t.setVisible()};t.firePointEvent?t.firePointEvent("legendItemClick",null,e):nn(t,"legendItemClick",null,e)}).attr({align:_?"left":"right",zIndex:2}).add(d),!o&&c&&c.lineWidth){var p={"stroke-width":c.lineWidth,zIndex:2};c.dashStyle&&(p.dashstyle=c.dashStyle),t.legendLine=En.path([Me,(-y-b)*(_?1:-1),0,Pe,-b*(_?1:-1),0]).attr(p).add(d)}o?(r=En.rect(n=-y-b,i=-11,y,12,2).attr({zIndex:3}).add(d),_||(n+=y)):c&&c.marker&&c.marker.enabled&&(r=c.marker.radius,r=En.symbol(t.symbol,n=-y/2-b-r,i=-4-r,2*r,2*r).attr(t.pointAttr[Fe]).attr({zIndex:3}).add(d),_||(n+=y/2)),r&&(r.xOff=n+f%2/2,r.yOff=i+f%2/2),t.legendSymbol=r,e(t,t.visible),c&&c.showCheckbox&&(t.checkbox=g("input",{type:"checkbox",checked:t.selected,defaultChecked:t.selected},s.itemCheckboxStyle,ge),tn(t.checkbox,"click",function(e){nn(t,"checkboxClick",{checked:e.target.checked},function(){t.select()})}))}n=a.getBBox(),i=t.legendItemWidth=s.itemWidth||y+b+n.width+T,P=n.height,v&&u-N+i>(R||we-2*T-N)&&(u=N,l+=E+P+D),!v&&l+s.y+P>Ce-qn-Vn&&(l=M,u+=O,O=0),O=se(O,i),h=se(h,l+D),t._legendItemPos=[u,l],v?u+=i:l+=E+P+D,m=R||se(u-N+(v?0:i),m)}function a(){u=N,l=M,h=m=0,d||(d=En.g("legend").attr({zIndex:7}).add()),c=[],Ge(L,function(t){var e=t.options;e.showInLegend&&(c=c.concat(t.legendItems||("point"===e.legendType?t.data:t)))}),S(c,function(t,e){return(t.options.legendIndex||0)-(e.options.legendIndex||0)}),H&&c.reverse(),Ge(c,o),kn=R||m,Cn=h-I+P,(j||F)&&(kn+=2*T,Cn+=2*T,f?kn>0&&Cn>0&&(f[f.isNew?"attr":"animate"](f.crisp(null,null,null,kn,Cn)),f.isNew=!1):(f=En.rect(0,0,kn,Cn,s.borderRadius,j||0).attr({stroke:s.borderColor,"stroke-width":j||0,fill:F||Ne}).add(d).shadow(s.shadow),f.isNew=!0),f[c.length?"show":"hide"]()),Ge(c,i);for(var e,a=["left","right","top","bottom"],p=4;p--;)e=a[p],w[e]&&"auto"!==w[e]&&(s[2>p?"align":"verticalAlign"]=e,s[2>p?"x":"y"]=n(w[e])*(p%2?-1:1));c.length&&d.align(t(s,{width:kn,height:Cn}),!0,K),Kn||r()}var s=zn.options.legend;if(s.enabled){var c,u,l,h,f,d,m,v="horizontal"===s.layout,y=s.symbolWidth,b=s.symbolPadding,w=s.style,k=s.itemStyle,x=s.itemHoverStyle,C=Ze(k,s.itemHiddenStyle),T=s.padding||n(w.padding),_=!s.rtl,E=s.itemMarginTop||0,D=s.itemMarginBottom||0,I=18,O=0,N=4+T+y+b,M=T+E+I-5,P=0,j=s.borderWidth,F=s.backgroundColor,R=s.width,L=zn.series,H=s.reversed;return a(),tn(zn,"endResize",r),{colorizeItem:e,destroyItem:function(t){var e=t.checkbox;Ge(["legendItem","legendLine","legendSymbol"],function(e){t[e]&&t[e].destroy()}),e&&A(t.checkbox)},renderLegend:a,destroy:function(){f&&(f=f.destroy()),d&&(d=d.destroy())}}}};if($e=function(t,e){return t>=0&&ln>=t&&e>=0&&un>=e},Rn=function(){var t=zn.resetZoomButton;nn(zn,"selection",{resetSelection:!0},Fn),t&&(zn.resetZoomButton=t.destroy())},Fn=function(t){var e;zn.resetZoomEnabled!==!1&&!zn.resetZoomButton&&U(),!t||t.resetSelection?Ge(Qn,function(t){t.options.zoomEnabled!==!1&&(t.setExtremes(null,null,!1),e=!0)}):Ge(t.xAxis.concat(t.yAxis),function(t){var n=t.axis;zn.tracker[n.isXAxis?"zoomX":"zoomY"]&&(n.setExtremes(t.min,t.max,!1),e=!0)}),e&&P(d(Ln.animation,zn.pointCount<100))},zn.pan=function(t){var e=zn.xAxis[0],n=zn.mouseDownX,i=e.pointRange/2,r=e.getExtremes(),o=e.translate(n-t,!0)+i,n=e.translate(n+ln-t,!0)-i;(i=zn.hoverPoints)&&Ge(i,function(t){t.setState()}),o>ce(r.dataMin,r.min)&&n<se(r.dataMax,r.max)&&e.setExtremes(o,n,!0,!1),zn.mouseDownX=t,p(ge,{cursor:"move"})},Nn=function(){var t,e=X.legend,n=d(e.margin,10),i=e.x,r=e.y,o=e.align,a=e.verticalAlign;Mn(),!zn.title&&!zn.subtitle||l(Hn)||(t=se(zn.title&&!Q.floating&&!Q.verticalAlign&&Q.y||0,zn.subtitle&&!J.floating&&!J.verticalAlign&&J.y||0))&&(Z=se(Z,t+d(Q.margin,15)+qn)),e.enabled&&!e.floating&&("right"===o?l(Bn)||(te=se(te,kn-i+n+$n)):"left"===o?l(Wn)||(he=se(he,kn+i+n+Yn)):"top"===a?l(Hn)||(Z=se(Z,Cn+r+n+qn)):"bottom"===a&&(l(Un)||(le=se(le,Cn-r+n+Vn)))),zn.extraBottomMargin&&(le+=zn.extraBottomMargin),zn.extraTopMargin&&(Z+=zn.extraTopMargin),Gn&&Ge(Qn,function(t){t.getOffset()}),l(Wn)||(he+=fe[3]),l(Hn)||(Z+=fe[0]),l(Un)||(le+=fe[2]),l(Bn)||(te+=fe[1]),Pn()},jn=function(t,e,n){var i=zn.title,r=zn.subtitle;Kn+=1,O(n,zn),Le=Ce,je=we,l(t)&&(zn.chartWidth=we=re(t)),l(e)&&(zn.chartHeight=Ce=re(e)),p(ge,{width:we+Oe,height:Ce+Oe}),En.setSize(we,Ce,n),ln=we-he-te,un=Ce-Z-le,Tn=null,Ge(Qn,function(t){t.isDirty=!0,t.setScale()}),Ge(Jn,function(t){t.isDirty=!0}),zn.isDirtyLegend=!0,zn.isDirtyBox=!0,Nn(),i&&i.align(null,null,K),r&&r.align(null,null,K),P(n),Le=null,nn(zn,"resize"),B===!1?$():setTimeout($,B&&B.duration||500)},Pn=function(){zn.plotLeft=he=re(he),zn.plotTop=Z=re(Z),zn.plotWidth=ln=re(we-he-te),zn.plotHeight=un=re(Ce-Z-le),zn.plotSizeX=_n?un:ln,zn.plotSizeY=_n?ln:un,K={x:Yn,y:qn,width:we-Yn-$n,height:Ce-qn-Vn},Ge(Qn,function(t){t.setAxisSize(),t.setAxisTranslation()})},Mn=function(){Z=d(Hn,qn),te=d(Bn,$n),le=d(Un,Vn),he=d(Wn,Yn),fe=[0,0,0,0]},On=function(){var t,e=Ln.borderWidth||0,n=Ln.backgroundColor,i=Ln.plotBackgroundColor,r=Ln.plotBackgroundImage,o={x:he,y:Z,width:ln,height:un};t=e+(Ln.shadow?8:0),(e||n)&&(He?He.animate(He.crisp(null,null,null,we-t,Ce-t)):He=En.rect(t/2,t/2,we-t,Ce-t,Ln.borderRadius,e).attr({stroke:Ln.borderColor,"stroke-width":e,fill:n||Ne}).add().shadow(Ln.shadow)),i&&(Be?Be.animate(o):Be=En.rect(he,Z,ln,un,0).attr({fill:i}).add().shadow(Ln.plotShadow)),r&&(Ue?Ue.animate(o):Ue=En.image(r,he,Z,ln,un).add()),Ln.plotBorderWidth&&(We?We.animate(We.crisp(null,he,Z,ln,un)):We=En.rect(he,Z,ln,un,0,Ln.plotBorderWidth).attr({stroke:Ln.plotBorderColor,"stroke-width":Ln.plotBorderWidth,zIndex:4}).add()),zn.isDirtyBox=!1},Ln.reflow!==!1&&tn(zn,"load",q),G)for(qe in G)tn(zn,qe,G[qe]);zn.options=X,zn.series=Jn,zn.xAxis=[],zn.yAxis=[],zn.addSeries=function(t,e,n){var i;return t&&(O(n,zn),e=d(e,!0),nn(zn,"addSeries",{options:t},function(){i=N(t),i.isDirty=!0,zn.isDirtyLegend=!0,e&&zn.redraw()})),i},zn.animation=ke?!1:d(Ln.animation,!0),zn.Axis=a,zn.destroy=function(){var t,e=ge&&ge.parentNode;if(null!==zn){for(nn(zn,"destroy"),en(zn),t=Qn.length;t--;)Qn[t]=Qn[t].destroy();for(t=Jn.length;t--;)Jn[t]=Jn[t].destroy();Ge("title,subtitle,seriesGroup,clipRect,credits,tracker,scroller,rangeSelector".split(","),function(t){var e=zn[t];e&&(zn[t]=e.destroy())}),Ge([He,We,Be,wn,Ve,En,vn],function(t){t&&t.destroy&&t.destroy()}),He=We=Be=wn=Ve=En=vn=null,ge&&(ge.innerHTML="",en(ge),e&&A(ge),ge=null),clearInterval(Dn);for(t in zn)delete zn[t];X=zn=null}},zn.get=function(t){var e,n,i;for(e=0;e<Qn.length;e++)if(Qn[e].options.id===t)return Qn[e];for(e=0;e<Jn.length;e++)if(Jn[e].options.id===t)return Jn[e];for(e=0;e<Jn.length;e++)for(i=Jn[e].points||[],n=0;n<i.length;n++)if(i[n].id===t)return i[n];return null},zn.getSelectedPoints=function(){var t=[];return Ge(Jn,function(e){t=t.concat(Ke(e.points,function(t){return t.selected}))}),t},zn.getSelectedSeries=function(){return Ke(Jn,function(t){return t.selected})},zn.hideLoading=function(){ze&&on(ze,{opacity:0},{duration:X.loading.hideDuration||100,complete:function(){p(ze,{display:Ne})}}),cn=!1},zn.initSeries=N,zn.isInsidePlot=$e,zn.redraw=P,zn.setSize=jn,zn.setTitle=W,zn.showLoading=function(e){var n=X.loading;ze||(ze=g(Te,{className:De+"loading"},t(n.style,{left:he+Oe,top:Z+Oe,width:ln+Oe,height:un+Oe,zIndex:10,display:Ne}),ge),Xe=g("span",null,n.labelStyle,ze)),Xe.innerHTML=e||X.lang.loading,cn||(p(ze,{opacity:0,display:""}),on(ze,{opacity:n.style.opacity},{duration:n.showDuration||0}),cn=!0)},zn.pointCount=0,zn.counters=new x,z()}var j,F,R,L,H,B,U,W,q,$,V,Y,z,X,G,K,Q,J,Z,te,ee=document,ne=window,ie=Math,re=ie.round,oe=ie.floor,ae=ie.ceil,se=ie.max,ce=ie.min,ue=ie.abs,le=ie.cos,he=ie.sin,fe=ie.PI,de=2*fe/360,pe=navigator.userAgent,ge=/msie/i.test(pe)&&!ne.opera,me=8===ee.documentMode,ve=/AppleWebKit/.test(pe),ye=/Firefox/.test(pe),be=!!ee.createElementNS&&!!ee.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,we=ye&&parseInt(pe.split("Firefox/")[1],10)<4,ke=!be&&!ge&&!!ee.createElement("canvas").getContext,xe=ee.documentElement.ontouchstart!==j,Ce={},Se=0,Te="div",_e="absolute",Ee="relative",Ae="hidden",De="highcharts-",Ie="visible",Oe="px",Ne="none",Me="M",Pe="L",je="rgba(192,192,192,"+(be?1e-6:.002)+")",Fe="",Re="hover",Le="millisecond",He="second",Be="minute",Ue="hour",We="day",qe="week",$e="month",Ve="year",Ye=ne.HighchartsAdapter,ze=Ye||{},Xe=ze.getScript,Ge=ze.each,Ke=ze.grep,Qe=ze.offset,Je=ze.map,Ze=ze.merge,tn=ze.addEvent,en=ze.removeEvent,nn=ze.fireEvent,rn=ze.washMouseEvent,on=ze.animate,an=ze.stop,sn={};if(ne.Highcharts={},H=function(t,e,n){if(!l(e)||isNaN(e))return"Invalid date";var i,t=d(t,"%Y-%m-%d %H:%M:%S"),r=new Date(e),o=r[V](),a=r[Y](),s=r[z](),c=r[X](),u=r[G](),h=L.lang,f=h.weekdays,e={a:f[a].substr(0,3),A:f[a],d:y(s),e:s,b:h.shortMonths[c],B:h.months[c],m:y(c+1),y:u.toString().substr(2,2),Y:u,H:y(o),I:y(o%12||12),l:o%12||12,M:y(r[$]()),p:12>o?"AM":"PM",P:12>o?"am":"pm",S:y(r.getSeconds()),L:y(re(e%1e3),3)};for(i in e)t=t.replace("%"+i,e[i]);return n?t.substr(0,1).toUpperCase()+t.substr(1):t},x.prototype={wrapColor:function(t){this.color>=t&&(this.color=0)},wrapSymbol:function(t){this.symbol>=t&&(this.symbol=0)}},W=e(Le,1,He,1e3,Be,6e4,Ue,36e5,We,864e5,qe,6048e5,$e,2592e6,Ve,31556952e3),U={init:function(t,e,n){var i,r,o,e=e||"",a=t.shift,s=e.indexOf("C")>-1,c=s?7:3,e=e.split(" "),n=[].concat(n),u=function(t){for(i=t.length;i--;)t[i]===Me&&t.splice(i+1,0,t[i+1],t[i+2],t[i+1],t[i+2])};if(s&&(u(e),u(n)),t.isArea&&(r=e.splice(e.length-6,6),o=n.splice(n.length-6,6)),a<=n.length/c)for(;a--;)n=[].concat(n).splice(0,c).concat(n);if(t.shift=0,e.length)for(t=n.length;e.length<t;)a=[].concat(e).splice(e.length-c,c),s&&(a[c-6]=a[c-2],a[c-5]=a[c-1]),e=e.concat(a);return r&&(e=e.concat(r),n=n.concat(o)),[e,n]},step:function(t,e,n,i){var r=[],o=t.length;if(1===n)r=i;else if(o===e.length&&1>n)for(;o--;)i=parseFloat(t[o]),r[o]=isNaN(i)?t[o]:n*parseFloat(e[o]-i)+i;else r=e;return r}},Ye&&Ye.init&&Ye.init(U),!Ye&&ne.jQuery){var cn=jQuery,Xe=cn.getScript,Ge=function(t,e){for(var n=0,i=t.length;i>n;n++)if(e.call(t[n],t[n],n,t)===!1)return n},Ke=cn.grep,Je=function(t,e){for(var n=[],i=0,r=t.length;r>i;i++)n[i]=e.call(t[i],t[i],i,t);return n},Ze=function(){var t=arguments;return cn.extend(!0,null,t[0],t[1],t[2],t[3])},Qe=function(t){return cn(t).offset()},tn=function(t,e,n){cn(t).bind(e,n)},en=function(t,e,n){var i=ee.removeEventListener?"removeEventListener":"detachEvent";ee[i]&&!t[i]&&(t[i]=function(){}),cn(t).unbind(e,n)},nn=function(e,n,i,r){var o,a=cn.Event(n),s="detached"+n;t(a,i),e[n]&&(e[s]=e[n],e[n]=null),Ge(["preventDefault","stopPropagation"],function(t){var e=a[t];a[t]=function(){try{e.call(a)}catch(n){"preventDefault"===t&&(o=!0)}}}),cn(e).trigger(a),e[s]&&(e[n]=e[s],e[s]=null),r&&!a.isDefaultPrevented()&&!o&&r(a)},rn=function(t){return t},on=function(t,e,n){var i=cn(t);e.d&&(t.toD=e.d,e.d=1),i.stop(),i.animate(e,n)},an=function(t){cn(t).stop()};cn.extend(cn.easing,{easeOutQuad:function(t,e,n,i,r){return-i*(e/=r)*(e-2)+n}});var un=jQuery.fx,ln=un.step;Ge(["cur","_default","width","height"],function(t,e){var n,i=e?ln:un.prototype,r=i[t];r&&(i[t]=function(t){return t=e?t:this,n=t.elem,n.attr?n.attr(t.prop,t.now):r.apply(this,arguments)})}),ln.d=function(t){var e=t.elem;if(!t.started){var n=U.init(e,e.d,e.toD);t.start=n[0],t.end=n[1],t.started=!0}e.attr("d",U.step(t.start,t.end,t.pos,e.toD))}}Ye={enabled:!0,align:"center",x:0,y:15,style:{color:"#666",fontSize:"11px",lineHeight:"14px"}},L={colors:"#4572A7,#AA4643,#89A54E,#80699B,#3D96AE,#DB843D,#92A8CD,#A47D7C,#B5CA92".split(","),symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),shortMonths:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),decimalPoint:".",resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:","},global:{useUTC:!0,canvasToolsURL:"http://code.highcharts.com/2.2.2/modules/canvas-tools.js"},chart:{borderColor:"#4572A7",borderRadius:5,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacingTop:10,spacingRight:10,spacingBottom:15,spacingLeft:10,style:{fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Verdana, Arial, Helvetica, sans-serif',fontSize:"12px"},backgroundColor:"#FFFFFF",plotBorderColor:"#C0C0C0",resetZoomButton:{theme:{zIndex:20},position:{align:"right",x:-10,y:10}}},title:{text:"Chart title",align:"center",y:15,style:{color:"#3E576F",fontSize:"16px"}},subtitle:{text:"",align:"center",y:30,style:{color:"#6D869F"}},plotOptions:{line:{allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},lineWidth:2,shadow:!0,marker:{enabled:!0,lineWidth:0,radius:4,lineColor:"#FFFFFF",states:{hover:{},select:{fillColor:"#FFFFFF",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:Ze(Ye,{enabled:!1,y:-6,formatter:function(){return this.y}}),cropThreshold:300,pointRange:0,showInLegend:!0,states:{hover:{marker:{}},select:{marker:{}}},stickyTracking:!0}},labels:{style:{position:_e,color:"#3E576F"}},legend:{enabled:!0,align:"center",layout:"horizontal",labelFormatter:function(){return this.name},borderWidth:1,borderColor:"#909090",borderRadius:5,shadow:!1,style:{padding:"5px"},itemStyle:{cursor:"pointer",color:"#3E576F"},itemHoverStyle:{color:"#000000"},itemHiddenStyle:{color:"#C0C0C0"},itemCheckboxStyle:{position:_e,width:"13px",height:"13px"},symbolWidth:16,symbolPadding:5,verticalAlign:"bottom",x:0,y:0},loading:{labelStyle:{fontWeight:"bold",position:Ee,top:"1em"},style:{position:_e,backgroundColor:"white",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,backgroundColor:"rgba(255, 255, 255, .85)",borderWidth:2,borderRadius:5,headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{series.color}">{series.name}</span>: <b>{point.y}</b><br/>',shadow:!0,shared:ke,snap:xe?25:10,style:{color:"#333333",fontSize:"12px",padding:"5px",whiteSpace:"nowrap"}},credits:{enabled:!0,text:"",href:"",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#909090",fontSize:"10px"}}};var hn={dateTimeLabelFormats:e(Le,"%H:%M:%S.%L",He,"%H:%M:%S",Be,"%H:%M",Ue,"%H:%M",We,"%e. %b",qe,"%e. %b",$e,"%b '%y",Ve,"%Y"),endOnTick:!1,gridLineColor:"#C0C0C0",labels:Ye,lineColor:"#C0D0E0",lineWidth:1,max:null,min:null,minPadding:.01,maxPadding:.01,minorGridLineColor:"#E0E0E0",minorGridLineWidth:1,minorTickColor:"#A0A0A0",minorTickLength:2,minorTickPosition:"outside",startOfWeek:1,startOnTick:!1,tickColor:"#C0D0E0",tickLength:5,tickmarkPlacement:"between",tickPixelInterval:100,tickPosition:"outside",tickWidth:1,title:{align:"middle",style:{color:"#6D869F",fontWeight:"bold"}},type:"linear"},fn=Ze(hn,{endOnTick:!0,gridLineWidth:1,tickPixelInterval:72,showLastLabel:!0,labels:{align:"right",x:-8,y:3},lineWidth:0,maxPadding:.05,minPadding:.05,startOnTick:!0,tickWidth:0,title:{rotation:270,text:"Y-values"},stackLabels:{enabled:!1,formatter:function(){return this.total},style:Ye.style}}),dn={labels:{align:"right",x:-8,y:null},title:{rotation:270}},pn={labels:{align:"left",x:8,y:null},title:{rotation:90}},gn={labels:{align:"center",x:0,y:14},title:{rotation:0}},mn=Ze(gn,{labels:{y:-5,overflow:"justify"}}),vn=L.plotOptions,Ye=vn.line;
vn.spline=Ze(Ye),vn.scatter=Ze(Ye,{lineWidth:0,states:{hover:{lineWidth:0}},tooltip:{headerFormat:'<span style="font-size: 10px; color:{series.color}">{series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}}),vn.area=Ze(Ye,{threshold:0}),vn.areaspline=Ze(vn.area),vn.column=Ze(Ye,{borderColor:"#FFFFFF",borderWidth:1,borderRadius:0,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{brightness:.1,shadow:!1},select:{color:"#C0C0C0",borderColor:"#000000",shadow:!1}},dataLabels:{y:null,verticalAlign:null},threshold:0}),vn.bar=Ze(vn.column,{dataLabels:{align:"left",x:5,y:null,verticalAlign:"middle"}}),vn.pie=Ze(Ye,{borderColor:"#FFFFFF",borderWidth:1,center:["50%","50%"],colorByPoint:!0,dataLabels:{distance:30,enabled:!0,formatter:function(){return this.point.name},y:5},legendType:"point",marker:null,size:"75%",showInLegend:!1,slicedOffset:10,states:{hover:{brightness:.1,shadow:!1}}}),N();var yn=function(t){var e,i=[];return function(t){(e=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/.exec(t))?i=[n(e[1]),n(e[2]),n(e[3]),parseFloat(e[4],10)]:(e=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(t))&&(i=[n(e[1],16),n(e[2],16),n(e[3],16),1])}(t),{get:function(e){return i&&!isNaN(i[0])?"rgb"===e?"rgb("+i[0]+","+i[1]+","+i[2]+")":"a"===e?i[3]:"rgba("+i.join(",")+")":t},brighten:function(t){if(a(t)&&0!==t){var e;for(e=0;3>e;e++)i[e]+=n(255*t),i[e]<0&&(i[e]=0),i[e]>255&&(i[e]=255)}return this},setOpacity:function(t){return i[3]=t,this}}};M.prototype={init:function(t,e){this.element="span"===e?g(e):ee.createElementNS("http://www.w3.org/2000/svg",e),this.renderer=t,this.attrSetters={}},animate:function(t,e,n){e=d(e,B,!0),an(this),e?(e=Ze(e),n&&(e.complete=n),on(this,t,e)):(this.attr(t),n&&n())},attr:function(t,e){var r,o,a,s,c,u,f=this.element,d=f.nodeName,p=this.renderer,g=this.attrSetters,m=this.shadows,v=this;if(i(t)&&l(e)&&(r=t,t={},t[r]=e),i(t))r=t,"circle"===d?r={x:"cx",y:"cy"}[r]||r:"strokeWidth"===r&&(r="stroke-width"),v=h(f,r)||this[r]||0,"d"!==r&&"visibility"!==r&&(v=parseFloat(v));else for(r in t)if(c=!1,o=t[r],a=g[r]&&g[r](o,r),a!==!1){if(a!==j&&(o=a),"d"===r)o&&o.join&&(o=o.join(" ")),/(NaN| {2}|^$)/.test(o)&&(o="M 0 0"),this.d=o;else if("x"===r&&"text"===d){for(a=0;a<f.childNodes.length;a++)s=f.childNodes[a],h(s,"x")===h(f,"x")&&h(s,"x",o);this.rotation&&h(f,"transform","rotate("+this.rotation+" "+o+" "+n(t.y||h(f,"y"))+")")}else if("fill"===r)o=p.color(o,f,r);else if("circle"!==d||"x"!==r&&"y"!==r)if("rect"===d&&"r"===r)h(f,{rx:o,ry:o}),c=!0;else if("translateX"===r||"translateY"===r||"rotation"===r||"verticalAlign"===r)this[r]=o,this.updateTransform(),c=!0;else if("stroke"===r)o=p.color(o,f,r);else if("dashstyle"===r){if(r="stroke-dasharray",o=o&&o.toLowerCase(),"solid"===o)o=Ne;else if(o){for(o=o.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(","),a=o.length;a--;)o[a]=n(o[a])*t["stroke-width"];o=o.join(",")}}else"isTracker"===r?this[r]=o:"width"===r?o=n(o):"align"===r?(r="text-anchor",o={left:"start",center:"middle",right:"end"}[o]):"title"===r&&(a=f.getElementsByTagName("title")[0],a||(a=ee.createElementNS("http://www.w3.org/2000/svg","title"),f.appendChild(a)),a.textContent=o);else r={x:"cx",y:"cy"}[r]||r;if("strokeWidth"===r&&(r="stroke-width"),ve&&"stroke-width"===r&&0===o&&(o=1e-6),this.symbolName&&/^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)/.test(r)&&(u||(this.symbolAttr(t),u=!0),c=!0),m&&/^(width|height|visibility|x|y|d|transform)$/.test(r))for(a=m.length;a--;)h(m[a],r,o);("width"===r||"height"===r)&&"rect"===d&&0>o&&(o=0),"text"===r?(this.textStr=o,this.added&&p.buildText(this)):c||h(f,r,o)}return ve&&/Chrome\/(18|19)/.test(pe)&&"text"===d&&(t.x!==j||t.y!==j)&&(r=f.parentNode,o=f.nextSibling,r&&(r.removeChild(f),o?r.insertBefore(f,o):r.appendChild(f))),v},symbolAttr:function(t){var e=this;Ge("x,y,r,start,end,width,height,innerR,anchorX,anchorY".split(","),function(n){e[n]=d(t[n],e[n])}),e.attr({d:e.renderer.symbols[e.symbolName](e.x,e.y,e.width,e.height,e)})},clip:function(t){return this.attr("clip-path","url("+this.renderer.url+"#"+t.id+")")},crisp:function(t,e,n,i,r){var o,a,s={},c={},t=t||this.strokeWidth||this.attr&&this.attr("stroke-width")||0;a=re(t)%2/2,c.x=oe(e||this.x||0)+a,c.y=oe(n||this.y||0)+a,c.width=oe((i||this.width||0)-2*a),c.height=oe((r||this.height||0)-2*a),c.strokeWidth=t;for(o in c)this[o]!==c[o]&&(this[o]=s[o]=c[o]);return s},css:function(e){var n,i=this.element,i=e&&e.width&&"text"===i.nodeName,r="",o=function(t,e){return"-"+e.toLowerCase()};if(e&&e.color&&(e.fill=e.color),this.styles=e=t(this.styles,e),ge&&!be)i&&delete e.width,p(this.element,e);else{for(n in e)r+=n.replace(/([A-Z])/g,o)+":"+e[n]+";";this.attr({style:r})}return i&&this.added&&this.renderer.buildText(this),this},on:function(t,e){var n=e;return xe&&"click"===t&&(t="touchstart",n=function(t){t.preventDefault(),e()}),this.element["on"+t]=n,this},translate:function(t,e){return this.attr({translateX:t,translateY:e})},invert:function(){return this.inverted=!0,this.updateTransform(),this},htmlCss:function(e){var n=this.element;return(n=e&&"SPAN"===n.tagName&&e.width)&&(delete e.width,this.textWidth=n,this.updateTransform()),this.styles=t(this.styles,e),p(this.element,e),this},htmlGetBBox:function(t){var e=this.element,n=this.bBox;return(!n||t)&&("text"===e.nodeName&&(e.style.position=_e),n=this.bBox={x:e.offsetLeft,y:e.offsetTop,width:e.offsetWidth,height:e.offsetHeight}),n},htmlUpdateTransform:function(){if(this.added){var t=this.renderer,e=this.element,i=this.translateX||0,r=this.translateY||0,o=this.x||0,a=this.y||0,s=this.textAlign||"left",c={left:0,center:.5,right:1}[s],u=s&&"left"!==s,h=this.shadows;if((i||r)&&(p(e,{marginLeft:i,marginTop:r}),h&&Ge(h,function(t){p(t,{marginLeft:i+1,marginTop:r+1})})),this.inverted&&Ge(e.childNodes,function(n){t.invertChild(n,e)}),"SPAN"===e.tagName){var f,g,m,h=this.rotation;f=0;var v,y=1,b=0;m=n(this.textWidth);var w=this.xCorr||0,k=this.yCorr||0,x=[h,s,e.innerHTML,this.textWidth].join(",");x!==this.cTT&&(l(h)&&(f=h*de,y=le(f),b=he(f),p(e,{filter:h?["progid:DXImageTransform.Microsoft.Matrix(M11=",y,", M12=",-b,", M21=",b,", M22=",y,", sizingMethod='auto expand')"].join(""):Ne})),f=d(this.elemWidth,e.offsetWidth),g=d(this.elemHeight,e.offsetHeight),f>m&&(p(e,{width:m+Oe,display:"block",whiteSpace:"normal"}),f=m),m=t.fontMetrics(e.style.fontSize).b,w=0>y&&-f,k=0>b&&-g,v=0>y*b,w+=b*m*(v?1-c:c),k-=y*m*(h?v?c:1-c:1),u&&(w-=f*c*(0>y?-1:1),h&&(k-=g*c*(0>b?-1:1)),p(e,{textAlign:s})),this.xCorr=w,this.yCorr=k),p(e,{left:o+w+Oe,top:a+k+Oe}),this.cTT=x}}else this.alignOnAdd=!0},updateTransform:function(){var t=this.translateX||0,e=this.translateY||0,n=this.inverted,i=this.rotation,r=[];n&&(t+=this.attr("width"),e+=this.attr("height")),(t||e)&&r.push("translate("+t+","+e+")"),n?r.push("rotate(90) scale(-1,1)"):i&&r.push("rotate("+i+" "+this.x+" "+this.y+")"),r.length&&h(this.element,"transform",r.join(" "))},toFront:function(){var t=this.element;return t.parentNode.appendChild(t),this},align:function(t,e,n){t?(this.alignOptions=t,this.alignByTranslate=e,n||this.renderer.alignedObjects.push(this)):(t=this.alignOptions,e=this.alignByTranslate);var n=d(n,this.renderer),i=t.align,r=t.verticalAlign,o=(n.x||0)+(t.x||0),a=(n.y||0)+(t.y||0),s={};return/^(right|center)$/.test(i)&&(o+=(n.width-(t.width||0))/{right:1,center:2}[i]),s[e?"translateX":"x"]=re(o),/^(bottom|middle)$/.test(r)&&(a+=(n.height-(t.height||0))/({bottom:1,middle:2}[r]||1)),s[e?"translateY":"y"]=re(a),this[this.placed?"animate":"attr"](s),this.placed=!0,this.alignAttr=s,this},getBBox:function(e){var n,i,r=this.rotation;i=this.element;var o=r*de;if("http://www.w3.org/2000/svg"===i.namespaceURI){try{n=i.getBBox?t({},i.getBBox()):{width:i.offsetWidth,height:i.offsetHeight}}catch(a){}(!n||n.width<0)&&(n={width:0,height:0}),e=n.width,i=n.height,r&&(n.width=ue(i*he(o))+ue(e*le(o)),n.height=ue(i*le(o))+ue(e*he(o)))}else n=this.htmlGetBBox(e);return n},show:function(){return this.attr({visibility:Ie})},hide:function(){return this.attr({visibility:Ae})},add:function(t){var e,i=this.renderer,r=t||i,o=r.element||i.box,a=o.childNodes,s=this.element,c=h(s,"zIndex");if(this.parentInverted=t&&t.inverted,void 0!==this.textStr&&i.buildText(this),c&&(r.handleZ=!0,c=n(c)),r.handleZ)for(r=0;r<a.length;r++)if(t=a[r],i=h(t,"zIndex"),t!==s&&(n(i)>c||!l(c)&&l(i))){o.insertBefore(s,t),e=!0;break}return e||o.appendChild(s),this.added=!0,nn(this,"add"),this},safeRemoveChild:function(t){var e=t.parentNode;e&&e.removeChild(t)},destroy:function(){var t,e,n=this,i=n.element||{},r=n.shadows,o=n.box;if(i.onclick=i.onmouseout=i.onmouseover=i.onmousemove=null,an(n),n.clipPath&&(n.clipPath=n.clipPath.destroy()),n.stops){for(e=0;e<n.stops.length;e++)n.stops[e]=n.stops[e].destroy();n.stops=null}n.safeRemoveChild(i),r&&Ge(r,function(t){n.safeRemoveChild(t)}),o&&o.destroy(),u(n.renderer.alignedObjects,n);for(t in n)delete n[t];return null},empty:function(){for(var t=this.element,e=t.childNodes,n=e.length;n--;)t.removeChild(e[n])},shadow:function(t,e){var n,i,r=[],o=this.element,a=this.parentInverted?"(-1,-1)":"(1,1)";if(t){for(n=1;3>=n;n++)i=o.cloneNode(0),h(i,{isShadow:"true",stroke:"rgb(0, 0, 0)","stroke-opacity":.05*n,"stroke-width":7-2*n,transform:"translate"+a,fill:Ne}),e?e.element.appendChild(i):o.parentNode.insertBefore(i,o),r.push(i);this.shadows=r}return this}};var bn=function(){this.init.apply(this,arguments)};bn.prototype={Element:M,init:function(t,e,i,r){var o,a=location;o=this.createElement("svg").attr({xmlns:"http://www.w3.org/2000/svg",version:"1.1"}),t.appendChild(o.element),this.isSVG=!0,this.box=o.element,this.boxWrapper=o,this.alignedObjects=[],this.url=ge?"":a.href.replace(/#.*?$/,"").replace(/([\('\)])/g,"\\$1"),this.defs=this.createElement("defs").add(),this.forExport=r,this.gradients={},this.setSize(e,i,!1);var s;ye&&t.getBoundingClientRect&&(this.subPixelFix=e=function(){p(t,{left:0,top:0}),s=t.getBoundingClientRect(),p(t,{left:-(s.left-n(s.left))+Oe,top:-(s.top-n(s.top))+Oe})},e(),tn(ne,"resize",e))},destroy:function(){var t=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),E(this.gradients||{}),this.gradients=null,t&&(this.defs=t.destroy()),en(ne,"resize",this.subPixelFix),this.alignedObjects=null},createElement:function(t){var e=new this.Element;return e.init(this,t),e},draw:function(){},buildText:function(t){for(var e,i=t.element,r=d(t.textStr,"").toString().replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(/<br.*?>/g),o=i.childNodes,a=/style="([^"]+)"/,s=/href="([^"]+)"/,c=h(i,"x"),u=t.styles,l=u&&n(u.width),f=u&&u.lineHeight,u=o.length,g=[];u--;)i.removeChild(o[u]);l&&!t.added&&this.box.appendChild(i),""===r[r.length-1]&&r.pop(),Ge(r,function(r,o){var u,d,m=0,r=r.replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||");u=r.split("|||"),Ge(u,function(r){if(""!==r||1===u.length){var v={},y=ee.createElementNS("http://www.w3.org/2000/svg","tspan");if(a.test(r)&&h(y,"style",r.match(a)[1].replace(/(;| |^)color([ :])/,"$1fill$2")),s.test(r)&&(h(y,"onclick",'location.href="'+r.match(s)[1]+'"'),p(y,{cursor:"pointer"})),r=(r.replace(/<(.|\n)*?>/g,"")||" ").replace(/&lt;/g,"<").replace(/&gt;/g,">"),y.appendChild(ee.createTextNode(r)),m?v.dx=3:v.x=c,!m){if(o){if(!be&&t.renderer.forExport&&p(y,{display:"block"}),d=ne.getComputedStyle&&n(ne.getComputedStyle(e,null).getPropertyValue("line-height")),!d||isNaN(d)){var b;(b=f)||(b=e.offsetHeight)||(g[o]=i.getBBox().height,b=re(g[o]-(g[o-1]||0))||18),d=b}h(y,"dy",d)}e=y}if(h(y,v),i.appendChild(y),m++,l)for(var r=r.replace(/-/g,"- ").split(" "),w=[];r.length||w.length;)b=t.getBBox().width,v=b>l,v&&1!==r.length?(y.removeChild(y.firstChild),w.unshift(r.pop())):(r=w,w=[],r.length&&(y=ee.createElementNS("http://www.w3.org/2000/svg","tspan"),h(y,{dy:f||16,x:c}),i.appendChild(y),b>l&&(l=b))),r.length&&y.appendChild(ee.createTextNode(r.join(" ").replace(/- /g,"-")))}})})},button:function(n,i,r,o,a,s,c){var u,l,h,f,d,p=this.label(n,i,r),g=0,n={x1:0,y1:0,x2:0,y2:1},a=Ze(e("stroke-width",1,"stroke","#999","fill",e("linearGradient",n,"stops",[[0,"#FFF"],[1,"#DDD"]]),"r",3,"padding",3,"style",e("color","black")),a);return h=a.style,delete a.style,s=Ze(a,e("stroke","#68A","fill",e("linearGradient",n,"stops",[[0,"#FFF"],[1,"#ACF"]])),s),f=s.style,delete s.style,c=Ze(a,e("stroke","#68A","fill",e("linearGradient",n,"stops",[[0,"#9BD"],[1,"#CDF"]])),c),d=c.style,delete c.style,tn(p.element,"mouseenter",function(){p.attr(s).css(f)}),tn(p.element,"mouseleave",function(){u=[a,s,c][g],l=[h,f,d][g],p.attr(u).css(l)}),p.setState=function(t){(g=t)?2===t&&p.attr(c).css(d):p.attr(a).css(h)},p.on("click",function(){o.call(p)}).attr(a).css(t({cursor:"default"},h))},crispLine:function(t,e){return t[1]===t[4]&&(t[1]=t[4]=re(t[1])+e%2/2),t[2]===t[5]&&(t[2]=t[5]=re(t[2])+e%2/2),t},path:function(t){return this.createElement("path").attr({d:t,fill:Ne})},circle:function(t,e,n){return t=r(t)?t:{x:t,y:e,r:n},this.createElement("circle").attr(t)},arc:function(t,e,n,i,o,a){return r(t)&&(e=t.y,n=t.r,i=t.innerR,o=t.start,a=t.end,t=t.x),this.symbol("arc",t||0,e||0,n||0,n||0,{innerR:i||0,start:o||0,end:a||0})},rect:function(t,e,n,i,o,a){return r(t)&&(e=t.y,n=t.width,i=t.height,o=t.r,a=t.strokeWidth,t=t.x),o=this.createElement("rect").attr({rx:o,ry:o,fill:Ne}),o.attr(o.crisp(a,t,e,se(n,0),se(i,0)))},setSize:function(t,e,n){var i=this.alignedObjects,r=i.length;for(this.width=t,this.height=e,this.boxWrapper[d(n,!0)?"animate":"attr"]({width:t,height:e});r--;)i[r].align()},g:function(t){var e=this.createElement("g");return l(t)?e.attr({"class":De+t}):e},image:function(e,n,i,r,o){var a={preserveAspectRatio:Ne};return arguments.length>1&&t(a,{x:n,y:i,width:r,height:o}),a=this.createElement("image").attr(a),a.element.setAttributeNS?a.element.setAttributeNS("http://www.w3.org/1999/xlink","href",e):a.element.setAttribute("hc-svg-href",e),a},symbol:function(e,n,i,r,o,a){var s,c,u,l=this.symbols[e],l=l&&l(re(n),re(i),r,o,a),h=/^url\((.*?)\)$/;return l?(s=this.path(l),t(s,{symbolName:e,x:n,y:i,width:r,height:o}),a&&t(s,a)):h.test(e)&&(u=function(t,e){t.attr({width:e[0],height:e[1]}),t.alignByTranslate||t.translate(-re(e[0]/2),-re(e[1]/2))},c=e.match(h)[1],e=Ce[c],s=this.image(c).attr({x:n,y:i}),e?u(s,e):(s.attr({width:0,height:0}),g("img",{onload:function(){u(s,Ce[c]=[this.width,this.height])},src:c}))),s},symbols:{circle:function(t,e,n,i){var r=.166*n;return[Me,t+n/2,e,"C",t+n+r,e,t+n+r,e+i,t+n/2,e+i,"C",t-r,e+i,t-r,e,t+n/2,e,"Z"]},square:function(t,e,n,i){return[Me,t,e,Pe,t+n,e,t+n,e+i,t,e+i,"Z"]},triangle:function(t,e,n,i){return[Me,t+n/2,e,Pe,t+n,e+i,t,e+i,"Z"]},"triangle-down":function(t,e,n,i){return[Me,t,e,Pe,t+n,e,t+n/2,e+i,"Z"]},diamond:function(t,e,n,i){return[Me,t+n/2,e,Pe,t+n,e+i/2,t+n/2,e+i,t,e+i/2,"Z"]},arc:function(t,e,n,i,r){var o=r.start,n=r.r||n||i,a=r.end-1e-6,i=r.innerR,s=le(o),c=he(o),u=le(a),a=he(a),r=r.end-o<fe?0:1;return[Me,t+n*s,e+n*c,"A",n,n,0,r,1,t+n*u,e+n*a,Pe,t+i*u,e+i*a,"A",i,i,0,r,0,t+i*s,e+i*c,"Z"]}},clipRect:function(t,e,n,i){var r=De+Se++,o=this.createElement("clipPath").attr({id:r}).add(this.defs),t=this.rect(t,e,n,i,0).add(o);return t.id=r,t.clipPath=o,t},color:function(e,n,i){var r,a=/^rgba/;if(e&&e.linearGradient){var s,c,u,l=this,f=e.linearGradient,n=!o(f),i=l.gradients,d=f.x1||f[0]||0,p=f.y1||f[1]||0,g=f.x2||f[2]||0,m=f.y2||f[3]||0,v=[n,d,p,g,m,e.stops.join(",")].join(",");return i[v]?f=h(i[v].element,"id"):(f=De+Se++,s=l.createElement("linearGradient").attr(t({id:f,x1:d,y1:p,x2:g,y2:m},n?null:{gradientUnits:"userSpaceOnUse"})).add(l.defs),s.stops=[],Ge(e.stops,function(t){a.test(t[1])?(r=yn(t[1]),c=r.get("rgb"),u=r.get("a")):(c=t[1],u=1),t=l.createElement("stop").attr({offset:t[0],"stop-color":c,"stop-opacity":u}).add(s),s.stops.push(t)}),i[v]=s),"url("+this.url+"#"+f+")"}return a.test(e)?(r=yn(e),h(n,i+"-opacity",r.get("a")),r.get("rgb")):(n.removeAttribute(i+"-opacity"),e)},text:function(t,e,n,i){var r=L.chart.style;return i&&!this.forExport?this.html(t,e,n):(e=re(d(e,0)),n=re(d(n,0)),t=this.createElement("text").attr({x:e,y:n,text:t}).css({fontFamily:r.fontFamily,fontSize:r.fontSize}),t.x=e,t.y=n,t)},html:function(e,n,i){var r=L.chart.style,o=this.createElement("span"),a=o.attrSetters,s=o.element,c=o.renderer;return a.text=function(t){return s.innerHTML=t,!1},a.x=a.y=a.align=function(t,e){return"align"===e&&(e="textAlign"),o[e]=t,o.htmlUpdateTransform(),!1},o.attr({text:e,x:re(n),y:re(i)}).css({position:_e,whiteSpace:"nowrap",fontFamily:r.fontFamily,fontSize:r.fontSize}),o.css=o.htmlCss,c.isSVG&&(o.add=function(e){var n,i,r=c.box.parentNode;return e?(n=e.div)||(n=e.div=g(Te,{className:h(e.element,"class")},{position:_e,left:e.attr("translateX")+Oe,top:e.attr("translateY")+Oe},r),i=n.style,t(e.attrSetters,{translateX:function(t){i.left=t+Oe},translateY:function(t){i.top=t+Oe},visibility:function(t,e){i[e]=t}})):n=r,n.appendChild(s),o.added=!0,o.alignOnAdd&&o.htmlUpdateTransform(),o}),o},fontMetrics:function(t){var t=n(t||11),t=24>t?t+4:re(1.2*t),e=re(.8*t);return{h:t,b:e}},label:function(e,n,i,r,o,a,s,c,u){function h(){var t,e=x.styles,e=e&&e.textAlign,n=T*(1-S);t=c?0:w,!l(m)||"center"!==e&&"right"!==e||(n+={center:.5,right:1}[e]*(m-g.width)),(n!==C.x||t!==C.y)&&C.attr({x:n,y:t}),C.x=n,C.y=t}function f(t,e){p?p.attr(t,e):E[t]=e}function d(){x.attr({text:e,x:n,y:i,anchorX:o,anchorY:a})}var p,g,m,v,y,b,w,k=this,x=k.g(u),C=k.text("",0,0,s).attr({zIndex:1}).add(x),S=0,T=3,_=0,E={},s=x.attrSetters;tn(x,"add",d),s.width=function(t){return m=t,!1},s.height=function(t){return v=t,!1},s.padding=function(t){return l(t)&&t!==T&&(T=t,h()),!1},s.align=function(t){return S={left:0,center:.5,right:1}[t],!1},s.text=function(t,e){C.attr(e,t);var n;return n=C.element.style,g=(void 0===m||void 0===v||x.styles.textAlign)&&C.getBBox(!0),x.width=(m||g.width||0)+2*T,x.height=(v||g.height||0)+2*T,w=T+k.fontMetrics(n&&n.fontSize).b,p||(n=c?-w:0,x.box=p=r?k.symbol(r,-S*T,n,x.width,x.height):k.rect(-S*T,n,x.width,x.height,0,E["stroke-width"]),p.add(x)),p.attr(Ze({width:x.width,height:x.height},E)),E=null,h(),!1},s["stroke-width"]=function(t,e){return _=t%2/2,f(e,t),!1},s.stroke=s.fill=s.r=function(t,e){return f(e,t),!1},s.anchorX=function(t,e){return o=t,f(e,t+_-y),!1},s.anchorY=function(t,e){return a=t,f(e,t-b),!1},s.x=function(t){return x.x=t,t-=S*((m||g.width)+T),y=re(t),x.attr("translateX",y),!1},s.y=function(t){return b=x.y=re(t),x.attr("translateY",t),!1};var A=x.css;return t(x,{css:function(t){if(t){var e={},t=Ze({},t);Ge("fontSize,fontWeight,fontFamily,color,lineHeight,width".split(","),function(n){t[n]!==j&&(e[n]=t[n],delete t[n])}),C.css(e)}return A.call(x,t)},getBBox:function(){return p.getBBox()},shadow:function(t){return p.shadow(t),x},destroy:function(){en(x,"add",d),en(x.element,"mouseenter"),en(x.element,"mouseleave"),C&&(C=C.destroy()),M.prototype.destroy.call(x)}})}},F=bn;var wn;be||ke||(wn={init:function(t,e){var n=["<",e,' filled="f" stroked="f"'],i=["position: ",_e,";"];("shape"===e||e===Te)&&i.push("left:0;top:0;width:10px;height:10px;"),me&&i.push("visibility: ",e===Te?Ae:Ie),n.push(' style="',i.join(""),'"/>'),e&&(n=e===Te||"span"===e||"img"===e?n.join(""):t.prepVML(n),this.element=g(n)),this.renderer=t,this.attrSetters={}},add:function(t){var e=this.renderer,n=this.element,i=e.box,i=t?t.element||t:i;return t&&t.inverted&&e.invertChild(n,i),me&&i.gVis===Ae&&p(n,{visibility:Ae}),i.appendChild(n),this.added=!0,this.alignOnAdd&&!this.deferUpdateTransform&&this.updateTransform(),nn(this,"add"),this},toggleChildren:function(t,e){for(var n=t.childNodes,i=n.length;i--;)p(n[i],{visibility:e}),"DIV"===n[i].nodeName&&this.toggleChildren(n[i],e)},updateTransform:M.prototype.htmlUpdateTransform,attr:function(t,e){var n,r,o,s,c,u=this.element||{},f=u.style,d=u.nodeName,p=this.renderer,m=this.symbolName,v=this.shadows,y=this.attrSetters,b=this;if(i(t)&&l(e)&&(n=t,t={},t[n]=e),i(t))n=t,b="strokeWidth"===n||"stroke-width"===n?this.strokeweight:this[n];else for(n in t)if(r=t[n],c=!1,o=y[n]&&y[n](r,n),o!==!1&&null!==r){if(o!==j&&(r=o),m&&/^(x|y|r|start|end|width|height|innerR|anchorX|anchorY)/.test(n))s||(this.symbolAttr(t),s=!0),c=!0;else if("d"===n){for(r=r||[],this.d=r.join(" "),o=r.length,c=[];o--;)c[o]=a(r[o])?re(10*r[o])-5:"Z"===r[o]?"x":r[o];if(r=c.join(" ")||"x",u.path=r,v)for(o=v.length;o--;)v[o].path=r;c=!0}else"zIndex"===n||"visibility"===n?(me&&"visibility"===n&&"DIV"===d&&(u.gVis=r,this.toggleChildren(u,r),r===Ie&&(r=null)),r&&(f[n]=r),c=!0):"width"===n||"height"===n?(r=se(0,r),this[n]=r,this.updateClipping?(this[n]=r,this.updateClipping()):f[n]=r,c=!0):"x"===n||"y"===n?(this[n]=r,f[{x:"left",y:"top"}[n]]=r):"class"===n?u.className=r:"stroke"===n?(r=p.color(r,u,n),n="strokecolor"):"stroke-width"===n||"strokeWidth"===n?(u.stroked=r?!0:!1,n="strokeweight",this[n]=r,a(r)&&(r+=Oe)):"dashstyle"===n?((u.getElementsByTagName("stroke")[0]||g(p.prepVML(["<stroke/>"]),null,null,u))[n]=r||"solid",this.dashstyle=r,c=!0):"fill"===n?"SPAN"===d?f.color=r:(u.filled=r!==Ne?!0:!1,r=p.color(r,u,n),n="fillcolor"):"translateX"===n||"translateY"===n||"rotation"===n?(this[n]=r,this.updateTransform(),c=!0):"text"===n&&(this.bBox=null,u.innerHTML=r,c=!0);if(v&&"visibility"===n)for(o=v.length;o--;)v[o].style[n]=r;c||(me?u[n]=r:h(u,n,r))}return b},clip:function(t){var e=this,n=t.members,i=e.element;return n.push(e),e.destroyClip=function(){u(n,e)},"highcharts-tracker"===i.parentNode.className&&!me&&p(i,{visibility:Ae}),e.css(t.getCSS(e.inverted))},css:M.prototype.htmlCss,safeRemoveChild:function(t){t.parentNode&&A(t)},destroy:function(){return this.destroyClip&&this.destroyClip(),M.prototype.destroy.apply(this)},empty:function(){for(var t,e=this.element.childNodes,n=e.length;n--;)t=e[n],t.parentNode.removeChild(t)},on:function(t,e){return this.element["on"+t]=function(){var t=ne.event;t.target=t.srcElement,e(t)},this},shadow:function(t,e){var i,r,o,a=[],s=this.element,c=this.renderer,u=s.style,l=s.path;if(l&&"string"!=typeof l.value&&(l="x"),t){for(i=1;3>=i;i++)o=['<shape isShadow="true" strokeweight="',7-2*i,'" filled="false" path="',l,'" coordsize="100,100" style="',s.style.cssText,'" />'],r=g(c.prepVML(o),null,{left:n(u.left)+1,top:n(u.top)+1}),o=['<stroke color="black" opacity="',.05*i,'"/>'],g(c.prepVML(o),null,null,r),e?e.element.appendChild(r):s.parentNode.insertBefore(r,s),a.push(r);this.shadows=a}return this}},wn=m(M,wn),Ye={Element:wn,isIE8:pe.indexOf("MSIE 8.0")>-1,init:function(t,e,n){var i,r;this.alignedObjects=[],i=this.createElement(Te),r=i.element,r.style.position=Ee,t.appendChild(i.element),this.box=r,this.boxWrapper=i,this.setSize(e,n,!1),ee.namespaces.hcv||(ee.namespaces.add("hcv","urn:schemas-microsoft-com:vml"),ee.createStyleSheet().cssText="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } ")},clipRect:function(e,n,i,r){var o=this.createElement();return t(o,{members:[],left:e,top:n,width:i,height:r,getCSS:function(e){var n=this.top,i=this.left,r=i+this.width,o=n+this.height,n={clip:"rect("+re(e?i:n)+"px,"+re(e?o:r)+"px,"+re(e?r:o)+"px,"+re(e?n:i)+"px)"};return!e&&me&&t(n,{width:r+Oe,height:o+Oe}),n},updateClipping:function(){Ge(o.members,function(t){t.css(o.getCSS(t.inverted))})}})},color:function(t,e,n){var i,r=/^rgba/;if(!t||!t.linearGradient)return r.test(t)&&"IMG"!==e.tagName?(i=yn(t),t=["<",n,' opacity="',i.get("a"),'"/>'],g(this.prepVML(t),null,null,e),i.get("rgb")):(e=e.getElementsByTagName(n),e.length&&(e[0].opacity=1),t);var o,a,s,c,u,l,h=t.linearGradient,f=h.x1||h[0]||0,d=h.y1||h[1]||0,p=h.x2||h[2]||0,h=h.y2||h[3]||0;return Ge(t.stops,function(t,e){r.test(t[1])?(i=yn(t[1]),o=i.get("rgb"),a=i.get("a")):(o=t[1],a=1),e?(u=o,l=a):(s=o,c=a)}),"fill"!==n?o:(t=90-180*ie.atan((h-d)/(p-f))/fe,t=['<fill colors="0% ',s,",100% ",u,'" angle="',t,'" opacity="',l,'" o:opacity2="',c,'" type="gradient" focus="100%" method="sigma" />'],g(this.prepVML(t),null,null,e),void 0)},prepVML:function(t){var e=this.isIE8,t=t.join("");return e?(t=t.replace("/>",' xmlns="urn:schemas-microsoft-com:vml" />'),t=-1===t.indexOf('style="')?t.replace("/>",' style="display:inline-block;behavior:url(#default#VML);" />'):t.replace('style="','style="display:inline-block;behavior:url(#default#VML);')):t=t.replace("<","<hcv:"),t},text:bn.prototype.html,path:function(t){return this.createElement("shape").attr({coordsize:"100 100",d:t})},circle:function(t,e,n){return this.symbol("circle").attr({x:t-n,y:e-n,width:2*n,height:2*n})},g:function(t){var e;return t&&(e={className:De+t,"class":De+t}),this.createElement(Te).attr(e)},image:function(t,e,n,i,r){var o=this.createElement("img").attr({src:t});return arguments.length>1&&o.css({left:e,top:n,width:i,height:r}),o},rect:function(t,e,n,i,o,a){r(t)&&(e=t.y,n=t.width,i=t.height,a=t.strokeWidth,t=t.x);var s=this.symbol("rect");return s.r=o,s.attr(s.crisp(a,t,e,se(n,0),se(i,0)))},invertChild:function(t,e){var i=e.style;p(t,{flip:"x",left:n(i.width)-10,top:n(i.height)-10,rotation:-90})},symbols:{arc:function(t,e,n,i,r){var o=r.start,a=r.end,n=r.r||n||i,i=le(o),s=he(o),c=le(a),u=he(a),r=r.innerR,l=.08/n,h=r&&.25/r||0;return a-o===0?["x"]:(l>2*fe-a+o?c=-l:h>a-o&&(c=le(o+h)),["wa",t-n,e-n,t+n,e+n,t+n*i,e+n*s,t+n*c,e+n*u,"at",t-r,e-r,t+r,e+r,t+r*c,e+r*u,t+r*i,e+r*s,"x","e"])},circle:function(t,e,n,i){return["wa",t,e,t+n,e+i,t+n,e+i/2,t+n,e+i/2,"e"]},rect:function(t,e,n,i,r){if(!l(r))return[];var o=t+n,a=e+i,n=ce(r.r||0,n,i);return[Me,t+n,e,Pe,o-n,e,"wa",o-2*n,e,o,e+2*n,o-n,e,o,e+n,Pe,o,a-n,"wa",o-2*n,a-2*n,o,a,o,a-n,o-n,a,Pe,t+n,a,"wa",t,a-2*n,t+2*n,a,t+n,a,t,a-n,Pe,t,e+n,"wa",t,e,t+2*n,e+2*n,t,e+n,t+n,e,"x","e"]}}},wn=function(){this.init.apply(this,arguments)},wn.prototype=Ze(bn.prototype,Ye),F=wn);var kn,xn;ke&&(kn=function(){},xn=function(){function t(){var t,n=e.length;for(t=0;n>t;t++)e[t]();e=[]}var e=[];return{push:function(n,i){0===e.length&&Xe(i,t),e.push(n)}}}()),F=wn||kn||bn,P.prototype.callbacks=[];var Cn=function(){};Cn.prototype={init:function(t,e,n){var i=t.chart.counters;return this.series=t,this.applyOptions(e,n),this.pointAttr={},t.options.colorByPoint&&(e=t.chart.options.colors,this.options||(this.options={}),this.color=this.options.color=this.color||e[i.color++],i.wrapColor(e.length)),t.chart.pointCount++,this},applyOptions:function(e,n){var i=this.series,r=typeof e;this.config=e,"number"===r||null===e?this.y=e:"number"==typeof e[0]?(this.x=e[0],this.y=e[1]):"object"===r&&"number"!=typeof e.length?(t(this,e),this.options=e,e.dataLabels&&(i._hasPointLabels=!0)):"string"==typeof e[0]&&(this.name=e[0],this.y=e[1]),this.x===j&&(this.x=n===j?i.autoIncrement():n)},destroy:function(){var t,e=this.series.chart,n=e.hoverPoints;e.pointCount--,n&&(this.setState(),u(n,this),!n.length)&&(e.hoverPoints=null),this===e.hoverPoint&&this.onMouseOut(),(this.graphic||this.dataLabel)&&(en(this),this.destroyElements()),this.legendItem&&e.legend.destroyItem(this);for(t in this)this[t]=null},destroyElements:function(){for(var t,e="graphic,tracker,dataLabel,group,connector,shadowGroup".split(","),n=6;n--;)t=e[n],this[t]&&(this[t]=this[t].destroy())},getLabelConfig:function(){return{x:this.category,y:this.y,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}},select:function(t,e){var n=this,i=n.series.chart,t=d(t,!n.selected);n.firePointEvent(t?"select":"unselect",{accumulate:e},function(){n.selected=t,n.setState(t&&"select"),e||Ge(i.getSelectedPoints(),function(t){t.selected&&t!==n&&(t.selected=!1,t.setState(Fe),t.firePointEvent("unselect"))})})},onMouseOver:function(){var t=this.series,e=t.chart,n=e.tooltip,i=e.hoverPoint;i&&i!==this&&i.onMouseOut(),this.firePointEvent("mouseOver"),n&&(!n.shared||t.noSharedTooltip)&&n.refresh(this),this.setState(Re),e.hoverPoint=this},onMouseOut:function(){this.firePointEvent("mouseOut"),this.setState(),this.series.chart.hoverPoint=null},tooltipFormatter:function(t){var e,n,r,o,a=this.series,s=a.tooltipOptions,c=String(this.y).split("."),c=c[1]?c[1].length:0,u=t.match(/\{(series|point)\.[a-zA-Z]+\}/g),l=/[{\.}]/;for(o in u)n=u[o],i(n)&&n!==t&&(r=(" "+n).split(l),e={point:this,series:a}[r[1]],r=r[2],e=e!==this||"y"!==r&&"open"!==r&&"high"!==r&&"low"!==r&&"close"!==r?e[r]:(s.valuePrefix||s.yPrefix||"")+v(this[r],d(s.valueDecimals,s.yDecimals,c))+(s.valueSuffix||s.ySuffix||""),t=t.replace(n,e));return t},update:function(t,e,n){var i,o=this,a=o.series,s=o.graphic,c=a.data,u=c.length,l=a.chart,e=d(e,!0);o.firePointEvent("update",{options:t},function(){for(o.applyOptions(t),r(t)&&(a.getAttribs(),s&&s.attr(o.pointAttr[a.state])),i=0;u>i;i++)if(c[i]===o){a.xData[i]=o.x,a.yData[i]=o.y,a.options.data[i]=t;break}a.isDirty=!0,a.isDirtyData=!0,e&&l.redraw(n)})},remove:function(t,e){var n,i=this,r=i.series,o=r.chart,a=r.data,s=a.length;O(e,o),t=d(t,!0),i.firePointEvent("remove",null,function(){for(n=0;s>n;n++)if(a[n]===i){a.splice(n,1),r.options.data.splice(n,1),r.xData.splice(n,1),r.yData.splice(n,1);break}i.destroy(),r.isDirty=!0,r.isDirtyData=!0,t&&o.redraw()})},firePointEvent:function(t,e,n){var i=this,r=this.series.options;(r.point.events[t]||i.options&&i.options.events&&i.options.events[t])&&this.importEvents(),"click"===t&&r.allowPointSelect&&(n=function(t){i.select(null,t.ctrlKey||t.metaKey||t.shiftKey)}),nn(this,t,e,n)},importEvents:function(){if(!this.hasImportedEvents){var t,e=Ze(this.series.options.point,this.options).events;this.events=e;for(t in e)tn(this,t,e[t]);this.hasImportedEvents=!0}},setState:function(t){var e=this.plotX,n=this.plotY,i=this.series,r=i.options.states,o=vn[i.type].marker&&i.options.marker,a=o&&!o.enabled,s=o&&o.states[t],c=s&&s.enabled===!1,u=i.stateMarkerGraphic,l=i.chart,h=this.pointAttr,t=t||Fe;t===this.state||this.selected&&"select"!==t||r[t]&&r[t].enabled===!1||t&&(c||a&&!s.enabled)||(this.graphic?(r=o&&this.graphic.symbolName&&h[t].r,this.graphic.attr(Ze(h[t],r?{x:e-r,y:n-r,width:2*r,height:2*r}:{}))):(t&&(u||(r=o.radius,i.stateMarkerGraphic=u=l.renderer.symbol(i.symbol,-r,-r,2*r,2*r).attr(h[t]).add(i.group)),u.translate(e,n)),u&&u[t?"show":"hide"]()),this.state=t)}};var Sn=function(){};Sn.prototype={isCartesian:!0,type:"line",pointClass:Cn,sorted:!0,pointAttrToOptions:{stroke:"lineColor","stroke-width":"lineWidth",fill:"fillColor",r:"radius"},init:function(e,n){var i,r;r=e.series.length,this.chart=e,this.options=n=this.setOptions(n),this.bindAxes(),t(this,{index:r,name:n.name||"Series "+(r+1),state:Fe,pointAttr:{},visible:n.visible!==!1,selected:n.selected===!0}),ke&&(n.animation=!1),r=n.events;for(i in r)tn(this,i,r[i]);(r&&r.click||n.point&&n.point.events&&n.point.events.click||n.allowPointSelect)&&(e.runTrackerClick=!0),this.getColor(),this.getSymbol(),this.setData(n.data,!1)},bindAxes:function(){var t,e=this,n=e.options,i=e.chart;e.isCartesian&&Ge(["xAxis","yAxis"],function(r){Ge(i[r],function(i){t=i.options,(n[r]===t.index||n[r]===j&&0===t.index)&&(i.series.push(e),e[r]=i,i.isDirty=!0)})})},autoIncrement:function(){var t=this.options,e=this.xIncrement,e=d(e,t.pointStart,0);return this.pointInterval=d(this.pointInterval,t.pointInterval,1),this.xIncrement=e+this.pointInterval,e},getSegments:function(){var t,e=-1,n=[],i=this.points,r=i.length;if(r)if(this.options.connectNulls){for(t=r;t--;)null===i[t].y&&i.splice(t,1);i.length&&(n=[i])}else Ge(i,function(t,o){null===t.y?(o>e+1&&n.push(i.slice(e+1,o)),e=o):o===r-1&&n.push(i.slice(e+1,o+1))});this.segments=n},setOptions:function(t){var e=this.chart.options,n=e.plotOptions,i=t.data;return t.data=null,n=Ze(n[this.type],n.series,t),n.data=t.data=i,this.tooltipOptions=Ze(e.tooltip,n.tooltip),n},getColor:function(){var t=this.chart.options.colors,e=this.chart.counters;this.color=this.options.color||t[e.color++]||"#0000ff",e.wrapColor(t.length)
},getSymbol:function(){var t=this.options.marker,e=this.chart,n=e.options.symbols,e=e.counters;this.symbol=t.symbol||n[e.symbol++],/^url/.test(this.symbol)&&(t.radius=0),e.wrapSymbol(n.length)},addPoint:function(t,e,n,i){var r=this.data,o=this.graph,a=this.area,s=this.chart,c=this.xData,u=this.yData,l=o&&o.shift||0,h=this.options.data;O(i,s),o&&n&&(o.shift=l+1),a&&(n&&(a.shift=l+1),a.isArea=!0),e=d(e,!0),i={series:this},this.pointClass.prototype.applyOptions.apply(i,[t]),c.push(i.x),u.push(4===this.valueCount?[i.open,i.high,i.low,i.close]:i.y),h.push(t),n&&(r[0]&&r[0].remove?r[0].remove(!1):(r.shift(),c.shift(),u.shift(),h.shift())),this.getAttribs(),this.isDirtyData=this.isDirty=!0,e&&s.redraw()},setData:function(t,e){var n=this.points,i=this.options,r=this.initialColor,s=this.chart,c=null,u=this.xAxis;this.xIncrement=null,this.pointRange=u&&u.categories&&1||i.pointRange,l(r)&&(s.counters.color=r);var h=[],f=[],p=t?t.length:[],g=4===this.valueCount;if(p>(i.turboThreshold||1e3)){for(r=0;null===c&&p>r;)c=t[r],r++;if(a(c)){for(c=d(i.pointStart,0),i=d(i.pointInterval,1),r=0;p>r;r++)h[r]=c,f[r]=t[r],c+=i;this.xIncrement=c}else if(o(c))if(g)for(r=0;p>r;r++)i=t[r],h[r]=i[0],f[r]=i.slice(1,5);else for(r=0;p>r;r++)i=t[r],h[r]=i[0],f[r]=i[1]}else for(r=0;p>r;r++)i={series:this},this.pointClass.prototype.applyOptions.apply(i,[t[r]]),h[r]=i.x,f[r]=g?[i.open,i.high,i.low,i.close]:i.y;for(this.data=[],this.options.data=t,this.xData=h,this.yData=f,r=n&&n.length||0;r--;)n[r]&&n[r].destroy&&n[r].destroy();u&&u.setMinRange&&u.setMinRange(),this.isDirty=this.isDirtyData=s.isDirtyBox=!0,d(e,!0)&&s.redraw(!1)},remove:function(t,e){var n=this,i=n.chart,t=d(t,!0);n.isRemoving||(n.isRemoving=!0,nn(n,"remove",null,function(){n.destroy(),i.isDirtyLegend=i.isDirtyBox=!0,t&&i.redraw(e)})),n.isRemoving=!1},processData:function(t){var e,n,i=this.xData,r=this.yData,o=i.length,a=0,s=o,c=this.xAxis,u=this.options,l=u.cropThreshold,h=this.isCartesian;if(h&&!this.isDirty&&!c.isDirty&&!this.yAxis.isDirty&&!t)return!1;if(h&&this.sorted&&(!l||o>l||this.forceCrop))if(t=c.getExtremes(),c=t.min,l=t.max,i[o-1]<c||i[0]>l)i=[],r=[];else if(i[0]<c||i[o-1]>l){for(t=0;o>t;t++)if(i[t]>=c){a=se(0,t-1);break}for(;o>t;t++)if(i[t]>l){s=t+1;break}i=i.slice(a,s),r=r.slice(a,s),e=!0}for(t=i.length-1;t>0;t--)o=i[t]-i[t-1],o>0&&(n===j||n>o)&&(n=o);this.cropped=e,this.cropStart=a,this.processedXData=i,this.processedYData=r,null===u.pointRange&&(this.pointRange=n||1),this.closestPointRange=n},generatePoints:function(){var t,e,n,i,r=this.options.data,o=this.data,a=this.processedXData,s=this.processedYData,c=this.pointClass,u=a.length,l=this.cropStart||0,h=this.hasGroupedData,d=[];for(o||h||(o=[],o.length=r.length,o=this.data=o),i=0;u>i;i++)e=l+i,h?d[i]=(new c).init(this,[a[i]].concat(f(s[i]))):(o[e]?n=o[e]:o[e]=n=(new c).init(this,r[e],a[i]),d[i]=n);if(o&&(u!==(t=o.length)||h))for(i=0;t>i;i++)i===l&&!h&&(i+=u),o[i]&&o[i].destroyElements();this.data=o,this.points=d},translate:function(){this.processedXData||this.processData(),this.generatePoints();for(var t,e=this.chart,n=this.options,i=n.stacking,r=this.xAxis,o=r.categories,a=this.yAxis,s=this.points,c=s.length,u=!!this.modifyValue,h=a.series,f=h.length;f--;)if(h[f].visible){f===this.index&&(t=!0);break}for(f=0;c>f;f++){var h=s[f],d=h.x,p=h.y,g=h.low,m=a.stacks[(p<n.threshold?"-":"")+this.stackKey];h.plotX=re(10*r.translate(d,0,0,0,1))/10,i&&this.visible&&m&&m[d]&&(g=m[d],d=g.total,g.cum=g=g.cum-p,p=g+p,t&&(g=n.threshold),"percent"===i&&(g=d?100*g/d:0,p=d?100*p/d:0),h.percentage=d?100*h.y/d:0,h.stackTotal=d,h.stackY=p),h.yBottom=l(g)?a.translate(g,0,1,0,1):null,u&&(p=this.modifyValue(p,h)),h.plotY="number"==typeof p?re(10*a.translate(p,0,1,0,1))/10:j,h.clientX=e.inverted?e.plotHeight-h.plotX:h.plotX,h.category=o&&o[h.x]!==j?o[h.x]:h.x}this.getSegments()},setTooltipPoints:function(t){var e,n,i=[],r=this.chart.plotSizeX;e=this.xAxis;var o,a,s=[];if(this.options.enableMouseTracking!==!1){for(t&&(this.tooltipPoints=null),Ge(this.segments||this.points,function(t){i=i.concat(t)}),e&&e.reversed&&(i=i.reverse()),t=i.length,a=0;t>a;a++)for(o=i[a],e=i[a-1]?i[a-1]._high+1:0,n=o._high=i[a+1]?oe((o.plotX+(i[a+1]?i[a+1].plotX:r))/2):r;n>=e;)s[e++]=o;this.tooltipPoints=s}},tooltipHeaderFormatter:function(t){var e=this.tooltipOptions,n=e.xDateFormat||"%A, %b %e, %Y",i=this.xAxis;return e.headerFormat.replace("{point.key}",i&&"datetime"===i.options.type?H(n,t):t).replace("{series.name}",this.name).replace("{series.color}",this.color)},onMouseOver:function(){var t=this.chart,e=t.hoverSeries;(xe||!t.mouseIsDown)&&(e&&e!==this&&e.onMouseOut(),this.options.events.mouseOver&&nn(this,"mouseOver"),this.setState(Re),t.hoverSeries=this)},onMouseOut:function(){var t=this.options,e=this.chart,n=e.tooltip,i=e.hoverPoint;i&&i.onMouseOut(),this&&t.events.mouseOut&&nn(this,"mouseOut"),n&&!t.stickyTracking&&!n.shared&&n.hide(),this.setState(),e.hoverSeries=null},animate:function(t){var e=this.chart,n=this.clipRect,i=this.options.animation;i&&!r(i)&&(i={}),t?n.isAnimating||(n.attr("width",0),n.isAnimating=!0):(n.animate({width:e.plotSizeX},i),this.animate=null)},drawPoints:function(){var e,n,i,r,o,a,s,c,u,l=this.points,h=this.chart;if(this.options.marker.enabled)for(r=l.length;r--;)o=l[r],n=o.plotX,i=o.plotY,u=o.graphic,i===j||isNaN(i)||(e=o.pointAttr[o.selected?"select":Fe],a=e.r,s=d(o.marker&&o.marker.symbol,this.symbol),c=0===s.indexOf("url"),u?u.animate(t({x:n-a,y:i-a},u.symbolName?{width:2*a,height:2*a}:{})):(a>0||c)&&(o.graphic=h.renderer.symbol(s,n-a,i-a,2*a,2*a).attr(e).add(this.group)))},convertAttribs:function(t,e,n,i){var r,o,a=this.pointAttrToOptions,s={},t=t||{},e=e||{},n=n||{},i=i||{};for(r in a)o=a[r],s[r]=d(t[o],e[r],n[r],i[r]);return s},getAttribs:function(){var t,e,n,i=this,r=vn[i.type].marker?i.options.marker:i.options,o=r.states,a=o[Re],s=i.color,c={stroke:s,fill:s},u=i.points,h=[],f=i.pointAttrToOptions;for(i.options.marker?(a.radius=a.radius||r.radius+2,a.lineWidth=a.lineWidth||r.lineWidth+1):a.color=a.color||yn(a.color||s).brighten(a.brightness).get(),h[Fe]=i.convertAttribs(r,c),Ge([Re,"select"],function(t){h[t]=i.convertAttribs(o[t],h[Fe])}),i.pointAttr=h,s=u.length;s--;){if(c=u[s],(r=c.options&&c.options.marker||c.options)&&r.enabled===!1&&(r.radius=0),t=!1,c.options)for(n in f)l(r[f[n]])&&(t=!0);t?(e=[],o=r.states||{},t=o[Re]=o[Re]||{},i.options.marker||(t.color=yn(t.color||c.options.color).brighten(t.brightness||a.brightness).get()),e[Fe]=i.convertAttribs(r,h[Fe]),e[Re]=i.convertAttribs(o[Re],h[Re],e[Fe]),e.select=i.convertAttribs(o.select,h.select,e[Fe])):e=h,c.pointAttr=e}},destroy:function(){var t,e,n,i,r,o=this,a=o.chart,s=o.clipRect,c=/AppleWebKit\/533/.test(pe),l=o.data||[];for(nn(o,"destroy"),en(o),Ge(["xAxis","yAxis"],function(t){(r=o[t])&&(u(r.series,o),r.isDirty=!0)}),o.legendItem&&o.chart.legend.destroyItem(o),e=l.length;e--;)(n=l[e])&&n.destroy&&n.destroy();o.points=null,s&&s!==a.clipRect&&(o.clipRect=s.destroy()),Ge(["area","graph","dataLabelsGroup","group","tracker"],function(e){o[e]&&(t=c&&"group"===e?"hide":"destroy",o[e][t]())}),a.hoverSeries===o&&(a.hoverSeries=null),u(a.series,o);for(i in o)delete o[i]},drawDataLabels:function(){var t=this,e=t.options,n=e.dataLabels;if(n.enabled||t._hasPointLabels){var i,r,o,a,s,c,u,h=t.points,f=t.dataLabelsGroup,p=t.chart,g=t.xAxis,g=g?g.left:p.plotLeft,m=t.yAxis,m=m?m.top:p.plotTop,v=p.renderer,y=p.inverted,b=t.type,w=e.stacking,k="column"===b||"bar"===b,x=null===n.verticalAlign,C=null===n.y,S=v.fontMetrics(n.style.fontSize),T=S.h,_=S.b;k&&(S={top:_,middle:_-T/2,bottom:-T+_},w?(x&&(n=Ze(n,{verticalAlign:"middle"})),C&&(n=Ze(n,{y:S[n.verticalAlign]}))):x?n=Ze(n,{verticalAlign:"top"}):C&&(n=Ze(n,{y:S[n.verticalAlign]}))),f?f.translate(g,m):f=t.dataLabelsGroup=v.g("data-labels").attr({visibility:t.visible?Ie:Ae,zIndex:6}).translate(g,m).add(),a=n,Ge(h,function(h){if(c=h.dataLabel,n=a,(o=h.options)&&o.dataLabels&&(n=Ze(n,o.dataLabels)),u=n.enabled){var g=h.barX&&h.barX+h.barW/2||d(h.plotX,-999),m=d(h.plotY,-999),x=null===n.y?h.y>=e.threshold?-T+_:_:n.y;i=(y?p.plotWidth-m:g)+n.x,r=re((y?p.plotHeight-g:m)+x)}!c||!t.isCartesian||p.isInsidePlot(i,r)&&u?u&&(g=n.align,s=n.formatter.call(h.getLabelConfig(),n),"column"===b&&(i+={left:-1,right:1}[g]*h.barW/2||0),!w&&y&&h.y<0&&(g="right",i-=10),n.style.color=d(n.color,n.style.color,t.color,"black"),c?c.attr({text:s}).animate({x:i,y:r}):l(s)&&(c=h.dataLabel=v[n.rotation?"text":"label"](s,i,r,null,null,null,n.useHTML,!0).attr({align:g,fill:n.backgroundColor,stroke:n.borderColor,"stroke-width":n.borderWidth,r:n.borderRadius||0,rotation:n.rotation,padding:n.padding,zIndex:1}).css(n.style).add(f).shadow(n.shadow)),k&&e.stacking&&c&&(g=h.barX,m=h.barY,x=h.barW,h=h.barH,c.align(n,null,{x:y?p.plotWidth-m-h:g,y:y?p.plotHeight-g-x:m,width:y?h:x,height:y?x:h}))):h.dataLabel=c.destroy()})}},drawGraph:function(){var t,e,n=this,i=n.options,r=n.graph,o=[],a=n.area,s=n.group,c=i.lineColor||n.color,u=i.lineWidth,l=i.dashStyle,h=n.chart.renderer,f=n.yAxis.getThreshold(i.threshold),p=/^area/.test(n.type),g=[],m=[];Ge(n.segments,function(t){if(e=[],Ge(t,function(r,o){n.getPointSpline?e.push.apply(e,n.getPointSpline(t,r,o)):(e.push(o?Pe:Me),o&&i.step&&e.push(r.plotX,t[o-1].plotY),e.push(r.plotX,r.plotY))}),t.length>1?o=o.concat(e):g.push(t[0]),p){var r,a=[],s=e.length;for(r=0;s>r;r++)a.push(e[r]);if(3===s&&a.push(Pe,e[1],e[2]),i.stacking&&"areaspline"!==n.type)for(r=t.length-1;r>=0;r--)r<t.length-1&&i.step&&a.push(t[r+1].plotX,t[r].yBottom),a.push(t[r].plotX,t[r].yBottom);else a.push(Pe,t[t.length-1].plotX,f,Pe,t[0].plotX,f);m=m.concat(a)}}),n.graphPath=o,n.singlePoints=g,p&&(t=d(i.fillColor,yn(n.color).setOpacity(i.fillOpacity||.75).get()),a?a.animate({d:m}):n.area=n.chart.renderer.path(m).attr({fill:t}).add(s)),r?(an(r),r.animate({d:o})):u&&(r={stroke:c,"stroke-width":u},l&&(r.dashstyle=l),n.graph=h.path(o).attr(r).add(s).shadow(i.shadow))},invertGroups:function(){function t(){var t={width:e.yAxis.len,height:e.xAxis.len};n.attr(t).invert(),i&&i.attr(t).invert()}var e=this,n=e.group,i=e.trackerGroup,r=e.chart;tn(r,"resize",t),tn(e,"destroy",function(){en(r,"resize",t)}),t(),e.invertGroups=t},render:function(){var t,e=this,n=e.chart,i=e.options,r=i.clip!==!1,o=i.animation,a=o&&e.animate,o=a?o&&o.duration||500:0,s=e.clipRect,c=n.renderer;s||(s=e.clipRect=!n.hasRendered&&n.clipRect?n.clipRect:c.clipRect(0,0,n.plotSizeX,n.plotSizeY+1),n.clipRect)||(n.clipRect=s),e.group||(t=e.group=c.g("series"),t.attr({visibility:e.visible?Ie:Ae,zIndex:i.zIndex}).translate(e.xAxis.left,e.yAxis.top).add(n.seriesGroup)),e.drawDataLabels(),a&&e.animate(!0),e.getAttribs(),e.drawGraph&&e.drawGraph(),e.drawPoints(),e.options.enableMouseTracking!==!1&&e.drawTracker(),n.inverted&&e.invertGroups(),r&&!e.hasRendered&&(t.clip(s),e.trackerGroup&&e.trackerGroup.clip(n.clipRect)),a&&e.animate(),setTimeout(function(){s.isAnimating=!1,(t=e.group)&&s!==n.clipRect&&s.renderer&&(r&&t.clip(e.clipRect=n.clipRect),s.destroy())},o),e.isDirty=e.isDirtyData=!1,e.hasRendered=!0},redraw:function(){var t=this.chart,e=this.isDirtyData,n=this.group;n&&(t.inverted&&n.attr({width:t.plotWidth,height:t.plotHeight}),n.animate({translateX:this.xAxis.left,translateY:this.yAxis.top})),this.translate(),this.setTooltipPoints(!0),this.render(),e&&nn(this,"updatedData")},setState:function(t){var e=this.options,n=this.graph,i=e.states,e=e.lineWidth,t=t||Fe;this.state!==t&&(this.state=t,i[t]&&i[t].enabled===!1||(t&&(e=i[t].lineWidth||e+1),n&&!n.dashstyle&&n.attr({"stroke-width":e},t?0:500)))},setVisible:function(t,e){var n,i=this.chart,r=this.legendItem,o=this.group,a=this.tracker,s=this.dataLabelsGroup,c=this.points,u=i.options.chart.ignoreHiddenSeries;if(n=this.visible,n=(this.visible=t=t===j?!n:t)?"show":"hide",o&&o[n](),a)a[n]();else if(c)for(o=c.length;o--;)a=c[o],a.tracker&&a.tracker[n]();s&&s[n](),r&&i.legend.colorizeItem(this,t),this.isDirty=!0,this.options.stacking&&Ge(i.series,function(t){t.options.stacking&&t.visible&&(t.isDirty=!0)}),u&&(i.isDirtyBox=!0),e!==!1&&i.redraw(),nn(this,n)},show:function(){this.setVisible(!0)},hide:function(){this.setVisible(!1)},select:function(t){this.selected=t=t===j?!this.selected:t,this.checkbox&&(this.checkbox.checked=t),nn(this,t?"select":"unselect")},drawTrackerGroup:function(){var t=this.trackerGroup,e=this.chart;return this.isCartesian&&(t||(this.trackerGroup=t=e.renderer.g().attr({zIndex:this.options.zIndex||1}).add(e.trackerGroup)),t.translate(this.xAxis.left,this.yAxis.top)),t},drawTracker:function(){var t,e=this,n=e.options,i=[].concat(e.graphPath),r=i.length,o=e.chart,a=o.renderer,s=o.options.tooltip.snap,c=e.tracker,u=n.cursor,u=u&&{cursor:u},l=e.singlePoints,h=e.drawTrackerGroup();if(r)for(t=r+1;t--;)i[t]===Me&&i.splice(t+1,0,i[t+1]-s,i[t+2],Pe),(t&&i[t]===Me||t===r)&&i.splice(t,0,Pe,i[t-2]+s,i[t-1]);for(t=0;t<l.length;t++)r=l[t],i.push(Me,r.plotX-s,r.plotY,Pe,r.plotX+s,r.plotY);c?c.attr({d:i}):e.tracker=a.path(i).attr({isTracker:!0,stroke:je,fill:Ne,"stroke-linejoin":"bevel","stroke-width":n.lineWidth+2*s,visibility:e.visible?Ie:Ae}).on(xe?"touchstart":"mouseover",function(){o.hoverSeries!==e&&e.onMouseOver()}).on("mouseout",function(){n.stickyTracking||e.onMouseOut()}).css(u).add(h)}},Ye=m(Sn),sn.line=Ye,Ye=m(Sn,{type:"area"}),sn.area=Ye,Ye=m(Sn,{type:"spline",getPointSpline:function(t,e,n){var i,r,o,a,s=e.plotX,c=e.plotY,u=t[n-1],l=t[n+1];if(n&&n<t.length-1){t=u.plotY,o=l.plotX;var h,l=l.plotY;i=(1.5*s+u.plotX)/2.5,r=(1.5*c+t)/2.5,o=(1.5*s+o)/2.5,a=(1.5*c+l)/2.5,h=(a-r)*(o-s)/(o-i)+c-a,r+=h,a+=h,r>t&&r>c?(r=se(t,c),a=2*c-r):t>r&&c>r&&(r=ce(t,c),a=2*c-r),a>l&&a>c?(a=se(l,c),r=2*c-a):l>a&&c>a&&(a=ce(l,c),r=2*c-a),e.rightContX=o,e.rightContY=a}return n?(e=["C",u.rightContX||u.plotX,u.rightContY||u.plotY,i||s,r||c,s,c],u.rightContX=u.rightContY=null):e=[Me,s,c],e}}),sn.spline=Ye,Ye=m(Ye,{type:"areaspline"}),sn.areaspline=Ye;var Tn=m(Sn,{type:"column",tooltipOutsidePlot:!0,pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color",r:"borderRadius"},init:function(){Sn.prototype.init.apply(this,arguments);var t=this,e=t.chart;e.hasRendered&&Ge(e.series,function(e){e.type===t.type&&(e.isDirty=!0)})},translate:function(){var e,n,i=this,r=i.chart,o=i.options,a=o.stacking,s=o.borderWidth,c=0,u=i.xAxis,h=u.reversed,f={};Sn.prototype.translate.apply(i),Ge(r.series,function(t){t.type===i.type&&t.visible&&i.options.group===t.options.group&&(t.options.stacking?(e=t.stackKey,f[e]===j&&(f[e]=c++),n=f[e]):n=c++,t.columnIndex=n)});var r=i.points,u=ue(u.translationSlope)*(u.ordinalSlope||u.closestPointRange||1),p=u*o.groupPadding,g=(u-2*p)/c,m=o.pointWidth,v=l(m)?(g-m)/2:g*o.pointPadding,y=ae(se(d(m,g-2*v),1+2*s)),b=v+(p+((h?c-i.columnIndex:i.columnIndex)||0)*g-u/2)*(h?-1:1),w=i.yAxis.getThreshold(o.threshold),k=d(o.minPointLength,5);Ge(r,function(e){var n=e.plotY,r=d(e.yBottom,w),c=e.plotX+b,u=ae(ce(n,r)),l=ae(se(n,r)-u),h=i.yAxis.stacks[(e.y<0?"-":"")+i.stackKey];a&&i.visible&&h&&h[e.x]&&h[e.x].setOffset(b,y),ue(l)<k&&k&&(l=k,u=ue(u-w)>k?r-k:w-(w>=n?k:0)),t(e,{barX:c,barY:u,barW:y,barH:l}),e.shapeType="rect",n={x:c,y:u,width:y,height:l,r:o.borderRadius,strokeWidth:s},s%2&&(n.y-=1,n.height+=1),e.shapeArgs=n,e.trackerArgs=ue(l)<3&&Ze(e.shapeArgs,{height:6,y:u-3})})},getSymbol:function(){},drawGraph:function(){},drawPoints:function(){var t,e,n=this,i=n.options,r=n.chart.renderer;Ge(n.points,function(o){var a=o.plotY;a===j||isNaN(a)||null===o.y||(t=o.graphic,e=o.shapeArgs,t?(an(t),t.animate(r.Element.prototype.crisp.apply({},[e.strokeWidth,e.x,e.y,e.width,e.height]))):o.graphic=t=r[o.shapeType](e).attr(o.pointAttr[o.selected?"select":Fe]).add(n.group).shadow(i.shadow))})},drawTracker:function(){var t,e,n,i,r,o=this,a=o.chart,s=a.renderer,c=+new Date,u=o.options,l=u.cursor,f=l&&{cursor:l},d=o.drawTrackerGroup();Ge(o.points,function(l){e=l.tracker,t=l.trackerArgs||l.shapeArgs,i=l.plotY,r=!o.isCartesian||i!==j&&!isNaN(i),delete t.strokeWidth,null!==l.y&&r&&(e?e.attr(t):l.tracker=s[l.shapeType](t).attr({isTracker:c,fill:je,visibility:o.visible?Ie:Ae}).on(xe?"touchstart":"mouseover",function(t){n=t.relatedTarget||t.fromElement,a.hoverSeries!==o&&h(n,"isTracker")!==c&&o.onMouseOver(),l.onMouseOver()}).on("mouseout",function(t){u.stickyTracking||(n=t.relatedTarget||t.toElement,h(n,"isTracker")===c)||o.onMouseOut()}).css(f).add(l.group||d))})},animate:function(t){var e=this,n=e.points,i=e.options;t||(Ge(n,function(t){var n=t.graphic,t=t.shapeArgs,r=e.yAxis,o=i.threshold;n&&(n.attr({height:0,y:l(o)?r.getThreshold(o):r.translate(r.getExtremes().min,0,1,0,1)}),n.animate({height:t.height,y:t.y},i.animation))}),e.animate=null)},remove:function(){var t=this,e=t.chart;e.hasRendered&&Ge(e.series,function(e){e.type===t.type&&(e.isDirty=!0)}),Sn.prototype.remove.apply(t,arguments)}});sn.column=Tn,Ye=m(Tn,{type:"bar",init:function(){this.inverted=!0,Tn.prototype.init.apply(this,arguments)}}),sn.bar=Ye,Ye=m(Sn,{type:"scatter",sorted:!1,translate:function(){var t=this;Sn.prototype.translate.apply(t),Ge(t.points,function(e){e.shapeType="circle",e.shapeArgs={x:e.plotX,y:e.plotY,r:t.chart.options.tooltip.snap}})},drawTracker:function(){for(var t,e=this,n=e.options.cursor,n=n&&{cursor:n},i=e.points,r=i.length;r--;)(t=i[r].graphic)&&(t.element._i=r);e._hasTracking?e._hasTracking=!0:e.group.attr({isTracker:!0}).on(xe?"touchstart":"mouseover",function(t){e.onMouseOver(),t.target._i!==j&&i[t.target._i].onMouseOver()}).on("mouseout",function(){e.options.stickyTracking||e.onMouseOut()}).css(n)}}),sn.scatter=Ye,Ye=m(Cn,{init:function(){Cn.prototype.init.apply(this,arguments);var e,n=this;return t(n,{visible:n.visible!==!1,name:d(n.name,"Slice")}),e=function(){n.slice()},tn(n,"select",e),tn(n,"unselect",e),n},setVisible:function(t){var e,n=this.series.chart,i=this.tracker,r=this.dataLabel,o=this.connector,a=this.shadowGroup;e=(this.visible=t=t===j?!this.visible:t)?"show":"hide",this.group[e](),i&&i[e](),r&&r[e](),o&&o[e](),a&&a[e](),this.legendItem&&n.legend.colorizeItem(this,t)},slice:function(t,e,n){var i=this.series.chart,r=this.slicedTranslation;O(n,i),d(e,!0),t=this.sliced=l(t)?t:!this.sliced,t={translateX:t?r[0]:i.plotLeft,translateY:t?r[1]:i.plotTop},this.group.animate(t),this.shadowGroup&&this.shadowGroup.animate(t)}}),Ye=m(Sn,{type:"pie",isCartesian:!1,pointClass:Ye,pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color"},getColor:function(){this.initialColor=this.chart.counters.color},animate:function(){var t=this;Ge(t.points,function(e){var n=e.graphic,e=e.shapeArgs,i=-fe/2;n&&(n.attr({r:0,start:i,end:i}),n.animate({r:e.r,start:e.start,end:e.end},t.options.animation))}),t.animate=null},setData:function(t,e){Sn.prototype.setData.call(this,t,!1),this.processData(),this.generatePoints(),d(e,!0)&&this.chart.redraw()},translate:function(){this.generatePoints();var t,e,i,r,o,a,s,c=0,u=-.25,l=this.options,h=l.slicedOffset,f=h+l.borderWidth,d=l.center.concat([l.size,l.innerSize||0]),p=this.chart,g=p.plotWidth,m=p.plotHeight,v=this.points,y=2*fe,b=ce(g,m),w=l.dataLabels.distance,d=Je(d,function(t,e){return(o=/%$/.test(t))?[g,m,b,b][e]*n(t)/100:t});this.getX=function(t,e){return i=ie.asin((t-d[1])/(d[2]/2+w)),d[0]+(e?-1:1)*le(i)*(d[2]/2+w)},this.center=d,Ge(v,function(t){c+=t.y}),Ge(v,function(n){r=c?n.y/c:0,t=re(u*y*1e3)/1e3,u+=r,e=re(u*y*1e3)/1e3,n.shapeType="arc",n.shapeArgs={x:d[0],y:d[1],r:d[2]/2,innerR:d[3]/2,start:t,end:e},i=(e+t)/2,n.slicedTranslation=Je([le(i)*h+p.plotLeft,he(i)*h+p.plotTop],re),a=le(i)*d[2]/2,s=he(i)*d[2]/2,n.tooltipPos=[d[0]+.7*a,d[1]+.7*s],n.labelPos=[d[0]+a+le(i)*w,d[1]+s+he(i)*w,d[0]+a+le(i)*f,d[1]+s+he(i)*f,d[0]+a,d[1]+s,0>w?"center":y/4>i?"left":"right",i],n.percentage=100*r,n.total=c}),this.setTooltipPoints()},render:function(){this.getAttribs(),this.drawPoints(),this.options.enableMouseTracking!==!1&&this.drawTracker(),this.drawDataLabels(),this.options.animation&&this.animate&&this.animate(),this.isDirty=!1},drawPoints:function(){var e,n,i,r,o,a=this.chart,s=a.renderer,c=this.options.shadow;Ge(this.points,function(u){n=u.graphic,o=u.shapeArgs,i=u.group,r=u.shadowGroup,c&&!r&&(r=u.shadowGroup=s.g("shadow").attr({zIndex:4}).add()),i||(i=u.group=s.g("point").attr({zIndex:5}).add()),e=u.sliced?u.slicedTranslation:[a.plotLeft,a.plotTop],i.translate(e[0],e[1]),r&&r.translate(e[0],e[1]),n?n.animate(o):u.graphic=s.arc(o).attr(t(u.pointAttr[Fe],{"stroke-linejoin":"round"})).add(u.group).shadow(c,r),u.visible===!1&&u.setVisible(!1)})},drawDataLabels:function(){var t,e,n,i,r,o,a,s,c=this.data,u=this.chart,l=this.options.dataLabels,h=d(l.connectorPadding,10),f=d(l.connectorWidth,1),p=d(l.softConnector,!0),g=l.distance,m=this.center,v=m[2]/2,y=m[1],b=g>0,w=[[],[]],k=2;if(l.enabled)for(Sn.prototype.drawDataLabels.apply(this),Ge(c,function(t){t.dataLabel&&w[t.labelPos[7]<fe/2?0:1].push(t)}),w[1].reverse(),a=function(t,e){return e.y-t.y},c=w[0][0]&&w[0][0].dataLabel&&w[0][0].dataLabel.getBBox().height;k--;){var x,C=[],S=[],T=w[k],_=T.length;if(g>0){for(s=y-v-g;y+v+g>=s;s+=c)C.push(s);if(o=C.length,_>o){for(n=[].concat(T),n.sort(a),s=_;s--;)n[s].rank=s;for(s=_;s--;)T[s].rank>=o&&T.splice(s,1);_=T.length}for(s=0;_>s;s++){for(t=T[s],n=t.labelPos,t=9999,r=0;o>r;r++)e=ue(C[r]-n[1]),t>e&&(t=e,x=r);if(s>x&&null!==C[s])x=s;else for(_-s+x>o&&null!==C[s]&&(x=o-_+s);null===C[x];)x++;S.push({i:x,y:C[x]}),C[x]=null}S.sort(a)}for(s=0;_>s;s++)t=T[s],n=t.labelPos,e=t.dataLabel,o=t.visible===!1?Ae:Ie,i=n[1],g>0?(r=S.pop(),x=r.i,r=r.y,(i>r&&null!==C[x+1]||r>i&&null!==C[x-1])&&(r=i)):r=i,i=l.justify?m[0]+(k?-1:1)*(v+g):this.getX(0===x||x===C.length-1?i:r,k),e.attr({visibility:o,align:n[6]})[e.moved?"animate":"attr"]({x:i+l.x+({left:h,right:-h}[n[6]]||0),y:r+l.y}),e.moved=!0,b&&f&&(e=t.connector,n=p?[Me,i+("left"===n[6]?5:-5),r,"C",i,r,2*n[2]-n[4],2*n[3]-n[5],n[2],n[3],Pe,n[4],n[5]]:[Me,i+("left"===n[6]?5:-5),r,Pe,n[2],n[3],Pe,n[4],n[5]],e?(e.animate({d:n}),e.attr("visibility",o)):t.connector=e=this.chart.renderer.path(n).attr({"stroke-width":f,stroke:l.connectorColor||t.color||"#606060",visibility:o,zIndex:3}).translate(u.plotLeft,u.plotTop).add())}},drawTracker:Tn.prototype.drawTracker,getSymbol:function(){}}),sn.pie=Ye,t(Highcharts,{Chart:P,dateFormat:H,pathAnim:U,getOptions:function(){return L},hasBidiBug:we,numberFormat:v,Point:Cn,Color:yn,Renderer:F,SVGRenderer:bn,VMLRenderer:wn,CanVGRenderer:kn,seriesTypes:sn,setOptions:function(t){return hn=Ze(hn,t.xAxis),fn=Ze(fn,t.yAxis),t.xAxis=t.yAxis=j,L=Ze(L,t),N(),L},Series:Sn,addEvent:tn,removeEvent:en,createElement:g,discardElement:A,css:p,each:Ge,extend:t,map:Je,merge:Ze,pick:d,splat:f,extendClass:m,placeBox:C,product:"Highcharts",version:"2.2.2"})}()}),function(t){define("jquery.flot",["jquery"],function(){return function(){!function(t){t.color={},t.color.make=function(e,n,i,r){var o={};return o.r=e||0,o.g=n||0,o.b=i||0,o.a=null!=r?r:1,o.add=function(t,e){for(var n=0;n<t.length;++n)o[t.charAt(n)]+=e;return o.normalize()},o.scale=function(t,e){for(var n=0;n<t.length;++n)o[t.charAt(n)]*=e;return o.normalize()},o.toString=function(){return o.a>=1?"rgb("+[o.r,o.g,o.b].join(",")+")":"rgba("+[o.r,o.g,o.b,o.a].join(",")+")"},o.normalize=function(){function t(t,e,n){return t>e?t:e>n?n:e}return o.r=t(0,parseInt(o.r),255),o.g=t(0,parseInt(o.g),255),o.b=t(0,parseInt(o.b),255),o.a=t(0,o.a,1),o},o.clone=function(){return t.color.make(o.r,o.b,o.g,o.a)},o.normalize()},t.color.extract=function(e,n){var i;do{if(i=e.css(n).toLowerCase(),""!=i&&"transparent"!=i)break;e=e.parent()}while(e.length&&!t.nodeName(e.get(0),"body"));return"rgba(0, 0, 0, 0)"==i&&(i="transparent"),t.color.parse(i)},t.color.parse=function(n){var i,r=t.color.make;if(i=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(n))return r(parseInt(i[1],10),parseInt(i[2],10),parseInt(i[3],10));if(i=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(n))return r(parseInt(i[1],10),parseInt(i[2],10),parseInt(i[3],10),parseFloat(i[4]));if(i=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(n))return r(2.55*parseFloat(i[1]),2.55*parseFloat(i[2]),2.55*parseFloat(i[3]));if(i=/rgba\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(n))return r(2.55*parseFloat(i[1]),2.55*parseFloat(i[2]),2.55*parseFloat(i[3]),parseFloat(i[4]));if(i=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(n))return r(parseInt(i[1],16),parseInt(i[2],16),parseInt(i[3],16));if(i=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(n))return r(parseInt(i[1]+i[1],16),parseInt(i[2]+i[2],16),parseInt(i[3]+i[3],16));var o=t.trim(n).toLowerCase();return"transparent"==o?r(255,255,255,0):(i=e[o]||[0,0,0],r(i[0],i[1],i[2]))};var e={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]}}(jQuery),function(t){function e(e,n){var i=n.children("."+e)[0];if(null==i&&(i=document.createElement("canvas"),i.className=e,t(i).css({direction:"ltr",position:"absolute",left:0,top:0}).appendTo(n),!i.getContext)){if(!window.G_vmlCanvasManager)throw new Error("Canvas is not available. If you're using IE with a fall-back such as Excanvas, then there's either a mistake in your conditional include, or the page has no DOCTYPE and is rendering in Quirks Mode.");i=window.G_vmlCanvasManager.initElement(i)}this.element=i;var r=this.context=i.getContext("2d"),o=window.devicePixelRatio||1,a=r.webkitBackingStorePixelRatio||r.mozBackingStorePixelRatio||r.msBackingStorePixelRatio||r.oBackingStorePixelRatio||r.backingStorePixelRatio||1;this.pixelRatio=o/a,this.resize(n.width(),n.height()),this.textContainer=null,this.text={},this._textCache={}}function n(n,r,o,a){function s(t,e){e=[me].concat(e);for(var n=0;n<t.length;++n)t[n].apply(this,e)}function c(){for(var n={Canvas:e},i=0;i<a.length;++i){var r=a[i];r.init(me,n),r.options&&t.extend(!0,re,r.options)}}function u(e){t.extend(!0,re,e),e&&e.colors&&(re.colors=e.colors),null==re.xaxis.color&&(re.xaxis.color=t.color.parse(re.grid.color).scale("a",.22).toString()),null==re.yaxis.color&&(re.yaxis.color=t.color.parse(re.grid.color).scale("a",.22).toString()),null==re.xaxis.tickColor&&(re.xaxis.tickColor=re.grid.tickColor||re.xaxis.color),null==re.yaxis.tickColor&&(re.yaxis.tickColor=re.grid.tickColor||re.yaxis.color),null==re.grid.borderColor&&(re.grid.borderColor=re.grid.color),null==re.grid.tickColor&&(re.grid.tickColor=t.color.parse(re.grid.color).scale("a",.22).toString());var i,r,o,a=n.css("font-size"),c=a?+a.replace("px",""):13,u={style:n.css("font-style"),size:Math.round(.8*c),variant:n.css("font-variant"),weight:n.css("font-weight"),family:n.css("font-family")};for(o=re.xaxes.length||1,i=0;o>i;++i)r=re.xaxes[i],r&&!r.tickColor&&(r.tickColor=r.color),r=t.extend(!0,{},re.xaxis,r),re.xaxes[i]=r,r.font&&(r.font=t.extend({},u,r.font),r.font.color||(r.font.color=r.color),r.font.lineHeight||(r.font.lineHeight=Math.round(1.15*r.font.size)));for(o=re.yaxes.length||1,i=0;o>i;++i)r=re.yaxes[i],r&&!r.tickColor&&(r.tickColor=r.color),r=t.extend(!0,{},re.yaxis,r),re.yaxes[i]=r,r.font&&(r.font=t.extend({},u,r.font),r.font.color||(r.font.color=r.color),r.font.lineHeight||(r.font.lineHeight=Math.round(1.15*r.font.size)));for(re.xaxis.noTicks&&null==re.xaxis.ticks&&(re.xaxis.ticks=re.xaxis.noTicks),re.yaxis.noTicks&&null==re.yaxis.ticks&&(re.yaxis.ticks=re.yaxis.noTicks),re.x2axis&&(re.xaxes[1]=t.extend(!0,{},re.xaxis,re.x2axis),re.xaxes[1].position="top",null==re.x2axis.min&&(re.xaxes[1].min=null),null==re.x2axis.max&&(re.xaxes[1].max=null)),re.y2axis&&(re.yaxes[1]=t.extend(!0,{},re.yaxis,re.y2axis),re.yaxes[1].position="right",null==re.y2axis.min&&(re.yaxes[1].min=null),null==re.y2axis.max&&(re.yaxes[1].max=null)),re.grid.coloredAreas&&(re.grid.markings=re.grid.coloredAreas),re.grid.coloredAreasColor&&(re.grid.markingsColor=re.grid.coloredAreasColor),re.lines&&t.extend(!0,re.series.lines,re.lines),re.points&&t.extend(!0,re.series.points,re.points),re.bars&&t.extend(!0,re.series.bars,re.bars),null!=re.shadowSize&&(re.series.shadowSize=re.shadowSize),null!=re.highlightColor&&(re.series.highlightColor=re.highlightColor),i=0;i<re.xaxes.length;++i)m(le,i+1).options=re.xaxes[i];for(i=0;i<re.yaxes.length;++i)m(he,i+1).options=re.yaxes[i];for(var l in ge)re.hooks[l]&&re.hooks[l].length&&(ge[l]=ge[l].concat(re.hooks[l]));s(ge.processOptions,[re])}function l(t){ie=h(t),v(),y()}function h(e){for(var n=[],i=0;i<e.length;++i){var r=t.extend(!0,{},re.series);null!=e[i].data?(r.data=e[i].data,delete e[i].data,t.extend(!0,r,e[i]),e[i].data=r.data):r.data=e[i],n.push(r)}return n}function f(t,e){var n=t[e+"axis"];return"object"==typeof n&&(n=n.n),"number"!=typeof n&&(n=1),n}function d(){return t.grep(le.concat(he),function(t){return t})}function p(t){var e,n,i={};for(e=0;e<le.length;++e)n=le[e],n&&n.used&&(i["x"+n.n]=n.c2p(t.left));for(e=0;e<he.length;++e)n=he[e],n&&n.used&&(i["y"+n.n]=n.c2p(t.top));return void 0!==i.x1&&(i.x=i.x1),void 0!==i.y1&&(i.y=i.y1),i}function g(t){var e,n,i,r={};for(e=0;e<le.length;++e)if(n=le[e],n&&n.used&&(i="x"+n.n,null==t[i]&&1==n.n&&(i="x"),null!=t[i])){r.left=n.p2c(t[i]);break}for(e=0;e<he.length;++e)if(n=he[e],n&&n.used&&(i="y"+n.n,null==t[i]&&1==n.n&&(i="y"),null!=t[i])){r.top=n.p2c(t[i]);break}return r}function m(e,n){return e[n-1]||(e[n-1]={n:n,direction:e==le?"x":"y",options:t.extend(!0,{},e==le?re.xaxis:re.yaxis)}),e[n-1]}function v(){var e,n=ie.length,i=-1;for(e=0;e<ie.length;++e){var r=ie[e].color;null!=r&&(n--,"number"==typeof r&&r>i&&(i=r))}i>=n&&(n=i+1);var o,a=[],s=re.colors,c=s.length,u=0;for(e=0;n>e;e++)o=t.color.parse(s[e%c]||"#666"),e%c==0&&e&&(u=u>=0?.5>u?-u-.2:0:-u),a[e]=o.scale("rgb",1+u);var l,h=0;for(e=0;e<ie.length;++e){if(l=ie[e],null==l.color?(l.color=a[h].toString(),++h):"number"==typeof l.color&&(l.color=a[l.color].toString()),null==l.lines.show){var d,p=!0;for(d in l)if(l[d]&&l[d].show){p=!1;break}p&&(l.lines.show=!0)}null==l.lines.zero&&(l.lines.zero=!!l.lines.fill),l.xaxis=m(le,f(l,"x")),l.yaxis=m(he,f(l,"y"))}}function y(){function e(t,e,n){e<t.datamin&&e!=-y&&(t.datamin=e),n>t.datamax&&n!=y&&(t.datamax=n)}var n,i,r,o,a,c,u,l,h,f,p,g,m=Number.POSITIVE_INFINITY,v=Number.NEGATIVE_INFINITY,y=Number.MAX_VALUE;for(t.each(d(),function(t,e){e.datamin=m,e.datamax=v,e.used=!1}),n=0;n<ie.length;++n)a=ie[n],a.datapoints={points:[]},s(ge.processRawData,[a,a.data,a.datapoints]);for(n=0;n<ie.length;++n){if(a=ie[n],p=a.data,g=a.datapoints.format,!g){if(g=[],g.push({x:!0,number:!0,required:!0}),g.push({y:!0,number:!0,required:!0}),a.bars.show||a.lines.show&&a.lines.fill){var b=!!(a.bars.show&&a.bars.zero||a.lines.show&&a.lines.zero);g.push({y:!0,number:!0,required:!1,defaultValue:0,autoscale:b}),a.bars.horizontal&&(delete g[g.length-1].y,g[g.length-1].x=!0)}a.datapoints.format=g}if(null==a.datapoints.pointsize){a.datapoints.pointsize=g.length,u=a.datapoints.pointsize,c=a.datapoints.points;var w=a.lines.show&&a.lines.steps;for(a.xaxis.used=a.yaxis.used=!0,i=r=0;i<p.length;++i,r+=u){f=p[i];var k=null==f;if(!k)for(o=0;u>o;++o)l=f[o],h=g[o],h&&(h.number&&null!=l&&(l=+l,isNaN(l)?l=null:1/0==l?l=y:l==-1/0&&(l=-y)),null==l&&(h.required&&(k=!0),null!=h.defaultValue&&(l=h.defaultValue))),c[r+o]=l;if(k)for(o=0;u>o;++o)l=c[r+o],null!=l&&(h=g[o],h.autoscale!==!1&&(h.x&&e(a.xaxis,l,l),h.y&&e(a.yaxis,l,l))),c[r+o]=null;
else if(w&&r>0&&null!=c[r-u]&&c[r-u]!=c[r]&&c[r-u+1]!=c[r+1]){for(o=0;u>o;++o)c[r+u+o]=c[r+o];c[r+1]=c[r-u+1],r+=u}}}}for(n=0;n<ie.length;++n)a=ie[n],s(ge.processDatapoints,[a,a.datapoints]);for(n=0;n<ie.length;++n){a=ie[n],c=a.datapoints.points,u=a.datapoints.pointsize,g=a.datapoints.format;var x=m,C=m,S=v,T=v;for(i=0;i<c.length;i+=u)if(null!=c[i])for(o=0;u>o;++o)l=c[i+o],h=g[o],h&&h.autoscale!==!1&&l!=y&&l!=-y&&(h.x&&(x>l&&(x=l),l>S&&(S=l)),h.y&&(C>l&&(C=l),l>T&&(T=l)));if(a.bars.show){var _;switch(a.bars.align){case"left":_=0;break;case"right":_=-a.bars.barWidth;break;default:_=-a.bars.barWidth/2}a.bars.horizontal?(C+=_,T+=_+a.bars.barWidth):(x+=_,S+=_+a.bars.barWidth)}e(a.xaxis,x,S),e(a.yaxis,C,T)}t.each(d(),function(t,e){e.datamin==m&&(e.datamin=null),e.datamax==v&&(e.datamax=null)})}function b(){n.css("padding",0).children().filter(function(){return!t(this).hasClass("flot-overlay")&&!t(this).hasClass("flot-base")}).remove(),"static"==n.css("position")&&n.css("position","relative"),oe=new e("flot-base",n),ae=new e("flot-overlay",n),ce=oe.context,ue=ae.context,se=t(ae.element).unbind();var i=n.data("plot");i&&(i.shutdown(),ae.clear()),n.data("plot",me)}function w(){re.grid.hoverable&&(se.mousemove(V),se.bind("mouseleave",Y)),re.grid.clickable&&se.click(z),s(ge.bindEvents,[se])}function k(){ye&&clearTimeout(ye),se.unbind("mousemove",V),se.unbind("mouseleave",Y),se.unbind("click",z),s(ge.shutdown,[se])}function x(t){function e(t){return t}var n,i,r=t.options.transform||e,o=t.options.inverseTransform;"x"==t.direction?(n=t.scale=de/Math.abs(r(t.max)-r(t.min)),i=Math.min(r(t.max),r(t.min))):(n=t.scale=pe/Math.abs(r(t.max)-r(t.min)),n=-n,i=Math.max(r(t.max),r(t.min))),t.p2c=r==e?function(t){return(t-i)*n}:function(t){return(r(t)-i)*n},t.c2p=o?function(t){return o(i+t/n)}:function(t){return i+t/n}}function C(t){for(var e=t.options,n=t.ticks||[],i=e.labelWidth||0,r=e.labelHeight||0,o=i||("x"==t.direction?Math.floor(oe.width/(n.length||1)):null),a=t.direction+"Axis "+t.direction+t.n+"Axis",s="flot-"+t.direction+"-axis flot-"+t.direction+t.n+"-axis "+a,c=e.font||"flot-tick-label tickLabel",u=0;u<n.length;++u){var l=n[u];if(l.label){var h=oe.getTextInfo(s,l.label,c,null,o);i=Math.max(i,h.width),r=Math.max(r,h.height)}}t.labelWidth=e.labelWidth||i,t.labelHeight=e.labelHeight||r}function S(e){var n=e.labelWidth,i=e.labelHeight,r=e.options.position,o="x"===e.direction,a=e.options.tickLength,s=re.grid.axisMargin,c=re.grid.labelMargin,u=!0,l=!0,h=!0,f=!1;t.each(o?le:he,function(t,n){n&&(n.show||n.reserveSpace)&&(n===e?f=!0:n.options.position===r&&(f?l=!1:u=!1),f||(h=!1))}),l&&(s=0),null==a&&(a=h?"full":5),isNaN(+a)||(c+=+a),o?(i+=c,"bottom"==r?(fe.bottom+=i+s,e.box={top:oe.height-fe.bottom,height:i}):(e.box={top:fe.top+s,height:i},fe.top+=i+s)):(n+=c,"left"==r?(e.box={left:fe.left+s,width:n},fe.left+=n+s):(fe.right+=n+s,e.box={left:oe.width-fe.right,width:n})),e.position=r,e.tickLength=a,e.box.padding=c,e.innermost=u}function T(t){"x"==t.direction?(t.box.left=fe.left-t.labelWidth/2,t.box.width=oe.width-fe.left-fe.right+t.labelWidth):(t.box.top=fe.top-t.labelHeight/2,t.box.height=oe.height-fe.bottom-fe.top+t.labelHeight)}function _(){var e,n=re.grid.minBorderMargin;if(null==n)for(n=0,e=0;e<ie.length;++e)n=Math.max(n,2*(ie[e].points.radius+ie[e].points.lineWidth/2));var i={left:n,right:n,top:n,bottom:n};t.each(d(),function(t,e){e.reserveSpace&&e.ticks&&e.ticks.length&&("x"===e.direction?(i.left=Math.max(i.left,e.labelWidth/2),i.right=Math.max(i.right,e.labelWidth/2)):(i.bottom=Math.max(i.bottom,e.labelHeight/2),i.top=Math.max(i.top,e.labelHeight/2)))}),fe.left=Math.ceil(Math.max(i.left,fe.left)),fe.right=Math.ceil(Math.max(i.right,fe.right)),fe.top=Math.ceil(Math.max(i.top,fe.top)),fe.bottom=Math.ceil(Math.max(i.bottom,fe.bottom))}function E(){var e,n=d(),i=re.grid.show;for(var r in fe){var o=re.grid.margin||0;fe[r]="number"==typeof o?o:o[r]||0}s(ge.processOffset,[fe]);for(var r in fe)fe[r]+="object"==typeof re.grid.borderWidth?i?re.grid.borderWidth[r]:0:i?re.grid.borderWidth:0;if(t.each(n,function(t,e){var n=e.options;e.show=null==n.show?e.used:n.show,e.reserveSpace=null==n.reserveSpace?e.show:n.reserveSpace,A(e)}),i){var a=t.grep(n,function(t){return t.show||t.reserveSpace});for(t.each(a,function(t,e){D(e),I(e),O(e,e.ticks),C(e)}),e=a.length-1;e>=0;--e)S(a[e]);_(),t.each(a,function(t,e){T(e)})}de=oe.width-fe.left-fe.right,pe=oe.height-fe.bottom-fe.top,t.each(n,function(t,e){x(e)}),i&&F(),q()}function A(t){var e=t.options,n=+(null!=e.min?e.min:t.datamin),i=+(null!=e.max?e.max:t.datamax),r=i-n;if(0==r){var o=0==i?1:.01;null==e.min&&(n-=o),(null==e.max||null!=e.min)&&(i+=o)}else{var a=e.autoscaleMargin;null!=a&&(null==e.min&&(n-=r*a,0>n&&null!=t.datamin&&t.datamin>=0&&(n=0)),null==e.max&&(i+=r*a,i>0&&null!=t.datamax&&t.datamax<=0&&(i=0)))}t.min=n,t.max=i}function D(e){var n,r=e.options;n="number"==typeof r.ticks&&r.ticks>0?r.ticks:.3*Math.sqrt("x"==e.direction?oe.width:oe.height);var o=(e.max-e.min)/n,a=-Math.floor(Math.log(o)/Math.LN10),s=r.tickDecimals;null!=s&&a>s&&(a=s);var c,u=Math.pow(10,-a),l=o/u;if(1.5>l?c=1:3>l?(c=2,l>2.25&&(null==s||s>=a+1)&&(c=2.5,++a)):c=7.5>l?5:10,c*=u,null!=r.minTickSize&&c<r.minTickSize&&(c=r.minTickSize),e.delta=o,e.tickDecimals=Math.max(0,null!=s?s:a),e.tickSize=r.tickSize||c,"time"==r.mode&&!e.tickGenerator)throw new Error("Time mode requires the flot.time plugin.");if(e.tickGenerator||(e.tickGenerator=function(t){var e,n=[],r=i(t.min,t.tickSize),o=0,a=Number.NaN;do e=a,a=r+o*t.tickSize,n.push(a),++o;while(a<t.max&&a!=e);return n},e.tickFormatter=function(t,e){var n=e.tickDecimals?Math.pow(10,e.tickDecimals):1,i=""+Math.round(t*n)/n;if(null!=e.tickDecimals){var r=i.indexOf("."),o=-1==r?0:i.length-r-1;if(o<e.tickDecimals)return(o?i:i+".")+(""+n).substr(1,e.tickDecimals-o)}return i}),t.isFunction(r.tickFormatter)&&(e.tickFormatter=function(t,e){return""+r.tickFormatter(t,e)}),null!=r.alignTicksWithAxis){var h=("x"==e.direction?le:he)[r.alignTicksWithAxis-1];if(h&&h.used&&h!=e){var f=e.tickGenerator(e);if(f.length>0&&(null==r.min&&(e.min=Math.min(e.min,f[0])),null==r.max&&f.length>1&&(e.max=Math.max(e.max,f[f.length-1]))),e.tickGenerator=function(t){var e,n,i=[];for(n=0;n<h.ticks.length;++n)e=(h.ticks[n].v-h.min)/(h.max-h.min),e=t.min+e*(t.max-t.min),i.push(e);return i},!e.mode&&null==r.tickDecimals){var d=Math.max(0,-Math.floor(Math.log(e.delta)/Math.LN10)+1),p=e.tickGenerator(e);p.length>1&&/\..*0$/.test((p[1]-p[0]).toFixed(d))||(e.tickDecimals=d)}}}}function I(e){var n=e.options.ticks,i=[];null==n||"number"==typeof n&&n>0?i=e.tickGenerator(e):n&&(i=t.isFunction(n)?n(e):n);var r,o;for(e.ticks=[],r=0;r<i.length;++r){var a=null,s=i[r];"object"==typeof s?(o=+s[0],s.length>1&&(a=s[1])):o=+s,null==a&&(a=e.tickFormatter(o,e)),isNaN(o)||e.ticks.push({v:o,label:a})}}function O(t,e){t.options.autoscaleMargin&&e.length>0&&(null==t.options.min&&(t.min=Math.min(t.min,e[0].v)),null==t.options.max&&e.length>1&&(t.max=Math.max(t.max,e[e.length-1].v)))}function N(){oe.clear(),s(ge.drawBackground,[ce]);var t=re.grid;t.show&&t.backgroundColor&&P(),t.show&&!t.aboveData&&j();for(var e=0;e<ie.length;++e)s(ge.drawSeries,[ce,ie[e]]),R(ie[e]);s(ge.draw,[ce]),t.show&&t.aboveData&&j(),oe.render(),G()}function M(t,e){for(var n,i,r,o,a=d(),s=0;s<a.length;++s)if(n=a[s],n.direction==e&&(o=e+n.n+"axis",t[o]||1!=n.n||(o=e+"axis"),t[o])){i=t[o].from,r=t[o].to;break}if(t[o]||(n="x"==e?le[0]:he[0],i=t[e+"1"],r=t[e+"2"]),null!=i&&null!=r&&i>r){var c=i;i=r,r=c}return{from:i,to:r,axis:n}}function P(){ce.save(),ce.translate(fe.left,fe.top),ce.fillStyle=ne(re.grid.backgroundColor,pe,0,"rgba(255, 255, 255, 0)"),ce.fillRect(0,0,de,pe),ce.restore()}function j(){var e,n,i,r;ce.save(),ce.translate(fe.left,fe.top);var o=re.grid.markings;if(o)for(t.isFunction(o)&&(n=me.getAxes(),n.xmin=n.xaxis.min,n.xmax=n.xaxis.max,n.ymin=n.yaxis.min,n.ymax=n.yaxis.max,o=o(n)),e=0;e<o.length;++e){var a=o[e],s=M(a,"x"),c=M(a,"y");if(null==s.from&&(s.from=s.axis.min),null==s.to&&(s.to=s.axis.max),null==c.from&&(c.from=c.axis.min),null==c.to&&(c.to=c.axis.max),!(s.to<s.axis.min||s.from>s.axis.max||c.to<c.axis.min||c.from>c.axis.max)){s.from=Math.max(s.from,s.axis.min),s.to=Math.min(s.to,s.axis.max),c.from=Math.max(c.from,c.axis.min),c.to=Math.min(c.to,c.axis.max);var u=s.from===s.to,l=c.from===c.to;if(!u||!l)if(s.from=Math.floor(s.axis.p2c(s.from)),s.to=Math.floor(s.axis.p2c(s.to)),c.from=Math.floor(c.axis.p2c(c.from)),c.to=Math.floor(c.axis.p2c(c.to)),u||l){var h=a.lineWidth||re.grid.markingsLineWidth,f=h%2?.5:0;ce.beginPath(),ce.strokeStyle=a.color||re.grid.markingsColor,ce.lineWidth=h,u?(ce.moveTo(s.to+f,c.from),ce.lineTo(s.to+f,c.to)):(ce.moveTo(s.from,c.to+f),ce.lineTo(s.to,c.to+f)),ce.stroke()}else ce.fillStyle=a.color||re.grid.markingsColor,ce.fillRect(s.from,c.to,s.to-s.from,c.from-c.to)}}n=d(),i=re.grid.borderWidth;for(var p=0;p<n.length;++p){var g,m,v,y,b=n[p],w=b.box,k=b.tickLength;if(b.show&&0!=b.ticks.length){for(ce.lineWidth=1,"x"==b.direction?(g=0,m="full"==k?"top"==b.position?0:pe:w.top-fe.top+("top"==b.position?w.height:0)):(m=0,g="full"==k?"left"==b.position?0:de:w.left-fe.left+("left"==b.position?w.width:0)),b.innermost||(ce.strokeStyle=b.options.color,ce.beginPath(),v=y=0,"x"==b.direction?v=de+1:y=pe+1,1==ce.lineWidth&&("x"==b.direction?m=Math.floor(m)+.5:g=Math.floor(g)+.5),ce.moveTo(g,m),ce.lineTo(g+v,m+y),ce.stroke()),ce.strokeStyle=b.options.tickColor,ce.beginPath(),e=0;e<b.ticks.length;++e){var x=b.ticks[e].v;v=y=0,isNaN(x)||x<b.min||x>b.max||"full"==k&&("object"==typeof i&&i[b.position]>0||i>0)&&(x==b.min||x==b.max)||("x"==b.direction?(g=b.p2c(x),y="full"==k?-pe:k,"top"==b.position&&(y=-y)):(m=b.p2c(x),v="full"==k?-de:k,"left"==b.position&&(v=-v)),1==ce.lineWidth&&("x"==b.direction?g=Math.floor(g)+.5:m=Math.floor(m)+.5),ce.moveTo(g,m),ce.lineTo(g+v,m+y))}ce.stroke()}}i&&(r=re.grid.borderColor,"object"==typeof i||"object"==typeof r?("object"!=typeof i&&(i={top:i,right:i,bottom:i,left:i}),"object"!=typeof r&&(r={top:r,right:r,bottom:r,left:r}),i.top>0&&(ce.strokeStyle=r.top,ce.lineWidth=i.top,ce.beginPath(),ce.moveTo(0-i.left,0-i.top/2),ce.lineTo(de,0-i.top/2),ce.stroke()),i.right>0&&(ce.strokeStyle=r.right,ce.lineWidth=i.right,ce.beginPath(),ce.moveTo(de+i.right/2,0-i.top),ce.lineTo(de+i.right/2,pe),ce.stroke()),i.bottom>0&&(ce.strokeStyle=r.bottom,ce.lineWidth=i.bottom,ce.beginPath(),ce.moveTo(de+i.right,pe+i.bottom/2),ce.lineTo(0,pe+i.bottom/2),ce.stroke()),i.left>0&&(ce.strokeStyle=r.left,ce.lineWidth=i.left,ce.beginPath(),ce.moveTo(0-i.left/2,pe+i.bottom),ce.lineTo(0-i.left/2,0),ce.stroke())):(ce.lineWidth=i,ce.strokeStyle=re.grid.borderColor,ce.strokeRect(-i/2,-i/2,de+i,pe+i))),ce.restore()}function F(){t.each(d(),function(t,e){var n,i,r,o,a,s=e.box,c=e.direction+"Axis "+e.direction+e.n+"Axis",u="flot-"+e.direction+"-axis flot-"+e.direction+e.n+"-axis "+c,l=e.options.font||"flot-tick-label tickLabel";if(oe.removeText(u),e.show&&0!=e.ticks.length)for(var h=0;h<e.ticks.length;++h)n=e.ticks[h],!n.label||n.v<e.min||n.v>e.max||("x"==e.direction?(o="center",i=fe.left+e.p2c(n.v),"bottom"==e.position?r=s.top+s.padding:(r=s.top+s.height-s.padding,a="bottom")):(a="middle",r=fe.top+e.p2c(n.v),"left"==e.position?(i=s.left+s.width-s.padding,o="right"):i=s.left+s.padding),oe.addText(u,i,r,n.label,l,null,null,o,a))})}function R(t){t.lines.show&&L(t),t.bars.show&&U(t),t.points.show&&H(t)}function L(t){function e(t,e,n,i,r){var o=t.points,a=t.pointsize,s=null,c=null;ce.beginPath();for(var u=a;u<o.length;u+=a){var l=o[u-a],h=o[u-a+1],f=o[u],d=o[u+1];if(null!=l&&null!=f){if(d>=h&&h<r.min){if(d<r.min)continue;l=(r.min-h)/(d-h)*(f-l)+l,h=r.min}else if(h>=d&&d<r.min){if(h<r.min)continue;f=(r.min-h)/(d-h)*(f-l)+l,d=r.min}if(h>=d&&h>r.max){if(d>r.max)continue;l=(r.max-h)/(d-h)*(f-l)+l,h=r.max}else if(d>=h&&d>r.max){if(h>r.max)continue;f=(r.max-h)/(d-h)*(f-l)+l,d=r.max}if(f>=l&&l<i.min){if(f<i.min)continue;h=(i.min-l)/(f-l)*(d-h)+h,l=i.min}else if(l>=f&&f<i.min){if(l<i.min)continue;d=(i.min-l)/(f-l)*(d-h)+h,f=i.min}if(l>=f&&l>i.max){if(f>i.max)continue;h=(i.max-l)/(f-l)*(d-h)+h,l=i.max}else if(f>=l&&f>i.max){if(l>i.max)continue;d=(i.max-l)/(f-l)*(d-h)+h,f=i.max}(l!=s||h!=c)&&ce.moveTo(i.p2c(l)+e,r.p2c(h)+n),s=f,c=d,ce.lineTo(i.p2c(f)+e,r.p2c(d)+n)}}ce.stroke()}function n(t,e,n){for(var i=t.points,r=t.pointsize,o=Math.min(Math.max(0,n.min),n.max),a=0,s=!1,c=1,u=0,l=0;;){if(r>0&&a>i.length+r)break;a+=r;var h=i[a-r],f=i[a-r+c],d=i[a],p=i[a+c];if(s){if(r>0&&null!=h&&null==d){l=a,r=-r,c=2;continue}if(0>r&&a==u+r){ce.fill(),s=!1,r=-r,c=1,a=u=l+r;continue}}if(null!=h&&null!=d){if(d>=h&&h<e.min){if(d<e.min)continue;f=(e.min-h)/(d-h)*(p-f)+f,h=e.min}else if(h>=d&&d<e.min){if(h<e.min)continue;p=(e.min-h)/(d-h)*(p-f)+f,d=e.min}if(h>=d&&h>e.max){if(d>e.max)continue;f=(e.max-h)/(d-h)*(p-f)+f,h=e.max}else if(d>=h&&d>e.max){if(h>e.max)continue;p=(e.max-h)/(d-h)*(p-f)+f,d=e.max}if(s||(ce.beginPath(),ce.moveTo(e.p2c(h),n.p2c(o)),s=!0),f>=n.max&&p>=n.max)ce.lineTo(e.p2c(h),n.p2c(n.max)),ce.lineTo(e.p2c(d),n.p2c(n.max));else if(f<=n.min&&p<=n.min)ce.lineTo(e.p2c(h),n.p2c(n.min)),ce.lineTo(e.p2c(d),n.p2c(n.min));else{var g=h,m=d;p>=f&&f<n.min&&p>=n.min?(h=(n.min-f)/(p-f)*(d-h)+h,f=n.min):f>=p&&p<n.min&&f>=n.min&&(d=(n.min-f)/(p-f)*(d-h)+h,p=n.min),f>=p&&f>n.max&&p<=n.max?(h=(n.max-f)/(p-f)*(d-h)+h,f=n.max):p>=f&&p>n.max&&f<=n.max&&(d=(n.max-f)/(p-f)*(d-h)+h,p=n.max),h!=g&&ce.lineTo(e.p2c(g),n.p2c(f)),ce.lineTo(e.p2c(h),n.p2c(f)),ce.lineTo(e.p2c(d),n.p2c(p)),d!=m&&(ce.lineTo(e.p2c(d),n.p2c(p)),ce.lineTo(e.p2c(m),n.p2c(p)))}}}}ce.save(),ce.translate(fe.left,fe.top),ce.lineJoin="round";var i=t.lines.lineWidth,r=t.shadowSize;if(i>0&&r>0){ce.lineWidth=r,ce.strokeStyle="rgba(0,0,0,0.1)";var o=Math.PI/18;e(t.datapoints,Math.sin(o)*(i/2+r/2),Math.cos(o)*(i/2+r/2),t.xaxis,t.yaxis),ce.lineWidth=r/2,e(t.datapoints,Math.sin(o)*(i/2+r/4),Math.cos(o)*(i/2+r/4),t.xaxis,t.yaxis)}ce.lineWidth=i,ce.strokeStyle=t.color;var a=W(t.lines,t.color,0,pe);a&&(ce.fillStyle=a,n(t.datapoints,t.xaxis,t.yaxis)),i>0&&e(t.datapoints,0,0,t.xaxis,t.yaxis),ce.restore()}function H(t){function e(t,e,n,i,r,o,a,s){for(var c=t.points,u=t.pointsize,l=0;l<c.length;l+=u){var h=c[l],f=c[l+1];null==h||h<o.min||h>o.max||f<a.min||f>a.max||(ce.beginPath(),h=o.p2c(h),f=a.p2c(f)+i,"circle"==s?ce.arc(h,f,e,0,r?Math.PI:2*Math.PI,!1):s(ce,h,f,e,r),ce.closePath(),n&&(ce.fillStyle=n,ce.fill()),ce.stroke())}}ce.save(),ce.translate(fe.left,fe.top);var n=t.points.lineWidth,i=t.shadowSize,r=t.points.radius,o=t.points.symbol;if(0==n&&(n=1e-4),n>0&&i>0){var a=i/2;ce.lineWidth=a,ce.strokeStyle="rgba(0,0,0,0.1)",e(t.datapoints,r,null,a+a/2,!0,t.xaxis,t.yaxis,o),ce.strokeStyle="rgba(0,0,0,0.2)",e(t.datapoints,r,null,a/2,!0,t.xaxis,t.yaxis,o)}ce.lineWidth=n,ce.strokeStyle=t.color,e(t.datapoints,r,W(t.points,t.color),0,!1,t.xaxis,t.yaxis,o),ce.restore()}function B(t,e,n,i,r,o,a,s,c,u,l){var h,f,d,p,g,m,v,y,b;u?(y=m=v=!0,g=!1,h=n,f=t,p=e+i,d=e+r,h>f&&(b=f,f=h,h=b,g=!0,m=!1)):(g=m=v=!0,y=!1,h=t+i,f=t+r,d=n,p=e,d>p&&(b=p,p=d,d=b,y=!0,v=!1)),f<a.min||h>a.max||p<s.min||d>s.max||(h<a.min&&(h=a.min,g=!1),f>a.max&&(f=a.max,m=!1),d<s.min&&(d=s.min,y=!1),p>s.max&&(p=s.max,v=!1),h=a.p2c(h),d=s.p2c(d),f=a.p2c(f),p=s.p2c(p),o&&(c.fillStyle=o(d,p),c.fillRect(h,p,f-h,d-p)),l>0&&(g||m||v||y)&&(c.beginPath(),c.moveTo(h,d),g?c.lineTo(h,p):c.moveTo(h,p),v?c.lineTo(f,p):c.moveTo(f,p),m?c.lineTo(f,d):c.moveTo(f,d),y?c.lineTo(h,d):c.moveTo(h,d),c.stroke()))}function U(t){function e(e,n,i,r,o,a){for(var s=e.points,c=e.pointsize,u=0;u<s.length;u+=c)null!=s[u]&&B(s[u],s[u+1],s[u+2],n,i,r,o,a,ce,t.bars.horizontal,t.bars.lineWidth)}ce.save(),ce.translate(fe.left,fe.top),ce.lineWidth=t.bars.lineWidth,ce.strokeStyle=t.color;var n;switch(t.bars.align){case"left":n=0;break;case"right":n=-t.bars.barWidth;break;default:n=-t.bars.barWidth/2}var i=t.bars.fill?function(e,n){return W(t.bars,t.color,e,n)}:null;e(t.datapoints,n,n+t.bars.barWidth,i,t.xaxis,t.yaxis),ce.restore()}function W(e,n,i,r){var o=e.fill;if(!o)return null;if(e.fillColor)return ne(e.fillColor,i,r,n);var a=t.color.parse(n);return a.a="number"==typeof o?o:.4,a.normalize(),a.toString()}function q(){if(null!=re.legend.container?t(re.legend.container).html(""):n.find(".legend").remove(),re.legend.show){for(var e,i,r=[],o=[],a=!1,s=re.legend.labelFormatter,c=0;c<ie.length;++c)e=ie[c],e.label&&(i=s?s(e.label,e):e.label,i&&o.push({label:i,color:e.color}));if(re.legend.sorted)if(t.isFunction(re.legend.sorted))o.sort(re.legend.sorted);else if("reverse"==re.legend.sorted)o.reverse();else{var u="descending"!=re.legend.sorted;o.sort(function(t,e){return t.label==e.label?0:t.label<e.label!=u?1:-1})}for(var c=0;c<o.length;++c){var l=o[c];c%re.legend.noColumns==0&&(a&&r.push("</tr>"),r.push("<tr>"),a=!0),r.push('<td class="legendColorBox"><div style="border:1px solid '+re.legend.labelBoxBorderColor+';padding:1px"><div style="width:4px;height:0;border:5px solid '+l.color+';overflow:hidden"></div></div></td><td class="legendLabel">'+l.label+"</td>")}if(a&&r.push("</tr>"),0!=r.length){var h='<table style="font-size:smaller;color:'+re.grid.color+'">'+r.join("")+"</table>";if(null!=re.legend.container)t(re.legend.container).html(h);else{var f="",d=re.legend.position,p=re.legend.margin;null==p[0]&&(p=[p,p]),"n"==d.charAt(0)?f+="top:"+(p[1]+fe.top)+"px;":"s"==d.charAt(0)&&(f+="bottom:"+(p[1]+fe.bottom)+"px;"),"e"==d.charAt(1)?f+="right:"+(p[0]+fe.right)+"px;":"w"==d.charAt(1)&&(f+="left:"+(p[0]+fe.left)+"px;");var g=t('<div class="legend">'+h.replace('style="','style="position:absolute;'+f+";")+"</div>").appendTo(n);if(0!=re.legend.backgroundOpacity){var m=re.legend.backgroundColor;null==m&&(m=re.grid.backgroundColor,m=m&&"string"==typeof m?t.color.parse(m):t.color.extract(g,"background-color"),m.a=1,m=m.toString());var v=g.children();t('<div style="position:absolute;width:'+v.width()+"px;height:"+v.height()+"px;"+f+"background-color:"+m+';"> </div>').prependTo(g).css("opacity",re.legend.backgroundOpacity)}}}}}function $(t,e,n){var i,r,o,a=re.grid.mouseActiveRadius,s=a*a+1,c=null;for(i=ie.length-1;i>=0;--i)if(n(ie[i])){var u=ie[i],l=u.xaxis,h=u.yaxis,f=u.datapoints.points,d=l.c2p(t),p=h.c2p(e),g=a/l.scale,m=a/h.scale;if(o=u.datapoints.pointsize,l.options.inverseTransform&&(g=Number.MAX_VALUE),h.options.inverseTransform&&(m=Number.MAX_VALUE),u.lines.show||u.points.show)for(r=0;r<f.length;r+=o){var v=f[r],y=f[r+1];if(null!=v&&!(v-d>g||-g>v-d||y-p>m||-m>y-p)){var b=Math.abs(l.p2c(v)-t),w=Math.abs(h.p2c(y)-e),k=b*b+w*w;s>k&&(s=k,c=[i,r/o])}}if(u.bars.show&&!c){var x,C;switch(u.bars.align){case"left":x=0;break;case"right":x=-u.bars.barWidth;break;default:x=-u.bars.barWidth/2}for(C=x+u.bars.barWidth,r=0;r<f.length;r+=o){var v=f[r],y=f[r+1],S=f[r+2];null!=v&&(ie[i].bars.horizontal?d<=Math.max(S,v)&&d>=Math.min(S,v)&&p>=y+x&&y+C>=p:d>=v+x&&v+C>=d&&p>=Math.min(S,y)&&p<=Math.max(S,y))&&(c=[i,r/o])}}}return c?(i=c[0],r=c[1],o=ie[i].datapoints.pointsize,{datapoint:ie[i].datapoints.points.slice(r*o,(r+1)*o),dataIndex:r,series:ie[i],seriesIndex:i}):null}function V(t){re.grid.hoverable&&X("plothover",t,function(t){return 0!=t.hoverable})}function Y(t){re.grid.hoverable&&X("plothover",t,function(){return!1})}function z(t){X("plotclick",t,function(t){return 0!=t.clickable})}function X(t,e,i){var r=se.offset(),o=e.pageX-r.left-fe.left,a=e.pageY-r.top-fe.top,s=p({left:o,top:a});s.pageX=e.pageX,s.pageY=e.pageY;var c=$(o,a,i);if(c&&(c.pageX=parseInt(c.series.xaxis.p2c(c.datapoint[0])+r.left+fe.left,10),c.pageY=parseInt(c.series.yaxis.p2c(c.datapoint[1])+r.top+fe.top,10)),re.grid.autoHighlight){for(var u=0;u<ve.length;++u){var l=ve[u];l.auto!=t||c&&l.series==c.series&&l.point[0]==c.datapoint[0]&&l.point[1]==c.datapoint[1]||J(l.series,l.point)}c&&Q(c.series,c.datapoint,t)}n.trigger(t,[s,c])}function G(){var t=re.interaction.redrawOverlayInterval;return-1==t?void K():void(ye||(ye=setTimeout(K,t)))}function K(){ye=null,ue.save(),ae.clear(),ue.translate(fe.left,fe.top);var t,e;for(t=0;t<ve.length;++t)e=ve[t],e.series.bars.show?ee(e.series,e.point):te(e.series,e.point);ue.restore(),s(ge.drawOverlay,[ue])}function Q(t,e,n){if("number"==typeof t&&(t=ie[t]),"number"==typeof e){var i=t.datapoints.pointsize;e=t.datapoints.points.slice(i*e,i*(e+1))}var r=Z(t,e);-1==r?(ve.push({series:t,point:e,auto:n}),G()):n||(ve[r].auto=!1)}function J(t,e){if(null==t&&null==e)return ve=[],void G();if("number"==typeof t&&(t=ie[t]),"number"==typeof e){var n=t.datapoints.pointsize;e=t.datapoints.points.slice(n*e,n*(e+1))}var i=Z(t,e);-1!=i&&(ve.splice(i,1),G())}function Z(t,e){for(var n=0;n<ve.length;++n){var i=ve[n];if(i.series==t&&i.point[0]==e[0]&&i.point[1]==e[1])return n}return-1}function te(e,n){var i=n[0],r=n[1],o=e.xaxis,a=e.yaxis,s="string"==typeof e.highlightColor?e.highlightColor:t.color.parse(e.color).scale("a",.5).toString();if(!(i<o.min||i>o.max||r<a.min||r>a.max)){var c=e.points.radius+e.points.lineWidth/2;ue.lineWidth=c,ue.strokeStyle=s;var u=1.5*c;i=o.p2c(i),r=a.p2c(r),ue.beginPath(),"circle"==e.points.symbol?ue.arc(i,r,u,0,2*Math.PI,!1):e.points.symbol(ue,i,r,u,!1),ue.closePath(),ue.stroke()}}function ee(e,n){var i,r="string"==typeof e.highlightColor?e.highlightColor:t.color.parse(e.color).scale("a",.5).toString(),o=r;switch(e.bars.align){case"left":i=0;break;case"right":i=-e.bars.barWidth;break;default:i=-e.bars.barWidth/2}ue.lineWidth=e.bars.lineWidth,ue.strokeStyle=r,B(n[0],n[1],n[2]||0,i,i+e.bars.barWidth,function(){return o},e.xaxis,e.yaxis,ue,e.bars.horizontal,e.bars.lineWidth)}function ne(e,n,i,r){if("string"==typeof e)return e;for(var o=ce.createLinearGradient(0,i,0,n),a=0,s=e.colors.length;s>a;++a){var c=e.colors[a];if("string"!=typeof c){var u=t.color.parse(r);null!=c.brightness&&(u=u.scale("rgb",c.brightness)),null!=c.opacity&&(u.a*=c.opacity),c=u.toString()}o.addColorStop(a/(s-1),c)}return o}var ie=[],re={colors:["#edc240","#afd8f8","#cb4b4b","#4da74d","#9440ed"],legend:{show:!0,noColumns:1,labelFormatter:null,labelBoxBorderColor:"#ccc",container:null,position:"ne",margin:5,backgroundColor:null,backgroundOpacity:.85,sorted:null},xaxis:{show:null,position:"bottom",mode:null,font:null,color:null,tickColor:null,transform:null,inverseTransform:null,min:null,max:null,autoscaleMargin:null,ticks:null,tickFormatter:null,labelWidth:null,labelHeight:null,reserveSpace:null,tickLength:null,alignTicksWithAxis:null,tickDecimals:null,tickSize:null,minTickSize:null},yaxis:{autoscaleMargin:.02,position:"left"},xaxes:[],yaxes:[],series:{points:{show:!1,radius:3,lineWidth:2,fill:!0,fillColor:"#ffffff",symbol:"circle"},lines:{lineWidth:2,fill:!1,fillColor:null,steps:!1},bars:{show:!1,lineWidth:2,barWidth:1,fill:!0,fillColor:null,align:"left",horizontal:!1,zero:!0},shadowSize:3,highlightColor:null},grid:{show:!0,aboveData:!1,color:"#545454",backgroundColor:null,borderColor:null,tickColor:null,margin:0,labelMargin:5,axisMargin:8,borderWidth:2,minBorderMargin:null,markings:null,markingsColor:"#f4f4f4",markingsLineWidth:2,clickable:!1,hoverable:!1,autoHighlight:!0,mouseActiveRadius:10},interaction:{redrawOverlayInterval:1e3/60},hooks:{}},oe=null,ae=null,se=null,ce=null,ue=null,le=[],he=[],fe={left:0,right:0,top:0,bottom:0},de=0,pe=0,ge={processOptions:[],processRawData:[],processDatapoints:[],processOffset:[],drawBackground:[],drawSeries:[],draw:[],bindEvents:[],drawOverlay:[],shutdown:[]},me=this;me.setData=l,me.setupGrid=E,me.draw=N,me.getPlaceholder=function(){return n},me.getCanvas=function(){return oe.element},me.getPlotOffset=function(){return fe},me.width=function(){return de},me.height=function(){return pe},me.offset=function(){var t=se.offset();return t.left+=fe.left,t.top+=fe.top,t},me.getData=function(){return ie},me.getAxes=function(){var e={};return t.each(le.concat(he),function(t,n){n&&(e[n.direction+(1!=n.n?n.n:"")+"axis"]=n)}),e},me.getXAxes=function(){return le},me.getYAxes=function(){return he},me.c2p=p,me.p2c=g,me.getOptions=function(){return re},me.highlight=Q,me.unhighlight=J,me.triggerRedrawOverlay=G,me.pointOffset=function(t){return{left:parseInt(le[f(t,"x")-1].p2c(+t.x)+fe.left,10),top:parseInt(he[f(t,"y")-1].p2c(+t.y)+fe.top,10)}},me.shutdown=k,me.destroy=function(){k(),n.removeData("plot").empty(),ie=[],re=null,oe=null,ae=null,se=null,ce=null,ue=null,le=[],he=[],ge=null,ve=[],me=null},me.resize=function(){var t=n.width(),e=n.height();oe.resize(t,e),ae.resize(t,e)},me.hooks=ge,c(me),u(o),b(),l(r),E(),N(),w();var ve=[],ye=null}function i(t,e){return e*Math.floor(t/e)}var r=Object.prototype.hasOwnProperty;t.fn.detach||(t.fn.detach=function(){return this.each(function(){this.parentNode&&this.parentNode.removeChild(this)})}),e.prototype.resize=function(t,e){if(0>=t||0>=e)throw new Error("Invalid dimensions for plot, width = "+t+", height = "+e);var n=this.element,i=this.context,r=this.pixelRatio;this.width!=t&&(n.width=t*r,n.style.width=t+"px",this.width=t),this.height!=e&&(n.height=e*r,n.style.height=e+"px",this.height=e),i.restore(),i.save(),i.scale(r,r)},e.prototype.clear=function(){this.context.clearRect(0,0,this.width,this.height)},e.prototype.render=function(){var t=this._textCache;for(var e in t)if(r.call(t,e)){var n=this.getTextLayer(e),i=t[e];n.hide();for(var o in i)if(r.call(i,o)){var a=i[o];for(var s in a)if(r.call(a,s)){for(var c,u=a[s].positions,l=0;c=u[l];l++)c.active?c.rendered||(n.append(c.element),c.rendered=!0):(u.splice(l--,1),c.rendered&&c.element.detach());0==u.length&&delete a[s]}}n.show()}},e.prototype.getTextLayer=function(e){var n=this.text[e];return null==n&&(null==this.textContainer&&(this.textContainer=t("<div class='flot-text'></div>").css({position:"absolute",top:0,left:0,bottom:0,right:0,"font-size":"smaller",color:"#545454"}).insertAfter(this.element)),n=this.text[e]=t("<div></div>").addClass(e).css({position:"absolute",top:0,left:0,bottom:0,right:0}).appendTo(this.textContainer)),n},e.prototype.getTextInfo=function(e,n,i,r,o){var a,s,c,u;if(n=""+n,a="object"==typeof i?i.style+" "+i.variant+" "+i.weight+" "+i.size+"px/"+i.lineHeight+"px "+i.family:i,s=this._textCache[e],null==s&&(s=this._textCache[e]={}),c=s[a],null==c&&(c=s[a]={}),u=c[n],null==u){var l=t("<div></div>").html(n).css({position:"absolute","max-width":o,top:-9999}).appendTo(this.getTextLayer(e));"object"==typeof i?l.css({font:a,color:i.color}):"string"==typeof i&&l.addClass(i),u=c[n]={width:l.outerWidth(!0),height:l.outerHeight(!0),element:l,positions:[]},l.detach()}return u},e.prototype.addText=function(t,e,n,i,r,o,a,s,c){var u=this.getTextInfo(t,i,r,o,a),l=u.positions;"center"==s?e-=u.width/2:"right"==s&&(e-=u.width),"middle"==c?n-=u.height/2:"bottom"==c&&(n-=u.height);for(var h,f=0;h=l[f];f++)if(h.x==e&&h.y==n)return void(h.active=!0);h={active:!0,rendered:!1,element:l.length?u.element.clone():u.element,x:e,y:n},l.push(h),h.element.css({top:Math.round(n),left:Math.round(e),"text-align":s})},e.prototype.removeText=function(t,e,n,i,o,a){if(null==i){var s=this._textCache[t];if(null!=s)for(var c in s)if(r.call(s,c)){var u=s[c];for(var l in u)if(r.call(u,l))for(var h,f=u[l].positions,d=0;h=f[d];d++)h.active=!1}}else for(var h,f=this.getTextInfo(t,i,o,a).positions,d=0;h=f[d];d++)h.x==e&&h.y==n&&(h.active=!1)},t.plot=function(e,i,r){var o=new n(t(e),i,r,t.plot.plugins);return o},t.plot.version="0.8.3",t.plot.plugins=[],t.fn.plot=function(e,n){return this.each(function(){t.plot(this,e,n)})}}(jQuery)}.apply(t,arguments)})}(this),function(t){define("jquery.flot.time",["jquery","jquery.flot"],function(){return function(){!function(t){function e(t,e){return e*Math.floor(t/e)}function n(t,e,n,i){if("function"==typeof t.strftime)return t.strftime(e);var r=function(t,e){return t=""+t,e=""+(null==e?"0":e),1==t.length?e+t:t},o=[],a=!1,s=t.getHours(),c=12>s;null==n&&(n=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]),null==i&&(i=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]);var u;u=s>12?s-12:0==s?12:s;for(var l=0;l<e.length;++l){var h=e.charAt(l);if(a){switch(h){case"a":h=""+i[t.getDay()];break;case"b":h=""+n[t.getMonth()];break;case"d":h=r(t.getDate());break;case"e":h=r(t.getDate()," ");break;case"h":case"H":h=r(s);break;case"I":h=r(u);break;case"l":h=r(u," ");break;case"m":h=r(t.getMonth()+1);break;case"M":h=r(t.getMinutes());break;case"q":h=""+(Math.floor(t.getMonth()/3)+1);break;case"S":h=r(t.getSeconds());break;case"y":h=r(t.getFullYear()%100);break;case"Y":h=""+t.getFullYear();break;case"p":h=c?"am":"pm";break;case"P":h=c?"AM":"PM";break;case"w":h=""+t.getDay()}o.push(h),a=!1}else"%"==h?a=!0:o.push(h)}return o.join("")}function i(t){function e(t,e,n,i){t[e]=function(){return n[i].apply(n,arguments)}}var n={date:t};void 0!=t.strftime&&e(n,"strftime",t,"strftime"),e(n,"getTime",t,"getTime"),e(n,"setTime",t,"setTime");for(var i=["Date","Day","FullYear","Hours","Milliseconds","Minutes","Month","Seconds"],r=0;r<i.length;r++)e(n,"get"+i[r],t,"getUTC"+i[r]),e(n,"set"+i[r],t,"setUTC"+i[r]);return n}function r(t,e){if("browser"==e.timezone)return new Date(t);if(e.timezone&&"utc"!=e.timezone){if("undefined"!=typeof timezoneJS&&"undefined"!=typeof timezoneJS.Date){var n=new timezoneJS.Date;return n.setTimezone(e.timezone),n.setTime(t),n}return i(new Date(t))}return i(new Date(t))}function o(i){i.hooks.processOptions.push(function(i){t.each(i.getAxes(),function(t,i){var o=i.options;"time"==o.mode&&(i.tickGenerator=function(t){var n=[],i=r(t.min,o),a=0,c=o.tickSize&&"quarter"===o.tickSize[1]||o.minTickSize&&"quarter"===o.minTickSize[1]?l:u;null!=o.minTickSize&&(a="number"==typeof o.tickSize?o.tickSize:o.minTickSize[0]*s[o.minTickSize[1]]);for(var h=0;h<c.length-1&&!(t.delta<(c[h][0]*s[c[h][1]]+c[h+1][0]*s[c[h+1][1]])/2&&c[h][0]*s[c[h][1]]>=a);++h);var f=c[h][0],d=c[h][1];if("year"==d){if(null!=o.minTickSize&&"year"==o.minTickSize[1])f=Math.floor(o.minTickSize[0]);else{var p=Math.pow(10,Math.floor(Math.log(t.delta/s.year)/Math.LN10)),g=t.delta/s.year/p;f=1.5>g?1:3>g?2:7.5>g?5:10,f*=p}1>f&&(f=1)}t.tickSize=o.tickSize||[f,d];var m=t.tickSize[0];d=t.tickSize[1];var v=m*s[d];"second"==d?i.setSeconds(e(i.getSeconds(),m)):"minute"==d?i.setMinutes(e(i.getMinutes(),m)):"hour"==d?i.setHours(e(i.getHours(),m)):"month"==d?i.setMonth(e(i.getMonth(),m)):"quarter"==d?i.setMonth(3*e(i.getMonth()/3,m)):"year"==d&&i.setFullYear(e(i.getFullYear(),m)),i.setMilliseconds(0),v>=s.minute&&i.setSeconds(0),v>=s.hour&&i.setMinutes(0),v>=s.day&&i.setHours(0),v>=4*s.day&&i.setDate(1),v>=2*s.month&&i.setMonth(e(i.getMonth(),3)),v>=2*s.quarter&&i.setMonth(e(i.getMonth(),6)),v>=s.year&&i.setMonth(0);var y,b=0,w=Number.NaN;do if(y=w,w=i.getTime(),n.push(w),"month"==d||"quarter"==d)if(1>m){i.setDate(1);var k=i.getTime();i.setMonth(i.getMonth()+("quarter"==d?3:1));var x=i.getTime();i.setTime(w+b*s.hour+(x-k)*m),b=i.getHours(),i.setHours(0)}else i.setMonth(i.getMonth()+m*("quarter"==d?3:1));else"year"==d?i.setFullYear(i.getFullYear()+m):i.setTime(w+v);while(w<t.max&&w!=y);return n},i.tickFormatter=function(t,e){var i=r(t,e.options);if(null!=o.timeformat)return n(i,o.timeformat,o.monthNames,o.dayNames);var a,c=e.options.tickSize&&"quarter"==e.options.tickSize[1]||e.options.minTickSize&&"quarter"==e.options.minTickSize[1],u=e.tickSize[0]*s[e.tickSize[1]],l=e.max-e.min,h=o.twelveHourClock?" %p":"",f=o.twelveHourClock?"%I":"%H";a=u<s.minute?f+":%M:%S"+h:u<s.day?l<2*s.day?f+":%M"+h:"%b %d "+f+":%M"+h:u<s.month?"%b %d":c&&u<s.quarter||!c&&u<s.year?l<s.year?"%b":"%b %Y":c&&u<s.year?l<s.year?"Q%q":"Q%q %Y":"%Y";var d=n(i,a,o.monthNames,o.dayNames);return d})})})}var a={xaxis:{timezone:null,timeformat:null,twelveHourClock:!1,monthNames:null}},s={second:1e3,minute:6e4,hour:36e5,day:864e5,month:2592e6,quarter:7776e6,year:525949.2*60*1e3},c=[[1,"second"],[2,"second"],[5,"second"],[10,"second"],[30,"second"],[1,"minute"],[2,"minute"],[5,"minute"],[10,"minute"],[30,"minute"],[1,"hour"],[2,"hour"],[4,"hour"],[8,"hour"],[12,"hour"],[1,"day"],[2,"day"],[3,"day"],[.25,"month"],[.5,"month"],[1,"month"],[2,"month"]],u=c.concat([[3,"month"],[6,"month"],[1,"year"]]),l=c.concat([[1,"quarter"],[2,"quarter"],[1,"year"]]);t.plot.plugins.push({init:o,options:a,name:"time",version:"1.0"}),t.plot.formatDate=n,t.plot.dateGenerator=r
}(jQuery)}.apply(t,arguments)})}(this),function(t){define("jquery.flot.threshold",["jquery","jquery.flot"],function(){return function(){!function(t){function e(e){function n(e,n,i,r,o){var a,s,c,u,l,h=i.pointsize,f=t.extend({},n);f.datapoints={points:[],pointsize:h,format:i.format},f.label=null,f.color=o,f.threshold=null,f.originSeries=n,f.data=[];var d,p=i.points,g=n.lines.show,m=[],v=[];for(a=0;a<p.length;a+=h){if(s=p[a],c=p[a+1],l=u,u=r>c?m:v,g&&l!=u&&null!=s&&a>0&&null!=p[a-h]){var y=s+(r-c)*(s-p[a-h])/(c-p[a-h+1]);for(l.push(y),l.push(r),d=2;h>d;++d)l.push(p[a+d]);for(u.push(null),u.push(null),d=2;h>d;++d)u.push(p[a+d]);for(u.push(y),u.push(r),d=2;h>d;++d)u.push(p[a+d])}for(u.push(s),u.push(c),d=2;h>d;++d)u.push(p[a+d])}if(i.points=v,f.datapoints.points=m,f.datapoints.points.length>0){var b=t.inArray(n,e.getData());e.getData().splice(b+1,0,f)}}function i(e,i,r){i.threshold&&(i.threshold instanceof Array?(i.threshold.sort(function(t,e){return t.below-e.below}),t(i.threshold).each(function(t,o){n(e,i,r,o.below,o.color)})):n(e,i,r,i.threshold.below,i.threshold.color))}e.hooks.processDatapoints.push(i)}var n={series:{threshold:null}};t.plot.plugins.push({init:e,options:n,name:"threshold",version:"1.2"})}(jQuery)}.apply(t,arguments)})}(this),function(t){"use strict";t("jquery.scrollTo",["jquery"],function(t){function e(e){return t.isFunction(e)||t.isPlainObject(e)?e:{top:e,left:e}}var n=t.scrollTo=function(e,n,i){return t(window).scrollTo(e,n,i)};return n.defaults={axis:"xy",duration:0,limit:!0},n.window=function(){return t(window)._scrollable()},t.fn._scrollable=function(){return this.map(function(){var e=this,n=!e.nodeName||-1!=t.inArray(e.nodeName.toLowerCase(),["iframe","#document","html","body"]);if(!n)return e;var i=(e.contentWindow||e).document||e.ownerDocument||e;return/webkit/i.test(navigator.userAgent)||"BackCompat"==i.compatMode?i.body:i.documentElement})},t.fn.scrollTo=function(i,r,o){return"object"==typeof r&&(o=r,r=0),"function"==typeof o&&(o={onAfter:o}),"max"==i&&(i=9e9),o=t.extend({},n.defaults,o),r=r||o.duration,o.queue=o.queue&&o.axis.length>1,o.queue&&(r/=2),o.offset=e(o.offset),o.over=e(o.over),this._scrollable().each(function(){function a(t){u.animate(h,r,o.easing,t&&function(){t.call(this,l,o)})}if(null!=i){var s,c=this,u=t(c),l=i,h={},f=u.is("html,body");switch(typeof l){case"number":case"string":if(/^([+-]=?)?\d+(\.\d+)?(px|%)?$/.test(l)){l=e(l);break}if(l=f?t(l):t(l,this),!l.length)return;case"object":(l.is||l.style)&&(s=(l=t(l)).offset())}var d=t.isFunction(o.offset)&&o.offset(c,l)||o.offset;t.each(o.axis.split(""),function(t,e){var i="x"==e?"Left":"Top",r=i.toLowerCase(),p="scroll"+i,g=c[p],m=n.max(c,e);if(s)h[p]=s[r]+(f?0:g-u.offset()[r]),o.margin&&(h[p]-=parseInt(l.css("margin"+i))||0,h[p]-=parseInt(l.css("border"+i+"Width"))||0),h[p]+=d[r]||0,o.over[r]&&(h[p]+=l["x"==e?"width":"height"]()*o.over[r]);else{var v=l[r];h[p]=v.slice&&"%"==v.slice(-1)?parseFloat(v)/100*m:v}o.limit&&/^\d+$/.test(h[p])&&(h[p]=h[p]<=0?0:Math.min(h[p],m)),!t&&o.queue&&(g!=h[p]&&a(o.onAfterFirst),delete h[p])}),a(o.onAfter)}}).end()},n.max=function(e,n){var i="x"==n?"Width":"Height",r="scroll"+i;if(!t(e).is("html,body"))return e[r]-t(e)[i.toLowerCase()]();var o="client"+i,a=e.ownerDocument.documentElement,s=e.ownerDocument.body;return Math.max(a[r],s[r])-Math.min(a[o],s[o])},n})}("function"==typeof define&&define.amd?define:function(t,e){"undefined"!=typeof module&&module.exports?module.exports=e(require("jquery")):e(jQuery)});var JSON;JSON||(JSON={}),function(){function str(t,e){var n,i,r,o,a,s=gap,c=e[t];switch(c&&"object"==typeof c&&"function"==typeof c.toJSON&&(c=c.toJSON(t)),"function"==typeof rep&&(c=rep.call(e,t,c)),typeof c){case"string":return quote(c);case"number":return isFinite(c)?String(c):"null";case"boolean":case"null":return String(c);case"object":if(!c)return"null";if(gap+=indent,a=[],"[object Array]"===Object.prototype.toString.apply(c)){for(o=c.length,n=0;o>n;n+=1)a[n]=str(n,c)||"null";return r=0===a.length?"[]":gap?"[\n"+gap+a.join(",\n"+gap)+"\n"+s+"]":"["+a.join(",")+"]",gap=s,r}if(rep&&"object"==typeof rep)for(o=rep.length,n=0;o>n;n+=1)"string"==typeof rep[n]&&(i=rep[n],r=str(i,c),r&&a.push(quote(i)+(gap?": ":":")+r));else for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(r=str(i,c),r&&a.push(quote(i)+(gap?": ":":")+r));return r=0===a.length?"{}":gap?"{\n"+gap+a.join(",\n"+gap)+"\n"+s+"}":"{"+a.join(",")+"}",gap=s,r}}function quote(t){return escapable.lastIndex=0,escapable.test(t)?'"'+t.replace(escapable,function(t){var e=meta[t];return"string"==typeof e?e:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+t+'"'}function f(t){return 10>t?"0"+t:t}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;"function"!=typeof JSON.stringify&&(JSON.stringify=function(t,e,n){var i;if(gap="",indent="","number"==typeof n)for(i=0;n>i;i+=1)indent+=" ";else"string"==typeof n&&(indent=n);if(rep=e,!e||"function"==typeof e||"object"==typeof e&&"number"==typeof e.length)return str("",{"":t});throw new Error("JSON.stringify")}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(t,e){var n,i,r=t[e];if(r&&"object"==typeof r)for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i=walk(r,n),void 0!==i?r[n]=i:delete r[n]);return reviver.call(t,e,r)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),SockJS=function(){var t=document,e=window,n={},i=function(){};i.prototype.addEventListener=function(t,e){this._listeners||(this._listeners={}),t in this._listeners||(this._listeners[t]=[]);var i=this._listeners[t];-1===n.arrIndexOf(i,e)&&i.push(e)},i.prototype.removeEventListener=function(t,e){if(this._listeners&&t in this._listeners){var i=this._listeners[t],r=n.arrIndexOf(i,e);return-1!==r?void(i.length>1?this._listeners[t]=i.slice(0,r).concat(i.slice(r+1)):delete this._listeners[t]):void 0}},i.prototype.dispatchEvent=function(t){var e=t.type,n=Array.prototype.slice.call(arguments,0);if(this["on"+e]&&this["on"+e].apply(this,n),this._listeners&&e in this._listeners)for(var i=0;i<this._listeners[e].length;i++)this._listeners[e][i].apply(this,n)};var r=function(t,e){if(this.type=t,"undefined"!=typeof e)for(var n in e)e.hasOwnProperty(n)&&(this[n]=e[n])};r.prototype.toString=function(){var t=[];for(var e in this)if(this.hasOwnProperty(e)){var n=this[e];"function"==typeof n&&(n="[function]"),t.push(e+"="+n)}return"SimpleEvent("+t.join(", ")+")"};var o=function(t){var e=this;e._events=t||[],e._listeners={}};o.prototype.emit=function(t){var e=this;if(e._verifyType(t),!e._nuked){var n=Array.prototype.slice.call(arguments,1);if(e["on"+t]&&e["on"+t].apply(e,n),t in e._listeners)for(var i=0;i<e._listeners[t].length;i++)e._listeners[t][i].apply(e,n)}},o.prototype.on=function(t,e){var n=this;n._verifyType(t),n._nuked||(t in n._listeners||(n._listeners[t]=[]),n._listeners[t].push(e))},o.prototype._verifyType=function(t){var e=this;-1===n.arrIndexOf(e._events,t)&&n.log("Event "+JSON.stringify(t)+" not listed "+JSON.stringify(e._events)+" in "+e)},o.prototype.nuke=function(){var t=this;t._nuked=!0;for(var e=0;e<t._events.length;e++)delete t[t._events[e]];t._listeners={}};var a="abcdefghijklmnopqrstuvwxyz0123456789_";n.random_string=function(t,e){e=e||a.length;var n,i=[];for(n=0;t>n;n++)i.push(a.substr(Math.floor(Math.random()*e),1));return i.join("")},n.random_number=function(t){return Math.floor(Math.random()*t)},n.random_number_string=function(t){var e=(""+(t-1)).length,i=Array(e+1).join("0");return(i+n.random_number(t)).slice(-e)},n.getOrigin=function(t){t+="/";var e=t.split("/").slice(0,3);return e.join("/")},n.isSameOriginUrl=function(t,n){return n||(n=e.location.href),t.split("/").slice(0,3).join("/")===n.split("/").slice(0,3).join("/")},n.getParentDomain=function(t){if(/^[0-9.]*$/.test(t))return t;if(/^\[/.test(t))return t;if(!/[.]/.test(t))return t;var e=t.split(".").slice(1);return e.join(".")},n.objectExtend=function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t};var s="_jp";n.polluteGlobalNamespace=function(){s in e||(e[s]={})},n.closeFrame=function(t,e){return"c"+JSON.stringify([t,e])},n.userSetCode=function(t){return 1e3===t||t>=3e3&&4999>=t},n.countRTO=function(t){var e;return e=t>100?3*t:t+200},n.log=function(){e.console&&console.log&&console.log.apply&&console.log.apply(console,arguments)},n.bind=function(t,e){return t.bind?t.bind(e):function(){return t.apply(e,arguments)}},n.flatUrl=function(t){return-1===t.indexOf("?")&&-1===t.indexOf("#")},n.amendUrl=function(e){var i=t.location;if(!e)throw new Error("Wrong url for SockJS");if(!n.flatUrl(e))throw new Error("Only basic urls are supported in SockJS");return 0===e.indexOf("//")&&(e=i.protocol+e),0===e.indexOf("/")&&(e=i.protocol+"//"+i.host+e),e=e.replace(/[/]+$/,"")},n.arrIndexOf=function(t,e){for(var n=0;n<t.length;n++)if(t[n]===e)return n;return-1},n.arrSkip=function(t,e){var i=n.arrIndexOf(t,e);if(-1===i)return t.slice();var r=t.slice(0,i);return r.concat(t.slice(i+1))},n.isArray=Array.isArray||function(t){return{}.toString.call(t).indexOf("Array")>=0},n.delay=function(t,e){return"function"==typeof t&&(e=t,t=0),setTimeout(e,t)};var c,u=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,l={"\x00":"\\u0000","":"\\u0001","":"\\u0002","":"\\u0003","":"\\u0004","":"\\u0005","":"\\u0006","":"\\u0007","\b":"\\b","	":"\\t","\n":"\\n","":"\\u000b","\f":"\\f","\r":"\\r","":"\\u000e","":"\\u000f","":"\\u0010","":"\\u0011","":"\\u0012","":"\\u0013","":"\\u0014","":"\\u0015","":"\\u0016","":"\\u0017","":"\\u0018","":"\\u0019","":"\\u001a","":"\\u001b","":"\\u001c","":"\\u001d","":"\\u001e","":"\\u001f",'"':'\\"',"\\":"\\\\","":"\\u007f","":"\\u0080","":"\\u0081","":"\\u0082","":"\\u0083","":"\\u0084","":"\\u0085","":"\\u0086","":"\\u0087","":"\\u0088","":"\\u0089","":"\\u008a","":"\\u008b","":"\\u008c","":"\\u008d","":"\\u008e","":"\\u008f","":"\\u0090","":"\\u0091","":"\\u0092","":"\\u0093","":"\\u0094","":"\\u0095","":"\\u0096","":"\\u0097","":"\\u0098","":"\\u0099","":"\\u009a","":"\\u009b","":"\\u009c","":"\\u009d","":"\\u009e","":"\\u009f","­":"\\u00ad","؀":"\\u0600","؁":"\\u0601","؂":"\\u0602","؃":"\\u0603","؄":"\\u0604","܏":"\\u070f","឴":"\\u17b4","឵":"\\u17b5","‌":"\\u200c","‍":"\\u200d","‎":"\\u200e","‏":"\\u200f","\u2028":"\\u2028","\u2029":"\\u2029","‪":"\\u202a","‫":"\\u202b","‬":"\\u202c","‭":"\\u202d","‮":"\\u202e"," ":"\\u202f","⁠":"\\u2060","⁡":"\\u2061","⁢":"\\u2062","⁣":"\\u2063","⁤":"\\u2064","⁥":"\\u2065","⁦":"\\u2066","⁧":"\\u2067","⁨":"\\u2068","⁩":"\\u2069","⁪":"\\u206a","⁫":"\\u206b","⁬":"\\u206c","⁭":"\\u206d","⁮":"\\u206e","⁯":"\\u206f","﻿":"\\ufeff","￰":"\\ufff0","￱":"\\ufff1","￲":"\\ufff2","￳":"\\ufff3","￴":"\\ufff4","￵":"\\ufff5","￶":"\\ufff6","￷":"\\ufff7","￸":"\\ufff8","￹":"\\ufff9","￺":"\\ufffa","￻":"\\ufffb","￼":"\\ufffc","�":"\\ufffd","￾":"\\ufffe","￿":"\\uffff"},h=/[\x00-\x1f\ud800-\udfff\ufffe\uffff\u0300-\u0333\u033d-\u0346\u034a-\u034c\u0350-\u0352\u0357-\u0358\u035c-\u0362\u0374\u037e\u0387\u0591-\u05af\u05c4\u0610-\u0617\u0653-\u0654\u0657-\u065b\u065d-\u065e\u06df-\u06e2\u06eb-\u06ec\u0730\u0732-\u0733\u0735-\u0736\u073a\u073d\u073f-\u0741\u0743\u0745\u0747\u07eb-\u07f1\u0951\u0958-\u095f\u09dc-\u09dd\u09df\u0a33\u0a36\u0a59-\u0a5b\u0a5e\u0b5c-\u0b5d\u0e38-\u0e39\u0f43\u0f4d\u0f52\u0f57\u0f5c\u0f69\u0f72-\u0f76\u0f78\u0f80-\u0f83\u0f93\u0f9d\u0fa2\u0fa7\u0fac\u0fb9\u1939-\u193a\u1a17\u1b6b\u1cda-\u1cdb\u1dc0-\u1dcf\u1dfc\u1dfe\u1f71\u1f73\u1f75\u1f77\u1f79\u1f7b\u1f7d\u1fbb\u1fbe\u1fc9\u1fcb\u1fd3\u1fdb\u1fe3\u1feb\u1fee-\u1fef\u1ff9\u1ffb\u1ffd\u2000-\u2001\u20d0-\u20d1\u20d4-\u20d7\u20e7-\u20e9\u2126\u212a-\u212b\u2329-\u232a\u2adc\u302b-\u302c\uaab2-\uaab3\uf900-\ufa0d\ufa10\ufa12\ufa15-\ufa1e\ufa20\ufa22\ufa25-\ufa26\ufa2a-\ufa2d\ufa30-\ufa6d\ufa70-\ufad9\ufb1d\ufb1f\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufb4e\ufff0-\uffff]/g,f=JSON&&JSON.stringify||function(t){return u.lastIndex=0,u.test(t)&&(t=t.replace(u,function(t){return l[t]})),'"'+t+'"'},d=function(t){var e,n={},i=[];for(e=0;65536>e;e++)i.push(String.fromCharCode(e));return t.lastIndex=0,i.join("").replace(t,function(t){return n[t]="\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4),""}),t.lastIndex=0,n};n.quote=function(t){var e=f(t);return h.lastIndex=0,h.test(e)?(c||(c=d(h)),e.replace(h,function(t){return c[t]})):e};var p=["websocket","xdr-streaming","xhr-streaming","iframe-eventsource","iframe-htmlfile","xdr-polling","xhr-polling","iframe-xhr-polling","jsonp-polling"];n.probeProtocols=function(){for(var t={},e=0;e<p.length;e++){var n=p[e];t[n]=S[n]&&S[n].enabled()}return t},n.detectProtocols=function(t,e,n){var i={},r=[];e||(e=p);for(var o=0;o<e.length;o++){var a=e[o];i[a]=t[a]}var s=function(t){var e=t.shift();i[e]?r.push(e):t.length>0&&s(t)};return n.websocket!==!1&&s(["websocket"]),i["xhr-streaming"]&&!n.null_origin?r.push("xhr-streaming"):!i["xdr-streaming"]||n.cookie_needed||n.null_origin?s(["iframe-eventsource","iframe-htmlfile"]):r.push("xdr-streaming"),i["xhr-polling"]&&!n.null_origin?r.push("xhr-polling"):!i["xdr-polling"]||n.cookie_needed||n.null_origin?s(["iframe-xhr-polling","jsonp-polling"]):r.push("xdr-polling"),r};var g="_sockjs_global";n.createHook=function(){var t="a"+n.random_string(8);if(!(g in e)){var i={};e[g]=function(t){return t in i||(i[t]={id:t,del:function(){delete i[t]}}),i[t]}}return e[g](t)},n.attachMessage=function(t){n.attachEvent("message",t)},n.attachEvent=function(n,i){"undefined"!=typeof e.addEventListener?e.addEventListener(n,i,!1):(t.attachEvent("on"+n,i),e.attachEvent("on"+n,i))},n.detachMessage=function(t){n.detachEvent("message",t)},n.detachEvent=function(n,i){"undefined"!=typeof e.addEventListener?e.removeEventListener(n,i,!1):(t.detachEvent("on"+n,i),e.detachEvent("on"+n,i))};var m={},v=!1,y=function(){for(var t in m)m[t](),delete m[t]},b=function(){v||(v=!0,y())};n.attachEvent("unload",b),n.unload_add=function(t){var e=n.random_string(8);return m[e]=t,v&&n.delay(y),e},n.unload_del=function(t){t in m&&delete m[t]},n.createIframe=function(e,i){var r,o,a=t.createElement("iframe"),s=function(){clearTimeout(r);try{a.onload=null}catch(t){}a.onerror=null},c=function(){a&&(s(),setTimeout(function(){a&&a.parentNode.removeChild(a),a=null},0),n.unload_del(o))},u=function(t){a&&(c(),i(t))},l=function(t,e){try{a&&a.contentWindow&&a.contentWindow.postMessage(t,e)}catch(n){}};return a.src=e,a.style.display="none",a.style.position="absolute",a.onerror=function(){u("onerror")},a.onload=function(){clearTimeout(r),r=setTimeout(function(){u("onload timeout")},2e3)},t.body.appendChild(a),r=setTimeout(function(){u("timeout")},15e3),o=n.unload_add(c),{post:l,cleanup:c,loaded:s}},n.createHtmlfile=function(t,i){var r,o,a,c=new ActiveXObject("htmlfile"),u=function(){clearTimeout(r)},l=function(){c&&(u(),n.unload_del(o),a.parentNode.removeChild(a),a=c=null,CollectGarbage())},h=function(t){c&&(l(),i(t))},f=function(t,e){try{a&&a.contentWindow&&a.contentWindow.postMessage(t,e)}catch(n){}};c.open(),c.write('<html><script>document.domain="'+document.domain+'";</script></html>'),c.close(),c.parentWindow[s]=e[s];var d=c.createElement("div");return c.body.appendChild(d),a=c.createElement("iframe"),d.appendChild(a),a.src=t,r=setTimeout(function(){h("timeout")},15e3),o=n.unload_add(l),{post:f,cleanup:l,loaded:u}};var w=function(){};w.prototype=new o(["chunk","finish"]),w.prototype._start=function(t,i,r,o){var a=this;try{a.xhr=new XMLHttpRequest}catch(s){}if(!a.xhr)try{a.xhr=new e.ActiveXObject("Microsoft.XMLHTTP")}catch(s){}(e.ActiveXObject||e.XDomainRequest)&&(i+=(-1===i.indexOf("?")?"?":"&")+"t="+ +new Date),a.unload_ref=n.unload_add(function(){a._cleanup(!0)});try{a.xhr.open(t,i,!0)}catch(c){return a.emit("finish",0,""),void a._cleanup()}if(o&&o.no_credentials||(a.xhr.withCredentials="true"),o&&o.headers)for(var u in o.headers)a.xhr.setRequestHeader(u,o.headers[u]);a.xhr.onreadystatechange=function(){if(a.xhr){var t=a.xhr;switch(t.readyState){case 3:try{var e=t.status,n=t.responseText}catch(t){}1223===e&&(e=204),n&&n.length>0&&a.emit("chunk",e,n);break;case 4:var e=t.status;1223===e&&(e=204),a.emit("finish",e,t.responseText),a._cleanup(!1)}}},a.xhr.send(r)},w.prototype._cleanup=function(t){var e=this;if(e.xhr){if(n.unload_del(e.unload_ref),e.xhr.onreadystatechange=function(){},t)try{e.xhr.abort()}catch(i){}e.unload_ref=e.xhr=null}},w.prototype.close=function(){var t=this;t.nuke(),t._cleanup(!0)};var k=n.XHRCorsObject=function(){var t=this,e=arguments;n.delay(function(){t._start.apply(t,e)})};k.prototype=new w;var x=n.XHRLocalObject=function(t,e,i){var r=this;n.delay(function(){r._start(t,e,i,{no_credentials:!0})})};x.prototype=new w;var C=n.XDRObject=function(t,e,i){var r=this;n.delay(function(){r._start(t,e,i)})};C.prototype=new o(["chunk","finish"]),C.prototype._start=function(t,e,i){var r=this,o=new XDomainRequest;e+=(-1===e.indexOf("?")?"?":"&")+"t="+ +new Date;var a=o.ontimeout=o.onerror=function(){r.emit("finish",0,""),r._cleanup(!1)};o.onprogress=function(){r.emit("chunk",200,o.responseText)},o.onload=function(){r.emit("finish",200,o.responseText),r._cleanup(!1)},r.xdr=o,r.unload_ref=n.unload_add(function(){r._cleanup(!0)});try{r.xdr.open(t,e),r.xdr.send(i)}catch(s){a()}},C.prototype._cleanup=function(t){var e=this;if(e.xdr){if(n.unload_del(e.unload_ref),e.xdr.ontimeout=e.xdr.onerror=e.xdr.onprogress=e.xdr.onload=null,t)try{e.xdr.abort()}catch(i){}e.unload_ref=e.xdr=null}},C.prototype.close=function(){var t=this;t.nuke(),t._cleanup(!0)},n.isXHRCorsCapable=function(){return e.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest?1:e.XDomainRequest&&t.domain?2:R.enabled()?3:4};var S=function(t,i,r){if(this===e)return new S(t,i,r);var o,a=this;a._options={devel:!1,debug:!1,protocols_whitelist:[],info:void 0,rtt:void 0},r&&n.objectExtend(a._options,r),a._base_url=n.amendUrl(t),a._server=a._options.server||n.random_number_string(1e3),a._options.protocols_whitelist&&a._options.protocols_whitelist.length?o=a._options.protocols_whitelist:(o="string"==typeof i&&i.length>0?[i]:n.isArray(i)?i:null,o&&a._debug('Deprecated API: Use "protocols_whitelist" option instead of supplying protocol list as a second parameter to SockJS constructor.')),a._protocols=[],a.protocol=null,a.readyState=S.CONNECTING,a._ir=$(a._base_url),a._ir.onfinish=function(t,e){a._ir=null,t?(a._options.info&&(t=n.objectExtend(t,a._options.info)),a._options.rtt&&(e=a._options.rtt),a._applyInfo(t,e,o),a._didClose()):a._didClose(1002,"Can't connect to server",!0)}};S.prototype=new i,S.version="0.3.4",S.CONNECTING=0,S.OPEN=1,S.CLOSING=2,S.CLOSED=3,S.prototype._debug=function(){this._options.debug&&n.log.apply(n,arguments)},S.prototype._dispatchOpen=function(){var t=this;t.readyState===S.CONNECTING?(t._transport_tref&&(clearTimeout(t._transport_tref),t._transport_tref=null),t.readyState=S.OPEN,t.dispatchEvent(new r("open"))):t._didClose(1006,"Server lost session")},S.prototype._dispatchMessage=function(t){var e=this;e.readyState===S.OPEN&&e.dispatchEvent(new r("message",{data:t}))},S.prototype._dispatchHeartbeat=function(){var t=this;t.readyState===S.OPEN&&t.dispatchEvent(new r("heartbeat",{}))},S.prototype._didClose=function(t,e,i){var o=this;if(o.readyState!==S.CONNECTING&&o.readyState!==S.OPEN&&o.readyState!==S.CLOSING)throw new Error("INVALID_STATE_ERR");o._ir&&(o._ir.nuke(),o._ir=null),o._transport&&(o._transport.doCleanup(),o._transport=null);var a=new r("close",{code:t,reason:e,wasClean:n.userSetCode(t)});if(!n.userSetCode(t)&&o.readyState===S.CONNECTING&&!i){if(o._try_next_protocol(a))return;a=new r("close",{code:2e3,reason:"All transports failed",wasClean:!1,last_event:a})}o.readyState=S.CLOSED,n.delay(function(){o.dispatchEvent(a)})},S.prototype._didMessage=function(t){var e=this,n=t.slice(0,1);switch(n){case"o":e._dispatchOpen();break;case"a":for(var i=JSON.parse(t.slice(1)||"[]"),r=0;r<i.length;r++)e._dispatchMessage(i[r]);break;case"m":var i=JSON.parse(t.slice(1)||"null");e._dispatchMessage(i);break;case"c":var i=JSON.parse(t.slice(1)||"[]");e._didClose(i[0],i[1]);break;case"h":e._dispatchHeartbeat()}},S.prototype._try_next_protocol=function(e){var i=this;for(i.protocol&&(i._debug("Closed transport:",i.protocol,""+e),i.protocol=null),i._transport_tref&&(clearTimeout(i._transport_tref),i._transport_tref=null);;){var r=i.protocol=i._protocols.shift();if(!r)return!1;if(S[r]&&S[r].need_body===!0&&(!t.body||"undefined"!=typeof t.readyState&&"complete"!==t.readyState))return i._protocols.unshift(r),i.protocol="waiting-for-load",n.attachEvent("load",function(){i._try_next_protocol()}),!0;if(S[r]&&S[r].enabled(i._options)){var o=S[r].roundTrips||1,a=(i._options.rto||0)*o||5e3;i._transport_tref=n.delay(a,function(){i.readyState===S.CONNECTING&&i._didClose(2007,"Transport timeouted")});var s=n.random_string(8),c=i._base_url+"/"+i._server+"/"+s;return i._debug("Opening transport:",r," url:"+c," RTO:"+i._options.rto),i._transport=new S[r](i,c,i._base_url),!0}i._debug("Skipping transport:",r)}},S.prototype.close=function(t,e){var i=this;if(t&&!n.userSetCode(t))throw new Error("INVALID_ACCESS_ERR");return i.readyState!==S.CONNECTING&&i.readyState!==S.OPEN?!1:(i.readyState=S.CLOSING,i._didClose(t||1e3,e||"Normal closure"),!0)},S.prototype.send=function(t){var e=this;if(e.readyState===S.CONNECTING)throw new Error("INVALID_STATE_ERR");return e.readyState===S.OPEN&&e._transport.doSend(n.quote(""+t)),!0},S.prototype._applyInfo=function(e,i,r){var o=this;o._options.info=e,o._options.rtt=i,o._options.rto=n.countRTO(i),o._options.info.null_origin=!t.domain;var a=n.probeProtocols();o._protocols=n.detectProtocols(a,r,e)};var T=S.websocket=function(t,i){var r=this,o=i+"/websocket";o="https"===o.slice(0,5)?"wss"+o.slice(5):"ws"+o.slice(4),r.ri=t,r.url=o;var a=e.WebSocket||e.MozWebSocket;r.ws=new a(r.url),r.ws.onmessage=function(t){r.ri._didMessage(t.data)},r.unload_ref=n.unload_add(function(){r.ws.close()}),r.ws.onclose=function(){r.ri._didMessage(n.closeFrame(1006,"WebSocket connection broken"))}};T.prototype.doSend=function(t){this.ws.send("["+t+"]")},T.prototype.doCleanup=function(){var t=this,e=t.ws;e&&(e.onmessage=e.onclose=null,e.close(),n.unload_del(t.unload_ref),t.unload_ref=t.ri=t.ws=null)},T.enabled=function(){return!(!e.WebSocket&&!e.MozWebSocket)},T.roundTrips=2;var _=function(){};_.prototype.send_constructor=function(t){var e=this;e.send_buffer=[],e.sender=t},_.prototype.doSend=function(t){var e=this;e.send_buffer.push(t),e.send_stop||e.send_schedule()},_.prototype.send_schedule_wait=function(){var t,e=this;e.send_stop=function(){e.send_stop=null,clearTimeout(t)},t=n.delay(25,function(){e.send_stop=null,e.send_schedule()})},_.prototype.send_schedule=function(){var t=this;if(t.send_buffer.length>0){var e="["+t.send_buffer.join(",")+"]";t.send_stop=t.sender(t.trans_url,e,function(e,n){t.send_stop=null,e===!1?t.ri._didClose(1006,"Sending error "+n):t.send_schedule_wait()}),t.send_buffer=[]}},_.prototype.send_destructor=function(){var t=this;t._send_stop&&t._send_stop(),t._send_stop=null};var E=function(e,i,r){var o=this;if(!("_send_form"in o)){var a=o._send_form=t.createElement("form"),s=o._send_area=t.createElement("textarea");s.name="d",a.style.display="none",a.style.position="absolute",a.method="POST",a.enctype="application/x-www-form-urlencoded",a.acceptCharset="UTF-8",a.appendChild(s),t.body.appendChild(a)}var a=o._send_form,s=o._send_area,c="a"+n.random_string(8);a.target=c,a.action=e+"/jsonp_send?i="+c;var u;try{u=t.createElement('<iframe name="'+c+'">')}catch(l){u=t.createElement("iframe"),u.name=c}u.id=c,a.appendChild(u),u.style.display="none";try{s.value=i}catch(h){n.log("Your browser is seriously broken. Go home! "+h.message)}a.submit();var f=function(){u.onerror&&(u.onreadystatechange=u.onerror=u.onload=null,n.delay(500,function(){u.parentNode.removeChild(u),u=null}),s.value="",r(!0))};return u.onerror=u.onload=f,u.onreadystatechange=function(){"complete"==u.readyState&&f()},f},A=function(t){return function(e,n,i){var r=new t("POST",e+"/xhr_send",n);return r.onfinish=function(t){i(200===t||204===t,"http status "+t)},function(t){i(!1,t)}}},D=function(e,i){var r,o,a=t.createElement("script"),s=function(t){o&&(o.parentNode.removeChild(o),o=null),a&&(clearTimeout(r),a.parentNode.removeChild(a),a.onreadystatechange=a.onerror=a.onload=a.onclick=null,a=null,i(t),i=null)},c=!1,u=null;if(a.id="a"+n.random_string(8),a.src=e,a.type="text/javascript",a.charset="UTF-8",a.onerror=function(){u||(u=setTimeout(function(){c||s(n.closeFrame(1006,"JSONP script loaded abnormally (onerror)"))},1e3))},a.onload=function(){s(n.closeFrame(1006,"JSONP script loaded abnormally (onload)"))},a.onreadystatechange=function(){if(/loaded|closed/.test(a.readyState)){if(a&&a.htmlFor&&a.onclick){c=!0;try{a.onclick()}catch(t){}}a&&s(n.closeFrame(1006,"JSONP script loaded abnormally (onreadystatechange)"))}},"undefined"==typeof a.async&&t.attachEvent)if(/opera/i.test(navigator.userAgent))o=t.createElement("script"),o.text="try{var a = document.getElementById('"+a.id+"'); if(a)a.onerror();}catch(x){};",a.async=o.async=!1;else{try{a.htmlFor=a.id,a.event="onclick"}catch(l){}a.async=!0}"undefined"!=typeof a.async&&(a.async=!0),r=setTimeout(function(){s(n.closeFrame(1006,"JSONP script loaded abnormally (timeout)"))},35e3);var h=t.getElementsByTagName("head")[0];return h.insertBefore(a,h.firstChild),o&&h.insertBefore(o,h.firstChild),s},I=S["jsonp-polling"]=function(t,e){n.polluteGlobalNamespace();var i=this;i.ri=t,i.trans_url=e,i.send_constructor(E),i._schedule_recv()};I.prototype=new _,I.prototype._schedule_recv=function(){var t=this,e=function(e){t._recv_stop=null,e&&(t._is_closing||t.ri._didMessage(e)),t._is_closing||t._schedule_recv()};t._recv_stop=O(t.trans_url+"/jsonp",D,e)},I.enabled=function(){return!0},I.need_body=!0,I.prototype.doCleanup=function(){var t=this;t._is_closing=!0,t._recv_stop&&t._recv_stop(),t.ri=t._recv_stop=null,t.send_destructor()};var O=function(t,i,r){var o="a"+n.random_string(6),a=t+"?c="+escape(s+"."+o),c=0,u=function(t){switch(c){case 0:delete e[s][o],r(t);break;case 1:r(t),c=2;break;case 2:delete e[s][o]}},l=i(a,u);e[s][o]=l;var h=function(){e[s][o]&&(c=1,e[s][o](n.closeFrame(1e3,"JSONP user aborted read")))};return h},N=function(){};N.prototype=new _,N.prototype.run=function(t,e,n,i,r){var o=this;o.ri=t,o.trans_url=e,o.send_constructor(A(r)),o.poll=new J(t,i,e+n,r)},N.prototype.doCleanup=function(){var t=this;t.poll&&(t.poll.abort(),t.poll=null)};var M=S["xhr-streaming"]=function(t,e){this.run(t,e,"/xhr_streaming",ie,n.XHRCorsObject)};M.prototype=new N,M.enabled=function(){return e.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest&&!/opera/i.test(navigator.userAgent)},M.roundTrips=2,M.need_body=!0;var P=S["xdr-streaming"]=function(t,e){this.run(t,e,"/xhr_streaming",ie,n.XDRObject)};P.prototype=new N,P.enabled=function(){return!!e.XDomainRequest},P.roundTrips=2;var j=S["xhr-polling"]=function(t,e){this.run(t,e,"/xhr",ie,n.XHRCorsObject)};j.prototype=new N,j.enabled=M.enabled,j.roundTrips=2;var F=S["xdr-polling"]=function(t,e){this.run(t,e,"/xhr",ie,n.XDRObject)};F.prototype=new N,F.enabled=P.enabled,F.roundTrips=2;var R=function(){};R.prototype.i_constructor=function(t,e,i){var r=this;r.ri=t,r.origin=n.getOrigin(i),r.base_url=i,r.trans_url=e;var o=i+"/iframe.html";r.ri._options.devel&&(o+="?t="+ +new Date),r.window_id=n.random_string(8),o+="#"+r.window_id,r.iframeObj=n.createIframe(o,function(t){r.ri._didClose(1006,"Unable to load an iframe ("+t+")")}),r.onmessage_cb=n.bind(r.onmessage,r),n.attachMessage(r.onmessage_cb)},R.prototype.doCleanup=function(){var t=this;if(t.iframeObj){n.detachMessage(t.onmessage_cb);try{t.iframeObj.iframe.contentWindow&&t.postMessage("c")}catch(e){}t.iframeObj.cleanup(),t.iframeObj=null,t.onmessage_cb=t.iframeObj=null}},R.prototype.onmessage=function(t){var e=this;if(t.origin===e.origin){var n=t.data.slice(0,8),i=t.data.slice(8,9),r=t.data.slice(9);if(n===e.window_id)switch(i){case"s":e.iframeObj.loaded(),e.postMessage("s",JSON.stringify([S.version,e.protocol,e.trans_url,e.base_url]));break;case"t":e.ri._didMessage(r)}}},R.prototype.postMessage=function(t,e){var n=this;n.iframeObj.post(n.window_id+t+(e||""),n.origin)},R.prototype.doSend=function(t){this.postMessage("m",t)},R.enabled=function(){var t=navigator&&navigator.userAgent&&-1!==navigator.userAgent.indexOf("Konqueror");return("function"==typeof e.postMessage||"object"==typeof e.postMessage)&&!t};var L,H=function(t,i){parent!==e?parent.postMessage(L+t+(i||""),"*"):n.log("Can't postMessage, no parent window.",t,i)},B=function(){};B.prototype._didClose=function(t,e){H("t",n.closeFrame(t,e))},B.prototype._didMessage=function(t){H("t",t)},B.prototype._doSend=function(t){this._transport.doSend(t)},B.prototype._doCleanup=function(){this._transport.doCleanup()},n.parent_origin=void 0,S.bootstrap_iframe=function(){var i;L=t.location.hash.slice(1);var r=function(t){if(t.source===parent&&("undefined"==typeof n.parent_origin&&(n.parent_origin=t.origin),t.origin===n.parent_origin)){var r=t.data.slice(0,8),o=t.data.slice(8,9),a=t.data.slice(9);if(r===L)switch(o){case"s":var s=JSON.parse(a),c=s[0],u=s[1],l=s[2],h=s[3];if(c!==S.version&&n.log('Incompatibile SockJS! Main site uses: "'+c+'", the iframe: "'+S.version+'".'),!n.flatUrl(l)||!n.flatUrl(h))return void n.log("Only basic urls are supported in SockJS");if(!n.isSameOriginUrl(l)||!n.isSameOriginUrl(h))return void n.log("Can't connect to different domain from within an iframe. ("+JSON.stringify([e.location.href,l,h])+")");i=new B,i._transport=new B[u](i,l,h);break;case"m":i._doSend(a);break;case"c":i&&i._doCleanup(),i=null}}};n.attachMessage(r),H("s")};var U=function(t,e){var i=this;n.delay(function(){i.doXhr(t,e)})};U.prototype=new o(["finish"]),U.prototype.doXhr=function(t,e){var i=this,r=(new Date).getTime(),o=new e("GET",t+"/info"),a=n.delay(8e3,function(){o.ontimeout()});o.onfinish=function(t,e){if(clearTimeout(a),a=null,200===t){var n=(new Date).getTime()-r,o=JSON.parse(e);"object"!=typeof o&&(o={}),i.emit("finish",o,n)}else i.emit("finish")},o.ontimeout=function(){o.close(),i.emit("finish")}};var W=function(e){var i=this,r=function(){var t=new R;t.protocol="w-iframe-info-receiver";var n=function(e){if("string"==typeof e&&"m"===e.substr(0,1)){var n=JSON.parse(e.substr(1)),r=n[0],o=n[1];i.emit("finish",r,o)}else i.emit("finish");t.doCleanup(),t=null},r={_options:{},_didClose:n,_didMessage:n};t.i_constructor(r,e,e)};t.body?r():n.attachEvent("load",r)};W.prototype=new o(["finish"]);var q=function(){var t=this;n.delay(function(){t.emit("finish",{},2e3)})};q.prototype=new o(["finish"]);var $=function(t){if(n.isSameOriginUrl(t))return new U(t,n.XHRLocalObject);switch(n.isXHRCorsCapable()){case 1:return new U(t,n.XHRLocalObject);case 2:return new U(t,n.XDRObject);case 3:return new W(t);default:return new q}},V=B["w-iframe-info-receiver"]=function(t,e,i){var r=new U(i,n.XHRLocalObject);
r.onfinish=function(e,n){t._didMessage("m"+JSON.stringify([e,n])),t._didClose()}};V.prototype.doCleanup=function(){};var Y=S["iframe-eventsource"]=function(){var t=this;t.protocol="w-iframe-eventsource",t.i_constructor.apply(t,arguments)};Y.prototype=new R,Y.enabled=function(){return"EventSource"in e&&R.enabled()},Y.need_body=!0,Y.roundTrips=3;var z=B["w-iframe-eventsource"]=function(t,e){this.run(t,e,"/eventsource",Z,n.XHRLocalObject)};z.prototype=new N;var X=S["iframe-xhr-polling"]=function(){var t=this;t.protocol="w-iframe-xhr-polling",t.i_constructor.apply(t,arguments)};X.prototype=new R,X.enabled=function(){return e.XMLHttpRequest&&R.enabled()},X.need_body=!0,X.roundTrips=3;var G=B["w-iframe-xhr-polling"]=function(t,e){this.run(t,e,"/xhr",ie,n.XHRLocalObject)};G.prototype=new N;var K=S["iframe-htmlfile"]=function(){var t=this;t.protocol="w-iframe-htmlfile",t.i_constructor.apply(t,arguments)};K.prototype=new R,K.enabled=function(){return R.enabled()},K.need_body=!0,K.roundTrips=3;var Q=B["w-iframe-htmlfile"]=function(t,e){this.run(t,e,"/htmlfile",ne,n.XHRLocalObject)};Q.prototype=new N;var J=function(t,e,n,i){var r=this;r.ri=t,r.Receiver=e,r.recv_url=n,r.AjaxObject=i,r._scheduleRecv()};J.prototype._scheduleRecv=function(){var t=this,e=t.poll=new t.Receiver(t.recv_url,t.AjaxObject),n=0;e.onmessage=function(e){n+=1,t.ri._didMessage(e.data)},e.onclose=function(n){t.poll=e=e.onmessage=e.onclose=null,t.poll_is_closing||("permanent"===n.reason?t.ri._didClose(1006,"Polling error ("+n.reason+")"):t._scheduleRecv())}},J.prototype.abort=function(){var t=this;t.poll_is_closing=!0,t.poll&&t.poll.abort()};var Z=function(t){var e=this,i=new EventSource(t);i.onmessage=function(t){e.dispatchEvent(new r("message",{data:unescape(t.data)}))},e.es_close=i.onerror=function(t,o){var a=o?"user":2!==i.readyState?"network":"permanent";e.es_close=i.onmessage=i.onerror=null,i.close(),i=null,n.delay(200,function(){e.dispatchEvent(new r("close",{reason:a}))})}};Z.prototype=new i,Z.prototype.abort=function(){var t=this;t.es_close&&t.es_close({},!0)};var te,ee=function(){if(void 0===te)if("ActiveXObject"in e)try{te=!!new ActiveXObject("htmlfile")}catch(t){}else te=!1;return te},ne=function(t){var i=this;n.polluteGlobalNamespace(),i.id="a"+n.random_string(6,26),t+=(-1===t.indexOf("?")?"?":"&")+"c="+escape(s+"."+i.id);var o,a=ee()?n.createHtmlfile:n.createIframe;e[s][i.id]={start:function(){o.loaded()},message:function(t){i.dispatchEvent(new r("message",{data:t}))},stop:function(){i.iframe_close({},"network")}},i.iframe_close=function(t,n){o.cleanup(),i.iframe_close=o=null,delete e[s][i.id],i.dispatchEvent(new r("close",{reason:n}))},o=a(t,function(){i.iframe_close({},"permanent")})};ne.prototype=new i,ne.prototype.abort=function(){var t=this;t.iframe_close&&t.iframe_close({},"user")};var ie=function(t,e){var n=this,i=0;n.xo=new e("POST",t,null),n.xo.onchunk=function(t,e){if(200===t)for(;;){var o=e.slice(i),a=o.indexOf("\n");if(-1===a)break;i+=a+1;var s=o.slice(0,a);n.dispatchEvent(new r("message",{data:s}))}},n.xo.onfinish=function(t,e){n.xo.onchunk(t,e),n.xo=null;var i=200===t?"network":"permanent";n.dispatchEvent(new r("close",{reason:i}))}};return ie.prototype=new i,ie.prototype.abort=function(){var t=this;t.xo&&(t.xo.close(),t.dispatchEvent(new r("close",{reason:"user"})),t.xo=null)},S.getUtils=function(){return n},S.getIframeTransport=function(){return R},S}(),"_sockjs_onload"in window&&setTimeout(_sockjs_onload,1),"function"==typeof define&&define.amd&&define("sockjs",[],function(){return SockJS}),function(t){define("stomp-websocket",[],function(){return function(){return function(){var t,e,n,i,r={}.hasOwnProperty,o=[].slice;t={LF:"\n",NULL:"\x00"},n=function(){function e(t,e,n){this.command=t,this.headers=null!=e?e:{},this.body=null!=n?n:""}var n;return e.prototype.toString=function(){var n,i,o,a,s;n=[this.command],o=this.headers["content-length"]===!1?!0:!1,o&&delete this.headers["content-length"],s=this.headers;for(i in s)r.call(s,i)&&(a=s[i],n.push(""+i+":"+a));return this.body&&!o&&n.push("content-length:"+e.sizeOfUTF8(this.body)),n.push(t.LF+this.body),n.join(t.LF)},e.sizeOfUTF8=function(t){return t?encodeURI(t).match(/%..|./g).length:0},n=function(n){var i,r,o,a,s,c,u,l,h,f,d,p,g,m,v,y,b;for(a=n.search(RegExp(""+t.LF+t.LF)),s=n.substring(0,a).split(t.LF),o=s.shift(),c={},p=function(t){return t.replace(/^\s+|\s+$/g,"")},y=s.reverse(),g=0,v=y.length;v>g;g++)f=y[g],l=f.indexOf(":"),c[p(f.substring(0,l))]=p(f.substring(l+1));if(i="",d=a+2,c["content-length"])h=parseInt(c["content-length"]),i=(""+n).substring(d,d+h);else for(r=null,u=m=d,b=n.length;(b>=d?b>m:m>b)&&(r=n.charAt(u),r!==t.NULL);u=b>=d?++m:--m)i+=r;return new e(o,c,i)},e.unmarshall=function(e){var i,r,o,a;return r=e.split(RegExp(""+t.NULL+t.LF+"*")),a={frames:[],partial:""},a.frames=function(){var t,e,o,a;for(o=r.slice(0,-1),a=[],t=0,e=o.length;e>t;t++)i=o[t],a.push(n(i));return a}(),o=r.slice(-1)[0],o===t.LF||-1!==o.search(RegExp(""+t.NULL+t.LF+"*$"))?a.frames.push(n(o)):a.partial=o,a},e.marshall=function(n,i,r){var o;return o=new e(n,i,r),o.toString()+t.NULL},e}(),e=function(){function e(t){this.ws=t,this.ws.binaryType="arraybuffer",this.counter=0,this.connected=!1,this.heartbeat={outgoing:1e4,incoming:1e4},this.maxWebSocketFrameSize=16384,this.subscriptions={},this.partialData=""}var r;return e.prototype.debug=function(t){var e;return"undefined"!=typeof window&&null!==window&&null!=(e=window.console)?e.log(t):void 0},r=function(){return Date.now?Date.now():(new Date).valueOf},e.prototype._transmit=function(t,e,i){var r;for(r=n.marshall(t,e,i),"function"==typeof this.debug&&this.debug(">>> "+r);;){if(!(r.length>this.maxWebSocketFrameSize))return this.ws.send(r);this.ws.send(r.substring(0,this.maxWebSocketFrameSize)),r=r.substring(this.maxWebSocketFrameSize),"function"==typeof this.debug&&this.debug("remaining = "+r.length)}},e.prototype._setupHeartbeat=function(e){var n,o,a,s,c,u;if((c=e.version)===i.VERSIONS.V1_1||c===i.VERSIONS.V1_2)return u=function(){var t,n,i,r;for(i=e["heart-beat"].split(","),r=[],t=0,n=i.length;n>t;t++)s=i[t],r.push(parseInt(s));return r}(),o=u[0],n=u[1],0!==this.heartbeat.outgoing&&0!==n&&(a=Math.max(this.heartbeat.outgoing,n),"function"==typeof this.debug&&this.debug("send PING every "+a+"ms"),this.pinger=i.setInterval(a,function(e){return function(){return e.ws.send(t.LF),"function"==typeof e.debug?e.debug(">>> PING"):void 0}}(this))),0!==this.heartbeat.incoming&&0!==o?(a=Math.max(this.heartbeat.incoming,o),"function"==typeof this.debug&&this.debug("check PONG every "+a+"ms"),this.ponger=i.setInterval(a,function(t){return function(){var e;return e=r()-t.serverActivity,e>2*a?("function"==typeof t.debug&&t.debug("did not receive server activity for the last "+e+"ms"),t.ws.close()):void 0}}(this))):void 0},e.prototype._parseConnect=function(){var t,e,n,i;switch(t=1<=arguments.length?o.call(arguments,0):[],i={},t.length){case 2:i=t[0],e=t[1];break;case 3:t[1]instanceof Function?(i=t[0],e=t[1],n=t[2]):(i.login=t[0],i.passcode=t[1],e=t[2]);break;case 4:i.login=t[0],i.passcode=t[1],e=t[2],n=t[3];break;default:i.login=t[0],i.passcode=t[1],e=t[2],n=t[3],i.host=t[4]}return[i,e,n]},e.prototype.connect=function(){var e,a,s,c;return e=1<=arguments.length?o.call(arguments,0):[],c=this._parseConnect.apply(this,e),s=c[0],this.connectCallback=c[1],a=c[2],"function"==typeof this.debug&&this.debug("Opening Web Socket..."),this.ws.onmessage=function(e){return function(i){var o,s,c,u,l,h,f,d,p,g,m,v,y;if(u="undefined"!=typeof ArrayBuffer&&i.data instanceof ArrayBuffer?(o=new Uint8Array(i.data),"function"==typeof e.debug?e.debug("--- got data length: "+o.length):void 0,function(){var t,e,n;for(n=[],t=0,e=o.length;e>t;t++)s=o[t],n.push(String.fromCharCode(s));return n}().join("")):i.data,e.serverActivity=r(),u===t.LF)return void("function"==typeof e.debug&&e.debug("<<< PONG"));for("function"==typeof e.debug&&e.debug("<<< "+u),p=n.unmarshall(e.partialData+u),e.partialData=p.partial,v=p.frames,y=[],g=0,m=v.length;m>g;g++)switch(l=v[g],l.command){case"CONNECTED":"function"==typeof e.debug&&e.debug("connected to server "+l.headers.server),e.connected=!0,e._setupHeartbeat(l.headers),y.push("function"==typeof e.connectCallback?e.connectCallback(l):void 0);break;case"MESSAGE":d=l.headers.subscription,f=e.subscriptions[d]||e.onreceive,f?(c=e,h=l.headers["message-id"],l.ack=function(t){return null==t&&(t={}),c.ack(h,d,t)},l.nack=function(t){return null==t&&(t={}),c.nack(h,d,t)},y.push(f(l))):y.push("function"==typeof e.debug?e.debug("Unhandled received MESSAGE: "+l):void 0);break;case"RECEIPT":y.push("function"==typeof e.onreceipt?e.onreceipt(l):void 0);break;case"ERROR":y.push("function"==typeof a?a(l):void 0);break;default:y.push("function"==typeof e.debug?e.debug("Unhandled frame: "+l):void 0)}return y}}(this),this.ws.onclose=function(t){return function(){var e;return e="Whoops! Lost connection to "+t.ws.url,"function"==typeof t.debug&&t.debug(e),t._cleanUp(),"function"==typeof a?a(e):void 0}}(this),this.ws.onopen=function(t){return function(){return"function"==typeof t.debug&&t.debug("Web Socket Opened..."),s["accept-version"]=i.VERSIONS.supportedVersions(),s["heart-beat"]=[t.heartbeat.outgoing,t.heartbeat.incoming].join(","),t._transmit("CONNECT",s)}}(this)},e.prototype.disconnect=function(t,e){return null==e&&(e={}),this._transmit("DISCONNECT",e),this.ws.onclose=null,this.ws.close(),this._cleanUp(),"function"==typeof t?t():void 0},e.prototype._cleanUp=function(){return this.connected=!1,this.pinger&&i.clearInterval(this.pinger),this.ponger?i.clearInterval(this.ponger):void 0},e.prototype.send=function(t,e,n){return null==e&&(e={}),null==n&&(n=""),e.destination=t,this._transmit("SEND",e,n)},e.prototype.subscribe=function(t,e,n){var i;return null==n&&(n={}),n.id||(n.id="sub-"+this.counter++),n.destination=t,this.subscriptions[n.id]=e,this._transmit("SUBSCRIBE",n),i=this,{id:n.id,unsubscribe:function(){return i.unsubscribe(n.id)}}},e.prototype.unsubscribe=function(t){return delete this.subscriptions[t],this._transmit("UNSUBSCRIBE",{id:t})},e.prototype.begin=function(t){var e,n;return n=t||"tx-"+this.counter++,this._transmit("BEGIN",{transaction:n}),e=this,{id:n,commit:function(){return e.commit(n)},abort:function(){return e.abort(n)}}},e.prototype.commit=function(t){return this._transmit("COMMIT",{transaction:t})},e.prototype.abort=function(t){return this._transmit("ABORT",{transaction:t})},e.prototype.ack=function(t,e,n){return null==n&&(n={}),n["message-id"]=t,n.subscription=e,this._transmit("ACK",n)},e.prototype.nack=function(t,e,n){return null==n&&(n={}),n["message-id"]=t,n.subscription=e,this._transmit("NACK",n)},e}(),i={VERSIONS:{V1_0:"1.0",V1_1:"1.1",V1_2:"1.2",supportedVersions:function(){return"1.1,1.0"}},client:function(t,n){var r,o;return null==n&&(n=["v10.stomp","v11.stomp"]),r=i.WebSocketClass||WebSocket,o=new r(t,n),new e(o)},over:function(t){return new e(t)},Frame:n},"undefined"!=typeof exports&&null!==exports&&(exports.Stomp=i),"undefined"!=typeof window&&null!==window?(i.setInterval=function(t,e){return window.setInterval(e,t)},i.clearInterval=function(t){return window.clearInterval(t)},window.Stomp=i):exports||(self.Stomp=i)}.call(this),t.Stomp=Stomp}.apply(t,arguments)})}(this);var LZString=function(){function t(t,e){if(!r[t]){r[t]={};for(var n=0;n<t.length;n++)r[t][t.charAt(n)]=n}return r[t][e]}var e=String.fromCharCode,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",r={},o={compressToBase64:function(t){if(null==t)return"";var e=o._compress(t,6,function(t){return n.charAt(t)});switch(e.length%4){default:case 0:return e;case 1:return e+"===";case 2:return e+"==";case 3:return e+"="}},decompressFromBase64:function(e){return null==e?"":""==e?null:o._decompress(e.length,32,function(i){return t(n,e.charAt(i))})},compressToUTF16:function(t){return null==t?"":o._compress(t,15,function(t){return e(t+32)})+" "},decompressFromUTF16:function(t){return null==t?"":""==t?null:o._decompress(t.length,16384,function(e){return t.charCodeAt(e)-32})},compressToUint8Array:function(t){for(var e=o.compress(t),n=new Uint8Array(2*e.length),i=0,r=e.length;r>i;i++){var a=e.charCodeAt(i);n[2*i]=a>>>8,n[2*i+1]=a%256}return n},decompressFromUint8Array:function(t){if(null===t||void 0===t)return o.decompress(t);for(var n=new Array(t.length/2),i=0,r=n.length;r>i;i++)n[i]=256*t[2*i]+t[2*i+1];var a=[];return n.forEach(function(t){a.push(e(t))}),o.decompress(a.join(""))},compressToEncodedURIComponent:function(t){return null==t?"":o._compress(t,6,function(t){return i.charAt(t)})},decompressFromEncodedURIComponent:function(e){return null==e?"":""==e?null:(e=e.replace(/ /g,"+"),o._decompress(e.length,32,function(n){return t(i,e.charAt(n))}))},compress:function(t){return o._compress(t,16,function(t){return e(t)})},_compress:function(t,e,n){if(null==t)return"";var i,r,o,a={},s={},c="",u="",l="",h=2,f=3,d=2,p=[],g=0,m=0;for(o=0;o<t.length;o+=1)if(c=t.charAt(o),Object.prototype.hasOwnProperty.call(a,c)||(a[c]=f++,s[c]=!0),u=l+c,Object.prototype.hasOwnProperty.call(a,u))l=u;else{if(Object.prototype.hasOwnProperty.call(s,l)){if(l.charCodeAt(0)<256){for(i=0;d>i;i++)g<<=1,m==e-1?(m=0,p.push(n(g)),g=0):m++;for(r=l.charCodeAt(0),i=0;8>i;i++)g=g<<1|1&r,m==e-1?(m=0,p.push(n(g)),g=0):m++,r>>=1}else{for(r=1,i=0;d>i;i++)g=g<<1|r,m==e-1?(m=0,p.push(n(g)),g=0):m++,r=0;for(r=l.charCodeAt(0),i=0;16>i;i++)g=g<<1|1&r,m==e-1?(m=0,p.push(n(g)),g=0):m++,r>>=1}h--,0==h&&(h=Math.pow(2,d),d++),delete s[l]}else for(r=a[l],i=0;d>i;i++)g=g<<1|1&r,m==e-1?(m=0,p.push(n(g)),g=0):m++,r>>=1;h--,0==h&&(h=Math.pow(2,d),d++),a[u]=f++,l=String(c)}if(""!==l){if(Object.prototype.hasOwnProperty.call(s,l)){if(l.charCodeAt(0)<256){for(i=0;d>i;i++)g<<=1,m==e-1?(m=0,p.push(n(g)),g=0):m++;for(r=l.charCodeAt(0),i=0;8>i;i++)g=g<<1|1&r,m==e-1?(m=0,p.push(n(g)),g=0):m++,r>>=1}else{for(r=1,i=0;d>i;i++)g=g<<1|r,m==e-1?(m=0,p.push(n(g)),g=0):m++,r=0;for(r=l.charCodeAt(0),i=0;16>i;i++)g=g<<1|1&r,m==e-1?(m=0,p.push(n(g)),g=0):m++,r>>=1}h--,0==h&&(h=Math.pow(2,d),d++),delete s[l]}else for(r=a[l],i=0;d>i;i++)g=g<<1|1&r,m==e-1?(m=0,p.push(n(g)),g=0):m++,r>>=1;h--,0==h&&(h=Math.pow(2,d),d++)}for(r=2,i=0;d>i;i++)g=g<<1|1&r,m==e-1?(m=0,p.push(n(g)),g=0):m++,r>>=1;for(;;){if(g<<=1,m==e-1){p.push(n(g));break}m++}return p.join("")},decompress:function(t){return null==t?"":""==t?null:o._decompress(t.length,32768,function(e){return t.charCodeAt(e)})},_decompress:function(t,n,i){var r,o,a,s,c,u,l,h,f=[],d=4,p=4,g=3,m="",v=[],y={val:i(0),position:n,index:1};for(o=0;3>o;o+=1)f[o]=o;for(s=0,u=Math.pow(2,2),l=1;l!=u;)c=y.val&y.position,y.position>>=1,0==y.position&&(y.position=n,y.val=i(y.index++)),s|=(c>0?1:0)*l,l<<=1;switch(r=s){case 0:for(s=0,u=Math.pow(2,8),l=1;l!=u;)c=y.val&y.position,y.position>>=1,0==y.position&&(y.position=n,y.val=i(y.index++)),s|=(c>0?1:0)*l,l<<=1;h=e(s);break;case 1:for(s=0,u=Math.pow(2,16),l=1;l!=u;)c=y.val&y.position,y.position>>=1,0==y.position&&(y.position=n,y.val=i(y.index++)),s|=(c>0?1:0)*l,l<<=1;h=e(s);break;case 2:return""}for(f[3]=h,a=h,v.push(h);;){if(y.index>t)return"";for(s=0,u=Math.pow(2,g),l=1;l!=u;)c=y.val&y.position,y.position>>=1,0==y.position&&(y.position=n,y.val=i(y.index++)),s|=(c>0?1:0)*l,l<<=1;switch(h=s){case 0:for(s=0,u=Math.pow(2,8),l=1;l!=u;)c=y.val&y.position,y.position>>=1,0==y.position&&(y.position=n,y.val=i(y.index++)),s|=(c>0?1:0)*l,l<<=1;f[p++]=e(s),h=p-1,d--;break;case 1:for(s=0,u=Math.pow(2,16),l=1;l!=u;)c=y.val&y.position,y.position>>=1,0==y.position&&(y.position=n,y.val=i(y.index++)),s|=(c>0?1:0)*l,l<<=1;f[p++]=e(s),h=p-1,d--;break;case 2:return v.join("")}if(0==d&&(d=Math.pow(2,g),g++),f[h])m=f[h];else{if(h!==p)return null;m=a+a.charAt(0)}v.push(m),f[p++]=a+m.charAt(0),d--,a=m,0==d&&(d=Math.pow(2,g),g++)}}};return o}();"function"==typeof define&&define.amd?define("lz-string",[],function(){return LZString}):"undefined"!=typeof module&&null!=module&&(module.exports=LZString);var timer,seq=0,sortRowId=0,checkSmartPhone=0,vStockListSelected="",cookieName1="fullStockLists1",cookieName2="fullStockLists2",cookieName3="fullStockLists3",chartCookieName="chartSetting",cookieOptions={expires:365,path:"/"},MAX_STOCK=6,MIN_STOCK=3,iMode=1,socket,interval=10,chartInterval=2e3,defYear=2012,defMonth=1,defDay=1,bHour=9,bMin=0,eHour=14,eMin=15,serverSeq=0,serverSeqPt=0,mainPage=1,serverDate="",curTab=1,menuStatus=0,insert=1,tabHashMap=new Object;tabHashMap[5]="TT_HOSE",tabHashMap[7]="TT_HNX";var predefined_list_id=0,IndexIDMap=new Object;IndexIDMap.HOSE="HOSE",IndexIDMap.HNX="HNX",IndexIDMap.UPC="UPCOM",IndexIDMap.V30="VN30",IndexIDMap.H30="HNX30";var INDEX_NAME=new Object;INDEX_NAME.HOSE="10",INDEX_NAME.HNX="02",INDEX_NAME.UPC="03",INDEX_NAME.V30="11",INDEX_NAME.H30="12";var IndexStatus=new Object;IndexStatus.HOSE=1,IndexStatus.HNX=1,IndexStatus.UPC=1,IndexStatus.V30=1,IndexStatus.H30=1;var CONST_HSX_NAME="10",CONST_HNX_NAME="02",CONST_UPC_NAME="03",CONST_VN30_NAME="11",CONST_HX30_NAME="12",chartStatus=1,chartStatusVN=0,chartStatusHNX=0,chartStatusVN30=0,chartStatusHNX30=0,chartStatusUPCOM=0,symView="",GStockData=[],GStockVolume=[],GCategoriesList=[];GCategoriesList[1]="",GCategoriesList[2]="",GCategoriesList[3]="",GCategoriesList[4]="",GCategoriesList[5]="",GCategoriesList[6]="",GCategoriesList[7]="",GCategoriesList[8]="",GCategoriesList[9]="",GCategoriesList[10]="";var GHSXData=[],GHSXVolume=[],FlotHSXChart,GHNXData=[],GHNXVolume=[],FlotHNXChart,GV30Data=[],GV30Volume=[],FlotV30Chart,GUPCData=[],GUPCVolume=[],FlotUPCChart,GH30Data=[],GH30Volume=[],FlotH30Chart;define("legacy/quotesConfigPc",function(){}),FloorCodes={HNX:"02",HOSE:"10",UPCOM:"03",VN30:"11",HNX30:"12",VNXALLSHARE:"13",getFullList:function(){return["10","11","12","13","02","03"]}},MarketStatus={OPEN:"0",ATO:"2",SUSPEND:"10",ATC:"9",PT:"35",CONTINUE:"5",CLOSE:"13",END_OF_DAY:"12",BREAK:"3",END_OF_BREAK:"1",STOP_ALL:"7"},define("legacy/constant",function(){}),define("legacy/MessageUnmarshaller",[],function(){return MessageUnmarshaller={SEPARATOR:"|",map:{STOCK:function(t){if(t){var e=t.split(MessageUnmarshaller.SEPARATOR);return e.length<40&&console.error("StockInfo message structre is change. "),itemInfo={},itemInfo.floorCode=e[0],itemInfo.tradingDate=e[1],itemInfo.time=e[2],itemInfo.code=e[3],itemInfo.companyName=e[4],itemInfo.stockType=e[5],itemInfo.totalRoom=e[6],itemInfo.currentRoom=e[7],itemInfo.basicPrice=e[8],itemInfo.openPrice=e[9],itemInfo.closePrice=e[10],itemInfo.currentPrice=e[11],itemInfo.currentQtty=e[12],itemInfo.highestPrice=e[13],itemInfo.lowestPrice=e[14],itemInfo.ceilingPrice=e[15],itemInfo.floorPrice=e[16],itemInfo.totalOfferQtty=e[17],itemInfo.totalBidQtty=e[18],itemInfo.matchPrice=e[19],itemInfo.matchQtty=e[20],itemInfo.matchValue=e[21],itemInfo.averagePrice=e[22],itemInfo.bidPrice01=e[23],itemInfo.bidQtty01=e[24],itemInfo.bidPrice02=e[25],itemInfo.bidQtty02=e[26],itemInfo.bidPrice03=e[27],itemInfo.bidQtty03=e[28],itemInfo.offerPrice01=e[29],itemInfo.offerQtty01=e[30],itemInfo.offerPrice02=e[31],itemInfo.offerQtty02=e[32],itemInfo.offerPrice03=e[33],itemInfo.offerQtty03=e[34],itemInfo.accumulatedVal=e[35],itemInfo.accumulatedVol=e[36],itemInfo.buyForeignQtty=e[37],itemInfo.sellForeignQtty=e[38],itemInfo.projectOpen=e[39],itemInfo.sequence=e[40],itemInfo}},MARKETINFO:function(t){var e=t.split(MessageUnmarshaller.SEPARATOR);return itemInfo={},itemInfo.marketID=e[0],itemInfo.totalTrade=e[1],itemInfo.totalShareTraded=e[2],itemInfo.totalValueTraded=e[3],itemInfo.advance=e[4],itemInfo.decline=e[5],itemInfo.noChange=e[6],itemInfo.indexValue=e[7],itemInfo.changed=e[8],itemInfo.tradingTime=e[9],itemInfo.tradingDate=e[10],itemInfo.floorCode=e[11],itemInfo.marketIndex=e[12],itemInfo.priorMarketIndex=e[13],itemInfo.highestIndex=e[14],itemInfo.lowestIndex=e[15],itemInfo.shareTraded=e[16],itemInfo.status=e[17],itemInfo.sequence=e[18],itemInfo.predictionMarketIndex=e[19],itemInfo},PT_ORDER:function(t){var e=t.split(MessageUnmarshaller.SEPARATOR);return itemInfo={},itemInfo.floorCode=e[0],itemInfo.symbol=e[1],itemInfo.price=parseFloat(e[2]),itemInfo.volume=parseFloat(e[3]),itemInfo.time=e[4],itemInfo.sequence=e[5],itemInfo.basicPrice=e[6],itemInfo.ceilingPrice=e[7],itemInfo.floorPrice=e[8],itemInfo},AD_ORDER:function(t){var e=t.split(MessageUnmarshaller.SEPARATOR);return itemInfo={},itemInfo.floorCode=e[0],itemInfo.stockSymbol=e[1],itemInfo.price=e[2],itemInfo.vol=e[3],itemInfo.type=e[4],itemInfo.status=e[5],itemInfo.time=e[6],itemInfo.sequence=e[7],itemInfo.basicPrice=e[8],itemInfo.ceilingPrice=e[9],itemInfo.floorPrice=e[10],itemInfo},TRANSACTION:function(t){var e=t.split(MessageUnmarshaller.SEPARATOR);return itemInfo={},itemInfo.floorCode=e[0],itemInfo.symbol=e[1],itemInfo.highest=e[2],itemInfo.last=e[3],itemInfo.lastVol=e[4],itemInfo.lowest=e[5],itemInfo.matchType=e[6],itemInfo.openPrice=e[7],itemInfo.time=e[8],itemInfo.sequence=e[9],itemInfo.basicPrice=e[10],itemInfo}},regist:function(t,e){"function"==typeof e&&(this.map[t]=e)},unmarshal:function(t,e){return"undefined"==typeof this.map[t]?e:this.map[t](e)}},MessageUnmarshaller}),TabDictionary={1:"Danh muc nguoi dung",2:"Cp theo nhom",3:"Hose",4:"GDTT hose",5:"Hnx",6:"GDTT hnx",7:"Upcom"},define("legacy/Dictionary",function(){}),define("legacy/ConsumerManager",["require","jquery"],function(t){function e(){this.init()}var n=t("jquery");return e.prototype={init:function(){this.store={}},regist:function(t,e,i){e=n.unique(e),e=n.grep(e,function(t){return t.length>0});var r=i?i:"defaultId",o=this.store[t],a=this.getNewCodes(t,e);return o||(o={},this.store[t]=o),o[r]?(o[r]=n.unique(n.merge(o[r],e)),a):(o[r]=e,a)},getNewCodes:function(t,e){for(var n=this.getAllCodes(t),i=[],r=0;r<e.length;r++){var o=e[r];n.indexOf(o)>-1||i.push(o)}return i},getAllCodes:function(t){var e=[],i=this.store[t];return i?(n.each(i,function(t,i){e=n.merge(e,i)}),e=n.unique(e)):[]},stop:function(t,e,i){var r=i?i:"defaultId",o=this.store[t];if(!o)return[];var a=o[r];if(!a)return[];var s=[];n.each(e,function(t,e){var n=a.indexOf(e);a.splice(n,1),s.push(e)});var c=this.getAllCodes(t),u=[];return n.each(s,function(t,e){c.indexOf(e)<0&&u.push(e)}),u}},e}),define("legacy/OverrideSockJS",["require","sockjs"],function(t,e){return e.prototype.handler={},e.prototype.onEvent=function(t,e){this.handler[t]=e},e.prototype.onmessage=function(t){var e=JSON.parse(t.data);"function"==typeof this.handler[e.type]&&this.handler[e.type](e.type,e.data)},e.prototype.emit=function(){var t;t=JSON.stringify(2==arguments.length?{type:arguments[0],data:arguments[1]}:arguments[0]),this.send(t)},e}),define("legacy/PubSub",["require"],function(){var t={},e=t.hasOwnProperty;return{subscribe:function(n,i){e.call(t,n)||(t[n]=[]);var r=t[n].push(i)-1;return{remove:function(){delete t[n][r]}}},publish:function(n,i){e.call(t,n)&&t[n].forEach(function(t){t(void 0!=i?i:{})})}}}),define("component/config",[],function(){return{url:{price:["https://priceservice.vndirect.com.vn"],trade:"https://trade-api.vndirect.com.vn",auth:"https://auth-api.vndirect.com.vn",noti:"https://websocket.vndirect.com.vn/notisocket",finfo:"https://finfoapi-hn.vndirect.com.vn",profile:"https://profile-api.vndirect.com.vn/watchlist",tradingView:"https://banggia.vndirect.com.vn/chart",dRating:"https://banggia.vndirect.com.vn/drating/",customerApi:"https://customer-api.vndirect.com.vn/",vndTrackApi:"https://product.vndirect.com.vn"},session:{ato:"Phiên ATO",continuous:"Liên tục",intermission:"Nghỉ trưa",atc:"Phiên ATC",putThrough:"Phiên GDTT",closed:"Đóng cửa"},priceTypes:{HOSE:{ato:["LO","ATO"],continuous:["LO","MP","ATC"],intermission:["LO","MP","ATC"],atc:["LO","ATC"],putThrough:["LO","ATO"],closed:["LO","ATO"]},HNX:{continuous:["LO","ATC","MOK","MAK","MTL"],intermission:["LO","ATC","MOK","MAK","MTL"],atc:["LO","ATC"],putThrough:["LO","MOK","MAK","MTL"],closed:["LO","MOK","MAK","MTL"]},UPCOM:{continuous:["LO"],intermission:["LO"],closed:["LO"]},all:["LO","ATC","ATO","MP","MOK","MAK","MTL"]},priceTabs:{userCategory:1,categoryByIndustry:2,hose:3,hosePutthrough:4,hnx:5,hnxPutthrough:6,upcom:7,hoseFundamentals:8,hnxFundamentals:9,upcomFundamentals:10,userCategoryFundamentals:11,categoryByIndustryFundamentals:12,motif:13,vn30:14,hnx30:15,vn30Fundamentals:16,hnx30Fundamentals:17},reconnectDelay:1e4,googleApiKey:"AIzaSyAC-qPUmDt6-UrODgSl8akIBjps3YPNMKk",firebaseConfig:{apiKey:"AIzaSyApOiEFysB0KqnE-E9CWYCrlvie22Yzgzg",authDomain:"vndirect-profile.firebaseapp.com",databaseURL:"https://vndirect-profile.firebaseio.com",storageBucket:"vndirect-profile.appspot.com"},majorHolder:{"001":"Quý khách đang là cổ đông lớn của công ty. Vui lòng công bố thông tin trong vòng 7 ngày kể từ ngày phát sinh thay đổi số lượng sở hữu.","002":"Theo quy định của pháp luật, Quý khách phải báo cáo cho công ty đại chúng, UBCKNN, SGDCK trong thời hạn 07 ngày kể từ ngày sở hữu từ 5% trở lên số cổ phiếu của công ty.","003":"Quý khách đang là cổ đông nội bộ của Công ty. Vui lòng công bố thông tin trước ngày thực hiện giao dịch 3 ngày làm việc.","004":"Quý khách đã yêu cầu cảnh báo đối với mã chứng khoán này."}}}),define("component/vnds-track",["require","jquery","component/config"],function(t){{var e=t("jquery"),n=t("component/config");n.url.vndTrackApi}return{track:function(t,i){i.eventName=t,e.ajax({type:"POST",url:n.url.vndTrackApi+"/events",contentType:"application/json",data:JSON.stringify(i),success:function(){},fail:function(){}})}}}),function(t){var e;if("function"==typeof define&&define.amd)define("js-cookie",["jquery"],t);else if("object"==typeof exports){try{e=require("jquery")}catch(n){}module.exports=t(e)}else{var i=window.Cookies,r=window.Cookies=t(window.jQuery);r.noConflict=function(){return window.Cookies=i,r}}}(function(t){function e(t){return u.raw?t:encodeURIComponent(t)}function n(t){return u.raw?t:decodeURIComponent(t)}function i(t){return e(u.json?JSON.stringify(t):String(t))}function r(t){0===t.indexOf('"')&&(t=t.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return t=decodeURIComponent(t.replace(c," ")),u.json?JSON.parse(t):t}catch(e){}}function o(t,e){var n=u.raw?t:r(t);return s(e)?e(n):n}function a(){for(var t,e,n=0,i={};n<arguments.length;n++){e=arguments[n];for(t in e)i[t]=e[t]}return i}function s(t){return"[object Function]"===Object.prototype.toString.call(t)}var c=/\+/g,u=function(t,r,c){if(arguments.length>1&&!s(r)){if(c=a(u.defaults,c),"number"==typeof c.expires){var l=c.expires,h=c.expires=new Date;h.setMilliseconds(h.getMilliseconds()+864e5*l)}return document.cookie=[e(t),"=",i(r),c.expires?"; expires="+c.expires.toUTCString():"",c.path?"; path="+c.path:"",c.domain?"; domain="+c.domain:"",c.secure?"; secure":""].join("")}for(var f=t?void 0:{},d=document.cookie?document.cookie.split("; "):[],p=0,g=d.length;g>p;p++){var m=d[p].split("="),v=n(m.shift()),y=m.join("=");if(t===v){f=o(y,r);break}t||void 0===(y=o(y))||(f[v]=y)}return f};return u.get=u.set=u,u.defaults={},u.remove=function(t,e){return u(t,"",a(e,{expires:-1})),!u(t)},t&&(t.cookie=u,t.removeCookie=u.remove),u}),define("component/vnds-uuid",["require","jquery","js-cookie"],function(t){function e(){var t=(new Date).getTime(),e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var n=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"==e?n:3&n|8).toString(16)});return e}var n=(t("jquery"),t("js-cookie"));vndsUuid=n.get("vnds-uuid");var i={path:"/",domain:location.hostname.indexOf("vndirect.com.vn")>=0?".vndirect.com.vn":"",secure:"https:"===location.protocol};return"undefined"==typeof vndsUuid&&(vndsUuid=e(),n.set("vnds-uuid",vndsUuid,i),n.set("vnds-uuid-d",(new Date).getTime(),i)),{getVndsUuid:function(){return vndsUuid}}}),define("component/track",["require","legacy/PubSub","component/vnds-track","component/vnds-uuid"],function(t){"use strict";var e,n=t("legacy/PubSub"),i=t("component/vnds-track"),r=t("component/vnds-uuid"),o={},a=function(t,e,n){var i=[t,e];return n&&i.push(n),i.join(":")},s=function(){$(".track-me").click(function(){e.page($(this).attr("data-virtual-path"),$(this).attr("title"))})},c=function(){$("#news-wrapper").on("click",".ad a",function(){e.event("ads","click","Bấm vào link "+$(this).attr("data-track"))})},u=function(){n.subscribe("login",function(t){e.identify(t.username,t.customerId,t.customerName,t.email)}),n.subscribe("logout",function(){mixpanel.reset()})};return{page:function(t,e){ga("send",{hitType:"pageview",page:"/smartboard"+t,title:e})},event:function(t,e,n,i){ga("send","event",t,e,n,i)},eventMixpanel:function(t,e,n){"object"!=typeof n&&(n={}),n.Action=e,n.vndsUuid=r.getVndsUuid(),mixpanel.track(t,n),i.track(t,n)},transaction:function(t,e,n,i,r,o){var a=n+" - "+("NB"===e?"buy":"sell"),s=n+"-"+e;ga("ec:addProduct",{id:s,name:a,brand:n,category:i,variant:i,price:r,quantity:o}),ga("ec:setAction","purchase",{id:t})},startTiming:function(t,e,n){o[a(t,e,n)]=(new Date).getTime()},haveTiming:function(t,e,n){return"number"==typeof o[a(t,e,n)]},clearTiming:function(t,e,n){delete o[a(t,e,n)]},stopTiming:function(t,e,n){var i=o[a(t,e,n)];"number"==typeof i&&ga("send","timing",t,e,(new Date).getTime()-i,n),this.clearTiming(t,e,n)},user:function(t){ga("set","userId",t)},referer:function(t){ga("set","refererId",t)},setPriceserviceHost:function(t){ga("set","dimension1",t)},identify:function(t,e,n,i){mixpanel.identify(t),mixpanel.people.set_once({$name:n,$email:i,CustomerID:e})},init:function(){e=this,s(),c(),mixpanel.register({Channel:"smartboard"}),u(),e.eventMixpanel("Priceboard","View")}}}),define("component/server-farm",["require","jquery"],function(t){var e=t("jquery"),n=function(t,e,n){if(!(t instanceof Array))throw new"expect pool to be an array, got"+JSON.stringify(t);this.pool=t,this.failureTolerance=e||3,this.timeout=n||3e4,this.countFailed=0};return n.prototype.get=function(){var t=this;return this.currentServer?e.Deferred().resolve(this.currentServer):(this.ongoingHealthCheck||(this.ongoingHealthCheck=this.healthCheck().then(function(e){return t.currentServer||(this.currentServer=e),t.ongoingHealthCheck=null,e},function(){return t.ongoingHealthCheck=null,e.Deferred().reject.apply(null,arguments)})),this.ongoingHealthCheck)},n.prototype.healthCheck=function(){function t(t){for(var e=t.length;e;e--){var n=Math.floor(Math.random()*e),i=t[e-1];t[e-1]=t[n],t[n]=i}}var n=e.Deferred();t(this.pool);var i=this.pool.length;return this.pool.forEach(function(t){!function(t){e.ajax({url:t,type:"json",dataType:"jsonp",jsonp:"ping"}).then(function(){n.resolve(t)},function(){i--,0>=i&&n.reject("no server alive")})}(t)}),n},n.prototype.fail=function(t){var e=this;if(this.countFailed+=1,!(this.countFailed<this.failureTolerance||this.pool.length<=1)){for(var n=0;n<this.pool.length;n++)if(this.pool[n]===t){this.pool.splice(n,1),this.countFailed=0;break}this.currentServer===t&&(this.currentServer=void 0),setTimeout(function(){e.add(t)},this.timeout)}},n.prototype.add=function(t){for(var e=!1,n=0;n<this.pool.length;n++)if(this.pool[n]===t){e=!0;break}e||"string"!=typeof t||this.pool.push(t)},n}),define("component/price-server-farm",["require","component/server-farm"],function(t){var e=t("component/server-farm");return{privateFarm:new e(window.PRICE_SERVICE_URLS),publicFarm:new e(window.PUBLIC_PRICE_SERVICE_URLS)}}),define("legacy/SocketManager",["require","legacy/OverrideSockJS","legacy/PubSub","legacy/ConsumerManager","component/track","component/price-server-farm","component/server-farm"],function(t,e,n,i,r,o){function a(t){this.CONNECTION_TIME_OUT=3e4,this.options=t,this.consumerManager=new i,this.lastConnectionTime=new Date}DataEventType={STOCK:"STOCK",AD_ORDER:"AD_ORDER",PT_ORDER:"PT_ORDER",MARKETINFO:"MARKETINFO",TRANSACTION:"TRANSACTION",CATEGORY:"CATEGORY",MARKET_BEGIN:"MARKET_BEGIN",MARKET_END:"MARKET_END",MARKET_END_RECOVERY:"MARKET_END_RECOVERY",CEILING_FLOOR_COUNT:"CEILING_FLOOR_COUNT",MARKET_STATUS:"MARKET_STATUS"};var s=o.privateFarm;return a.prototype={options:{},hasConnect:!1,state:"",eventPool:[],eventList:["STOCK","MARKETINFO","TRANSACTION","PUT","PUTEXEC"],crrSequence:0,crrActiveSequence:0,start:function(){var e=this;
this.config={priceserviceRealtimeUrl:"/realtime",reconnectDelayTime:t("component/config").reconnectDelay},this.jqueryOb=$(this),s.get().then(function(t){e.priceServer=t,e.createConnect(e.priceServer+e.config.priceserviceRealtimeUrl),e.listenConsumer()})},createConnect:function(t){var n=this;this.socket=new e(t),this.socket.onopen=function(){console.log("Successfully connected to "+t),n.socket.emit("info",{time:Date.now()}),r.startTiming("Hệ thống","Thời gian giữ kết nối Websocket liên tục"),r.stopTiming("Hệ thống","Thời gian đứt kết nối Websocket"),n.hasConnect?n.setState("resume"):(n.pingPong(),n.setState("init"),n.hasConnect=!0,n.lastConnectionTime=new Date),n.listenServerEvent(),n.consumeAfterConnect()},this.socket.onclose=function(){s.fail(n.priceServer),n.setState("pause"),"pause"!==n.state&&r.event("connection","close connection"),r.haveTiming("Hệ thống","Thời gian đứt kết nối Websocket")||r.startTiming("Hệ thống","Thời gian đứt kết nối Websocket"),r.stopTiming("Hệ thống","Thời gian giữ kết nối Websocket liên tục")},this.socket.onheartbeat=function(){n.heartbeatTime=(new Date).getTime(),n.socket.emit("heartbeat")},this.heartbeatTime=(new Date).getTime(),this.checkConnectionAlive()},checkConnectionAlive:function(){var t=this;t.checkConnectionAliveInterval&&clearInterval(t.checkConnectionAliveInterval),t.checkConnectionAliveInterval=setInterval(function(){var e=(new Date).getTime();e-t.heartbeatTime>=t.CONNECTION_TIME_OUT&&(t.socket.close(),console.log("heartbeat timeout - close connection ...."))},t.CONNECTION_TIME_OUT)},listenServerEvent:function(){this.socket.onEvent("returnFull",function(t,e){this.emit("receiveFullData",e)}.bind(this)),this.socket.onEvent("returnData",function(t,e){this.emit("returnData",e)}.bind(this)),this.socket.onEvent("finishStop",function(t,e){e==DataEventType.STOCK&&this.registCrrCodes(DataEventType.STOCK,!1)}.bind(this)),this.socket.onEvent("infoResult",function(t,e){r.setPriceserviceHost(e.hostname+":"+e.port)});for(var t=0;t<this.eventList.length;t++){var e=this.eventList[t]+"";this.socket.onEvent(e,function(t,e){var n=MessageUnmarshaller.unmarshal(t,e);this.handleDataEvent(t,n)}.bind(this))}},activate:function(){this.setState("ready")},reconnect:function(){var t=this;setTimeout(function(){t.priceServer=s.get().then(function(e){t.priceServer=e;var n=t.priceServer+t.config.priceserviceRealtimeUrl;t.createConnect(n)})},this.config.reconnectDelayTime)},switchToPublicServer:function(){s=o.publicFarm,this.socket.close()},handleDataEvent:function(t,e){this.setSequence(e.sequence),this.emit(t,e)},releasePoolEvent:function(){for(var t=0;t<this.eventPool.length;t++){var e=this.eventPool[t];this.emit(e.eventName,e.data)}},setSequence:function(t){return this.crrSequence>=t?!1:(this.crrSequence=t,!0)},requestFullData:function(t){this.socket.emit("requestFullData",{sequence:this.crrSequence,params:t})},postData:function(t){this.socket.emit("post",{sequence:this.crrSequence,params:t})},setState:function(t){switch(this.state=t,t){case"init":this.registerCodeInterval();break;case"active":break;case"ready":this.releasePoolEvent(),this.setState("active");break;case"pause":this.reconnect();break;case"resume":this.socket.emit("resume",{sequence:this.crrSequence}),this.setState("active")}this.emit(t,{})},test:function(t){this.socket.emit("loadTest",{sequence:this.crrSequence,data:t})},regisEvent:function(t){this.eventList=t},registConsumer:function(t){-1==this.eventList.indexOf(t.type)&&this.eventList.push(t.type);var e=this.consumerManager.regist(t.type,t.codes,t.id);if(0!==e.length)try{""!=this.state&&"pause"!=this.state&&this.socket.emit("registConsumer",{sequence:this.crrSequence,params:{name:t.type,codes:e}})}catch(n){}},consumeAfterConnect:function(){var t=Object.keys(this.consumerManager.store);if(t)for(var e=0;e<t.length;e++){var n=this.consumerManager.getAllCodes(t[e]);0!==n.length&&this.socket.emit("registConsumer",{sequence:this.crrSequence,params:{name:t[e],codes:n}})}},registerCodeInterval:function(){setInterval(function(){this.registCrrCodes(DataEventType.STOCK,!0)}.bind(this),3e5)},registCrrCodes:function(t,e){var n=this.consumerManager.getAllCodes(DataEventType.STOCK);0!==n.length&&this.socket.emit("registConsumer",{sequence:this.crrSequence,params:{name:DataEventType.STOCK,codes:n},isIntervalRegist:e})},stopConsume:function(t){var e=this.consumerManager.stop(t.type,t.codes,t.id);try{""!=this.state&&"pause"!=this.state&&this.socket.emit("stopConsume",{sequence:this.crrSequence,params:{name:t.type,codes:e}})}catch(n){}},listenConsumer:function(){var t=this;n.subscribe("consume",function(e){t.registConsumer(e)}),n.subscribe("stopConsume",function(e){t.stopConsume(e)})},pingPong:function(){var t=this;t.socket.onEvent("pong",function(){r.stopTiming("Hệ thống","Thời gian ping Websocket",t.socket.protocol)}),setInterval(function(){Math.random()>=.02||(r.startTiming("Hệ thống","Thời gian ping Websocket",t.socket.protocol),t.socket.emit("ping",{time:new Date}))},12e4)},emit:function(t,e){this.jqueryOb.trigger({type:t,message:e,time:new Date})},on:function(t,e){$(this).bind(t,e)}},a}),AjaxHelper.prototype={request:function(t,e){var n=this,i=require("component/price-server-farm");i.privateFarm.get().then(function(r){var o=r+"/"+t;$.ajax({url:o,timeout:1e4,dataType:"jsonp",jsonp:"jsonp"}).done(function(t){"string"==typeof t&&(t=JSON.parse(t)),e(t)}).fail(function(a){console.error("Shit, something just failed..",o,a),i.privateFarm.fail(r),setTimeout(function(){n.request(t,e)},1e4)})},function(){setTimeout(function(){n.request(t,e)},1e4)})}},define("legacy/AjaxHelper",function(){}),TimeBox=function(t){this.init();for(var e in t)"undefined"!=typeof t[e]&&(this[e]=t[e]);this.active()},TimeBox.prototype={init:function(){this.items=[],this.lifeTime=1e3,this.isNotReleasing=!0},active:function(){this.releaseProcess=setTimeout(function(){this.release()}.bind(this),this.lifeTime)},push:function(t){this.items.push(t)},release:function(){this.isNotReleasing=!1;for(var t=0;t<this.items.length;t++)this.callback(this.items[t])},reset:function(){clearTimeout(this.releaseProcess),this.active()},getLength:function(){return this.items.length}},define("legacy/TimeBox",function(){}),function(t){define("modernizr",[],function(){return function(){return window.Modernizr=function(t,e,n){function i(t){b.cssText=t}function r(t,e){return i(C.join(t+";")+(e||""))}function o(t,e){return typeof t===e}function a(t,e){return!!~(""+t).indexOf(e)}function s(t,e){for(var i in t){var r=t[i];if(!a(r,"-")&&b[r]!==n)return"pfx"==e?r:!0}return!1}function c(t,e,i){for(var r in t){var a=e[t[r]];if(a!==n)return i===!1?t[r]:o(a,"function")?a.bind(i||e):a}return!1}function u(t,e,n){var i=t.charAt(0).toUpperCase()+t.slice(1),r=(t+" "+T.join(i+" ")+i).split(" ");return o(e,"string")||o(e,"undefined")?s(r,e):(r=(t+" "+_.join(i+" ")+i).split(" "),c(r,e,n))}function l(){p.input=function(n){for(var i=0,r=n.length;r>i;i++)I[n[i]]=!!(n[i]in w);return I.list&&(I.list=!(!e.createElement("datalist")||!t.HTMLDataListElement)),I}("autocomplete autofocus list placeholder max min multiple pattern required step".split(" ")),p.inputtypes=function(t){for(var i,r,o,a=0,s=t.length;s>a;a++)w.setAttribute("type",r=t[a]),i="text"!==w.type,i&&(w.value=k,w.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(r)&&w.style.WebkitAppearance!==n?(m.appendChild(w),o=e.defaultView,i=o.getComputedStyle&&"textfield"!==o.getComputedStyle(w,null).WebkitAppearance&&0!==w.offsetHeight,m.removeChild(w)):/^(search|tel)$/.test(r)||(i=/^(url|email)$/.test(r)?w.checkValidity&&w.checkValidity()===!1:w.value!=k)),D[t[a]]=!!i;return D}("search tel url email datetime date month week time datetime-local number range color".split(" "))}var h,f,d="2.8.3",p={},g=!0,m=e.documentElement,v="modernizr",y=e.createElement(v),b=y.style,w=e.createElement("input"),k=":)",x={}.toString,C=" -webkit- -moz- -o- -ms- ".split(" "),S="Webkit Moz O ms",T=S.split(" "),_=S.toLowerCase().split(" "),E={svg:"http://www.w3.org/2000/svg"},A={},D={},I={},O=[],N=O.slice,M=function(t,n,i,r){var o,a,s,c,u=e.createElement("div"),l=e.body,h=l||e.createElement("body");if(parseInt(i,10))for(;i--;)s=e.createElement("div"),s.id=r?r[i]:v+(i+1),u.appendChild(s);return o=["&#173;",'<style id="s',v,'">',t,"</style>"].join(""),u.id=v,(l?u:h).innerHTML+=o,h.appendChild(u),l||(h.style.background="",h.style.overflow="hidden",c=m.style.overflow,m.style.overflow="hidden",m.appendChild(h)),a=n(u,t),l?u.parentNode.removeChild(u):(h.parentNode.removeChild(h),m.style.overflow=c),!!a},P=function(e){var n=t.matchMedia||t.msMatchMedia;if(n)return n(e)&&n(e).matches||!1;var i;return M("@media "+e+" { #"+v+" { position: absolute; } }",function(e){i="absolute"==(t.getComputedStyle?getComputedStyle(e,null):e.currentStyle).position}),i},j=function(){function t(t,r){r=r||e.createElement(i[t]||"div"),t="on"+t;var a=t in r;return a||(r.setAttribute||(r=e.createElement("div")),r.setAttribute&&r.removeAttribute&&(r.setAttribute(t,""),a=o(r[t],"function"),o(r[t],"undefined")||(r[t]=n),r.removeAttribute(t))),r=null,a}var i={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return t}(),F={}.hasOwnProperty;f=o(F,"undefined")||o(F.call,"undefined")?function(t,e){return e in t&&o(t.constructor.prototype[e],"undefined")}:function(t,e){return F.call(t,e)},Function.prototype.bind||(Function.prototype.bind=function(t){var e=this;if("function"!=typeof e)throw new TypeError;var n=N.call(arguments,1),i=function(){if(this instanceof i){var r=function(){};r.prototype=e.prototype;var o=new r,a=e.apply(o,n.concat(N.call(arguments)));return Object(a)===a?a:o}return e.apply(t,n.concat(N.call(arguments)))};return i}),A.flexbox=function(){return u("flexWrap")},A.flexboxlegacy=function(){return u("boxDirection")},A.canvas=function(){var t=e.createElement("canvas");return!(!t.getContext||!t.getContext("2d"))},A.canvastext=function(){return!(!p.canvas||!o(e.createElement("canvas").getContext("2d").fillText,"function"))},A.webgl=function(){return!!t.WebGLRenderingContext},A.touch=function(){var n;return"ontouchstart"in t||t.DocumentTouch&&e instanceof DocumentTouch?n=!0:M(["@media (",C.join("touch-enabled),("),v,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(t){n=9===t.offsetTop}),n},A.geolocation=function(){return"geolocation"in navigator},A.postmessage=function(){return!!t.postMessage},A.websqldatabase=function(){return!!t.openDatabase},A.indexedDB=function(){return!!u("indexedDB",t)},A.hashchange=function(){return j("hashchange",t)&&(e.documentMode===n||e.documentMode>7)},A.history=function(){return!(!t.history||!history.pushState)},A.draganddrop=function(){var t=e.createElement("div");return"draggable"in t||"ondragstart"in t&&"ondrop"in t},A.websockets=function(){return"WebSocket"in t||"MozWebSocket"in t},A.rgba=function(){return i("background-color:rgba(150,255,150,.5)"),a(b.backgroundColor,"rgba")},A.hsla=function(){return i("background-color:hsla(120,40%,100%,.5)"),a(b.backgroundColor,"rgba")||a(b.backgroundColor,"hsla")},A.multiplebgs=function(){return i("background:url(https://),url(https://),red url(https://)"),/(url\s*\(.*?){3}/.test(b.background)},A.backgroundsize=function(){return u("backgroundSize")},A.borderimage=function(){return u("borderImage")},A.borderradius=function(){return u("borderRadius")},A.boxshadow=function(){return u("boxShadow")},A.textshadow=function(){return""===e.createElement("div").style.textShadow},A.opacity=function(){return r("opacity:.55"),/^0.55$/.test(b.opacity)},A.cssanimations=function(){return u("animationName")},A.csscolumns=function(){return u("columnCount")},A.cssgradients=function(){var t="background-image:",e="gradient(linear,left top,right bottom,from(#9f9),to(white));",n="linear-gradient(left top,#9f9, white);";return i((t+"-webkit- ".split(" ").join(e+t)+C.join(n+t)).slice(0,-t.length)),a(b.backgroundImage,"gradient")},A.cssreflections=function(){return u("boxReflect")},A.csstransforms=function(){return!!u("transform")},A.csstransforms3d=function(){var t=!!u("perspective");return t&&"webkitPerspective"in m.style&&M("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",function(e){t=9===e.offsetLeft&&3===e.offsetHeight}),t},A.csstransitions=function(){return u("transition")},A.fontface=function(){var t;return M('@font-face {font-family:"font";src:url("https://")}',function(n,i){var r=e.getElementById("smodernizr"),o=r.sheet||r.styleSheet,a=o?o.cssRules&&o.cssRules[0]?o.cssRules[0].cssText:o.cssText||"":"";t=/src/i.test(a)&&0===a.indexOf(i.split(" ")[0])}),t},A.generatedcontent=function(){var t;return M(["#",v,"{font:0/0 a}#",v,':after{content:"',k,'";visibility:hidden;font:3px/1 a}'].join(""),function(e){t=e.offsetHeight>=3}),t},A.video=function(){var t=e.createElement("video"),n=!1;try{(n=!!t.canPlayType)&&(n=new Boolean(n),n.ogg=t.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,""),n.h264=t.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,""),n.webm=t.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,""))}catch(i){}return n},A.audio=function(){var t=e.createElement("audio"),n=!1;try{(n=!!t.canPlayType)&&(n=new Boolean(n),n.ogg=t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),n.mp3=t.canPlayType("audio/mpeg;").replace(/^no$/,""),n.wav=t.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),n.m4a=(t.canPlayType("audio/x-m4a;")||t.canPlayType("audio/aac;")).replace(/^no$/,""))}catch(i){}return n},A.localstorage=function(){try{return localStorage.setItem(v,v),localStorage.removeItem(v),!0}catch(t){return!1}},A.sessionstorage=function(){try{return sessionStorage.setItem(v,v),sessionStorage.removeItem(v),!0}catch(t){return!1}},A.webworkers=function(){return!!t.Worker},A.applicationcache=function(){return!!t.applicationCache},A.svg=function(){return!!e.createElementNS&&!!e.createElementNS(E.svg,"svg").createSVGRect},A.inlinesvg=function(){var t=e.createElement("div");return t.innerHTML="<svg/>",(t.firstChild&&t.firstChild.namespaceURI)==E.svg},A.smil=function(){return!!e.createElementNS&&/SVGAnimate/.test(x.call(e.createElementNS(E.svg,"animate")))},A.svgclippaths=function(){return!!e.createElementNS&&/SVGClipPath/.test(x.call(e.createElementNS(E.svg,"clipPath")))};for(var R in A)f(A,R)&&(h=R.toLowerCase(),p[h]=A[R](),O.push((p[h]?"":"no-")+h));return p.input||l(),p.addTest=function(t,e){if("object"==typeof t)for(var i in t)f(t,i)&&p.addTest(i,t[i]);else{if(t=t.toLowerCase(),p[t]!==n)return p;e="function"==typeof e?e():e,"undefined"!=typeof g&&g&&(m.className+=" "+(e?"":"no-")+t),p[t]=e}return p},i(""),y=w=null,function(t,e){function n(t,e){var n=t.createElement("p"),i=t.getElementsByTagName("head")[0]||t.documentElement;return n.innerHTML="x<style>"+e+"</style>",i.insertBefore(n.lastChild,i.firstChild)}function i(){var t=y.elements;return"string"==typeof t?t.split(" "):t}function r(t){var e=v[t[g]];return e||(e={},m++,t[g]=m,v[m]=e),e}function o(t,n,i){if(n||(n=e),l)return n.createElement(t);i||(i=r(n));var o;return o=i.cache[t]?i.cache[t].cloneNode():p.test(t)?(i.cache[t]=i.createElem(t)).cloneNode():i.createElem(t),!o.canHaveChildren||d.test(t)||o.tagUrn?o:i.frag.appendChild(o)}function a(t,n){if(t||(t=e),l)return t.createDocumentFragment();n=n||r(t);for(var o=n.frag.cloneNode(),a=0,s=i(),c=s.length;c>a;a++)o.createElement(s[a]);return o}function s(t,e){e.cache||(e.cache={},e.createElem=t.createElement,e.createFrag=t.createDocumentFragment,e.frag=e.createFrag()),t.createElement=function(n){return y.shivMethods?o(n,t,e):e.createElem(n)},t.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+i().join().replace(/[\w\-]+/g,function(t){return e.createElem(t),e.frag.createElement(t),'c("'+t+'")'})+");return n}")(y,e.frag)}function c(t){t||(t=e);var i=r(t);return!y.shivCSS||u||i.hasCSS||(i.hasCSS=!!n(t,"article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}")),l||s(t,i),t}var u,l,h="3.7.0",f=t.html5||{},d=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,p=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,g="_html5shiv",m=0,v={};!function(){try{var t=e.createElement("a");t.innerHTML="<xyz></xyz>",u="hidden"in t,l=1==t.childNodes.length||function(){e.createElement("a");var t=e.createDocumentFragment();return"undefined"==typeof t.cloneNode||"undefined"==typeof t.createDocumentFragment||"undefined"==typeof t.createElement}()}catch(n){u=!0,l=!0}}();var y={elements:f.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video",version:h,shivCSS:f.shivCSS!==!1,supportsUnknownElements:l,shivMethods:f.shivMethods!==!1,type:"default",shivDocument:c,createElement:o,createDocumentFragment:a};t.html5=y,c(e)}(this,e),p._version=d,p._prefixes=C,p._domPrefixes=_,p._cssomPrefixes=T,p.mq=P,p.hasEvent=j,p.testProp=function(t){return s([t])},p.testAllProps=u,p.testStyles=M,p.prefixed=function(t,e,n){return e?u(t,e,n):u(t,"pfx")},m.className=m.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(g?" js "+O.join(" "):""),p}(this,this.document),t.Modernizr=Modernizr}.apply(t,arguments)})}(this),define("component/overlay",["require","jquery"],function(t){var e,n,i=t("jquery");return{init:function(){e=i("#tabbed-content .overlay")},setContent:function(t){return e.find(".content").html(t),this},setState:function(t){return e.removeClass(n).addClass(t),n=t,this}}}),!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define("i18next",e):t.i18next=e()}(this,function(){"use strict";function t(t){return null==t?"":""+t}function e(t,e,n){t.forEach(function(t){e[t]&&(n[t]=e[t])})}function n(t,e,n){function i(t){return t&&t.indexOf("###")>-1?t.replace(/###/g,"."):t}for(var r="string"!=typeof e?[].concat(e):e.split(".");r.length>1;){if(!t)return{};var o=i(r.shift());!t[o]&&n&&(t[o]=new n),t=t[o]}return t?{obj:t,k:i(r.shift())}:{}}function i(t,e,i){var r=n(t,e,Object),o=r.obj,a=r.k;o[a]=i}function r(t,e,i,r){var o=n(t,e,Object),a=o.obj,s=o.k;a[s]=a[s]||[],r&&(a[s]=a[s].concat(i)),r||a[s].push(i)}function o(t,e){var i=n(t,e),r=i.obj,o=i.k;return r?r[o]:void 0}function a(t,e,n){for(var i in e)i in t?"string"==typeof t[i]||t[i]instanceof String||"string"==typeof e[i]||e[i]instanceof String?n&&(t[i]=e[i]):a(t[i],e[i],n):t[i]=e[i];return t}function s(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}function c(t){return"string"==typeof t?t.replace(/[&<>"'\/]/g,function(t){return I[t]}):t}function u(t){return t.interpolation={unescapeSuffix:"HTML"},t.interpolation.prefix=t.interpolationPrefix||"__",t.interpolation.suffix=t.interpolationSuffix||"__",t.interpolation.escapeValue=t.escapeInterpolation||!1,t.interpolation.nestingPrefix=t.reusePrefix||"$t(",t.interpolation.nestingSuffix=t.reuseSuffix||")",t}function l(t){return t.resStore&&(t.resources=t.resStore),t.ns&&t.ns.defaultNs?(t.defaultNS=t.ns.defaultNs,t.ns=t.ns.namespaces):t.defaultNS=t.ns||"translation",t.fallbackToDefaultNS&&t.defaultNS&&(t.fallbackNS=t.defaultNS),t.saveMissing=t.sendMissing,t.saveMissingTo=t.sendMissingTo||"current",t.returnNull=!t.fallbackOnNull,t.returnEmptyString=!t.fallbackOnEmpty,t.returnObjects=t.returnObjectTrees,t.joinArrays="\n",t.returnedObjectHandler=t.objectTreeKeyHandler,t.parseMissingKeyHandler=t.parseMissingKey,t.appendNamespaceToMissingKey=!0,t.nsSeparator=t.nsseparator,t.keySeparator=t.keyseparator,"sprintf"===t.shortcutFunction&&(t.overloadTranslationOptionHandler=function(t){for(var e=[],n=1;n<t.length;n++)e.push(t[n]);return{postProcess:"sprintf",sprintf:e}}),t.whitelist=t.lngWhitelist,t.preload=t.preload,"current"===t.load&&(t.load="currentOnly"),"unspecific"===t.load&&(t.load="languageOnly"),t.backend=t.backend||{},t.backend.loadPath=t.resGetPath||"locales/__lng__/__ns__.json",t.backend.addPath=t.resPostPath||"locales/add/__lng__/__ns__",t.backend.allowMultiLoading=t.dynamicLoad,t.cache=t.cache||{},t.cache.prefix="res_",t.cache.expirationTime=6048e5,t.cache.enabled=!!t.useLocalStorage,t=u(t),t.defaultVariables&&(t.interpolation.defaultVariables=t.defaultVariables),t}function h(t){return t=u(t),t.joinArrays="\n",t}function f(t){return(t.interpolationPrefix||t.interpolationSuffix||t.escapeInterpolation)&&(t=u(t)),t.nsSeparator=t.nsseparator,t.keySeparator=t.keyseparator,t.returnObjects=t.returnObjectTrees,t}function d(t){t.lng=function(){return A.deprecate("i18next.lng() can be replaced by i18next.language for detected language or i18next.languages for languages ordered by translation lookup."),t.services.languageUtils.toResolveHierarchy(t.language)[0]},t.preload=function(e,n){A.deprecate("i18next.preload() can be replaced with i18next.loadLanguages()"),t.loadLanguages(e,n)},t.setLng=function(e,n,i){return A.deprecate("i18next.setLng() can be replaced with i18next.changeLanguage() or i18next.getFixedT() to get a translation function with fixed language or namespace."),"function"==typeof n&&(i=n,n={}),n||(n={}),n.fixLng===!0&&i?i(null,t.getFixedT(e)):void t.changeLanguage(e,i)},t.addPostProcessor=function(e,n){A.deprecate("i18next.addPostProcessor() can be replaced by i18next.use({ type: 'postProcessor', name: 'name', process: fc })"),t.use({type:"postProcessor",name:e,process:n})}}function p(t){return t.charAt(0).toUpperCase()+t.slice(1)}function g(){var t={};return j.forEach(function(e){e.lngs.forEach(function(n){return t[n]={numbers:e.nr,plurals:F[e.fc]}})}),t}function m(t,e){for(var n=t.indexOf(e);-1!==n;)t.splice(n,1),n=t.indexOf(e)}function v(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,whitelist:!1,nonExplicitWhitelist:!1,load:"all",preload:!1,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",saveMissing:!1,saveMissingTo:"fallback",missingKeyHandler:!1,postProcess:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:function(){},parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,overloadTranslationOptionHandler:function(t){return{defaultValue:t[1]}},interpolation:{escapeValue:!0,format:function(t){return t},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",defaultVariables:void 0}}}function y(t){return"string"==typeof t.ns&&(t.ns=[t.ns]),"string"==typeof t.fallbackLng&&(t.fallbackLng=[t.fallbackLng]),"string"==typeof t.fallbackNS&&(t.fallbackNS=[t.fallbackNS]),t.whitelist&&t.whitelist.indexOf("cimode")<0&&t.whitelist.push("cimode"),t}function b(){}var w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},k=(function(){function t(t){this.value=t}function e(t){function e(t,e){return new Promise(function(i,a){var s={key:t,arg:e,resolve:i,reject:a,next:null};o?o=o.next=s:(r=o=s,n(t,e))})}function n(e,r){try{var o=t[e](r),a=o.value;a instanceof s?Promise.resolve(a.value).then(function(t){n("next",t)},function(t){n("throw",t)}):i(o.done?"return":"normal",o.value)}catch(s){i("throw",s)}}function i(t,e){switch(t){case"return":r.resolve({value:e,done:!0});break;case"throw":r.reject(e);break;default:r.resolve({value:e,done:!1})}r=r.next,r?n(r.key,r.arg):o=null}var r,o;this._invoke=e,"function"!=typeof t["return"]&&(this["return"]=void 0)}return"function"==typeof Symbol&&Symbol.asyncIterator&&(e.prototype[Symbol.asyncIterator]=function(){return this}),e.prototype.next=function(t){return this._invoke("next",t)},e.prototype["throw"]=function(t){return this._invoke("throw",t)},e.prototype["return"]=function(t){return this._invoke("return",t)},{wrap:function(t){return function(){return new e(t.apply(this,arguments))}},await:function(e){return new t(e)}}}(),function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}),x=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},C=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},S=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},T=function(){function t(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{!i&&s["return"]&&s["return"]()}finally{if(r)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_={type:"logger",log:function(t){this._output("log",t)},warn:function(t){this._output("warn",t)},error:function(t){this._output("error",t)},_output:function(t,e){console&&console[t]&&console[t].apply(console,Array.prototype.slice.call(e))}},E=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};k(this,t),this.init(e,n)}return t.prototype.init=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=e.prefix||"i18next:",this.logger=t||_,this.options=e,this.debug=e.debug!==!1},t.prototype.setDebug=function(t){this.debug=t},t.prototype.log=function(){this.forward(arguments,"log","",!0)},t.prototype.warn=function(){this.forward(arguments,"warn","",!0)},t.prototype.error=function(){this.forward(arguments,"error","")},t.prototype.deprecate=function(){this.forward(arguments,"warn","WARNING DEPRECATED: ",!0)},t.prototype.forward=function(t,e,n,i){i&&!this.debug||("string"==typeof t[0]&&(t[0]=n+this.prefix+" "+t[0]),this.logger[e](t))},t.prototype.create=function(e){var n=new t(this.logger,x({prefix:this.prefix+":"+e+":"},this.options));return n},t}(),A=new E,D=function(){function t(){k(this,t),this.observers={}}return t.prototype.on=function(t,e){var n=this;t.split(" ").forEach(function(t){n.observers[t]=n.observers[t]||[],n.observers[t].push(e)})},t.prototype.off=function(t,e){var n=this;this.observers[t]&&this.observers[t].forEach(function(){if(e){var i=n.observers[t].indexOf(e);i>-1&&n.observers[t].splice(i,1)}else delete n.observers[t]})},t.prototype.emit=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;e>i;i++)n[i-1]=arguments[i];this.observers[t]&&this.observers[t].forEach(function(t){t.apply(void 0,n)}),this.observers["*"]&&this.observers["*"].forEach(function(e){var i;e.apply(e,(i=[t]).concat.apply(i,n))})},t}(),I={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"},O=function(t){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};k(this,e);var r=S(this,t.call(this));return r.data=n,r.options=i,r}return C(e,t),e.prototype.addNamespaces=function(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)},e.prototype.removeNamespaces=function(t){var e=this.options.ns.indexOf(t);e>-1&&this.options.ns.splice(e,1)},e.prototype.getResource=function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=i.keySeparator||this.options.keySeparator;void 0===r&&(r=".");var a=[t,e];return n&&"string"!=typeof n&&(a=a.concat(n)),n&&"string"==typeof n&&(a=a.concat(r?n.split(r):n)),t.indexOf(".")>-1&&(a=t.split(".")),o(this.data,a)},e.prototype.addResource=function(t,e,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1},a=this.options.keySeparator;void 0===a&&(a=".");var s=[t,e];n&&(s=s.concat(a?n.split(a):n)),t.indexOf(".")>-1&&(s=t.split("."),r=e,e=s[1]),this.addNamespaces(e),i(this.data,s,r),o.silent||this.emit("added",t,e,n,r)},e.prototype.addResources=function(t,e,n){for(var i in n)"string"==typeof n[i]&&this.addResource(t,e,i,n[i],{silent:!0});this.emit("added",t,e,n)},e.prototype.addResourceBundle=function(t,e,n,r,s){var c=[t,e];t.indexOf(".")>-1&&(c=t.split("."),r=n,n=e,e=c[1]),this.addNamespaces(e);var u=o(this.data,c)||{};r?a(u,n,s):u=x({},u,n),i(this.data,c,u),this.emit("added",t,e,n)},e.prototype.removeResourceBundle=function(t,e){this.hasResourceBundle(t,e)&&delete this.data[t][e],this.removeNamespaces(e),this.emit("removed",t,e)},e.prototype.hasResourceBundle=function(t,e){return void 0!==this.getResource(t,e)},e.prototype.getResourceBundle=function(t,e){return e||(e=this.options.defaultNS),"v1"===this.options.compatibilityAPI?x({},this.getResource(t,e)):this.getResource(t,e)},e.prototype.toJSON=function(){return this.data},e}(D),N={processors:{},addPostProcessor:function(t){this.processors[t.name]=t},handle:function(t,e,n,i,r){var o=this;return t.forEach(function(t){o.processors[t]&&(e=o.processors[t].process(e,n,i,r))}),e}},M=function(t){function n(i){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};k(this,n);var o=S(this,t.call(this));return e(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector"],i,o),o.options=r,o.logger=A.create("translator"),o}return C(n,t),n.prototype.changeLanguage=function(t){t&&(this.language=t)},n.prototype.exists=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};return"v1"===this.options.compatibilityAPI&&(e=f(e)),void 0!==this.resolve(t,e)},n.prototype.extractFromKey=function(t,e){var n=e.nsSeparator||this.options.nsSeparator;void 0===n&&(n=":");var i=e.ns||this.options.defaultNS;if(n&&t.indexOf(n)>-1){var r=t.split(n);i=r[0],t=r[1]}return"string"==typeof i&&(i=[i]),{key:t,namespaces:i}},n.prototype.translate=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==("undefined"==typeof e?"undefined":w(e))?e=this.options.overloadTranslationOptionHandler(arguments):"v1"===this.options.compatibilityAPI&&(e=f(e)),void 0===t||null===t||""===t)return"";"number"==typeof t&&(t=String(t)),"string"==typeof t&&(t=[t]);var n=e.lng||this.language;if(n&&"cimode"===n.toLowerCase())return t[t.length-1];var i=e.keySeparator||this.options.keySeparator||".",r=this.extractFromKey(t[t.length-1],e),o=r.key,a=r.namespaces,s=a[a.length-1],c=this.resolve(t,e),u=Object.prototype.toString.apply(c),l=["[object Number]","[object Function]","[object RegExp]"],h=void 0!==e.joinArrays?e.joinArrays:this.options.joinArrays;if(c&&"string"!=typeof c&&l.indexOf(u)<0&&(!h||"[object Array]"!==u)){if(!e.returnObjects&&!this.options.returnObjects)return this.logger.warn("accessing an object - but returnObjects options is not enabled!"),this.options.returnedObjectHandler?this.options.returnedObjectHandler(o,c,e):"key '"+o+" ("+this.language+")' returned an object instead of string.";var d="[object Array]"===u?[]:{};for(var p in c)d[p]=this.translate(""+o+i+p,x({joinArrays:!1,ns:a},e));c=d}else if(h&&"[object Array]"===u)c=c.join(h),c&&(c=this.extendTranslation(c,o,e));else{var g=!1,m=!1;if(this.isValidLookup(c)||void 0===e.defaultValue||(g=!0,c=e.defaultValue),this.isValidLookup(c)||(m=!0,c=o),m||g){this.logger.log("missingKey",n,s,o,c);var v=[],y=this.languageUtils.getFallbackCodes(this.options.fallbackLng,e.lng||this.language);if("fallback"===this.options.saveMissingTo&&y&&y[0])for(var b=0;b<y.length;b++)v.push(y[b]);else"all"===this.options.saveMissingTo?v=this.languageUtils.toResolveHierarchy(e.lng||this.language):v.push(e.lng||this.language);this.options.saveMissing&&(this.options.missingKeyHandler?this.options.missingKeyHandler(v,s,o,c):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(v,s,o,c)),this.emit("missingKey",v,s,o,c)
}c=this.extendTranslation(c,o,e),m&&c===o&&this.options.appendNamespaceToMissingKey&&(c=s+":"+o),m&&this.options.parseMissingKeyHandler&&(c=this.options.parseMissingKeyHandler(c))}return c},n.prototype.extendTranslation=function(t,e,n){var i=this;n.interpolation&&this.interpolator.init(x({},n,{interpolation:x({},this.options.interpolation,n.interpolation)}));var r=n.replace&&"string"!=typeof n.replace?n.replace:n;this.options.interpolation.defaultVariables&&(r=x({},this.options.interpolation.defaultVariables,r)),t=this.interpolator.interpolate(t,r,this.language),t=this.interpolator.nest(t,function(){for(var t=arguments.length,e=Array(t),n=0;t>n;n++)e[n]=arguments[n];return i.translate.apply(i,e)},n),n.interpolation&&this.interpolator.reset();var o=n.postProcess||this.options.postProcess,a="string"==typeof o?[o]:o;return void 0!==t&&a&&a.length&&n.applyPostProcessor!==!1&&(t=N.handle(a,t,e,n,this)),t},n.prototype.resolve=function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=void 0;return"string"==typeof t&&(t=[t]),t.forEach(function(t){if(!e.isValidLookup(i)){var r=e.extractFromKey(t,n),o=r.key,a=r.namespaces;e.options.fallbackNS&&(a=a.concat(e.options.fallbackNS));var s=void 0!==n.count&&"string"!=typeof n.count,c=void 0!==n.context&&"string"==typeof n.context&&""!==n.context,u=n.lngs?n.lngs:e.languageUtils.toResolveHierarchy(n.lng||e.language);a.forEach(function(t){e.isValidLookup(i)||u.forEach(function(r){if(!e.isValidLookup(i)){var a=o,u=[a],l=void 0;s&&(l=e.pluralResolver.getSuffix(r,n.count)),s&&c&&u.push(a+l),c&&u.push(a+=""+e.options.contextSeparator+n.context),s&&u.push(a+=l);for(var h=void 0;h=u.pop();)e.isValidLookup(i)||(i=e.getResource(r,t,h,n))}})})}}),i},n.prototype.isValidLookup=function(t){return!(void 0===t||!this.options.returnNull&&null===t||!this.options.returnEmptyString&&""===t)},n.prototype.getResource=function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.resourceStore.getResource(t,e,n,i)},n}(D),P=function(){function t(e){k(this,t),this.options=e,this.whitelist=this.options.whitelist||!1,this.logger=A.create("languageUtils")}return t.prototype.getLanguagePartFromCode=function(t){if(t.indexOf("-")<0)return t;var e=["NB-NO","NN-NO","nb-NO","nn-NO","nb-no","nn-no"],n=t.split("-");return this.formatLanguageCode(e.indexOf(t)>-1?n[1].toLowerCase():n[0])},t.prototype.getScriptPartFromCode=function(t){if(t.indexOf("-")<0)return null;var e=t.split("-");return 2===e.length?null:(e.pop(),this.formatLanguageCode(e.join("-")))},t.prototype.getLanguagePartFromCode=function(t){if(t.indexOf("-")<0)return t;var e=["NB-NO","NN-NO","nb-NO","nn-NO","nb-no","nn-no"],n=t.split("-");return this.formatLanguageCode(e.indexOf(t)>-1?n[1].toLowerCase():n[0])},t.prototype.formatLanguageCode=function(t){if("string"==typeof t&&t.indexOf("-")>-1){var e=["hans","hant","latn","cyrl","cans","mong","arab"],n=t.split("-");return this.options.lowerCaseLng?n=n.map(function(t){return t.toLowerCase()}):2===n.length?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),e.indexOf(n[1].toLowerCase())>-1&&(n[1]=p(n[1].toLowerCase()))):3===n.length&&(n[0]=n[0].toLowerCase(),2===n[1].length&&(n[1]=n[1].toUpperCase()),"sgn"!==n[0]&&2===n[2].length&&(n[2]=n[2].toUpperCase()),e.indexOf(n[1].toLowerCase())>-1&&(n[1]=p(n[1].toLowerCase())),e.indexOf(n[2].toLowerCase())>-1&&(n[2]=p(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t},t.prototype.isWhitelisted=function(t,e){return("languageOnly"===this.options.load||this.options.nonExplicitWhitelist&&!e)&&(t=this.getLanguagePartFromCode(t)),!this.whitelist||!this.whitelist.length||this.whitelist.indexOf(t)>-1},t.prototype.getFallbackCodes=function(t,e){if(!t)return[];if("string"==typeof t&&(t=[t]),"[object Array]"===Object.prototype.toString.apply(t))return t;var n=t[e];return n||(n=t[this.getScriptPartFromCode(e)]),n||(n=t[this.formatLanguageCode(e)]),n||(n=t["default"]),n||[]},t.prototype.toResolveHierarchy=function(t,e){var n=this,i=this.getFallbackCodes(e||this.options.fallbackLng||[],t),r=[],o=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t&&(n.isWhitelisted(t,e)?r.push(t):n.logger.warn("rejecting non-whitelisted language code: "+t))};return"string"==typeof t&&t.indexOf("-")>-1?("languageOnly"!==this.options.load&&o(this.formatLanguageCode(t),!0),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&o(this.getScriptPartFromCode(t),!0),"currentOnly"!==this.options.load&&o(this.getLanguagePartFromCode(t))):"string"==typeof t&&o(this.formatLanguageCode(t)),i.forEach(function(t){r.indexOf(t)<0&&o(n.formatLanguageCode(t))}),r},t}(),j=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","tg","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","es_ar","et","eu","fi","fo","fur","fy","gl","gu","ha","he","hi","hu","hy","ia","it","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt","pt_br","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","id","ja","jbo","ka","kk","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21}],F={1:function(t){return Number(t>1)},2:function(t){return Number(1!=t)},3:function(){return 0},4:function(t){return Number(t%10==1&&t%100!=11?0:t%10>=2&&4>=t%10&&(10>t%100||t%100>=20)?1:2)},5:function(t){return Number(0===t?0:1==t?1:2==t?2:t%100>=3&&10>=t%100?3:t%100>=11?4:5)},6:function(t){return Number(1==t?0:t>=2&&4>=t?1:2)},7:function(t){return Number(1==t?0:t%10>=2&&4>=t%10&&(10>t%100||t%100>=20)?1:2)},8:function(t){return Number(1==t?0:2==t?1:8!=t&&11!=t?2:3)},9:function(t){return Number(t>=2)},10:function(t){return Number(1==t?0:2==t?1:7>t?2:11>t?3:4)},11:function(t){return Number(1==t||11==t?0:2==t||12==t?1:t>2&&20>t?2:3)},12:function(t){return Number(t%10!=1||t%100==11)},13:function(t){return Number(0!==t)},14:function(t){return Number(1==t?0:2==t?1:3==t?2:3)},15:function(t){return Number(t%10==1&&t%100!=11?0:t%10>=2&&(10>t%100||t%100>=20)?1:2)},16:function(t){return Number(t%10==1&&t%100!=11?0:0!==t?1:2)},17:function(t){return Number(1==t||t%10==1?0:1)},18:function(t){return Number(0==t?0:1==t?1:2)},19:function(t){return Number(1==t?0:0===t||t%100>1&&11>t%100?1:t%100>10&&20>t%100?2:3)},20:function(t){return Number(1==t?0:0===t||t%100>0&&20>t%100?1:2)},21:function(t){return Number(t%100==1?1:t%100==2?2:t%100==3||t%100==4?3:0)}},R=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};k(this,t),this.languageUtils=e,this.options=n,this.logger=A.create("pluralResolver"),this.rules=g()}return t.prototype.addRule=function(t,e){this.rules[t]=e},t.prototype.getRule=function(t){return this.rules[this.languageUtils.getLanguagePartFromCode(t)]},t.prototype.needsPlural=function(t){var e=this.getRule(t);return!(e&&e.numbers.length<=1)},t.prototype.getSuffix=function(t,e){var n=this,i=this.getRule(t);if(!i)return this.logger.warn("no plural rule found for: "+t),"";var r=function(){if(1===i.numbers.length)return{v:""};var t=i.plurals(i.noAbs?e:Math.abs(e)),r=i.numbers[t];2===i.numbers.length&&1===i.numbers[0]&&(2===r?r="plural":1===r&&(r=""));var o=function(){return n.options.prepend&&r.toString()?n.options.prepend+r.toString():r.toString()};return"v1"===n.options.compatibilityJSON?1===r?{v:""}:"number"==typeof r?{v:"_plural_"+r.toString()}:{v:o()}:"v2"===n.options.compatibilityJSON||2===i.numbers.length&&1===i.numbers[0]?{v:o()}:2===i.numbers.length&&1===i.numbers[0]?{v:o()}:{v:n.options.prepend&&t.toString()?n.options.prepend+t.toString():t.toString()}}();return"object"===("undefined"==typeof r?"undefined":w(r))?r.v:void 0},t}(),L=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};k(this,e),this.logger=A.create("interpolator"),this.init(t,!0)}return e.prototype.init=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1];e&&(this.options=t,this.format=t.interpolation&&t.interpolation.format||function(t){return t},this.escape=t.interpolation&&t.interpolation.escape||c),t.interpolation||(t.interpolation={escapeValue:!0});var n=t.interpolation;this.escapeValue=void 0===n.escapeValue||n.escapeValue,this.prefix=n.prefix?s(n.prefix):n.prefixEscaped||"{{",this.suffix=n.suffix?s(n.suffix):n.suffixEscaped||"}}",this.formatSeparator=n.formatSeparator?s(n.formatSeparator):n.formatSeparator||",",this.unescapePrefix=n.unescapeSuffix?"":n.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":n.unescapeSuffix||"",this.nestingPrefix=n.nestingPrefix?s(n.nestingPrefix):n.nestingPrefixEscaped||s("$t("),this.nestingSuffix=n.nestingSuffix?s(n.nestingSuffix):n.nestingSuffixEscaped||s(")"),this.resetRegExp()},e.prototype.reset=function(){this.options&&this.init(this.options)},e.prototype.resetRegExp=function(){var t=this.prefix+"(.+?)"+this.suffix;this.regexp=new RegExp(t,"g");var e=this.prefix+this.unescapePrefix+"(.+?)"+this.unescapeSuffix+this.suffix;this.regexpUnescape=new RegExp(e,"g");var n=this.nestingPrefix+"(.+?)"+this.nestingSuffix;this.nestingRegexp=new RegExp(n,"g")},e.prototype.interpolate=function(e,n,i){function r(t){return t.replace(/\$/g,"$$$$")}var a=this,s=void 0,c=void 0,u=function(t){if(t.indexOf(a.formatSeparator)<0)return o(n,t);var e=t.split(a.formatSeparator),r=e.shift().trim(),s=e.join(a.formatSeparator).trim();return a.format(o(n,r),s,i)};for(this.resetRegExp();s=this.regexpUnescape.exec(e);){var l=u(s[1].trim());e=e.replace(s[0],l),this.regexpUnescape.lastIndex=0}for(;s=this.regexp.exec(e);)c=u(s[1].trim()),"string"!=typeof c&&(c=t(c)),c||(this.logger.warn("missed to pass in variable "+s[1]+" for interpolating "+e),c=""),c=r(this.escapeValue?this.escape(c):c),e=e.replace(s[0],c),this.regexp.lastIndex=0;return e},e.prototype.nest=function(e,n){function i(t){return t.replace(/\$/g,"$$$$")}function r(t){if(t.indexOf(",")<0)return t;var e=t.split(",");t=e.shift();var n=e.join(",");n=this.interpolate(n,u),n=n.replace(/'/g,'"');try{u=JSON.parse(n)}catch(e){this.logger.error("failed parsing options string in nesting for key "+t,e)}return t}var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=void 0,s=void 0,u=JSON.parse(JSON.stringify(o));for(u.applyPostProcessor=!1;a=this.nestingRegexp.exec(e);)s=n(r.call(this,a[1].trim()),u),"string"!=typeof s&&(s=t(s)),s||(this.logger.warn("missed to pass in variable "+a[1]+" for interpolating "+e),s=""),s=i(this.escapeValue?c(s):s),e=e.replace(a[0],s),this.regexp.lastIndex=0;return e},e}(),H=function(t){function e(n,i,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};k(this,e);var a=S(this,t.call(this));return a.backend=n,a.store=i,a.services=r,a.options=o,a.logger=A.create("backendConnector"),a.state={},a.queue=[],a.backend&&a.backend.init&&a.backend.init(r,o.backend,o),a}return C(e,t),e.prototype.queueLoad=function(t,e,n){var i=this,r=[],o=[],a=[],s=[];return t.forEach(function(t){var n=!0;e.forEach(function(e){var a=t+"|"+e;i.store.hasResourceBundle(t,e)?i.state[a]=2:i.state[a]<0||(1===i.state[a]?o.indexOf(a)<0&&o.push(a):(i.state[a]=1,n=!1,o.indexOf(a)<0&&o.push(a),r.indexOf(a)<0&&r.push(a),s.indexOf(e)<0&&s.push(e)))}),n||a.push(t)}),(r.length||o.length)&&this.queue.push({pending:o,loaded:{},errors:[],callback:n}),{toLoad:r,pending:o,toLoadLanguages:a,toLoadNamespaces:s}},e.prototype.loaded=function(t,e,n){var i=this,o=t.split("|"),a=T(o,2),s=a[0],c=a[1];e&&this.emit("failedLoading",s,c,e),n&&this.store.addResourceBundle(s,c,n),this.state[t]=e?-1:2,this.queue.forEach(function(n){r(n.loaded,[s],c),m(n.pending,t),e&&n.errors.push(e),0!==n.pending.length||n.done||(i.emit("loaded",n.loaded),n.errors.length?n.callback(n.errors):n.callback(),n.done=!0)}),this.queue=this.queue.filter(function(t){return!t.done})},e.prototype.read=function(t,e,n,i,r,o){var a=this;return i||(i=0),r||(r=250),t.length?void this.backend[n](t,e,function(s,c){return s&&c&&5>i?void setTimeout(function(){a.read.call(a,t,e,n,++i,2*r,o)},r):void o(s,c)}):o(null,{})},e.prototype.load=function(t,e,n){var i=this;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),n&&n();var r=x({},this.backend.options,this.options.backend);"string"==typeof t&&(t=this.services.languageUtils.toResolveHierarchy(t)),"string"==typeof e&&(e=[e]);var a=this.queueLoad(t,e,n);return a.toLoad.length?void(r.allowMultiLoading&&this.backend.readMulti?this.read(a.toLoadLanguages,a.toLoadNamespaces,"readMulti",null,null,function(t,e){t&&i.logger.warn("loading namespaces "+a.toLoadNamespaces.join(", ")+" for languages "+a.toLoadLanguages.join(", ")+" via multiloading failed",t),!t&&e&&i.logger.log("loaded namespaces "+a.toLoadNamespaces.join(", ")+" for languages "+a.toLoadLanguages.join(", ")+" via multiloading",e),a.toLoad.forEach(function(n){var r=n.split("|"),a=T(r,2),s=a[0],c=a[1],u=o(e,[s,c]);if(u)i.loaded(n,t,u);else{var l="loading namespace "+c+" for language "+s+" via multiloading failed";i.loaded(n,l),i.logger.error(l)}})}):!function(){var t=function(t){var e=this,n=t.split("|"),i=T(n,2),r=i[0],o=i[1];this.read(r,o,"read",null,null,function(n,i){n&&e.logger.warn("loading namespace "+o+" for language "+r+" failed",n),!n&&i&&e.logger.log("loaded namespace "+o+" for language "+r,i),e.loaded(t,n,i)})};a.toLoad.forEach(function(e){t.call(i,e)})}()):void(a.pending.length||n())},e.prototype.reload=function(t,e){var n=this;this.backend||this.logger.warn("No backend was added via i18next.use. Will not load resources.");var i=x({},this.backend.options,this.options.backend);"string"==typeof t&&(t=this.services.languageUtils.toResolveHierarchy(t)),"string"==typeof e&&(e=[e]),i.allowMultiLoading&&this.backend.readMulti?this.read(t,e,"readMulti",null,null,function(i,r){i&&n.logger.warn("reloading namespaces "+e.join(", ")+" for languages "+t.join(", ")+" via multiloading failed",i),!i&&r&&n.logger.log("reloaded namespaces "+e.join(", ")+" for languages "+t.join(", ")+" via multiloading",r),t.forEach(function(t){e.forEach(function(e){var a=o(r,[t,e]);if(a)n.loaded(t+"|"+e,i,a);else{var s="reloading namespace "+e+" for language "+t+" via multiloading failed";n.loaded(t+"|"+e,s),n.logger.error(s)}})})}):!function(){var i=function(t){var e=this,n=t.split("|"),i=T(n,2),r=i[0],o=i[1];this.read(r,o,"read",null,null,function(n,i){n&&e.logger.warn("reloading namespace "+o+" for language "+r+" failed",n),!n&&i&&e.logger.log("reloaded namespace "+o+" for language "+r,i),e.loaded(t,n,i)})};t.forEach(function(t){e.forEach(function(e){i.call(n,t+"|"+e)})})}()},e.prototype.saveMissing=function(t,e,n,i){this.backend&&this.backend.create&&this.backend.create(t,e,n,i),t&&t[0]&&this.store.addResource(t[0],e,n,i)},e}(D),B=function(t){function e(n,i,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};k(this,e);var a=S(this,t.call(this));return a.cache=n,a.store=i,a.services=r,a.options=o,a.logger=A.create("cacheConnector"),a.cache&&a.cache.init&&a.cache.init(r,o.cache,o),a}return C(e,t),e.prototype.load=function(t,e,n){var i=this;if(!this.cache)return n&&n();var r=x({},this.cache.options,this.options.cache);"string"==typeof t&&(t=this.services.languageUtils.toResolveHierarchy(t)),"string"==typeof e&&(e=[e]),r.enabled?this.cache.load(t,function(e,r){if(e&&i.logger.error("loading languages "+t.join(", ")+" from cache failed",e),r)for(var o in r)for(var a in r[o])if("i18nStamp"!==a){var s=r[o][a];s&&i.store.addResourceBundle(o,a,s)}n&&n()}):n&&n()},e.prototype.save=function(){this.cache&&this.options.cache&&this.options.cache.enabled&&this.cache.save(this.store.data)},e}(D),U=function(t){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments[1];k(this,e);var r=S(this,t.call(this));return r.options=y(n),r.services={},r.logger=A,r.modules={},i&&!r.isInitialized&&r.init(n,i),r}return C(e,t),e.prototype.init=function(t,e){function n(t){return t?"function"==typeof t?new t:t:void 0}var i=this;if("function"==typeof t&&(e=t,t={}),t||(t={}),this.options="v1"===t.compatibilityAPI?x({},v(),y(l(t)),{}):"v1"===t.compatibilityJSON?x({},v(),y(h(t)),{}):x({},v(),this.options,y(t)),e||(e=b),!this.options.isClone){this.modules.logger?A.init(n(this.modules.logger),this.options):A.init(null,this.options);var r=new P(this.options);this.store=new O(this.options.resources,this.options);var o=this.services;o.logger=A,o.resourceStore=this.store,o.resourceStore.on("added removed",function(){o.cacheConnector.save()}),o.languageUtils=r,o.pluralResolver=new R(r,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON}),o.interpolator=new L(this.options),o.backendConnector=new H(n(this.modules.backend),o.resourceStore,o,this.options),o.backendConnector.on("*",function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;e>r;r++)n[r-1]=arguments[r];i.emit.apply(i,[t].concat(n))}),o.backendConnector.on("loaded",function(){o.cacheConnector.save()}),o.cacheConnector=new B(n(this.modules.cache),o.resourceStore,o,this.options),o.cacheConnector.on("*",function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;e>r;r++)n[r-1]=arguments[r];i.emit.apply(i,[t].concat(n))}),this.modules.languageDetector&&(o.languageDetector=n(this.modules.languageDetector),o.languageDetector.init(o,this.options.detection,this.options)),this.translator=new M(this.services,this.options),this.translator.on("*",function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;e>r;r++)n[r-1]=arguments[r];i.emit.apply(i,[t].concat(n))})}var a=["getResource","addResource","addResources","addResourceBundle","removeResourceBundle","hasResourceBundle","getResourceBundle"];a.forEach(function(t){i[t]=function(){return this.store[t].apply(this.store,arguments)}}),"v1"===this.options.compatibilityAPI&&d(this);var s=function(){i.changeLanguage(i.options.lng,function(t,n){i.isInitialized=!0,i.emit("initialized",i.options),i.logger.log("initialized",i.options),e(t,n)})};return this.options.resources||!this.options.initImmediate?s():setTimeout(s,0),this},e.prototype.loadResources=function(t){var e=this;if(t||(t=b),this.options.resources)t(null);else{var n=function(){if(e.language&&"cimode"===e.language.toLowerCase())return{v:t()};var n=[],i=function(t){var i=e.services.languageUtils.toResolveHierarchy(t);i.forEach(function(t){n.indexOf(t)<0&&n.push(t)})};i(e.language),e.options.preload&&e.options.preload.forEach(function(t){i(t)}),e.services.cacheConnector.load(n,e.options.ns,function(){e.services.backendConnector.load(n,e.options.ns,t)})}();if("object"===("undefined"==typeof n?"undefined":w(n)))return n.v}},e.prototype.reloadResources=function(t,e){t||(t=this.languages),e||(e=this.options.ns),this.services.backendConnector.reload(t,e)},e.prototype.use=function(t){return"backend"===t.type&&(this.modules.backend=t),"cache"===t.type&&(this.modules.cache=t),("logger"===t.type||t.log&&t.warn&&t.warn)&&(this.modules.logger=t),"languageDetector"===t.type&&(this.modules.languageDetector=t),"postProcessor"===t.type&&N.addPostProcessor(t),this},e.prototype.changeLanguage=function(t,e){var n=this,i=function(i){t&&(n.emit("languageChanged",t),n.logger.log("languageChanged",t)),e&&e(i,function(){for(var t=arguments.length,e=Array(t),i=0;t>i;i++)e[i]=arguments[i];return n.t.apply(n,e)})};!t&&this.services.languageDetector&&(t=this.services.languageDetector.detect()),t&&(this.language=t,this.languages=this.services.languageUtils.toResolveHierarchy(t),this.translator.changeLanguage(t),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage(t)),this.loadResources(function(t){i(t)})},e.prototype.getFixedT=function(t,e){var n=this,i=function r(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=x({},e);return i.lng=i.lng||r.lng,i.ns=i.ns||r.ns,n.t(t,i)};return i.lng=t,i.ns=e,i},e.prototype.t=function(){return this.translator&&this.translator.translate.apply(this.translator,arguments)},e.prototype.exists=function(){return this.translator&&this.translator.exists.apply(this.translator,arguments)},e.prototype.setDefaultNamespace=function(t){this.options.defaultNS=t},e.prototype.loadNamespaces=function(t,e){var n=this;return this.options.ns?("string"==typeof t&&(t=[t]),t.forEach(function(t){n.options.ns.indexOf(t)<0&&n.options.ns.push(t)}),void this.loadResources(e)):e&&e()},e.prototype.loadLanguages=function(t,e){"string"==typeof t&&(t=[t]);var n=this.options.preload||[],i=t.filter(function(t){return n.indexOf(t)<0});return i.length?(this.options.preload=n.concat(i),void this.loadResources(e)):e()},e.prototype.dir=function(t){if(t||(t=this.language),!t)return"rtl";var e=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam"];return e.indexOf(this.services.languageUtils.getLanguagePartFromCode(t))>=0?"rtl":"ltr"},e.prototype.createInstance=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments[1];return new e(t,n)},e.prototype.cloneInstance=function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments[1],r=new e(x({},n,this.options,{isClone:!0}),i),o=["store","services","language"];return o.forEach(function(e){r[e]=t[e]}),r.translator=new M(r.services,r.options),r.translator.on("*",function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;e>i;i++)n[i-1]=arguments[i];r.emit.apply(r,[t].concat(n))}),r},e}(D),W=new U;return W}),function(){function t(t,e){return t.push.apply(t,e),t}function e(t,e,n,i){for(var r=t.length,o=n+(i?1:-1);i?o--:++o<r;)if(e(t[o],o,t))return o;return-1}function n(t){return function(e){return null==e?Qe:e[t]}}function i(t){return function(e){return null==t?Qe:t[e]}}function r(t,e,n,i,r){return r(t,function(t,r,o){n=i?(i=!1,t):e(n,t,r,o)}),n}function o(t,e){return E(e,function(e){return t[e]})}function a(){return!1}function s(t,e){return function(n){return t(e(n))}}function c(t){return t instanceof u?t:new u(t)}function u(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e}function l(t,e,n,i){return t===Qe||be(t,An[n])&&!Dn.call(i,n)?e:t}function h(t,e,n){var i=t[e];Dn.call(t,e)&&be(i,n)&&(n!==Qe||e in t)||(t[e]=n)}function f(t){return De(t)?Mn(t):{}}function d(t,e,n){if("function"!=typeof t)throw new TypeError(Ze);return setTimeout(function(){t.apply(Qe,n)},e)}function p(t,e){var n=!0;return Ln(t,function(t,i,r){return n=!!e(t,i,r)}),n}function g(t,e,n){for(var i=-1,r=t.length;++i<r;){var o=t[i],a=e(o);if(null!=a&&(s===Qe?a===a&&!0:n(a,s)))var s=a,c=o}return c}function m(t,e){var n=[];return Ln(t,function(t,i,r){e(t,i,r)&&n.push(t)}),n}function v(e,n,i,r,o){var a=-1,s=e.length;for(i||(i=Y),o||(o=[]);++a<s;){var c=e[a];n>0&&i(c)?n>1?v(c,n-1,i,r,o):t(o,c):r||(o[o.length]=c)}return o}function y(t,e){return t&&Hn(t,e,ti)}function b(t,e){return m(e,function(e){return Ee(t[e])})}function w(t,e){return t>e}function k(t){return Ie(t)&&On.call(t)==ln}function x(t,e,n,i,r){return t===e?!0:null==t||null==e||!De(t)&&!Ie(e)?t!==t&&e!==e:C(t,e,x,n,i,r)}function C(t,e,n,i,r,o){var s=Vn(t),c=Vn(e),u=cn,l=cn;s||(u=On.call(t),u=u==sn?gn:u),c||(l=On.call(e),l=l==sn?gn:l);var h=u==gn&&!a(t),f=l==gn&&!a(e),d=u==l;o||(o=[]);var p=Un(o,function(e){return e[0]==t}),g=Un(o,function(t){return t[0]==e});if(p&&g)return p[1]==e;if(o.push([t,e]),o.push([e,t]),d&&!h){var m=s?q(t,e,n,i,r,o):$(t,e,u,n,i,r,o);return o.pop(),m}if(!(r&rn)){var v=h&&Dn.call(t,"__wrapped__"),y=f&&Dn.call(e,"__wrapped__");if(v||y){var b=v?t.value():t,w=y?e.value():e,m=n(b,w,i,r,o);return o.pop(),m}}if(!d)return!1;var m=V(t,e,n,i,r,o);return o.pop(),m}function S(t){return De(t)&&On.call(t)==mn}function T(t){return"function"==typeof t?t:null==t?qe:("object"==typeof t?A:n)(t)}function _(t,e){return e>t}function E(t,e){var n=-1,i=ke(t)?Array(t.length):[];return Ln(t,function(t,r,o){i[++n]=e(t,r,o)}),i}function A(t){var e=Fn(t);return function(n){var i=e.length;if(null==n)return!i;for(n=Object(n);i--;){var r=e[i];if(!(r in n&&x(t[r],n[r],Qe,nn|rn)))return!1}return!0}}function D(t,e){return t=Object(t),he(e,function(e,n){return n in t&&(e[n]=t[n]),e},{})}function I(t,e){return e=Rn(e===Qe?t.length-1:e,0),function(){for(var n=arguments,i=-1,r=Rn(n.length-e,0),o=Array(r);++i<r;)o[i]=n[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=n[i];return a[e]=o,t.apply(this,a)}}function O(t,e,n){var i=-1,r=t.length;0>e&&(e=-e>r?0:r+e),n=n>r?r:n,0>n&&(n+=r),r=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(r);++i<r;)o[i]=t[i+e];return o}function N(t){return O(t,0,t.length)}function M(t,e){var n;return Ln(t,function(t,i,r){return n=e(t,i,r),!n}),!!n}function P(e,n){var i=e;return he(n,function(e,n){return n.func.apply(n.thisArg,t([e],n.args))},i)}function j(t,e){if(t!==e){var n=t!==Qe,i=null===t,r=t===t,o=!1,a=e!==Qe,s=null===e,c=e===e,u=!1;if(!s&&!u&&!o&&t>e||o&&a&&c&&!s&&!u||i&&a&&c||!n&&c||!r)return 1;if(!i&&!o&&!u&&e>t||u&&n&&r&&!i&&!o||s&&n&&r||!a&&r||!c)return-1}return 0}function F(t,e,n,i){n||(n={});for(var r=-1,o=e.length;++r<o;){var a=e[r],s=i?i(n[a],t[a],a,n,t):Qe;h(n,a,s===Qe?t[a]:s)}return n}function R(t){return I(function(e,n){var i=-1,r=n.length,o=r>1?n[r-1]:Qe;for(o=t.length>3&&"function"==typeof o?(r--,o):Qe,e=Object(e);++i<r;){var a=n[i];a&&t(e,a,i,o)}return e})}function L(t,e){return function(n,i){if(null==n)return n;if(!ke(n))return t(n,i);for(var r=n.length,o=e?r:-1,a=Object(n);(e?o--:++o<r)&&i(a[o],o,a)!==!1;);return n}}function H(t){return function(e,n,i){for(var r=-1,o=Object(e),a=i(e),s=a.length;s--;){var c=a[t?s:++r];if(n(o[c],c,o)===!1)break}return e}}function B(t){return function(){var e=arguments,n=f(t.prototype),i=t.apply(n,e);return De(i)?i:n}}function U(t){return function(e,n,i){var r=Object(e);if(!ke(e)){var o=T(n,3);e=ti(e),n=function(t){return o(r[t],t,r)}}var a=t(e,n,i);return a>-1?r[o?e[a]:a]:Qe}}function W(t,e,n,i){function r(){for(var e=-1,s=arguments.length,c=-1,u=i.length,l=Array(u+s),h=this&&this!==Cn&&this instanceof r?a:t;++c<u;)l[c]=i[c];for(;s--;)l[c++]=arguments[++e];return h.apply(o?n:this,l)}if("function"!=typeof t)throw new TypeError(Ze);var o=e&tn,a=B(t);return r}function q(t,e,n,i,r,o){var a=r&rn,s=t.length,c=e.length;if(s!=c&&!(a&&c>s))return!1;for(var u=-1,l=!0,h=r&nn?[]:Qe;++u<s;){var f,d=t[u],p=e[u];if(f!==Qe){if(f)continue;l=!1;break}if(h){if(!M(e,function(t,e){return te(h,e)||d!==t&&!n(d,t,i,r,o)?void 0:h.push(e)})){l=!1;break}}else if(d!==p&&!n(d,p,i,r,o)){l=!1;break}}return l}function $(t,e,n){switch(n){case un:case ln:case pn:return be(+t,+e);case hn:return t.name==e.name&&t.message==e.message;case mn:case vn:return t==e+""}return!1}function V(t,e,n,i,r,o){var a=r&rn,s=ti(t),c=s.length,u=ti(e),l=u.length;if(c!=l&&!a)return!1;for(var h=c;h--;){var f=s[h];if(!(a?f in e:Dn.call(e,f)))return!1}for(var d=!0,p=a;++h<c;){f=s[h];var g,m=t[f],v=e[f];if(!(g===Qe?m===v||n(m,v,i,r,o):g)){d=!1;break}p||(p="constructor"==f)}if(d&&!p){var y=t.constructor,b=e.constructor;y!=b&&"constructor"in t&&"constructor"in e&&!("function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b)&&(d=!1)}return d}function Y(t){return Vn(t)||we(t)}function z(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}function X(t){return m(t,Boolean)}function G(){for(var e=arguments.length,n=Array(e?e-1:0),i=arguments[0],r=e;r--;)n[r-1]=arguments[r];return e?t(Vn(i)?N(i):[i],v(n,1)):[]}function K(t,n,i){var r=t?t.length:0;if(!r)return-1;var o=null==i?0:Xn(i);return 0>o&&(o=Rn(r+o,0)),e(t,T(n,3),o)}function Q(t){var e=t?t.length:0;return e?v(t,1):[]}function J(t){var e=t?t.length:0;return e?v(t,on):[]}function Z(t){return t&&t.length?t[0]:Qe}function te(t,e,n){var i=t?t.length:0;n="number"==typeof n?0>n?Rn(i+n,0):n:0;for(var r=(n||0)-1,o=e===e;++r<i;){var a=t[r];if(o?a===e:a!==a)return r}return-1}function ee(t){var e=t?t.length:0;return e?t[e-1]:Qe}function ne(t,e,n){var i=t?t.length:0;return e=null==e?0:+e,n=n===Qe?i:+n,i?O(t,e,n):[]}function ie(t){var e=c(t);return e.__chain__=!0,e}function re(t,e){return e(t),t}function oe(t,e){return e(t)}function ae(){return P(this.__wrapped__,this.__actions__)}function se(t,e,n){return e=n?Qe:e,p(t,T(e))}function ce(t,e){return m(t,T(e))}function ue(t,e){return Ln(t,T(e))}function le(t,e){return E(t,T(e))}function he(t,e,n){return r(t,T(e),n,arguments.length<3,Ln)}function fe(t){return null==t?0:(t=ke(t)?t:Fn(t),t.length)}function de(t,e,n){return e=n?Qe:e,M(t,T(e))}function pe(t,e){var i=0;return e=T(e),E(E(t,function(t,n,r){return{value:t,index:i++,criteria:e(t,n,r)}}).sort(function(t,e){return j(t.criteria,e.criteria)||t.index-e.index}),n("value"))}function ge(t,e){var n;if("function"!=typeof e)throw new TypeError(Ze);return t=Xn(t),function(){return--t>0&&(n=e.apply(this,arguments)),1>=t&&(e=Qe),n}}function me(t){if("function"!=typeof t)throw new TypeError(Ze);return function(){var e=arguments;return!t.apply(this,e)}}function ve(t){return ge(2,t)}function ye(t){return De(t)?Vn(t)?N(t):F(t,Fn(t)):t}function be(t,e){return t===e||t!==t&&e!==e}function we(t){return xe(t)&&Dn.call(t,"callee")&&(!Pn.call(t,"callee")||On.call(t)==sn)}function ke(t){return null!=t&&Ae(t.length)&&!Ee(t)}function xe(t){return Ie(t)&&ke(t)}function Ce(t){return t===!0||t===!1||Ie(t)&&On.call(t)==un}function Se(t){return ke(t)&&(Vn(t)||Pe(t)||Ee(t.splice)||we(t))?!t.length:!Fn(t).length}function Te(t,e){return x(t,e)}function _e(t){return"number"==typeof t&&jn(t)}function Ee(t){var e=De(t)?On.call(t):"";return e==fn||e==dn}function Ae(t){return"number"==typeof t&&t>-1&&t%1==0&&an>=t}function De(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function Ie(t){return!!t&&"object"==typeof t}function Oe(t){return Me(t)&&t!=+t}function Ne(t){return null===t}function Me(t){return"number"==typeof t||Ie(t)&&On.call(t)==pn}function Pe(t){return"string"==typeof t||!Vn(t)&&Ie(t)&&On.call(t)==vn}function je(t){return t===Qe}function Fe(t){return ke(t)?t.length?N(t):[]:Ue(t)}function Re(t){return"string"==typeof t?t:null==t?"":t+""}function Le(t,e){var n=f(t);return e?Kn(n,e):n}function He(t,e){return null!=t&&Dn.call(t,e)}function Be(t,e,n){var i=null==t?Qe:t[e];return i===Qe&&(i=n),Ee(i)?i.call(t):i}function Ue(t){return t?o(t,ti(t)):[]}function We(t){return t=Re(t),t&&bn.test(t)?t.replace(yn,_n):t}function qe(t){return t}function $e(t){return A(Kn({},t))}function Ve(e,n,i){var r=ti(n),o=b(n,r);null!=i||De(n)&&(o.length||!r.length)||(i=n,n=e,e=this,o=b(n,ti(n)));var a=!(De(i)&&"chain"in i&&!i.chain),s=Ee(e);return Ln(o,function(i){var r=n[i];e[i]=r,s&&(e.prototype[i]=function(){var n=this.__chain__;if(a||n){var i=e(this.__wrapped__),o=i.__actions__=N(this.__actions__);return o.push({func:r,args:arguments,thisArg:e}),i.__chain__=n,i}return r.apply(e,t([this.value()],arguments))})}),e}function Ye(){return Cn._===this&&(Cn._=Nn),this}function ze(){}function Xe(t){var e=++In;return Re(t)+e}function Ge(t){return t&&t.length?g(t,qe,w):Qe}function Ke(t){return t&&t.length?g(t,qe,_):Qe}var Qe,Je="4.14.2",Ze="Expected a function",tn=1,en=32,nn=1,rn=2,on=1/0,an=9007199254740991,sn="[object Arguments]",cn="[object Array]",un="[object Boolean]",ln="[object Date]",hn="[object Error]",fn="[object Function]",dn="[object GeneratorFunction]",pn="[object Number]",gn="[object Object]",mn="[object RegExp]",vn="[object String]",yn=/[&<>"'`]/g,bn=RegExp(yn.source),wn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},kn="object"==typeof global&&global&&global.Object===Object&&global,xn="object"==typeof self&&self&&self.Object===Object&&self,Cn=kn||xn||Function("return this")(),Sn="object"==typeof exports&&exports&&!exports.nodeType&&exports,Tn=Sn&&"object"==typeof module&&module&&!module.nodeType&&module,_n=i(wn),En=Array.prototype,An=Object.prototype,Dn=An.hasOwnProperty,In=0,On=An.toString,Nn=Cn._,Mn=Object.create,Pn=An.propertyIsEnumerable,jn=Cn.isFinite,Fn=s(Object.keys,Object),Rn=Math.max;
u.prototype=f(c.prototype),u.prototype.constructor=u;var Ln=L(y),Hn=H(),Bn=String,Un=U(K),Wn=I(function(t,e,n){return W(t,tn|en,e,n)}),qn=I(function(t,e){return d(t,1,e)}),$n=I(function(t,e,n){return d(t,Gn(e)||0,n)}),Vn=Array.isArray,Yn=k,zn=S,Xn=Number,Gn=Number,Kn=R(function(t,e){F(e,Fn(e),t)}),Qn=R(function(t,e){F(e,z(e),t)}),Jn=R(function(t,e,n,i){F(e,ei(e),t,i)}),Zn=I(function(t){return t.push(Qe,l),Jn.apply(Qe,t)}),ti=Fn,ei=z,ni=I(function(t,e){return null==t?{}:D(t,E(v(e,1),Bn))}),ii=T;c.assignIn=Qn,c.before=ge,c.bind=Wn,c.chain=ie,c.compact=X,c.concat=G,c.create=Le,c.defaults=Zn,c.defer=qn,c.delay=$n,c.filter=ce,c.flatten=Q,c.flattenDeep=J,c.iteratee=ii,c.keys=ti,c.map=le,c.matches=$e,c.mixin=Ve,c.negate=me,c.once=ve,c.pick=ni,c.slice=ne,c.sortBy=pe,c.tap=re,c.thru=oe,c.toArray=Fe,c.values=Ue,c.extend=Qn,Ve(c,c),c.clone=ye,c.escape=We,c.every=se,c.find=Un,c.forEach=ue,c.has=He,c.head=Z,c.identity=qe,c.indexOf=te,c.isArguments=we,c.isArray=Vn,c.isBoolean=Ce,c.isDate=Yn,c.isEmpty=Se,c.isEqual=Te,c.isFinite=_e,c.isFunction=Ee,c.isNaN=Oe,c.isNull=Ne,c.isNumber=Me,c.isObject=De,c.isRegExp=zn,c.isString=Pe,c.isUndefined=je,c.last=ee,c.max=Ge,c.min=Ke,c.noConflict=Ye,c.noop=ze,c.reduce=he,c.result=Be,c.size=fe,c.some=de,c.uniqueId=Xe,c.each=ue,c.first=Z,Ve(c,function(){var t={};return y(c,function(e,n){Dn.call(c.prototype,n)||(t[n]=e)}),t}(),{chain:!1}),c.VERSION=Je,Ln(["pop","join","replace","reverse","split","push","shift","sort","splice","unshift"],function(t){var e=(/^(?:replace|split)$/.test(t)?String.prototype:En)[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",i=/^(?:pop|join|replace|shift)$/.test(t);c.prototype[t]=function(){var t=arguments;if(i&&!this.__chain__){var r=this.value();return e.apply(Vn(r)?r:[],t)}return this[n](function(n){return e.apply(Vn(n)?n:[],t)})}}),c.prototype.toJSON=c.prototype.valueOf=c.prototype.value=ae,"function"==typeof define&&"object"==typeof define.amd&&define.amd?(Cn._=c,define("lodash.core",[],function(){return c})):Tn?((Tn.exports=c)._=c,Sn._=c):Cn._=c}.call(this),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define("i18next-xhr-backend",e):t.i18nextXHRBackend=e()}(this,function(){"use strict";function t(t){return o.call(a.call(arguments,1),function(e){if(e)for(var n in e)void 0===t[n]&&(t[n]=e[n])}),t}function e(t,e,n,i,r){if(i&&"object"===("undefined"==typeof i?"undefined":s(i))){var o="",a=encodeURIComponent;for(var c in i)o+="&"+a(c)+"="+a(i[c]);i=o.slice(1)+(r?"":"&_t="+new Date)}try{var u=new(XMLHttpRequest||ActiveXObject)("MSXML2.XMLHTTP.3.0");u.open(i?"POST":"GET",t,1),e.crossDomain||u.setRequestHeader("X-Requested-With","XMLHttpRequest"),u.withCredentials=!!e.withCredentials,i&&u.setRequestHeader("Content-type","application/x-www-form-urlencoded");var l=e.customHeaders;if(l)for(var h in l)u.setRequestHeader(h,l[h]);u.onreadystatechange=function(){u.readyState>3&&n&&n(u.responseText,u)},u.send(i)}catch(a){console&&console.log(a)}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(){return{loadPath:"/locales/{{lng}}/{{ns}}.json",addPath:"locales/add/{{lng}}/{{ns}}",allowMultiLoading:!1,parse:JSON.parse,crossDomain:!1,ajax:e}}var r=[],o=r.forEach,a=r.slice,s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),u=function(){function e(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n(this,e),this.init(t,i),this.type="backend"}return c(e,[{key:"init",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.services=e,this.options=t(n,this.options||{},i())}},{key:"readMulti",value:function(t,e,n){var i=this.options.loadPath;"function"==typeof this.options.loadPath&&(i=this.options.loadPath(t,e));var r=this.services.interpolator.interpolate(i,{lng:t.join("+"),ns:e.join("+")});this.loadUrl(r,n)}},{key:"read",value:function(t,e,n){var i=this.options.loadPath;"function"==typeof this.options.loadPath&&(i=this.options.loadPath([t],[e]));var r=this.services.interpolator.interpolate(i,{lng:t,ns:e});this.loadUrl(r,n)}},{key:"loadUrl",value:function(t,e){var n=this;this.options.ajax(t,this.options,function(i,r){if(r.status>=500&&r.status<600)return e("failed loading "+t,!0);if(r.status>=400&&r.status<500)return e("failed loading "+t,!1);var o=void 0,a=void 0;try{o=n.options.parse(i,t)}catch(s){a="failed parsing "+t+" to json"}return a?e(a,!1):void e(null,o)})}},{key:"create",value:function(t,e,n,i){var r=this;"string"==typeof t&&(t=[t]);var o={};o[n]=i||"",t.forEach(function(t){var n=r.services.interpolator.interpolate(r.options.addPath,{lng:t,ns:e});r.options.ajax(n,r.options,function(){},o)})}}]),e}();return u.type="backend",u}),!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define("jquery-i18next",e):t.jqueryI18next=e()}(this,function(){"use strict";function t(t,i){function r(n,i,r){function o(t,n){return s.parseDefaultValueFromContent?e({},t,{defaultValue:n}):t}if(0!==i.length){var a="text";if(0===i.indexOf("[")){var c=i.split("]");i=c[1],a=c[0].substr(1,c[0].length-1)}if(i.indexOf(";")===i.length-1&&(i=i.substr(0,i.length-2)),"html"===a)n.html(t.t(i,o(r,n.html())));else if("text"===a)n.text(t.t(i,o(r,n.text())));else if("prepend"===a)n.prepend(t.t(i,o(r,n.html())));else if("append"===a)n.append(t.t(i,o(r,n.html())));else if(0===a.indexOf("data-")){var u=a.substr("data-".length),l=t.t(i,o(r,n.data(u)));n.data(u,l),n.attr(a,l)}else n.attr(a,t.t(i,o(r,n.attr(a))))}}function o(t,n){var o=t.attr(s.selectorAttr);if(o||"undefined"==typeof o||o===!1||(o=t.text()||t.val()),o){var a=t,c=t.data(s.targetAttr);if(c&&(a=t.find(c)||t),n||s.useOptionsAttr!==!0||(n=t.data(s.optionsAttr)),n=n||{},o.indexOf(";")>=0){var u=o.split(";");i.each(u,function(t,e){""!==e&&r(a,e,n)})}else r(a,o,n);if(s.useOptionsAttr===!0){var l={};l=e({clone:l},n),delete l.lng,t.data(s.optionsAttr,l)}}}function a(t){return this.each(function(){o(i(this),t);var e=i(this).find("["+s.selectorAttr+"]");e.each(function(){o(i(this),t)})})}var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};s=e({},n,s),i[s.tName]=t.t.bind(t),i[s.i18nName]=t,i.fn[s.handleName]=a}var e=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},n={tName:"t",i18nName:"i18n",handleName:"localize",selectorAttr:"data-i18n",targetAttr:"i18n-target",optionsAttr:"i18n-options",useOptionsAttr:!1,parseDefaultValueFromContent:!0},i={init:t};return i}),define("component/i18n",["require","i18next","lodash.core","i18next-xhr-backend","js-cookie","jquery-i18next"],function(t){var e,n,i,r=t("i18next"),o=t("lodash.core"),a=t("i18next-xhr-backend"),s=t("js-cookie"),c=t("jquery-i18next"),u={ENGLISH:"en",VIETNAMESE:"vi"},l={path:"/",domain:location.hostname.indexOf("vndirect.com.vn")>=0?".vndirect.com.vn":"",secure:"https:"===location.protocol},h={fallbackLng:u.VIETNAMESE,ns:["common","nav","priceboard","footer","trade","api_code","status_code"],defaultNS:"common",backend:{loadPath:"locales/{{lng}}/{{ns}}.json?rev="+Math.round((new Date).getTime()/1e3)}},f=function(){e.on("click",function(t){t.preventDefault(),i===u.VIETNAMESE&&(e.toggleClass("activeLang primary"),n.toggleClass("activeLang primary"),i=u.ENGLISH,g(i))}),n.on("click",function(t){t.preventDefault(),i===u.ENGLISH&&(e.toggleClass("activeLang primary"),n.toggleClass("activeLang primary"),i=u.VIETNAMESE,g(i))})},d=function(t){var e=$(".language.english"),n=$(".language.vietnamese");t===u.ENGLISH?(e.addClass("activeLang primary"),n.removeClass("activeLang primary"),i=u.ENGLISH):(n.addClass("activeLang primary"),e.removeClass("activeLang primary"),i=u.VIETNAMESE)},p=function(t){$("body").removeClass(function(t,e){return(e.match(/(^|\s)lang-\S+/g)||[]).join(" ")}).addClass("lang-"+t)},g=function(t){r.use(a).init(o.extend({lng:t},h),function(){c.init(r,$),window.localStorage.setItem("language",t),s.set("i18next",t,l),p(t),window.location.reload()})},m=function(t){r.use(a).init(o.extend({lng:t},h),function(){c.init(r,$),window.localStorage.setItem("language",t),s.set("i18next",t,l),p(t),$("body").localize()})};return{init:function(t){e=$(".language.english"),n=$(".language.vietnamese");var i=window.localStorage.getItem("language")||u.VIETNAMESE;r.use(a).init(o.extend({lng:i},h),function(){c.init(r,$),p(i),$("body").localize(),t();var e=i===u.ENGLISH?"en-US":"vi-VN";$.datepicker.setDefaults($.datepicker.regional[e])}),f(),d(i)},LANGUAGES:u,t:function(t,e){return r.t(t,e)},getCurrentLanguage:function(){return i},switchToLanguage:g,changeLanguageWithoutReloading:m,changeCSSClass:p,setSelectedLanguageButton:d}}),define("legacy/TabManager",["require","jquery","modernizr","component/overlay","component/track","component/i18n","js-cookie","component/config"],function(t){var e=t("jquery"),n=t("modernizr"),i=t("component/overlay"),r=t("component/track"),o=t("component/i18n"),a=t("js-cookie"),s=t("component/config").priceTabs,c={path:"/",domain:location.hostname.indexOf("vndirect.com.vn")>=0?".vndirect.com.vn":"",secure:"https:"===location.protocol},u={};u[s.userCategory]={path:"/price/full/user-category",hash:"#khop-lenh/danh-muc",title:"Bảng giá danh mục người dùng"},u[s.categoryByIndustry]={path:"/price/full/category-by-industry",hash:"#khop-lenh/co-phieu-nganh",title:"Bảng giá cổ phiếu theo ngành"},u[s.hose]={path:"/price/full/hose",hash:"#khop-lenh/hose",title:"Bảng giá sàn HOSE"},u[s.hosePutthrough]={path:"/price/putthrough/hose",hash:"#thoa-thuan/hose",title:"Bảng giá giao dịch thoả thuận sàn HOSE"},u[s.vn30]={path:"price/full/vn30",hash:"#khop-lenh/vn30",title:"Bảng giá giao dịch thoả thuận sàn HOSE - 30 mã đứng đầu"},u[s.hnx]={path:"/price/full/hnx",hash:"#khop-lenh/hnx",title:"Bảng giá sàn HNX"},u[s.hnxPutthrough]={path:"/price/putthrough/hnx",hash:"#thoa-thuan/hnx",title:"Bảng giá giao dịch thoả thuận sàn HNX"},u[s.hnx30]={path:"price/full/hnx30",hash:"#khop-lenh/hnx30",title:"Bảng giá giao dịch thoả thuận sàn HNX - 30 mã đứng đầu"},u[s.upcom]={path:"/price/full/upcom",hash:"#khop-lenh/upcom",title:"Bảng giá sàn UPCOM"},u[s.hoseFundamentals]={path:"/price/fundamentals/hose",hash:"#co-ban/hose",title:"Bảng chỉ số cơ bản sàn HOSE"},u[s.hnxFundamentals]={path:"/price/fundamentals/hnx",hash:"#co-ban/hnx",title:"Bảng chỉ số cơ bản sàn HNX"},u[s.vn30Fundamentals]={path:"/price/fundamentals/vn30",hash:"#co-ban/vn30",title:"Bảng chỉ số cơ bản sàn HOSE - 30 mã đứng đầu"},u[s.hnx30Fundamentals]={path:"/price/fundamentals/hnx30",hash:"#co-ban/hnx30",title:"Bảng chỉ số cơ bản sàn HNX - 30 mã đứng đầu"},u[s.upcomFundamentals]={path:"/price/fundamentals/upcom",hash:"#co-ban/upcom",title:"Bảng chỉ số cơ bản sàn UPCOM"},u[s.userCategoryFundamentals]={path:"/price/fundamentals/user-category",hash:"#co-ban/danh-muc",title:"Bảng chỉ số cơ bản danh mục người dùng"},u[s.categoryByIndustryFundamentals]={path:"/price/fundamentals/category-by-industry",hash:"#co-ban/co-phieu-nganh",title:"Bảng chỉ số cơ bản cố phiếu theo ngành"};var l=function(t){for(var n in t)"undefined"!=typeof t[n]&&(this[n]=t[n]);this.jqueryObject=e(this)};return l.prototype={setTab:function(t){if(this.crrTab!=t||this.crrTab==s.userCategory){var e=this.crrTab;this.crrTab=t;var n=o.getCurrentLanguage();"en"===n&&this.crrTab===s.motif?(this.hideTab(s.motif),this.setTab(s.userCategory),this.emit("beforeChangeTab",{oldTab:s.motif,newTab:s.userCategory}),this.emit("changeTab",{oldTab:s.motif,newTab:s.userCategory})):(this.hideTab(e),this.showTab(t),this.emit("beforeChangeTab",{oldTab:e,newTab:t}),this.emit("changeTab",{oldTab:e,newTab:t})),u[t]&&(window.location.hash=u[t].hash,r.page(u[t].path,u[t].title)),this.setCookie()}},emit:function(t,e){this.jqueryObject.trigger({type:t,message:e,time:new Date})},on:function(t,n){e(this).bind(t,n)},showTab:function(t){var n=e("#nav a[data-tab="+t+"]").closest("li");n.addClass("active");var r=e("#nav ul.primary");switch(r.children("li").has(n).addClass("active"),e("#box"+t).show(),t){case s.userCategoryFundamentals:case s.categoryByIndustryFundamentals:case s.motif:i.setState("loading").setContent(o.t("getting_data"));break;case s.vn30:case s.vn30Fundamentals:e(".hnx-tabs").html("HNX"),e(".hose-tabs").html("VN30"),i.setState("loading").setContent(o.t("priceboard:tooltip.getting_data_hose"));break;case s.hose:case s.hoseFundamentals:e(".hnx-tabs").html("HNX"),e(".hose-tabs").html("HOSE"),i.setState("loading").setContent(o.t("priceboard:tooltip.getting_data_hose"));break;case s.hnx30:case s.hnx30Fundamentals:e(".hose-tabs").html("HOSE"),e(".hnx-tabs").html("HNX30"),i.setState("loading").setContent(o.t("priceboard:tooltip.getting_data_hnx"));break;case s.hnx:case s.hnxFundamentals:e(".hose-tabs").html("HOSE"),e(".hnx-tabs").html("HNX"),i.setState("loading").setContent(o.t("priceboard:tooltip.getting_data_hnx"));break;case s.upcom:case s.upcomFundamentals:i.setState("loading").setContent(o.t("priceboard:tooltip.getting_data_upcom"));break;default:i.setState("")}e("#sticky-table-header .tab-"+t).show(),this.setCookie()},hideTab:function(t){var n=e("#nav a[data-tab="+t+"]").closest("li");n.removeClass("active");var i=e("#nav ul.primary");i.children("li").has(n).removeClass("active"),e("#box"+t).hide(),e("#sticky-table-header .tab-"+t).hide()},setCookie:function(){a.set(this.name+"CK",this.crrTab,c)},start:function(){0===window.location.hash.length&&this.getCookie(),e(window).trigger("hashchange")},getCookie:function(){var t=parseInt(getCookie(this.name+"CK"));t||(t=s.userCategory);var i=e("#nav .primary").find("a[data-tab="+t+"]").attr("href");i&&n.history&&window.history.replaceState(null,"",i),this.setTab(t)}},l}),define("legacy/FixHeader",["require","jquery"],function(t){var e=t("jquery"),n=function(t){for(var e in t)"undefined"!=typeof t[e]&&(this[e]=t[e]);this.init(),this.createElement(),this.listenWindowEvent(),n.instances.push(this)};return n.instances=[],n.all=function(t){for(var e=0;e<this.instances;e++)t(this.instances[e])},n.prototype={createElement:function(){var t=e("#sticky-table-header"),n="banggia fixed-header";this.originalElement.isCloned||(this.originalElementId=this.originalElement.attr("id"),this.element=e("<table>",{id:this.id,"class":n}).addClass("tab-"+this.tabIndex).attr("data-clone-for",this.originalElementId),this.element.appendTo(t),e("#"+this.originalElementId).attr("data-clone",this.id),e("#"+this.originalElementId+" colgroup").clone().appendTo(this.element),e("#"+this.originalElementId+" thead").clone().appendTo(this.element),this.detectHeaderElement(),e("#"+this.originalElementId+" thead").css({}),this.mapElementEvent(),this.originalElement.isCloned=!0,e("#"+this.originalElementId+" thead").css({opacity:0}))},mapElementEvent:function(){var t=this.originalElement.find("thead [data-sort-by]"),n=this.element.find("thead [data-sort-by]"),i=this.originalElement.find("thead th a"),r=this.element.find("thead th a");n.each(function(n){var i=t.eq(n),r=e(this);r.off("click").on("click",function(){i.closest("table").hasClass("rendering")||i.trigger("click")})}),r.each(function(t){var n=i.eq(t),r=e(this);r.off("click").on("click",function(t){t.preventDefault(),t.stopPropagation(),n.trigger("click")})})},active:function(){this.isActive=!0},deactive:function(){this.isActive=!0},listenWindowEvent:function(){System.tabManager.on("changeTab",function(){if(this.removeClass(),!this.isNotAutoHandleTabChange){var t=100;(Browser.isChrome()||Browser.isSafari())&&(t=400)}}.bind(this))},init:function(){this.isActive=!1,this.startedHandlerScroll=!1,this.startedHandlerScroll=!1,this.id="fixHeader"+n.instances.length,this.index=n.instances.length},replaceThTagByJqueryObject:function(t){for(var n=0;n<t.length;n++)t[n]=e(t[n])},removeClass:function(){for(var t=0;t<this.thTags.length;t++)this.thTags[t].removeClass("headerSortDown headerSortUp")},detectHeaderElement:function(){Browser.isChrome()||Browser.isSafari()?(this.originalThTags=e("#"+this.originalElementId+" thead th"),this.thTags=e("#"+this.id+" thead th")):Browser.isIE()?(this.originalThTags=e("#"+this.originalElementId+" thead th:not([colspan])"),this.thTags=e("#"+this.id+" thead th:not([colspan])")):(this.originalThTags=e("#"+this.originalElementId+" th:not([colspan])"),this.thTags=e("#"+this.id+" th:not([colspan])")),this.replaceThTagByJqueryObject(this.thTags),this.replaceThTagByJqueryObject(this.originalThTags)}},n}),Schedule={schedule:function(t){var e=new Date,n=t.getTime()-e.getTime();return 0>n?!1:(setTimeout(callback,n),!0)},createJob:function(t,e){var n="undefined"==typeof t.hour?0:t.hour,i="undefined"==typeof t.minute?0:t.minute,r="undefined"==typeof t.second?0:t.second,o=new Date,a=new Date;a.setHours(n,i,r,0);var s=a.getTime()-o.getTime();0>s&&(s+=864e5),setTimeout(function(t){e(),Schedule.createJob(t,e)}.bind(this,t),s)}},NumberFormat={price:function(t){var e=Number(t);return isNaN(e)&&"string"==typeof t?t:e?Highcharts.numberFormat(e,2):""},averagePrice:function(t,e){var n=Number(t);return isNaN(n)&&"string"==typeof t?t:n?Highcharts.numberFormat(n,e):""},vol:function(t,e){if(e=e?e:!0,!t)return"";var n=Highcharts.numberFormat(10*t,0);return e?n.substring(0,n.length-1):n},baseVol:function(t){return Highcharts.numberFormat(t,0)},currency:function(t){return Highcharts.numberFormat(t,3)},cp:function(t){return Highcharts.numberFormat(10*t,0)},index:function(t){return Highcharts.numberFormat(t,2)},milionVol:function(t,e){if(!t)return"";var n=10*t;return 1e6>n?this.vol(t,e):(n/=1e6,Highcharts.numberFormat(n,2)+"tr")}},Browser={detect:function(){this.detecter={};var t=navigator.userAgent;this.detecter.isChrome=/Chrome/.test(t)&&/Google Inc/.test(navigator.vendor),this.detecter.isSafari=/Safari/.test(t)&&/Apple Computer/.test(navigator.vendor),this.detecter.isIpad=/iPad/i.test(t)||/iPhone OS 3_1_2/i.test(t)||/iPhone OS 3_2_2/i.test(t),this.detecter.isTablet=/Android|webOS|iPhone|iPad|iPod|silk|BlackBerry|IEMobile|Opera Mini/i.test(t),this.detecter.isIE=navigator.appName.indexOf("Internet Explorer")>=0},isChrome:function(){return this.detecter.isChrome},isIE:function(){return this.detecter.isIE},isSafari:function(){return this.detecter.isSafari},isIpad:function(){return this.detecter.isIpad},isTablet:function(){return this.detecter.isTablet}},Browser.detect(),haftClearTable=function(t){for(var e=$("#"+t+" > tbody").children(),n=0;n<e.length;n++)$(e[n]).remove()},HighlightRoom={activeTimePerBox:200,active:function(){this.lifeTime=2e3,Browser.isTablet()&&(this.lifeTime=Browser.isChrome()?1e3:700,this.activeTimePerBox=20),this.callback=function(t){t.el.removeClass(t["class"])},this.createBox()},push:function(t){this.crrBox.push({el:t,"class":"hl-changing"})},pushClass:function(t,e){t.removeClass(function(t,e){return(e.match(/(^|\s)hl-\S+/g)||[]).join(" ")}).addClass(e),this.crrBox.push({el:t,"class":e})},createBox:function(){var t=new TimeBox({callback:this.callback,lifeTime:this.lifeTime});this.crrBox=t,setTimeout(function(){this.createBox()}.bind(this),this.activeTimePerBox)}},RowSelector={selectedClass:"selected",crrRow:null,select:function(t){this.clear(),t.addClass(this.selectedClass),this.crrRow=t},unselect:function(t){t.removeClass(this.selectedClass),this.crrRow=null},clear:function(){this.crrRow&&this.crrRow.removeClass(this.selectedClass)},selectNext:function(){if(this.crrRow){var t=this.getNextElement(this.crrRow);this.select(t)}},selectPrev:function(){if(this.crrRow){var t=this.getPrevElement(this.crrRow);this.select(t)}},getNextElement:function(t){var e=$(t),n=e.parent().find("tr"),i=n.length,r=e.index(),o=(r+1)%i;return $(n[o])},getPrevElement:function(t){var e=$(t),n=e.parent().find("tr"),i=n.length,r=e.index(),o=(r-1+i)%i;return $(n[o])}},required=function(){},OOPHelper={extend:function(t,e,n){t.prototype=new e;for(var i in n)t.prototype[i]=n[i]}},DateTimeUtil={getSecondFromTimeString:function(t){var e=t.split(":");return 3600*e[0]+60*e[1]+e[2]}},ArrayUtil={getChangeArr:function(t,e){for(var n=[],i=0;i<t.length;i++)e.indexOf(t[i])<0&&n.push(t[i]);return n},orArr:function(t,e){for(var n=[],i=this.getChangeArr(t,e),r=0;r<i.length;r++)n.push(i[r]);for(var r=0;r<e.length;r++)n.push(e[r]);return n},andArr:function(t,e){for(var n=[],i=0;i<t.length;i++)e.indexOf(t[i])>=0&&n.push(t[i]);return n},getArrFromMap:function(t){for(var e=[],n=Object.keys(t),i=0;i<n.length;i++)e.push(t[n[i]]);return e}},Loading={show:function(){$("#loading").css({top:0,left:0,width:"100%",height:"100%",display:"block"})},hide:function(){$("#loading").css({display:"none"})}},define("legacy/util",function(){}),AdOrderCmp.prototype={render:function(){this.view.render()},add:function(t){this.model.add(t)},setAdOrders:function(t){this.model.setAdOrders(t)},listenModelEvent:function(){this.model.on("changeAdOrderList",function(){this.view.render(this.model.adOrders)}.bind(this)),this.model.on("addItem",function(t){this.view.addRow(t.message)}.bind(this)),this.model.on("removeItem",function(t){this.view.remove(t.message)}.bind(this)),this.model.on("refreshAdOders",function(t){this.view.render(this.model.adOrders,t.message)}.bind(this))},emit:function(t,e){$(this).trigger({type:t,message:e,time:new Date})},on:function(t,e){$(this).bind(t,e)}},define("legacy/AdOrderCmp",function(){}),AdOrderModel.prototype={add:function(t){if(!(this.sequence.indexOf(t.sequence)>=0)){if(this.sequence.push(t.sequence),0==t.status)return void this.remove(t);this.adOrders.push(t),this.crrTime<=t.time?(this.crrTime=t.time,this.emit("addItem",t)):(this.sortAdOrders(),this.emit("refreshAdOders",t.type))}},setAdOrders:function(t){var e=this;this.reset(),this.adOrders=[],t.forEach(function(t){return 0==t.status?void e.removeAdOrder(t):void e.adOrders.push(t)}),this.sortAdOrders(),this.emit("changeAdOrderList")},remove:function(t){var e=this.removeAdOrder(t);e&&this.emit("removeItem",e)},removeAdOrder:function(t){var e=this.adOrders.findIndex(function(e){return e.time===t.time&&e.stockSymbol===t.stockSymbol&&e.price===t.price&&e.vol===t.vol&&e.type===t.type});if(0>e)return null;var n=this.adOrders[e];return this.adOrders.splice(e,1),n},emit:function(t,e){$(this).trigger({type:t,message:e,time:new Date})},on:function(t,e){$(this).bind(t,e)},sortAdOrders:function(){this.adOrders.sort(function(t,e){return DateTimeUtil.getSecondFromTimeString(t.time)-DateTimeUtil.getSecondFromTimeString(e.time)})},reset:function(){this.crrTime="",this.adOrders=[],this.sequence=[]}},define("legacy/AdOrderModel",function(){}),AdOrderView.prototype={render:function(t,e){if("undefined"==typeof e){this.wrp.buy.html(""),this.wrp.sell.html("");for(var n=0;n<t.length;n++)this.addRow(t[n])}else{"B"==e?this.wrp.buy.html(""):"S"==e&&this.wrp.sell.html("");for(var n=0;n<t.length;n++)t[n].type==e&&this.addRow(t[n])}},addRow:function(t){var e=this.getHtml(t);"B"==t.type?this.wrp.buy.append(e):"S"==t.type&&this.wrp.sell.append(e)},remove:function(t){$("#"+this.getItemId(t)).remove()},getHtml:function(t){htmlText='<tr id="'+this.getItemId(t)+'">';var e=getClass(t.ceilingPrice,t.floorPrice,t.basicPrice,t.price);return htmlText+='<td class="texttimelignleft ptimedding4px '+e+'"><span>'+t.stockSymbol+"</span></td>",htmlText+='<td class="'+e+'"><span>'+FormatPrice(t.price)+"</span></td>",htmlText+='<td class="clryellow"><span>'+NumberFormat.baseVol(10*t.vol,",",".")+"</span></td>",htmlText+="<td><span>"+t.time+"</span></td>",htmlText+="</tr>",htmlText},getItemId:function(t){return(t.stockSymbol+t.type+t.time+t.price+t.vol).replace(/\W/g,"-")}},define("legacy/AdOrderView",function(){}),PtOrderCmp.prototype={render:function(){this.view.render()},add:function(t){this.model.add(t)},setPtOrders:function(t){this.model.setPtOrders(t)},listenModelEvent:function(){this.model.on("changePtOrders",function(){this.view.render(this.model.ptOrders)}.bind(this)),this.model.on("addItem",function(t){this.view.addRow(t.message)}.bind(this)),this.model.on("changeTotal",function(){this.view.updateTotal(this.model.totalVal,this.model.totalVol)}.bind(this))},emit:function(t,e){$(this).trigger({type:t,message:e,time:new Date})},on:function(t,e){$(this).bind(t,e)}},define("legacy/PtOrderCmp",function(){}),PtOrderModel.prototype={add:function(t){this.ptOrders.push(t),this.totalVol+=t.volume,this.totalVal+=t.price*t.volume,this.emit("changeTotal"),this.crrTime<=t.time?(this.crrTime=t.time,this.emit("addItem",t)):(this.sortPtOrders(),this.emit("changePtOrders"))},setPtOrders:function(t){this.reset(),this.ptOrders=t,this.sortPtOrders();for(var e in this.ptOrders)this.totalVol+=this.ptOrders[e].volume,this.totalVal+=this.ptOrders[e].price*this.ptOrders[e].volume;this.emit("changeTotal"),this.emit("changePtOrders")},emit:function(t,e){$(this).trigger({type:t,message:e,time:new Date})},on:function(t,e){$(this).bind(t,e)},sortPtOrders:function(){this.ptOrders.sort(function(t,e){return DateTimeUtil.getSecondFromTimeString(t.time)-DateTimeUtil.getSecondFromTimeString(e.time)})},reset:function(){this.crrTime="",this.ptOrders=[],this.sequence=[],this.totalVol=0,this.totalVal=0}},define("legacy/PtOrderModel",function(){}),PtOrderView.prototype={render:function(t){this.wrp.el.html("");for(var e=0;e<t.length;e++)this.addRow(t[e])},addRow:function(t){var e=this.getHtml(t);this.wrp.el.append(e)},updateTotal:function(t,e){this.wrp.totalVal.html(NumberFormat.price(t)),this.wrp.totalVol.html(NumberFormat.baseVol(e))},getHtml:function(t){var e="",n=getClass(t.ceilingPrice,t.floorPrice,t.basicPrice,t.price);return e='<tr id="'+this.getItemId(t)+'">',e+='<td class="texttimelignleft ptimedding4px '+n+' "><span>'+t.symbol+"</span></td>",e+='<td class="'+n+'"><span>'+NumberFormat.price(t.price)+"</span></td>",e+='<td class="txt-yellow"><span>'+NumberFormat.baseVol(t.volume,",",".")+"</span></td>",e+="<td><span>"+NumberFormat.index(t.volume*t.price)+"</span></td>",e+="<td><span>"+t.time+"</span></td>",e+="</tr>"},getItemId:function(t){return t.symbol+t.time}},define("legacy/PtOrderView",function(){}),function(t){var e={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g},n=/(.)^/,i={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},r=/\\|'|\r|\n|\t|\u2028|\u2029/g,o={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"},a=new RegExp("[&<>\"']","g"),s=function(t){return null==t?"":(""+t).replace(a,function(t){return o[t]})},c=0,u=function(t,o){var a,u=new RegExp([(e.escape||n).source,(e.interpolate||n).source,(e.evaluate||n).source].join("|")+"|$","g"),l=0,h="__p+='";t.replace(u,function(e,n,o,a,s){return h+=t.slice(l,s).replace(r,function(t){return"\\"+i[t]}),n&&(h+="'+\n((__t=("+n+"))==null?'':escapeExpr(__t))+\n'"),o&&(h+="'+\n((__t=("+o+"))==null?'':__t)+\n'"),a&&(h+="';\n"+a+"\n__p+='"),l=s+e.length,e}),h+="';\n",e.variable||(h="with(obj||{}){\n"+h+"}\n"),h="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+h+"return __p;\n//# sourceURL=/microtemplates/source["+c++ +"]";try{a=new Function(e.variable||"obj","escapeExpr",h)}catch(f){throw f.source=h,f}if(o)return a(o,s);var d=function(t){return a.call(this,t,s)};return d.source="function("+(e.variable||"obj")+"){\n"+h+"}",d};u.settings=e,"undefined"!=typeof define&&define.amd?define("microtemplates",[],function(){return u}):"undefined"!=typeof module&&module.exports?module.exports=u:t.microtemplate=u}(this),define("component/theme-switcher",["require","component/track","microtemplates","legacy/PubSub"],function(t,e,n,i){"use strict";var r,o=[{name:"Hiện đại",codeName:"default",description:"Phong cách hiện đại và tinh tế, dành cho nhà đầu tư yêu công nghệ.",isDefault:!0,chart:{volBar:"#69a0ff",advancingLine:"#0f0",decliningLine:"#f00",baseLine:"#f8f093",upperBackground:"#000",lowerBackground:"#3b2913",borderColor:"#666"}},{name:"Cổ điển",codeName:"classic",description:"Phong cách đơn giản, quen thuộc của bảng giá phiên bản cũ.",chart:{volBar:"#69a0ff",advancingLine:"#0f0",decliningLine:"#f00",baseLine:"#f8f093",upperBackground:"#000",lowerBackground:"#3e3300",borderColor:"#666"}},{name:"Tuyết trắng",codeName:"white",description:"Phong cách trắng khác biệt.",chart:{volBar:"#69a0ff",advancingLine:"#0a880a",decliningLine:"#f00",baseLine:"#deb200",upperBackground:"#eee",lowerBackground:"#f0f0f0",borderColor:"#999"}},{name:"Tình yêu chứng khoán",codeName:"pink",description:"Trải qua đủ các cung bậc của thị trường chứng khoán Việt Nam cùng bảng giá VNDIRECT",chart:{volBar:"#69a0ff",advancingLine:"#0a880a",decliningLine:"#f00",baseLine:"#deb200",upperBackground:"#fff",lowerBackground:"#fff",borderColor:"#999"}}],a=function(){$("#theme-switcher a").click(function(t){var n=$(this).attr("data-class");$("body").removeClass(function(t,e){return(e.match(/(^|\s)theme-\S+/g)||[]).join(" ")}).addClass("theme-"+n),localStorage.setItem("theme",n),e.event("theme","theme-"+n,"Chọn theme "+n),i.publish("theme/switch",$.grep(o,function(t){return t.codeName===n})[0]),$(this).parent().addClass("selected").siblings().removeClass("selected"),t.preventDefault()})},s=function(){$('#theme-switcher a[data-class="'+r.getCurrentTheme().codeName+'"]').click()};return{init:function(){$("#theme-switcher-tmpl").after(n($("#theme-switcher-tmpl").html(),o)),r=this,a(),s(),$("#theme-switcher").localize()},getCurrentTheme:function(){var t;$.each(o,function(e,n){return n.isDefault?void(t=n):void 0});var e,n;return localStorage.getItem("theme")&&(e=localStorage.getItem("theme"),n=$.grep(o,function(t){return t.codeName===e})[0]),n||t}}}),define("legacy/MarketInfoView",["require","jquery","jquery.flot","jquery.flot.time","component/theme-switcher","component/i18n"],function(t){function e(t,e){this.wrp=t,this.model=e,this.switchTheme(i.getCurrentTheme())}var n=t("jquery");t("jquery.flot"),t("jquery.flot.time");var i=t("component/theme-switcher"),r=t("component/i18n");return e.prototype={nameMap:{10:"VN-INDEX","02":"HNX-INDEX",11:"VN30-INDEX",12:"HNX30-INDEX",13:"VNXAllShare","03":"UPCOM"},render:function(){},renderChart:function(t,e,i,r){var o=Date.UTC(0,0,0,9,0),a=Date.UTC(0,0,0,15,0),s=[];s.push({data:t,color:this.colorSet.volBar,bars:{show:!0,lineWidth:1.5},shadowSize:0,yaxis:2}),s.push({data:e,color:this.colorSet.advancingLine,lines:{show:!0,lineWidth:1.1},shadowSize:0}),s.push({data:i,color:this.colorSet.decliningLine,lines:{show:!0,lineWidth:1.1},shadowSize:0}),s.push({data:[[o,r],[a,r]],color:this.colorSet.baseLine,lines:{show:!0,lineWidth:1.1},shadowSize:0}),this.chart=n.plot(this.wrp.chart,s,{xaxis:{mode:"time",min:o,max:a,tickFormatter:function(t){var e=new Date;return e.setTime(t),e.getUTCHours()+"h"}},yaxis:{ticks:2,show:!1},grid:{backgroundColor:{colors:[this.colorSet.upperBackground,this.colorSet.lowerBackground]},borderWidth:.5,borderColor:this.colorSet.borderColor},lines:{steps:!0,lineWidth:1.2},legend:{show:!1}})},hide:function(){this.wrp.el.css("display","none")},show:function(){this.wrp.el.css("display","block")},renderInfoBlock:function(t,e){var n="";n+="<p>",n+='<span class="txt-orange">'+this.getName(t)+"</span> ",n+='<span id="'+t+'IndexArrow" class="icon-arrowup"></span> ',n+='<span id="'+t+'Index" class="txt-gia-tc">0</span> ',n+='<span id="'+t+'SpChange" class="txt-gia-tc">(0.00 0.00%)</span>',n+="</p>",n+="<p>",n+='<span id="'+t+'SpVol" class="">0</span> ',n+='<span class="txt-orange">'+r.t("share",{count:2})+"</span> ",n+='<span id="'+t+'SpVal" class="">0.000</span> ',n+='<span class="txt-orange">'+r.t("billion",{count:2})+"</span>",n+="</p>",n+="<p>",n+='<span class="icon-arrowup"></span> ',n+='<span id="'+t+'SpUp" class="txt-lime">0</span> ',n+='<span id="'+t+'SpCel" class="txt-magenta ">('+this.model.getCeilingCount()+")</span> ",n+='<span class="icon-square"></span> ',n+='<span id="'+t+'spRef" class="txt-yellow">0</span> ',n+='<span class="icon-arrowdown"></span> ',n+='<span id="'+t+'spDown" class="txt-red">0</span> ',n+='<span id="'+t+'spFlo" class="txt-aqua ">('+this.model.getFloorCount()+")</span> ",n+='<span id="'+t+'spStatus" class=""></span>',n+="</p>",this.wrp.infoBlock.html(n),this.update(e)
},update:function(t){if("undefined"!=typeof t.floorCode){var e="#"+t.floorCode,i=this.getIndexChangeInfo(t),o=this.getClass(t),a=this.getIconClass(t),s=t.marketIndex;t.isATO&&t.predictionMarketIndex&&(s=t.priorMarketIndex),t.isATC&&t.predictionMarketIndex&&(s=t.marketIndex),n(e+"Index").html(NumberFormat.index(s)),n(e+"Index").attr("class",o),n(e+"IndexArrow").attr("class",a),n(e+"SpChange").html(i),n(e+"SpChange").attr("class",o),n(e+"SpVol").html(NumberFormat.cp(t.totalShareTraded)),n(e+"SpVal").html(NumberFormat.currency(t.totalValueTraded,",",".")),n(e+"SpUp").html(t.advance),n(e+"spRef").html(t.noChange),n(e+"spDown").html(t.decline),n(e+"spStatus").html(r.t("sessions."+this.model.getStatusKey()))}},refeshCeilingCount:function(){n("#"+this.model.getFloorCode()+"SpCel").text("("+this.model.getCeilingCount()+")")},refreshFloorCount:function(){n("#"+this.model.getFloorCode()+"spFlo").text("("+this.model.getFloorCount()+")")},getName:function(t){return this.nameMap[t]},getIndexChangeInfo:function(t){var e="0.00",n="0.00",i=t.marketIndex;t.isATO&&t.predictionMarketIndex&&(i=t.priorMarketIndex),t.isATC&&t.predictionMarketIndex&&(i=t.marketIndex),t.priorMarketIndex&&i&&"0"!=t.priorMarketIndex&&(e=i-t.priorMarketIndex,n=100*e/t.priorMarketIndex,e=Highcharts.numberFormat(Math.abs(e)),n=Highcharts.numberFormat(Math.abs(n)));var r="("+e+" "+n+"%)";return r},getClass:function(t){var e,n=t.marketIndex;return t.isATO&&t.predictionMarketIndex&&(n=t.priorMarketIndex),t.isATC&&t.predictionMarketIndex&&(n=t.marketIndex),e=t.priorMarketIndex<n?"txt-lime":t.priorMarketIndex==n?"txt-gia-tc":"txt-red"},getIconClass:function(t){var e,n=t.marketIndex;return t.isATO&&t.predictionMarketIndex&&(n=t.priorMarketIndex),t.isATC&&t.predictionMarketIndex&&(n=t.marketIndex),e=t.priorMarketIndex<n?"icon-arrowup":t.priorMarketIndex==n?"icon-square":"icon-arrowdown"},switchTheme:function(t){this.colorSet=t.chart}},e}),define("legacy/MarketInfoCmp",["require","legacy/MarketInfoView","legacy/PubSub"],function(t){function e(t){this.jqueryObject=$(this);for(var e in t)"undefined"!=typeof t[e]&&(this[e]=t[e]);this.cookieKey=this.floorCode+"ck",this.view=new n(this.wrp,this.model),this.mode="show",this.listenModelEvent(),this.listenToThemeEvent()}var n=t("legacy/MarketInfoView"),i=t("legacy/PubSub");return e.prototype={render:function(){this.view.render()},add:function(t){this.model.add(t)},setSnapshot:function(t){this.isATC()&&!this.isATCStatus(t)&&this.emit("onEndATC"),this.isATO()&&!this.isATOStatus(t)&&this.emit("onEndATO"),this.model.setSnapshot(t)},setHistory:function(t){this.model.setHistory(t)},isATO:function(){return this.isATOStatus(this.model.snapShot)},isATC:function(){return this.isATCStatus(this.model.snapShot)},isATOStatus:function(t){return t.floorCode!=CONST_HSX_NAME&&t.floorCode!=CONST_VN30_NAME||"P"!=t.status&&"2"!=t.status?!1:!0},isATCStatus:function(t){return"A"==t.status||"9"==t.status||t.floorCode==CONST_HNX_NAME&&"30"==t.status||t.floorCode==CONST_HX30_NAME&&"30"==t.status?!0:!1},listenModelEvent:function(){this.model.on("updateSnapshot",function(t){if(this.emit("updateSnapshot",t.message),"hide"!=this.mode){var e=(this.isATO()||this.isATC())&&this.floorCode==FloorCodes.HOSE;this.model.snapShot.isATO=this.isATO()&&this.floorCode==FloorCodes.HOSE,this.model.snapShot.isATC=this.isATC()&&this.floorCode==FloorCodes.HOSE,this.model.snapShot.isATOorATC=e,this.view.renderInfoBlock(this.floorCode,this.model.snapShot)}}.bind(this)),this.model.on("updateHistory",function(){"hide"!=this.mode&&this.view.renderChart(this.model.volData,this.model.advanceIndexData,this.model.declineIndexData,this.model.refIndex)}.bind(this)),this.model.on("addItem",function(){"hide"!=this.mode&&this.view.renderChart(this.model.volData,this.model.advanceIndexData,this.model.declineIndexData,this.model.refIndex)}.bind(this)),this.model.on("OnModelChange",function(t){if("hide"!=this.mode)switch(t.message.name){case"ceilingCount":this.view.refeshCeilingCount(t.message);break;case"floorCount":this.view.refreshFloorCount(t.message)}}.bind(this))},listenToThemeEvent:function(){i.subscribe("theme/switch",function(t){this.view.switchTheme(t),this.view.renderChart(this.model.volData,this.model.advanceIndexData,this.model.declineIndexData,this.model.refIndex)}.bind(this))},emit:function(t,e){this.jqueryObject.trigger({type:t,message:e,time:new Date})},on:function(t,e){this.jqueryObject.bind(t,e)}},e}),define("legacy/MarketInfoModel",["require","component/config"],function(t){var e=t("component/config"),n=function(t){this.jqueryObject=$(this),this.floorCode=t,this.reset(),this.snapShot={},this.ceilingCount=0,this.floorCount=0};return n.prototype={add:function(t){t.marketIndex&&(this.setSnapshot(t),this.crrTime=t.tradingTime),this.pushToModel(t,!0)},setSnapshot:function(t){if("undefined"!=typeof t){this.crrSequence=t.sequence;var e=this.snapShot.status;return this.snapShot=t,this.emit("updateSnapshot",t),e!=MarketStatus.ATO&&t.status==MarketStatus.ATO?void this.emit("ATO"):e==MarketStatus.ATO&&t.status!=MarketStatus.ATO?void this.emit("onEndATC"):e!=MarketStatus.ATC&&t.status==MarketStatus.ATC?void this.emit("ATC"):e==MarketStatus.ATC&&t.status!=MarketStatus.ATC?void this.emit("onEndATC"):void 0}},isATOStatus:function(t){return t.floorCode!=CONST_HSX_NAME&&t.floorCode!=CONST_VN30_NAME||"P"!=t.status&&"2"!=t.status?!1:!0},isATO:function(){var t=this.snapShot;return this.isATOStatus(t)},isATCStatus:function(t){return"A"==t.status||"9"==t.status||t.floorCode==CONST_HNX_NAME&&"30"==t.status||t.floorCode==CONST_HX30_NAME&&"30"==t.status?!0:!1},isATC:function(){var t=this.snapShot;return this.isATCStatus(t)},updateCeilingFloorCount:function(t){return"CEILING"==t.type?void this.setCeilingCount(t.count):"FLOOR"==t.type?void this.setFloorCount(t.count):void 0},setCeilingCount:function(t){"undefined"!=typeof t&&this.set("ceilingCount",t)},setFloorCount:function(t){"undefined"!=typeof t&&this.set("floorCount",t)},getSnapshot:function(){return this.snapShot},getStatus:function(){return this.snapShot.status},getStatusKey:function(){var t,e=this.snapShot.status,n=this.snapShot.floorCode;switch(e){case"O":case"5":t="continuous";break;case"P":case"2":t=n===FloorCodes.HOSE||n===FloorCodes.VN30||n===FloorCodes.VNXALLSHARE?"ato":"closed";break;case"A":case"9":case"30":t="atc";break;case"C":case"0":case"35":t="putThrough";break;case"I":case"BSU":case"3":case"10":t="intermission";break;default:t="closed"}return t},getStatusText:function(){return e.session[this.getStatusKey()]},getCeilingCount:function(){return this.ceilingCount},getFloorCount:function(){return this.floorCount},getFloorCode:function(){return this.floorCode},set:function(t,e){this[t]=e,this.emit("onModelChange",{name:t,value:e})},setHistory:function(t){if(t&&0!=t.length){this.reset(),this.status=1,t.marketIndex&&null!=t.marketIndex[0]&&(this.lastTradingTime=this.convertDate(t.tradingTime[0]),this.lastVol=parseFloat(t.totalShareTraded[0]));for(var e=1;e<t.marketIndex.length;e++)this.pushToModel({tradingTime:t.tradingTime[e],sequence:t.sequence[e],totalShareTraded:t.totalShareTraded[e],priorMarketIndex:t.priorMarketIndex[e],marketIndex:t.marketIndex[e],status:t.status[e],floorCode:this.floorCode},!1);this.emit("updateHistory")}},pushToModel:function(t,e){if(0!=t.marketIndex&&null!=t.tradingTime&&!this.isATOStatus(t)&&(!this.isATCStatus(t)||"10"!=t.floorCode&&"11"!=t.floorCode)){this.sequences.push(t.sequence),this.setRefValue(t);var n=this.convertDate(t.tradingTime);if(this.lastTradingTime!=n){var i=parseFloat(t.totalShareTraded)-this.lastVol;if(i>=0&&this.volData.push([n,i]),this.lastVol=parseFloat(t.totalShareTraded),t.marketIndex>=this.refIndex){if(0==this.status){this.status=1;var r=(n+this.lastTradingTime)/2;this.declineIndexData.length>0&&(this.declineIndexData.push([r,this.refIndex]),this.declineIndexData.push(null)),this.advanceIndexData.push([r,this.refIndex])}this.advanceIndexData.push([this.convertDate(t.tradingTime),parseFloat(t.marketIndex)])}else{if(1==this.status){this.status=0;var r=(n+this.lastTradingTime)/2;this.advanceIndexData.length>0&&(this.advanceIndexData.push([r,this.refIndex]),this.advanceIndexData.push(null)),this.declineIndexData.push([r,this.refIndex])}this.declineIndexData.push([this.convertDate(t.tradingTime),parseFloat(t.marketIndex)])}this.lastTradingTime=n,e&&this.emit("addItem")}}},setRefValue:function(t){this.isSetRefValue||t.priorMarketIndex&&(this.refIndex=parseFloat(t.priorMarketIndex),this.isSetRefValue=!0)},emit:function(t,e){this.jqueryObject.trigger({type:t,message:e,time:new Date})},on:function(t,e){this.jqueryObject.bind(t,e)},convertDate:function(t){var e=t.split(":");return Date.UTC(0,0,0,e[0],e[1])},reset:function(){this.isShow=!0,this.history=[],this.volData=[],this.declineIndexData=[],this.advanceIndexData=[],this.crrTime="00:00:00",this.crrSequence=0,this.sequences=[],this.status=1,this.lastTradingTime=0,this.lastVol=0}},window.MarketInfoModel=n,n}),define("legacy/MarketInfosManager",["require","legacy/MarketInfoCmp"],function(t){function e(t){this.marketInfoGroup=t,this.wrp=$("#charts-wrapper"),this.cmps={},this.cmps[FloorCodes.HOSE]=new n({wrp:{chart:$("#HoseChartWrp"),infoBlock:$("#HoseInfoWrp"),el:$("#HoseElWrp")},floorCode:FloorCodes.HOSE,model:t.getMarketInfoModel(FloorCodes.HOSE)}),this.cmps[FloorCodes.HNX]=new n({wrp:{chart:$("#HnxChartWrp"),infoBlock:$("#HnxInfoWrp"),el:$("#HnxElWrp")},floorCode:FloorCodes.HNX,model:t.getMarketInfoModel(FloorCodes.HNX)}),this.cmps[FloorCodes.HNX30]=new n({wrp:{chart:$("#Hnx30ChartWrp"),infoBlock:$("#Hnx30InfoWrp"),el:$("#Hnx30ElWrp")},floorCode:FloorCodes.HNX30,model:t.getMarketInfoModel(FloorCodes.HNX30)}),this.cmps[FloorCodes.VN30]=new n({wrp:{chart:$("#Vn30ChartWrp"),infoBlock:$("#Vn30InfoWrp"),el:$("#Vn30ElWrp")},floorCode:FloorCodes.VN30,model:t.getMarketInfoModel(FloorCodes.VN30)}),this.cmps[FloorCodes.UPCOM]=new n({wrp:{chart:$("#UpcomChartWrp"),infoBlock:$("#UpcomInfoWrp"),el:$("#UpcomElWrp")},floorCode:FloorCodes.UPCOM,model:t.getMarketInfoModel(FloorCodes.UPCOM)}),this.cmps[FloorCodes.VNXALLSHARE]=new n({wrp:{chart:$("#VnxAllShareChartWrp"),infoBlock:$("#VnxAllShareInfoWrp"),el:$("#VnxAllShareElWrp")},floorCode:FloorCodes.VNXALLSHARE,model:t.getMarketInfoModel(FloorCodes.VNXALLSHARE)}),this.listenEvent()}var n=t("legacy/MarketInfoCmp");return e.prototype={add:function(t){t.floorCode==CONST_HX30_NAME&&(t.status=System.marketInfosManager.cmps[CONST_HNX_NAME].model.snapShot.status),this.cmps[t.floorCode].add(t)},setFull:function(t){this.cmps[t.floorCode].setSnapshot(t.snapshot.data),setTimeout(function(t){this.cmps[t.floorCode].setHistory(t.history)}.bind(this,t),20)},hide:function(t){this.cmps[t].hide()},show:function(t){this.cmps[t].show()},isATO:function(t){var e=this.convertFloorCode(t);return"undefined"==typeof this.cmps[e]?(console.log("khong ton tai floor code: "+e),!1):this.cmps[e].isATO()},isATC:function(t){var e=this.convertFloorCode(t);return"undefined"==typeof this.cmps[e]?(console.log("khong ton tai floor code: "+e),!1):this.cmps[e].isATC()},listenEvent:function(){this.cmps[CONST_HSX_NAME].on("updateSnapshot",function(t){var e=t.message;return"P"==e.status||"2"==e.status?void this.emit("ATO",CONST_HSX_NAME):void(("A"==status||"9"==status)&&this.emit("ATC",CONST_HSX_NAME))}.bind(this)),this.cmps[CONST_HSX_NAME].on("onEndATC",function(){this.emit("onEndATC",CONST_HSX_NAME)}.bind(this)),this.cmps[CONST_HSX_NAME].on("onEndATO",function(){this.emit("onEndATO",CONST_HSX_NAME)}.bind(this)),this.cmps[CONST_HNX_NAME].on("updateSnapshot",function(t){var e=t.message;("A"==e.status||"30"==e.status)&&this.emit("ATC",CONST_HNX_NAME)}.bind(this)),this.cmps[CONST_HNX_NAME].on("onEndATC",function(){this.emit("onEndATC",CONST_HNX_NAME)}.bind(this))},emit:function(t,e){$(this).trigger({type:t,message:e,time:new Date})},on:function(t,e){$(this).bind(t,e)},convertFloorCode:function(t){return t==CONST_HSX_NAME?CONST_HSX_NAME:t==CONST_HNX_NAME||"2"==t?CONST_HNX_NAME:t==CONST_HX30_NAME?CONST_HX30_NAME:t==CONST_VN30_NAME?CONST_VN30_NAME:t==CONST_UPC_NAME||"3"==t?CONST_UPC_NAME:t}},e}),define("legacy/MarketInfoGroup",[],function(){function t(t){this.marketInfoModels=e(t),this._bindMarketInfoEvent(this.marketInfoModels)}function e(t){for(var e={},n=0;n<t.length;n++){var i=t[n];e[i]=new MarketInfoModel(i)}return e}return t.prototype={_bindMarketInfoEvent:function(t){var e=this,n=["ATO","ATC","onEndATC","onEndATO"];for(var i in t)$.each(n,function(n,r){var o=t[i];o.on(r,function(){e.emit(r,{floorCode:o.getFloorCode()})})})},floorCodeCount:function(){return Object.keys(this.marketInfoModels).length},setMarketSnapshots:function(t){for(var e in t){var n=this.marketInfoModels[e];n&&n.setSnapshot(t[e].data)}},setCeilingFloorCounts:function(t){for(var e=0;e<FloorCodes.getFullList().length;e++){var n=FloorCodes.getFullList()[e],i=this.marketInfoModels[n];i&&(i.setCeilingCount(t.ceiling[n]),i.setFloorCount(t.floor[n]))}},updateCelingFloorCount:function(t){var e=this.marketInfoModels[t.floor];e.updateCeilingFloorCount(t)},updateMarketSnapshot:function(t){var e=t.floorCode;e==FloorCodes.HNX30&&(t.status=this.marketInfoModels[FloorCodes.HNX].getStatus()),"undefined"!=typeof this.marketInfoModels[e]&&this.marketInfoModels[e].add(t)},getMarketInfoModel:function(t){return this.marketInfoModels[t]},getCeilingCount:function(t){return this.marketInfoModels[t].getCeilingCount()},getFloorCount:function(t){return this.marketInfoModels[t].getFloorCount()},emit:function(t,e){$(this).trigger({type:t,message:e,time:new Date})},on:function(t,e){$(this).bind(t,e)}},{MarketInfoGroup:t}}),SingleCategoryCmp=function(){},SingleCategoryCmp.prototype={render:function(t){this.view.createElement(t),this.listenEvent()},setModel:function(t){this.model=t},setView:function(t){this.view=t,this.view.model=this.model},listenEvent:function(){var t=this;t.view.on("onDeleted",function(){t.model.set("isDeleted",!0)}),t.view.on("onSelected",function(){t.model.set("isSelected",!0)}),t.view.on("onEditCateNameSubmit",function(e){t.model.changeState(e.message)}),t.model.on("onModelChange",function(e){switch(e.message.name){case"isDeleted":t.view.remove();break;case"state":t.view.changeState();break;case"displayValue":t.view.changeDisplayValue();break;case"isSelected":t.view.changeBackgroundColor();break;default:t.view.update(e.message)}})},emit:function(t,e){$(this).trigger({type:t,message:e,time:new Date})},on:function(t,e){$(this).bind(t,e)}},define("legacy/SingleCategoryCmp",function(){}),SingleCategoryModel=function(t){t?(this.isSelected=t.isSelected,this.isDeleted=t.isDeleted,this.state=t.state,this.type=t.type,this.displayValue=t.displayValue,this.codes=t.codes,this.id=t.id,this.creator=t.creator):(this.isSelected=!1,this.isDeleted=!1,this.state="normal",this.type="default",this.displayValue="",this.selectedCode="",this.codes=[])},SingleCategoryModel.prototype={set:function(t,e){this[t]=e,this.emit("onModelChange",{name:t,value:e,cateId:this.id})},addCode:function(t){this.isEditable()&&!this.hasCode(t)&&(this.codes.push(t),this.emit("onModelChange",{name:"addCode",value:t,cateId:this.id}))},blur:function(){this.set("state","normal"),this.set("isSelected",!1)},changeState:function(t){this.isEditable()&&("editing"===this.state?(this.set("state","normal"),this.set("displayValue",t)):this.set("state","editing"))},isEditable:function(){return"customerPortfolio"!==this.type},hasCode:function(t){return this.codes.indexOf(t)>=0},selected:function(){this.set("isSelected",!0)},remove:function(){this.set("isDeleted",!0)},removeCode:function(t){if(this.isEditable()){var e=this.codes.indexOf(t);e>-1&&this.codes.splice(e,1),this.emit("onModelChange",{name:"removeCode",value:t,cateId:this.id})}},toObject:function(){return{id:this.id,displayValue:this.displayValue,codes:this.codes}},emit:function(t,e){$(this).trigger({type:t,message:e,time:new Date})},on:function(t,e){$(this).bind(t,e)}},define("legacy/SingleCategoryModel",function(){}),function(t){"use strict";var e="object"==typeof process&&process.versions&&process.versions.node;e&&(t=global);var n,i,r=!t.HI_BASE64_TEST&&"object"==typeof module&&module.exports,o="function"==typeof define&&define.amd,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),s={A:0,B:1,C:2,D:3,E:4,F:5,G:6,H:7,I:8,J:9,K:10,L:11,M:12,N:13,O:14,P:15,Q:16,R:17,S:18,T:19,U:20,V:21,W:22,X:23,Y:24,Z:25,a:26,b:27,c:28,d:29,e:30,f:31,g:32,h:33,i:34,j:35,k:36,l:37,m:38,n:39,o:40,p:41,q:42,r:43,s:44,t:45,u:46,v:47,w:48,x:49,y:50,z:51,0:52,1:53,2:54,3:55,4:56,5:57,6:58,7:59,8:60,9:61,"+":62,"/":63,"-":62,_:63},c=function(t){for(var e=[],n=0;n<t.length;n++){var i=t.charCodeAt(n);128>i?e[e.length]=i:2048>i?(e[e.length]=192|i>>6,e[e.length]=128|63&i):55296>i||i>=57344?(e[e.length]=224|i>>12,e[e.length]=128|i>>6&63,e[e.length]=128|63&i):(i=65536+((1023&i)<<10|1023&t.charCodeAt(++n)),e[e.length]=240|i>>18,e[e.length]=128|i>>12&63,e[e.length]=128|i>>6&63,e[e.length]=128|63&i)}return e},u=function(t){var e,n,i,r,o=[],a=0,c=t.length;"="==t.charAt(c-2)?c-=2:"="==t.charAt(c-1)&&(c-=1);for(var u=0,l=c>>2<<2;l>u;)e=s[t.charAt(u++)],n=s[t.charAt(u++)],i=s[t.charAt(u++)],r=s[t.charAt(u++)],o[a++]=255&(e<<2|n>>>4),o[a++]=255&(n<<4|i>>>2),o[a++]=255&(i<<6|r);var h=c-l;return 2==h?(e=s[t.charAt(u++)],n=s[t.charAt(u++)],o[a++]=255&(e<<2|n>>>4)):3==h&&(e=s[t.charAt(u++)],n=s[t.charAt(u++)],i=s[t.charAt(u++)],o[a++]=255&(e<<2|n>>>4),o[a++]=255&(n<<4|i>>>2)),o},l=function(t){for(var e,n,i,r="",o=t.length,s=0,c=3*parseInt(o/3);c>s;)e=t[s++],n=t[s++],i=t[s++],r+=a[e>>>2]+a[63&(e<<4|n>>>4)]+a[63&(n<<2|i>>>6)]+a[63&i];var u=o-c;return 1==u?(e=t[s],r+=a[e>>>2]+a[e<<4&63]+"=="):2==u&&(e=t[s++],n=t[s],r+=a[e>>>2]+a[63&(e<<4|n>>>4)]+a[n<<2&63]+"="),r},h=t.btoa,f=t.atob;if(!t.HI_BASE64_TEST&&e){var d=require("buffer").Buffer;h=function(t){return new d(t,"ascii").toString("base64")},n=function(t){return new d(t).toString("base64")},l=n,f=function(t){return new d(t,"base64").toString("ascii")},i=function(t){return new d(t,"base64").toString()}}else h?(n=function(t){for(var e="",n=0;n<t.length;n++){var i=t.charCodeAt(n);128>i?e+=String.fromCharCode(i):2048>i?e+=String.fromCharCode(192|i>>6)+String.fromCharCode(128|63&i):55296>i||i>=57344?e+=String.fromCharCode(224|i>>12)+String.fromCharCode(128|i>>6&63)+String.fromCharCode(128|63&i):(i=65536+((1023&i)<<10|1023&t.charCodeAt(++n)),e+=String.fromCharCode(240|i>>18)+String.fromCharCode(128|i>>12&63)+String.fromCharCode(128|i>>6&63)+String.fromCharCode(128|63&i))}return h(e)},i=function(t){var e=f(t.trim("=").replace(/-/g,"+").replace(/_/g,"/"));if(!/[^\x00-\x7F]/.test(e))return e;for(var n,i,r="",o=0,a=e.length,s=0;a>o;)if(n=e.charCodeAt(o++),127>=n)r+=String.fromCharCode(n);else{if(n>191&&223>=n)i=31&n,s=1;else if(239>=n)i=15&n,s=2;else{if(!(247>=n))throw"not a UTF-8 string";i=7&n,s=3}for(var c=0;s>c;++c){if(n=e.charCodeAt(o++),128>n||n>191)throw"not a UTF-8 string";i<<=6,i+=63&n}if(i>=55296&&57343>=i)throw"not a UTF-8 string";if(i>1114111)throw"not a UTF-8 string";65535>=i?r+=String.fromCharCode(i):(i-=65536,r+=String.fromCharCode((i>>10)+55296),r+=String.fromCharCode((1023&i)+56320))}return r}):(h=function(t){for(var e,n,i,r="",o=t.length,s=0,c=3*parseInt(o/3);c>s;)e=t.charCodeAt(s++),n=t.charCodeAt(s++),i=t.charCodeAt(s++),r+=a[e>>>2]+a[63&(e<<4|n>>>4)]+a[63&(n<<2|i>>>6)]+a[63&i];var u=o-c;return 1==u?(e=t.charCodeAt(s),r+=a[e>>>2]+a[e<<4&63]+"=="):2==u&&(e=t.charCodeAt(s++),n=t.charCodeAt(s),r+=a[e>>>2]+a[63&(e<<4|n>>>4)]+a[n<<2&63]+"="),r},n=function(t){for(var e,n,i,r="",o=c(t),s=o.length,u=0,l=3*parseInt(s/3);l>u;)e=o[u++],n=o[u++],i=o[u++],r+=a[e>>>2]+a[63&(e<<4|n>>>4)]+a[63&(n<<2|i>>>6)]+a[63&i];var h=s-l;return 1==h?(e=o[u],r+=a[e>>>2]+a[e<<4&63]+"=="):2==h&&(e=o[u++],n=o[u],r+=a[e>>>2]+a[63&(e<<4|n>>>4)]+a[n<<2&63]+"="),r},f=function(t){var e,n,i,r,o="",a=t.length;"="==t.charAt(a-2)?a-=2:"="==t.charAt(a-1)&&(a-=1);for(var c=0,u=a>>2<<2;u>c;)e=s[t.charAt(c++)],n=s[t.charAt(c++)],i=s[t.charAt(c++)],r=s[t.charAt(c++)],o+=String.fromCharCode(255&(e<<2|n>>>4))+String.fromCharCode(255&(n<<4|i>>>2))+String.fromCharCode(255&(i<<6|r));var l=a-u;return 2==l?(e=s[t.charAt(c++)],n=s[t.charAt(c++)],o+=String.fromCharCode(255&(e<<2|n>>>4))):3==l&&(e=s[t.charAt(c++)],n=s[t.charAt(c++)],i=s[t.charAt(c++)],o+=String.fromCharCode(255&(e<<2|n>>>4))+String.fromCharCode(255&(n<<4|i>>>2))),o},i=function(t){for(var e,n,i="",r=u(t),o=r.length,a=0,s=0;o>a;)if(e=r[a++],127>=e)i+=String.fromCharCode(e);else{if(e>191&&223>=e)n=31&e,s=1;else if(239>=e)n=15&e,s=2;else{if(!(247>=e))throw"not a UTF-8 string";n=7&e,s=3}for(var c=0;s>c;++c){if(e=r[a++],128>e||e>191)throw"not a UTF-8 string";n<<=6,n+=63&e}if(n>=55296&&57343>=n)throw"not a UTF-8 string";if(n>1114111)throw"not a UTF-8 string";65535>=n?i+=String.fromCharCode(n):(n-=65536,i+=String.fromCharCode((n>>10)+55296),i+=String.fromCharCode((1023&n)+56320))}return i});var p=function(e,i){var r="string"!=typeof e;return r&&e.constructor==t.ArrayBuffer&&(e=new Uint8Array(e)),r?l(e):!i&&/[^\x00-\x7F]/.test(e)?n(e):h(e)},g=function(t,e){return e?f(t):i(t)},m={encode:p,decode:g,atob:f,btoa:h};g.bytes=u,g.string=g,r?module.exports=m:(t.base64=m,o&&define("hi-base64",[],function(){return m}))}(this),define("component/suggestion",["jquery"],function(t){return t.fn.suggestion=function(e){var n,i=-1,r=this,o=e.source?e.source:[],a=e.maxItems?e.maxItems:10,s=function(t){return t.value&&t.value.toUpperCase().indexOf(r.val().toUpperCase())>-1?!0:!1},c=e.mapper?e.mapper:s,u=t('[name="quantity"]'),l=function(){var e=t("<div class='form-suggestion'></div>");r.wrap(e),n=t("<ul></ul>").hide().appendTo(r.closest(".form-suggestion")),n.on("click",".suggest-item a",function(e){e.preventDefault();var n=t(e.target).attr("value")||t(e.target).parent().attr("value");p(n)}),n.on("hide",function(){i=-1}),n.select=function(e){var i=n.find(".suggest-item a").removeClass("item-state-focus"),o=i.length,e=e%o;return t(i[e]).addClass("item-state-focus"),r.val(t(i[e]).attr("value")),e}},h=function(){r.on("keyup",function(t){if(40==t.keyCode){i++;var e=n.select(i);return void n.scrollTop(e*n.children().height())}if(38==t.keyCode){-1==i?i=0:i--;var e=n.select(i);return void n.scrollTop(e*n.children().height())}if(13!=t.keyCode&&27!=t.keyCode){if(""===r.val().trim())return void n.hide();var o=f();0===o.length?n.hide():(d(o),n.show())}}),r.on("keydown",function(t){return 13!==t.keyCode&&27!==t.keyCode||!n.is(":visible")?void 0:(t.preventDefault(),t.stopPropagation(),n.hide(),!1)}),t("body").on("click",function(t){"form-suggestion"!==t.target.className&&n.hide()}),u.keyup(function(){n.hide()})},f=function(){for(var t=[],e=0;e<o.length&&!(c(o[e])&&(t.push(o[e]),t.length>=a));e++);return t},d=function(e){var i="";t.each(e,function(t,e){i+='<li class="suggest-item"><a class="ui-corner-all " value="'+e.value+'">'+e.description+"</a></li>"}),n.html(i)},p=function(t){r.val(t).trigger("change"),n.hide()};return l(),h(),r.attr("autocomplete","off"),this},t}),define("component/trade-api-client",["require","component/suggestion","jquery","component/config"],function(t){"use strict";t("component/suggestion");var e=t("jquery"),n=t("component/config"),i=n.url.auth+"/auth",r=n.url.auth+"/vtos",o=n.url.auth+"/vtos/auth",a=n.url.auth+"/auth/info",s=n.url.auth+"/otp",c=n.url.auth+"/otp/auth",u=n.url.trade+"/customer",l=n.url.trade+"/accounts",h=n.url.trade+"/accounts/{id}/portfolio",f=n.url.trade+"/accounts/{id}/orders/new_order_requests",d=n.url.trade+"/accounts/{id}/orders",p=n.url.trade+"/accounts/{id}/orders/{orderId}",g=n.url.trade+"/accounts/{id}/orders/{orderId}",m=n.url.trade+"/accounts/{id}/ppse",v=n.url.trade+"/accounts/{id}/pp0",y=n.url.trade+"/accounts/v2/{id}/assets",b=n.url.trade+"/accounts/v2/{id}/stocks",w=n.url.trade+"/accounts/{accountNumber}/major_holders",k=n.url.trade+"/accounts/{id}/autotrade/isSupported",x=n.url.trade+"/accounts/{id}/autotrade/stop/orders",C=n.url.trade+"/accounts/{id}/autotrade/stop/orders/new_order_requests",S=n.url.trade+"/accounts/{id}/autotrade/stop/orders/{orderId}",T=n.url.trade+"/accounts/{id}/autotrade/stop/orders/{orderId}",_=function(t,n,i,r){return"get"!==t&&(r=JSON.stringify(r)),e.ajax({url:n,data:r,type:t,dataType:"json",headers:i?{"X-AUTH-TOKEN":i}:{},contentType:"application/json"})};return{login:function(t,e){return _("post",i,void 0,{username:t,password:e})},getVtosChallenge:function(t){return _("get",r,t)},postVtosAnswer:function(t,e){return _("post",o,t,{codes:e.join(",")})},postOtpAnswer:function(t,e){return _("post",c,t,{otp:e})},getAuthInfo:function(t){return _("get",a,t)},getOtp:function(t,e,n){return"en"===n?_("get",s+"?lang=en",t,{type:e}):_("get",s,t,{type:e})},getCustomer:function(t){return _("get",u,t)},getAccounts:function(t){return _("get",l,t)},getAssets:function(t,e){var n=y.replace("{id}",e);return _("get",n,t)},getStocks:function(t,e){var n=b.replace("{id}",e);return _("get",n,t)},getPortfolio:function(t,e){var n=h.replace("{id}",e);return _("get",n,t)},getOrders:function(t,e,n,i){var r=d.replace("{id}",e);return i?(r=x.replace("{id}",e),_("get",r,t)):_("get",r,t,{index:n})},getPp0:function(t,e){var n=v.replace("{id}",e);return _("get",n,t)},getPpse:function(t,e,n,i,r){var o=m.replace("{id}",e);return _("get",o,t,{symbol:n,price:Number(i)>0?i:void 0,priceType:r})},postOrder:function(t,e,n){var i=f.replace("{id}",e);return("sell_stop"==n.orderType||"buy_stop"==n.orderType)&&(i=C.replace("{id}",e)),_("post",i,t,n)},patchOrder:function(t,e,n,i,r){var o=g.replace("{id}",e).replace("{orderId}",n);return _("patch",o,t,{price:i,quantity:r})},deleteOrder:function(t,e,n){var i=p.replace("{id}",e).replace("{orderId}",n);return _("delete",i,t)},deleteStopOrder:function(t,e,n){var i=S.replace("{id}",e).replace("{orderId}",n);return _("delete",i,t)},putStopOrder:function(t,e,n){var i=T.replace("{id}",e).replace("{orderId}",n.orderId);return _("put",i,t,{symbol:n.symbol,orderType:n.orderType,priceType:n.priceType,placedPrice:n.price,quantity:n.quantity,triggerPrice:n.triggerPrice,expiryDate:n.expiryDate,relational:n.relational})},getConditionalOrderSupport:function(t,e){var n=k.replace("{id}",e);return _("get",n,t)},getMajorHolder:function(t,e,n){var i=w.replace("{accountNumber}",e);return _("get",i,t,{symbol:n})}}}),define("component/trade-error-parser",["require","component/i18n"],function(t){"use strict";var e=t("component/i18n"),n=function(t){return"undefined"==typeof t.responseJSON&&(t.responseJSON={error:"CONNECTION"}),t};return{getShortMessage:function(t){return e.t("api_code:trade_short."+t,{defaultValue:""})},getMessage:function(t){t=n(t);var i="undefined"!=typeof t.responseJSON.error?t.responseJSON.error:t.responseJSON.code;return e.t("api_code:trade."+i,{defaultValue:e.t("api_code:trade.UNKNOWN")})},getCode:function(t){return t=n(t),t.responseJSON.error}}}),define("component/trade/announcement",["require","jquery"],function(t){var e,n,i,r=t("jquery");return{init:function(){e=r(".trade-menu"),n=r(".announcement",e),n.on("click","a.close",function(t){n.removeClass("important"),e.removeClass("showing-announcement"),t.preventDefault()})},show:function(t,o){return n.hasClass("important")&&-1==(o||"").search("important")?this:(clearTimeout(i),n.removeClass().addClass("announcement"),r("p",n).html(t),n.addClass(o),e.addClass("showing-announcement"),this)},hide:function(t){return clearTimeout(i),i=setTimeout(function(){r(".close",n).click()},t),this}}}),define("component/trade/loader",["require","jquery","component/i18n"],function(t){var e,n=t("jquery"),i=t("component/i18n");return{init:function(){e=n(".trade-menu .loading-wrapper")},show:function(t){t||(t=i.t("please_wait")),n("span",e).html(t),e.fadeIn(100)},hide:function(){e.fadeOut(100)}}}),define("component/auth",["require","jquery","hi-base64","legacy/PubSub","js-cookie","component/track","component/trade-api-client","component/trade-error-parser","component/trade/announcement","component/trade/loader","component/i18n"],function(t){var e,n=t("jquery"),i=t("hi-base64"),r=t("legacy/PubSub"),o=t("js-cookie"),a=t("component/track"),s=t("component/trade-api-client"),c=t("component/trade-error-parser"),u=t("component/trade/announcement"),l=t("component/trade/loader"),h=t("component/i18n"),f=500,d={path:"/",domain:location.hostname.indexOf("vndirect.com.vn")>=0?".vndirect.com.vn":"",secure:"https:"===location.protocol},p=function(t){var e=t.split(".");if(3!==e.length)return{};var n=JSON.parse(i.decode(e[1]));return n},g=function(){n('.trade-page-login form[name="login"]',e).on("submit",function(t){t.preventDefault();var i=n(this).find('[name="username"]'),f=n(this).find('[name="password"]');l.show(h.t("trade:auth.logging_in")),a.page("/trade/personal/login","Đăng nhập"),s.login(i.val(),f.val()).always(function(){l.hide()}).done(function(t){o.set("accessToken",t.token,d),o.set("loginType","normal",d),n("body").addClass("logged-in"),e.addClass("logged-in"),n(".trade-pages",e).nanoScroller(),a.stopTiming("Luồng người dùng","Đăng nhập"),a.page("/trade/personal/login/succeed","Đăng nhập thành công");var s=p(t.token);"true"===s.secondFa&&e.addClass("two-factor-logged-in"),a.identify(s.username,s.customerId,s.customerName,s.email),a.eventMixpanel("Login","Success"),i.val(""),f.val(""),s.loginType="normal",r.publish("login",s),u.hide()}).fail(function(t){u.show(c.getMessage(t),"bad").hide(6e3),a.page("/trade/personal/login/fail/"+c.getCode(t),"Đăng nhập thất bại")})})},m=function(){n(".logout",e).on("click",function(t){n("body").removeClass("logged-in logged-in-free-acc logged-in-social-acc"),e.removeClass("logged-in two-factor-logged-in logged-in-free-acc logged-in-social-acc"),e.removeClass(function(t,e){return(e.match(/[^\s]\S+\-user\b/g)||[]).join(" ")}),u.show(h.t("logout_success"),"good").hide(1500),o.remove("accessToken",d),o.remove("loginType",d),o.remove("password",d),o.remove("smartboardUser",d),a.clearTiming("Luồng người dùng","Đăng nhập"),a.clearTiming("Luồng người dùng","Xác nhận VTOS"),a.page("/trade/personal/logout","Đăng xuất"),r.publish("logout"),t.preventDefault()})},v=function(){var t=y();return t?(r.publish("login",t),!0):!1},y=function(){var t=o.get("accessToken");if(t){var e=p(t);if(e&&e.hasOwnProperty("exp")&&!(new Date(1e3*e.exp)<=new Date))return e.loginType=o.get("loginType"),e;o.remove("accessToken",d),o.remove("smartboardUser",d)}},b=function(){return o.get("accessToken")};return{init:function(){b(),e=n(".trade-menu"),g(),m(),l.show(h.t("check_login_status")),setTimeout(function(){v()||l.hide()},f)},getToken:y,getRawToken:b}}),define("legacy/SingleCategoryView",["require","component/auth"],function(t){"use strict";var e=t("component/auth");window.SingleCategoryView=function(){},window.SingleCategoryView.prototype={createElement:function(t){var n=this.model,i=n.displayValue,r=e.getToken(),o="",a=!1;r&&n.creator&&n.creator!=="vnds-"+r.customerId||(a=!0),a||(i="<em>"+i+'</em> <span style="float: right;"><i class="fa fa-globe" aria-hidden="true"></i></span>',o='title="Danh mục được chia sẻ"');var s='<li id ="'+n.id+'Wrp" class="user-category"><a id="'+n.id+'Link"'+o+">"+i+'</a><input id="'+n.id+'TextBox" type="text" value="'+n.displayValue+'" style="display: none" />';if("customerPortfolio"!=n.type){var c='<button id="'+n.id+'EditBtn" class="editing rename" title="Sửa tên danh mục" data-i18n="[title]nav:tabs.watchlist.edit_watchlist_name" '+(a?"":"disabled")+' ><i class="fa fa-pencil"></i></button> ',u='<button id="'+n.id+'DeleteBtn" class="editing remove" title="Xóa danh mục" data-i18n="[title]nav:tabs.watchlist.remove_list"><i class="fa fa-times"></i></button> ';s+='<span class="editing-buttons">',s+=c,s+=u,s+="</span>"}return s+="</li>",this.element=$(s),this.element.appendTo(t),this.linkEl=$("#"+n.id+"Link"),this.textBox=$("#"+n.id+"TextBox"),this.editBtn=$("#"+n.id+"EditBtn"),this.deleteBtn=$("#"+n.id+"DeleteBtn"),this.model.isSelected&&this.element.addClass("selected"),this.listenEvent(),this.element},listenEvent:function(){var t=this;t.deleteBtn.click(function(e){e.stopPropagation(),t.emit("onDeleted")
}),t.element.click(function(){t.emit("onSelected")}),t.editBtn.click(function(e){e.stopPropagation();var n=t.textBox.val();t.emit("onEditCateNameSubmit",n)}),t.textBox.keypress(function(e){if(13==e.keyCode){var n=t.textBox.val();t.emit("onEditCateNameSubmit",n)}})},changeDisplayValue:function(){this.linkEl.text(this.model.displayValue)},changeBackgroundColor:function(){this.model.isSelected?this.element.addClass("selected"):this.element.removeClass("selected")},changeState:function(){var t=this;"normal"==t.model.state?(t.linkEl.css("display","block"),t.textBox.css("display","none"),t.element.removeClass("editing")):(t.textBox.val(this.model.displayValue),setTimeout(function(){t.textBox.select(),t.textBox.focus()},100),t.linkEl.css("display","none"),t.textBox.css("display","block"),t.element.addClass("editing"))},empty:function(){this.element.empty()},appendTo:function(t){this.element.appendTo(t)},insertBefore:function(t){this.element.insertBefore(t)},update:function(t){t.name,t.value},remove:function(){this.element.remove()},emit:function(t,e){$(this).trigger({type:t,message:e,time:new Date})},on:function(t,e){$(this).bind(t,e)}}}),AddCateBoxCmp=function(t,e){this.model=t,this.view=e,this.view.model=this.model,this.listenEvent(),this.pubSub=require("legacy/PubSub")},AddCateBoxCmp.prototype={listenEvent:function(){var t=this;t.view.on("onFocus",function(){t.model.set("isEditing",!0)}),t.view.on("onAddCateSubmit",function(e){t.model.isEditing?(t.model.set("displayAddedCate",e.message),t.model.set("isEditing",!1)):t.model.set("isEditing",!0)}),t.model.on("onModelChange",function(e){t.view.update(e.message)})},getElement:function(){return this.view.element},emit:function(t,e){$(this).trigger({type:t,message:e,time:new Date})},on:function(t,e){$(this).bind(t,e)}},define("legacy/AddCateBoxCmp",function(){}),AddCateBoxModel=function(){this.isEditing=!1,this.displayAddedCate=""},AddCateBoxModel.prototype={placeHolderText:"Thêm danh muc",set:function(t,e){this[t]=e,this.emit("onModelChange",{name:t,value:e})},emit:function(t,e){$(this).trigger({type:t,message:e,time:new Date})},on:function(t,e){$(this).bind(t,e)}},define("legacy/AddCateBoxModel",function(){}),AddCateBoxView=function(t){this.render(t)};var categoryNameIsValid=function(t){return-1===t.search(/[<>]/)};AddCateBoxView.prototype={render:function(t){this.element=t.children(".add"),this.btn=this.element.find("#addCateBtn"),this.saveBtn=this.element.find("#saveCateBtn"),this.input=this.element.find("#addCateTextBox"),this.listenEvent()},appendTo:function(t){this.element.appendTo(t)},listenEvent:function(){var t=this;t.btn.click(function(){var e=t.input.val();categoryNameIsValid(e)?(t.emit("onAddCateSubmit",e),t.input.val("")):t.input.val("")}),t.input.click(function(){t.emit("onFocus")}),t.input.keypress(function(e){if(13==e.keyCode){var n=t.input.val();categoryNameIsValid(n)?(t.emit("onAddCateSubmit",n),t.input.val("")):t.input.val("")}})},update:function(t){switch(t.name){case"isEditing":var e=t.value;e&&this.input.focus()}},emit:function(t,e){$(this).trigger({type:t,message:e,time:new Date})},on:function(t,e){$(this).bind(t,e)}},define("legacy/AddCateBoxView",function(){}),UserCategoryCmp.prototype={setModel:function(t){var e=this;e.model=t,e.createElementFromModel(),e.listenModel()},setView:function(t){this.view=t},getCateCmps:function(){return this.cateCmps},listenModel:function(){var t=this;t.model.on("onAddCategory",function(e){var n=e.message;t.createSingleCateCmpFromSingleCateModel(n)}),t.model.on("onChangeCrrCate",function(e){var n=e.message,i=t.btn.children("a");i.text(n.displayValue.length>0?n.displayValue:t.btnDefaultDisplay);var r=n.codes,o=new Date,a=o.getFullYear()+"-"+(o.getMonth()+1)+"-"+o.getDate(),s={symbols:r.join(","),fromDate:a},c={symbols:r.join(","),fromEffDate:a,toEffDate:a};setTimeout(function(){$.ajax({url:"https://finfoapi-hn.vndirect.com.vn/events",type:"get",data:s,traditional:!0}).then(function(t){var e=t.data,n=[];for(var i in e){var o=e[i].symbol;r.indexOf(o)>-1&&-1==n.indexOf(o)&&n.push(o)}sessionStorage.setItem("fromDateAlertList",n)}),$.ajax({url:"https://finfoapi-hn.vndirect.com.vn/events",type:"get",data:c,traditional:!0}).then(function(t){var e=t.data,n=[];for(var i in e){var o=e[i].symbol;r.indexOf(o)>-1&&-1==n.indexOf(o)&&n.push(o)}sessionStorage.setItem("effDateAlertList",n)}).then(function(){var t=[],e=sessionStorage.getItem("fromDateAlertList");null!=e&&""!=e&&(t=e.split(","));var n=sessionStorage.getItem("effDateAlertList");if(null!=n&&""!=n){var i=n.split(",");t=t.concat(i.filter(function(e){return t.indexOf(e)<0}))}for(var r in t){var o="#userStIf"+t[r]+"sym",a=$(o);0==a.find("span.has-alert").length&&a.prepend('<span class="has-alert">*<span>')}})},500)}),t.model.on("onUpdateCategories",function(){t.createElementFromModel()})},createElementFromModel:function(){this.wrp.find("li.user-category").remove();var t=this,e=this.model.addCateBoxModel;if("undefined"==typeof this.addCateCmp){var n=new AddCateBoxView(this.wrp);this.addCateCmp=new AddCateBoxCmp(e,n)}var i=t.model.getCates();$.each(i,function(e,n){t.createSingleCateCmpFromSingleCateModel(n)})},createSingleCateCmpFromSingleCateModel:function(t){var e=new SingleCategoryCmp,n=new SingleCategoryView;e.setModel(t),e.setView(n),e.render(this.wrp),e.view.insertBefore(this.addCateCmp.getElement())},removeCmp:function(){var t=this.cateCmps.indexOf(cate);t>-1&&this.cateCmps.splice(t,1)}},define("legacy/UserCategoryCmp",function(){}),define("component/finfo-api-client",["require","component/suggestion","jquery","component/config"],function(t){"use strict";t("component/suggestion");var e=t("jquery"),n=t("component/config"),i=n.url.finfo+"/events",r=n.url.finfo+"/stocks",o=n.url.finfo+"/stocks/mini",a=n.url.finfo+"/industries",s=n.url.finfo+"/stocks/indicators",c=n.url.finfo+"/stocks/transactions";return{getFinfoAlertNews:function(t){return t=t||{},e.ajax({url:i,type:"get",data:t,traditional:!0})},getVN30Stocks:function(){var t={indexCode:"VN30"};return e.ajax({url:o,type:"get",data:t}).then(function(t){var e=[],n=t.data;for(var i in n)e.push(n[i].symbol);return e})},getHNX30Stocks:function(){var t={indexCode:"HNX30"};return e.ajax({url:o,type:"get",data:t}).then(function(t){var e=[],n=t.data;for(var i in n)e.push(n[i].symbol);return e})},getStocks:function(t){return t=t||{},e.ajax({url:r,type:"get",data:t})},getStocksMini:function(t){return t=t||{},e.ajax({url:o,type:"get",data:t})},getIndustries:function(t){return t=t||{},e.ajax({url:a,type:"get",data:t})},getIndicators:function(t){return t=t||{},void 0===t.symbols||0===t.symbols.length?e.Deferred().resolve({data:[]}):e.ajax({url:s,type:"get",data:t,traditional:!0})},getMotifCategories:function(t){return e.ajax({url:"https://script.google.com/macros/s/AKfycbzyiH0gs2NryOu42k_P4ytn3qj_zzWp1cm3od-AXRp-nAaIObU/exec",type:"get",data:{action:"getGroups",date:t},dataType:"jsonp"})},getMotifCategory:function(t,n){return e.ajax({url:"https://script.google.com/macros/s/AKfycbzyiH0gs2NryOu42k_P4ytn3qj_zzWp1cm3od-AXRp-nAaIObU/exec",type:"get",data:{action:"getGroup",groupId:t,date:n},dataType:"jsonp"})},getStockTransactions:function(t){return e.ajax({url:c,type:"get",data:{symbol:t}})}}}),define("component/company-resource",["require","jquery","component/finfo-api-client"],function(t){"use strict";var e,n,i=t("jquery"),r=t("component/finfo-api-client"),o=function(){return n?n:n=r.getStocks().then(function(t){return n=null,e=t.data},function(){n=null;var t=i.Deferred();return t.reject.apply(null,arguments),t})},a=function(){return"undefined"==typeof e?o():i.Deferred().resolve(e)},s=function(t){return(e||[]).filter(function(e){return e.symbol===t})[0]};return{init:function(){o()},getCompanies:a,getCompany:function(t){return a().then(function(){var e=s(t);return e})},isHNX:function(t){var e=s(t);return e&&"HNX"===e.floor},isHOSE:function(t){var e=s(t);return e&&"HOSE"===e.floor},isUPCOM:function(t){var e=s(t);return e&&"UPCOM"===e.floor},bustCache:function(){n=void 0,e=void 0}}}),define("legacy/StockInfoModel",["require","jquery","component/company-resource"],function(t){function e(){this.crrState="",this.cpm=null,this.stocks={},this.crrStockCodes=[],this.categozyList=[],this.crrSequence=0,this.sortState={column:"",direction:"default"},this.jqueryObject=n(this)}var n=t("jquery"),i=t("component/company-resource"),r=["bidPrice01","bidQtty01","bidPrice02","bidQtty02","bidPrice03","bidQtty03","offerPrice01","offerQtty01","offerPrice02","offerQtty02","offerPrice03","offerQtty03"],o=["totalRoom","currentRoom","basicPrice","openPrice","closePrice","currentPrice","currentQtty","highestPrice","lowestPrice","ceilingPrice","floorPrice","totalOfferQtty","totalBidQtty","matchPrice","matchQtty","matchValue","averagePrice","bidPrice01","bidQtty01","bidPrice02","bidQtty02","bidPrice03","bidQtty03","offerPrice01","offerQtty01","offerPrice02","offerQtty02","offerPrice03","offerQtty03","accumulatedVal","accumulatedVol","buyForeignQtty","sellForeignQtty","projectOpen","changeRaw","changePercent","bV4","sV4"],a=function(t){return t.floorCode==CONST_HNX_NAME||t.floorCode==CONST_UPC_NAME?t.currentPrice>0?System.marketInfosManager.isATC(t.floorCode)?t.currentPrice:t.currentQtty>0?t.currentPrice:0:t.matchPrice:System.marketInfosManager.isATO(t.floorCode)||System.marketInfosManager.isATC(t.floorCode)?t.projectOpen:t.matchPrice},s=function(t){return t.floorCode==CONST_HNX_NAME||t.floorCode==CONST_UPC_NAME?t.currentPrice>0?t.currentQtty:t.matchQtty:System.marketInfosManager.isATC(t.floorCode)||System.marketInfosManager.isATC(t.floorCode)?0:t.matchQtty},c=function(t,e){var n=0;return t>0&&(n=t-e.basicPrice),n=Math.round(100*n)/100},u=function(t){var e=0;return t.matchPrice>0&&(e=100*(t.matchPrice-t.basicPrice)/t.basicPrice),Math.round(10*e)/10},l=function(t,e,n){if(0!=e&&0==t){if(System.marketInfosManager.isATO(n))return"ATO";if(System.marketInfosManager.isATC(n))return"ATC"}return t},h=function(t){if(0===Number(t.accumulatedVol))return 0;var e=1e9*Number(t.accumulatedVal)/(10*Number(t.accumulatedVol))/1e3;return e<t.lowestPrice||e>t.highestPrice?0:e},f=function(t){var e=0;return(t.floorCode===CONST_HNX_NAME||t.floorCode===CONST_UPC_NAME)&&t.totalOfferQtty&&t.accumulatedVol&&(e=t.totalBidQtty-t.accumulatedVol,0>e&&(e=0)),e},d=function(t){var e=0;return(t.floorCode===CONST_HNX_NAME||t.floorCode===CONST_UPC_NAME)&&t.totalOfferQtty&&t.accumulatedVol&&(e=t.totalOfferQtty-t.accumulatedVol,0>e&&(e=0)),e},p=function(t){i.getCompany(t.code).then(function(e){e&&(t.companyName=e.company)})};return e.prototype={start:function(){},updateStock:function(t){if(this.crrSequence=t.sequence,this.standardizeData(t),this.checkIsShow(t.code)&&this.emit("needUpdateUI_StockInfo",{code:t.code,info:t,changes:this.getChanges(t)}),this.stocks[t.code]){for(var e in t)t[e]&&(this.stocks[t.code][e]=t[e]);this.predictATO_ATC(t)}},getChanges:function(t){var e=this.stocks[t.code],n={};if(e)for(var i=0;i<r.length;i++){var o=r[i],a=t[o],s=e[o];if(a!=s){var a=parseFloat(a),s=parseFloat(s);if(a&&s){var c=s>a?"down":"up";n[o]=c}}}return n},predictATO_ATC:function(t){this.stocks[t.code]&&(System.marketInfosManager.isATO(t.floorCode)&&this.predictATOForOneStock(this.stocks[t.code]),System.marketInfosManager.isATC(t.floorCode)&&this.predictATCForOneStock(this.stocks[t.code]))},updateList:function(t){for(var e=Object.keys(t),n=0;n<e.length;n++){var i=e[n];if(0===t[i].length)return;var r=MessageUnmarshaller.map.STOCK(t[i]);this.updateStock(r)}},getCateList:function(){},getHoseList:function(){var t=[];for(var e in this.stocks)this.stocks[e].floorCode==CONST_HSX_NAME&&t.push(this.stocks[e]);return t},getHnxList:function(){var t=[];for(var e in this.stocks)this.stocks[e].floorCode==CONST_HNX_NAME&&t.push(this.stocks[e]);return t},getUpcomList:function(){var t=[];for(var e in this.stocks)this.stocks[e].floorCode==CONST_UPC_NAME&&t.push(this.stocks[e]);return t},getCrrStockList:function(){var t=[];switch(this.crrState){case"HOSE":for(var e in this.stocks)this.stocks[e].floorCode==CONST_HSX_NAME&&t.push(this.stocks[e])}return t},getStockList:function(){var t=[];for(var e in this.stocks)t.push(this.stocks[e]);return t},checkIsShow:function(){return!0},setState:function(t){this.crrState!=t&&(this.crrState=t)},active:function(){System.socketManager.registConsumer({type:DataEventType.STOCK,codes:this.crrStockCodes})},setStockCodes:function(t){var e=ArrayUtil.getChangeArr(this.crrStockCodes,t);System.socketManager.stopConsume({type:DataEventType.STOCK,codes:e}),this.crrStockCodes=t,this.getDataFromServer(t),System.socketManager.registConsumer({type:DataEventType.STOCK,codes:t})},getDataFromServer:function(t){System.ajaxHelper.request("priceservice/secinfo/snapshot/q=codes:"+t.join(","),function(t){this.cmp.isActive&&this.updateFullData(t)}.bind(this))},updateFullData:function(t){if(this.cmp.isActive){this.stocks={},this.crrStockCodes=[];for(var e=0;e<t.length;e++){var n=t[e];if(n){var i=MessageUnmarshaller.map.STOCK(n);this.crrStockCodes.push(i.code),this.standardizeData(i),this.stocks[i.code]=i}}this.emit("onUpdateFullData")}},updateDataForSymbol:function(t){if(this.cmp.isActive){if(this.stocks={},this.crrStockCodes=[],t){var e=MessageUnmarshaller.map.STOCK(t);this.crrStockCodes.push(e.code),this.standardizeData(e),this.stocks[e.code]=e}this.emit("onUpdateDataForSymbol"),this.cmp.updateOneSymbol=!0}},requestBaseOnFloorCode:function(t){this.crrStockCodes=[],System.ajaxHelper.request("priceservice/secinfo/snapshot/q=floorCode:"+t,function(e){this.cmp.isActive&&(this.cmp.updateOneSymbol||this.updateFullData(e[t]),System.socketManager.registConsumer({type:DataEventType.STOCK,codes:this.crrStockCodes}),this.cmp.updateOneSymbol=!1)}.bind(this))},requestBaseOnSymbol:function(t){this.crrStockCodes=[],System.ajaxHelper.request("priceservice/secinfo/snapshot/q=codes:"+t,function(t){this.cmp.isActive&&0!==t.length&&(this.updateDataForSymbol(t[0]),System.socketManager.registConsumer({type:DataEventType.STOCK,codes:this.crrStockCodes}))}.bind(this))},add:function(t){this.stocks[t.code]=t,this.emit("addStock",t)},push:function(t){this.cmp.isActive&&(this.crrStockCodes.push(t),System.socketManager.registConsumer({type:DataEventType.STOCK,codes:[t]}),System.ajaxHelper.request("priceservice/secinfo/snapshot/q=codes:"+t,function(t){this.cmp.isActive&&this.add(t[0])}.bind(this)))},remove:function(t){var e=this.crrStockCodes.indexOf(t);this.crrStockCodes.splice(e,1),delete this.stocks[t],System.socketManager.stopConsume({type:DataEventType.STOCK,codes:[t]}),this.emit("removeStock",t)},stopConsume:function(){System.socketManager.stopConsume({type:DataEventType.STOCK,codes:this.crrStockCodes})},predictATO:function(t){for(var e in this.stocks)this.stocks[e].floorCode==t&&this.predictATOForOneStock(this.stocks[e])},predictATC:function(t){for(var e in this.stocks)this.stocks[e].floorCode==t&&this.predictATCForOneStock(this.stocks[e])},clearATCPrice:function(t){for(var e in this.stocks)this.stocks[e].floorCode==t&&this.clearATCPriceForOneStock(this.stocks[e])},clearATOPrice:function(t){for(var e in this.stocks)this.stocks[e].floorCode==t&&this.clearATOPriceForOneStock(this.stocks[e])},clearATCPriceForOneStock:function(t){0==t.matchQtty&&(t.matchPrice=0,this.emit("onClearATCPrice",t))},clearATOPriceForOneStock:function(t){0==t.matchQtty&&(t.matchPrice=0,this.emit("onClearATOPrice",t))},toggleSort:function(t){var e={desc:"asc",asc:"default","default":"desc"};this.sortState.direction=this.sortState.column===t?e[this.sortState.direction]:e["default"],this.sortState.column=t,this.emit("sorted",this.sortState)},view:function(){var t=[];for(var e in this.stocks)t.push(this.stocks[e]);if("default"===this.sortState.direction)return t;var n=this;return t.sort(function(t,e){var i,r=t[n.sortState.column],a=e[n.sortState.column];if(o.indexOf(n.sortState.column)>=0){var s=Number(r),c=Number(a);i=0===s?"desc"===n.sortState.direction?-1:1:0===c?"desc"===n.sortState.direction?1:-1:isNaN(s)||isNaN(c)?r.toString().localeCompare(a.toString()):s-c}else i=r.toString().localeCompare(a.toString());return("desc"===n.sortState.direction?-1:1)*i}),t},predictATOForOneStock:function(t){this.emit("onPredictATO",t)},predictATCForOneStock:function(t){this.emit("onPredictATC",t)},standardizeData:function(t){t.matchPrice||(t.matchQtty=0),t.matchPrice=a(t),t.matchQtty=s(t),t.changeRaw=c(t.matchPrice,t),t.changePercent=u(t),t.bidPrice01=l(t.bidPrice01,t.bidQtty01,t.floorCode),t.offerPrice01=l(t.offerPrice01,t.offerQtty01,t.floorCode),t.averagePrice=h(t),t.bV4=f(t),t.sV4=d(t),p(t)},emit:function(t,e){this.jqueryObject.trigger({type:t,message:e,time:new Date}),this.cmp.emit(t,e)},on:function(t,e){n(this).bind(t,e)}},e}),define("component/util",["require","modernizr"],function(t){"use strict";var e=t("modernizr"),n=-420,i={animationend:{WebkitAnimation:"webkitAnimationEnd",MozAnimation:"mozAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd",animation:"animationend"},transitionend:{WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"}},r=[{base:"A",letters:/[\u0041\u24B6\uFF21\u00C0\u00C1\u00C2\u1EA6\u1EA4\u1EAA\u1EA8\u00C3\u0100\u0102\u1EB0\u1EAE\u1EB4\u1EB2\u0226\u01E0\u01DE\u1EA2\u00C5\u01FA\u01CD\u0200\u0202\u1EA0\u1EAC\u1EB6\u1E00\u0104\u023A\u2C6F]/g},{base:"AA",letters:/[\uA732]/g},{base:"AE",letters:/[\u00C4\u00C6\u01FC\u01E2]/g},{base:"AO",letters:/[\uA734]/g},{base:"AU",letters:/[\uA736]/g},{base:"AV",letters:/[\uA738\uA73A]/g},{base:"AY",letters:/[\uA73C]/g},{base:"B",letters:/[\u0042\u24B7\uFF22\u1E02\u1E04\u1E06\u0243\u0182\u0181]/g},{base:"C",letters:/[\u0043\u24B8\uFF23\u0106\u0108\u010A\u010C\u00C7\u1E08\u0187\u023B\uA73E]/g},{base:"D",letters:/[\u0044\u24B9\uFF24\u1E0A\u010E\u1E0C\u1E10\u1E12\u1E0E\u0110\u018B\u018A\u0189\uA779]/g},{base:"DZ",letters:/[\u01F1\u01C4]/g},{base:"Dz",letters:/[\u01F2\u01C5]/g},{base:"E",letters:/[\u0045\u24BA\uFF25\u00C8\u00C9\u00CA\u1EC0\u1EBE\u1EC4\u1EC2\u1EBC\u0112\u1E14\u1E16\u0114\u0116\u00CB\u1EBA\u011A\u0204\u0206\u1EB8\u1EC6\u0228\u1E1C\u0118\u1E18\u1E1A\u0190\u018E]/g},{base:"F",letters:/[\u0046\u24BB\uFF26\u1E1E\u0191\uA77B]/g},{base:"G",letters:/[\u0047\u24BC\uFF27\u01F4\u011C\u1E20\u011E\u0120\u01E6\u0122\u01E4\u0193\uA7A0\uA77D\uA77E]/g},{base:"H",letters:/[\u0048\u24BD\uFF28\u0124\u1E22\u1E26\u021E\u1E24\u1E28\u1E2A\u0126\u2C67\u2C75\uA78D]/g},{base:"I",letters:/[\u0049\u24BE\uFF29\u00CC\u00CD\u00CE\u0128\u012A\u012C\u0130\u00CF\u1E2E\u1EC8\u01CF\u0208\u020A\u1ECA\u012E\u1E2C\u0197]/g},{base:"J",letters:/[\u004A\u24BF\uFF2A\u0134\u0248]/g},{base:"K",letters:/[\u004B\u24C0\uFF2B\u1E30\u01E8\u1E32\u0136\u1E34\u0198\u2C69\uA740\uA742\uA744\uA7A2]/g},{base:"L",letters:/[\u004C\u24C1\uFF2C\u013F\u0139\u013D\u1E36\u1E38\u013B\u1E3C\u1E3A\u0141\u023D\u2C62\u2C60\uA748\uA746\uA780]/g},{base:"LJ",letters:/[\u01C7]/g},{base:"Lj",letters:/[\u01C8]/g},{base:"M",letters:/[\u004D\u24C2\uFF2D\u1E3E\u1E40\u1E42\u2C6E\u019C]/g},{base:"N",letters:/[\u004E\u24C3\uFF2E\u01F8\u0143\u00D1\u1E44\u0147\u1E46\u0145\u1E4A\u1E48\u0220\u019D\uA790\uA7A4]/g},{base:"NJ",letters:/[\u01CA]/g},{base:"Nj",letters:/[\u01CB]/g},{base:"O",letters:/[\u004F\u24C4\uFF2F\u00D2\u00D3\u00D4\u1ED2\u1ED0\u1ED6\u1ED4\u00D5\u1E4C\u022C\u1E4E\u014C\u1E50\u1E52\u014E\u022E\u0230\u022A\u1ECE\u0150\u01D1\u020C\u020E\u01A0\u1EDC\u1EDA\u1EE0\u1EDE\u1EE2\u1ECC\u1ED8\u01EA\u01EC\u00D8\u01FE\u0186\u019F\uA74A\uA74C]/g},{base:"OE",letters:/[\u00D6\u0152]/g},{base:"OI",letters:/[\u01A2]/g},{base:"OO",letters:/[\uA74E]/g},{base:"OU",letters:/[\u0222]/g},{base:"P",letters:/[\u0050\u24C5\uFF30\u1E54\u1E56\u01A4\u2C63\uA750\uA752\uA754]/g},{base:"Q",letters:/[\u0051\u24C6\uFF31\uA756\uA758\u024A]/g},{base:"R",letters:/[\u0052\u24C7\uFF32\u0154\u1E58\u0158\u0210\u0212\u1E5A\u1E5C\u0156\u1E5E\u024C\u2C64\uA75A\uA7A6\uA782]/g},{base:"S",letters:/[\u0053\u24C8\uFF33\u1E9E\u015A\u1E64\u015C\u1E60\u0160\u1E66\u1E62\u1E68\u0218\u015E\u2C7E\uA7A8\uA784]/g},{base:"T",letters:/[\u0054\u24C9\uFF34\u1E6A\u0164\u1E6C\u021A\u0162\u1E70\u1E6E\u0166\u01AC\u01AE\u023E\uA786]/g},{base:"TZ",letters:/[\uA728]/g},{base:"U",letters:/[\u0055\u24CA\uFF35\u00D9\u00DA\u00DB\u0168\u1E78\u016A\u1E7A\u016C\u01DB\u01D7\u01D5\u01D9\u1EE6\u016E\u0170\u01D3\u0214\u0216\u01AF\u1EEA\u1EE8\u1EEE\u1EEC\u1EF0\u1EE4\u1E72\u0172\u1E76\u1E74\u0244]/g},{base:"UE",letters:/[\u00DC]/g},{base:"V",letters:/[\u0056\u24CB\uFF36\u1E7C\u1E7E\u01B2\uA75E\u0245]/g},{base:"VY",letters:/[\uA760]/g},{base:"W",letters:/[\u0057\u24CC\uFF37\u1E80\u1E82\u0174\u1E86\u1E84\u1E88\u2C72]/g},{base:"X",letters:/[\u0058\u24CD\uFF38\u1E8A\u1E8C]/g},{base:"Y",letters:/[\u0059\u24CE\uFF39\u1EF2\u00DD\u0176\u1EF8\u0232\u1E8E\u0178\u1EF6\u1EF4\u01B3\u024E\u1EFE]/g},{base:"Z",letters:/[\u005A\u24CF\uFF3A\u0179\u1E90\u017B\u017D\u1E92\u1E94\u01B5\u0224\u2C7F\u2C6B\uA762]/g},{base:"a",letters:/[\u0061\u24D0\uFF41\u1E9A\u00E0\u00E1\u00E2\u1EA7\u1EA5\u1EAB\u1EA9\u00E3\u0101\u0103\u1EB1\u1EAF\u1EB5\u1EB3\u0227\u01E1\u01DF\u1EA3\u00E5\u01FB\u01CE\u0201\u0203\u1EA1\u1EAD\u1EB7\u1E01\u0105\u2C65\u0250]/g},{base:"aa",letters:/[\uA733]/g},{base:"ae",letters:/[\u00E4\u00E6\u01FD\u01E3]/g},{base:"ao",letters:/[\uA735]/g},{base:"au",letters:/[\uA737]/g},{base:"av",letters:/[\uA739\uA73B]/g},{base:"ay",letters:/[\uA73D]/g},{base:"b",letters:/[\u0062\u24D1\uFF42\u1E03\u1E05\u1E07\u0180\u0183\u0253]/g},{base:"c",letters:/[\u0063\u24D2\uFF43\u0107\u0109\u010B\u010D\u00E7\u1E09\u0188\u023C\uA73F\u2184]/g},{base:"d",letters:/[\u0064\u24D3\uFF44\u1E0B\u010F\u1E0D\u1E11\u1E13\u1E0F\u0111\u018C\u0256\u0257\uA77A]/g},{base:"dz",letters:/[\u01F3\u01C6]/g},{base:"e",letters:/[\u0065\u24D4\uFF45\u00E8\u00E9\u00EA\u1EC1\u1EBF\u1EC5\u1EC3\u1EBD\u0113\u1E15\u1E17\u0115\u0117\u00EB\u1EBB\u011B\u0205\u0207\u1EB9\u1EC7\u0229\u1E1D\u0119\u1E19\u1E1B\u0247\u025B\u01DD]/g},{base:"f",letters:/[\u0066\u24D5\uFF46\u1E1F\u0192\uA77C]/g},{base:"g",letters:/[\u0067\u24D6\uFF47\u01F5\u011D\u1E21\u011F\u0121\u01E7\u0123\u01E5\u0260\uA7A1\u1D79\uA77F]/g},{base:"h",letters:/[\u0068\u24D7\uFF48\u0125\u1E23\u1E27\u021F\u1E25\u1E29\u1E2B\u1E96\u0127\u2C68\u2C76\u0265]/g},{base:"hv",letters:/[\u0195]/g},{base:"i",letters:/[\u0069\u24D8\uFF49\u00EC\u00ED\u00EE\u0129\u012B\u012D\u00EF\u1E2F\u1EC9\u01D0\u0209\u020B\u1ECB\u012F\u1E2D\u0268\u0131]/g},{base:"j",letters:/[\u006A\u24D9\uFF4A\u0135\u01F0\u0249]/g},{base:"k",letters:/[\u006B\u24DA\uFF4B\u1E31\u01E9\u1E33\u0137\u1E35\u0199\u2C6A\uA741\uA743\uA745\uA7A3]/g},{base:"l",letters:/[\u006C\u24DB\uFF4C\u0140\u013A\u013E\u1E37\u1E39\u013C\u1E3D\u1E3B\u017F\u0142\u019A\u026B\u2C61\uA749\uA781\uA747]/g},{base:"lj",letters:/[\u01C9]/g},{base:"m",letters:/[\u006D\u24DC\uFF4D\u1E3F\u1E41\u1E43\u0271\u026F]/g},{base:"n",letters:/[\u006E\u24DD\uFF4E\u01F9\u0144\u00F1\u1E45\u0148\u1E47\u0146\u1E4B\u1E49\u019E\u0272\u0149\uA791\uA7A5]/g},{base:"nj",letters:/[\u01CC]/g},{base:"o",letters:/[\u006F\u24DE\uFF4F\u00F2\u00F3\u00F4\u1ED3\u1ED1\u1ED7\u1ED5\u00F5\u1E4D\u022D\u1E4F\u014D\u1E51\u1E53\u014F\u022F\u0231\u022B\u1ECF\u0151\u01D2\u020D\u020F\u01A1\u1EDD\u1EDB\u1EE1\u1EDF\u1EE3\u1ECD\u1ED9\u01EB\u01ED\u00F8\u01FF\u0254\uA74B\uA74D\u0275]/g},{base:"oe",letters:/[\u00F6\u0153]/g},{base:"oi",letters:/[\u01A3]/g},{base:"ou",letters:/[\u0223]/g},{base:"oo",letters:/[\uA74F]/g},{base:"p",letters:/[\u0070\u24DF\uFF50\u1E55\u1E57\u01A5\u1D7D\uA751\uA753\uA755]/g},{base:"q",letters:/[\u0071\u24E0\uFF51\u024B\uA757\uA759]/g},{base:"r",letters:/[\u0072\u24E1\uFF52\u0155\u1E59\u0159\u0211\u0213\u1E5B\u1E5D\u0157\u1E5F\u024D\u027D\uA75B\uA7A7\uA783]/g},{base:"s",letters:/[\u0073\u24E2\uFF53\u015B\u1E65\u015D\u1E61\u0161\u1E67\u1E63\u1E69\u0219\u015F\u023F\uA7A9\uA785\u1E9B]/g},{base:"ss",letters:/[\u00DF]/g},{base:"t",letters:/[\u0074\u24E3\uFF54\u1E6B\u1E97\u0165\u1E6D\u021B\u0163\u1E71\u1E6F\u0167\u01AD\u0288\u2C66\uA787]/g},{base:"tz",letters:/[\uA729]/g},{base:"u",letters:/[\u0075\u24E4\uFF55\u00F9\u00FA\u00FB\u0169\u1E79\u016B\u1E7B\u016D\u01DC\u01D8\u01D6\u01DA\u1EE7\u016F\u0171\u01D4\u0215\u0217\u01B0\u1EEB\u1EE9\u1EEF\u1EED\u1EF1\u1EE5\u1E73\u0173\u1E77\u1E75\u0289]/g},{base:"ue",letters:/[\u00FC]/g},{base:"v",letters:/[\u0076\u24E5\uFF56\u1E7D\u1E7F\u028B\uA75F\u028C]/g},{base:"vy",letters:/[\uA761]/g},{base:"w",letters:/[\u0077\u24E6\uFF57\u1E81\u1E83\u0175\u1E87\u1E85\u1E98\u1E89\u2C73]/g},{base:"x",letters:/[\u0078\u24E7\uFF58\u1E8B\u1E8D]/g},{base:"y",letters:/[\u0079\u24E8\uFF59\u1EF3\u00FD\u0177\u1EF9\u0233\u1E8F\u00FF\u1EF7\u1E99\u1EF5\u01B4\u024F\u1EFF]/g},{base:"z",letters:/[\u007A\u24E9\uFF5A\u017A\u1E91\u017C\u017E\u1E93\u1E95\u01B6\u0225\u0240\u2C6C\uA763]/g}],o=function(t){if("undefined"==typeof t||null===t)return"";var e=t.toString().split(".");return e[0]=e[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),e.join(".")},a=function(t,e){return"number"!=typeof e&&(e=0),t=Math.round(t*Math.pow(10,e))/Math.pow(10,e),isNaN(t)?"":o(t)},s=function(t){var e=t.getHours();10>e&&(e="0"+e);var n=t.getMinutes();return 10>n&&(n="0"+n),e+":"+n},c=function(t,n){return i.hasOwnProperty(t)?(n||(n=t),i[t][e.prefixed(n)]||t):t},u=function(t){for(var e=t,n=0;n<r.length;n++)e=e.replace(r[n].letters,r[n].base);return e};return{init:function(){var t=c("animationend","animation");$(document).on(t,".flash-background",function(){$(this).removeClass("flash-background")})},addCommasToNumber:o,removeCommasFromNumber:function(t){return t.replace(/,/g,"")},getFloorCodeName:function(t){var e="";return"02"===t?e="HNX":"10"===t?e="HOSE":"03"===t&&(e="UPCOM"),e},getDefaultQuantity:function(t){return"10"===t?10:100},formatTime:function(t,e){var t=new Date(t);return e&&t.setTime(t.getTime()+6e4*(t.getTimezoneOffset()-n)),s(t)},formatTimeWithSeconds:function(t,e){var t=new Date(t);e&&t.setTime(t.getTime()+6e4*(t.getTimezoneOffset()-n));var i=t.getSeconds();return 10>i&&(i="0"+i),s(t)+":"+i},formatDate:function(t,e){var i=new Date(t);e&&i.setTime(i.getTime()+6e4*(i.getTimezoneOffset()-n));var r=i.getDate(),o=i.getMonth()+1,a=i.getFullYear();return 10>r&&(r="0"+r),10>o&&(o="0"+o),r+"/"+o+"/"+a},formatNumber:function(t,e,n){return n&&!Number(t)?"":a(t,e)},formatNumberToTenths:function(t){var e=a(t,0);return e.length>0?e.substr(0,e.length-1):e},formatPercentage:function(t,e,n){if(n&&!Number(t))return"";var i=a(100*t,e);return i.length>0?i+"﹪":""},getChangeClass:function(t,e,n,i){return"undefined"==typeof n&&(n=1/0),"undefined"==typeof i&&(i=-1/0),t=Number(t),e=Number(e),n=Number(n),i=Number(i),t===n?"txt-magenta":n>t&&t>e?"txt-lime":t===e?"txt-yellow":e>t&&t>i?"txt-red":t===i?"txt-gia-san":""},debounce:function(t,e){var n;return function(){var i=this,r=arguments,o=function(){n=null,t.apply(i,r)};clearTimeout(n),n=setTimeout(o,e)}},prefixEvent:c,removeDiacritics:u,slugify:function(t){return u(t).toLowerCase().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"")}}}),define("component/data-slider",["require","jquery","component/util"],function(t){"use strict";var e=t("jquery"),n=t("component/util"),i={autoPlay:3e4,steps:1},r=function(t){var e=t._options;e.autoPlay<=0||(t.timeoutId=setTimeout(function(){r(t),t.slide(e.steps)},e.autoPlay))},o=function(t,n){this.$root=t.$root,this.group=t.group,this.fields=t.fields,this.currentIndex=Number(t.initialIndex),(isNaN(this.currentIndex)||this.currentIndex<0||this.currentIndex>=this.fields.length)&&(this.currentIndex=0),this._options=e.extend({},i,n),this.handlers={slide:[]},this.refresh(),r(this)};return o.prototype.options=function(t){return this._options=e.extend({},this._options,t),t.hasOwnProperty("autoPlay")&&(this.stop(),r(this)),this},o.prototype.refresh=function(){var t=this.$root,e=this.group,n=this.fields,i=n[this.currentIndex],r=t.find("[data-slider-group="+e+"]").find("[data-slider-field]");return r.addClass("slidable"),r.filter("[data-slider-field!="+i+"]").addClass("hidden"),this},o.prototype.slide=function(t){var i=n.prefixEvent("animationend","animation"),r=this,o=this.$root,a=this.group,s=this.fields,c=o.find("[data-slider-group="+a+"]"),u=c.find("[data-slider-field]"),l=this.currentIndex,h=s[l],f=u.filter("[data-slider-field="+h+"]");if(!f.attr("class").match(/\bsliding-/g)){var d=l+t;0>d&&(d=s.length-1),d>=s.length&&(d=0),this.currentIndex=d;var p=s[d],g=u.filter("[data-slider-field="+p+"]");o.attr("data-slider-group-"+a,p);var m,v;return t>0?(m="sliding-from-right",v="sliding-to-left"):(m="sliding-from-left",v="sliding-to-right"),f.addClass(v).one(i,function(){e(this).removeClass(v).addClass("hidden")}),g.addClass(m).one(i,function(){e(this).removeClass(m).removeClass("hidden")}),this.handlers.slide.forEach(function(t){t.apply(r,[{group:a,oldField:h,newField:p}])}),this}},o.prototype.stop=function(){return clearTimeout(this.timeoutId),this},o.prototype.on=function(t,e){return this.handlers.hasOwnProperty(t)&&"function"==typeof e?(this.handlers[t].push(e),this):void 0},o.prototype.off=function(t){return this.handlers.hasOwnProperty(t)?(this.handlers[t]=[],this):void 0},o}),define("component/tooltip",["require","jquery","component/i18n"],function(t){"use strict";var e=t("jquery"),n=t("component/i18n"),i={$constrain:e(window),escape:!0,fadeoutTime:100,maxShow:0,showOnEmpty:!0,touch:!0},r=0,o=function(t,n){this._options=e.extend({},i,n),this.$element=t,this.id=r++,t.attr("title",""),this.$tooltip=e('<span class="tooltip"></span>').append('<span class="content"></span>').append('<span class="tip"></span>'),this.$container=e("body"),this._options.classes&&this.$tooltip.addClass(this._options.classes),this.showCount=0,this.initEvents()};return o.prototype.initEvents=function(){var t=this;this.$element.on("mouseenter.tooltip",function(){clearTimeout(t.fadeTimeout);var n=e(this);(t._options.showOnEmpty||n.text().trim())&&(t.$currentElement=n,t.show())}).on("mouseleave.tooltip",function(){t.hide(),t.track()}),this._options.touch||e(document).one("touchstart.tooltip."+t.id,function(){t.destroy()})},o.prototype.show=function(){var t,i=this.$currentElement,r=this.$tooltip,o=this._options;if(t=i.data("i18n-tooltip")?n.t(i.data("i18n-tooltip")):(i.data("tooltip")||i.attr("title")).trim()){o.escape?r.children(".content").text(t):r.children(".content").html(t),r.appendTo(this.$container);var a=o.$constrain.outerWidth(!0),s=r.outerWidth(!0),c=Math.min(i.offset().left+.5*i.outerWidth()-.5*s,a-s);c=Math.max(c,0),r.css({left:c});var u=r.outerHeight(!0),l=i.offset().top-u-5-e("body").offset().top;r.css({top:l}).addClass("showing"),r.children(".tip").css({left:i.offset().left+.5*i.outerWidth()-c}),this.validatePresence(),this.showCount++}},o.prototype.hide=function(){clearTimeout(this.validateTimeout),this.$currentElement=null;var t=this.$tooltip;t&&(t.removeClass("showing"),this.fadeTimeout=setTimeout(function(){t.children(".tip").css({left:""}),t.css({left:0,top:0}).detach()},this._options.fadeoutTime))},o.prototype.track=function(){this._options.maxShow>0&&this.showCount>this._options.maxShow&&this.destroy()},o.prototype.validatePresence=function(){var t=this;this.validateTimeout=setTimeout(function(){var e=t.$currentElement;return e&&document.body.contains(e[0])&&!e.prop("disabled")?void t.validatePresence():void t.hide()},500)},o.prototype.destroy=function(){this.isDestroyed||(e(document).off("touchstart.tooltip."+this.id),this.$element.off("mouseenter.tooltip mouseleave.tooltip"),this.$element=null,this.$tooltip.remove(),this.$tooltip=null,this.$container=null,this._options=null,this.isDestroyed=!0)},o}),define("legacy/StockInfoView",["require","microtemplates","legacy/PubSub","component/overlay","component/data-slider","component/i18n","component/tooltip"],function(t){var e=t("microtemplates"),n=t("legacy/PubSub"),i=t("component/overlay"),r=t("component/data-slider"),o=t("component/i18n"),a=t("component/tooltip"),s=50,c=function(){this.crrRenderProcess=null,this.crrRenderFloorCode=0,this.isCustomized=!1,this.template=e($("#priceboard-row").text()),this.sliders={}};return c.prototype={setWrp:function(t){this.wrp=t;for(var e in this.sliders)this.sliders[e]instanceof r&&this.sliders[e].stop();
this.setupSlider("accumulated",["accumulatedVol","accumulatedVal"]),this.setupSlider("priceDiff",["changeRaw","changePercent"]),this.setupSlider("foreign",["buySellForeignQtty","currentRoom"]),this.bindRowEvents(),this.bindHeaderEvents()},formatVol:function(t){return NumberFormat.vol(t)},formatPercentage:function(t){return t?t.toFixed(1)+"﹪":""},formatPrice:function(t){return NumberFormat.price(t)},formatSpecialPrice:function(t,e){return NumberFormat.averagePrice(t,e)},render:function(t,e,n){n=$.extend({recursive:!1},n);var i=$(this.wrp);this.crrWrpParentId=$(i.parent()).attr("id"),this.clearOldRenderProcess(),i.empty(),i.closest("table").addClass("rendering");var r;r=n.recursive?this.getRenderArr(t.length):[{start:0,end:t.length}],0!==r.length&&this.recursiveRender(0,r,t,i,e)},isSatisfyRenderCondition:function(){return this.cmp.isActive?!0:!1},setupSlider:function(t,e){var n=this.wrp.closest("table"),i=$("#"+n.data("clone")),o=localStorage.getItem("sliderGroup_"+t+"_id");this.sliders[t]=new r({$root:n.add(i),group:t,fields:e,initialIndex:o},{autoPlay:0})},bindHeaderEvents:function(){{var t=this,e=$(this.wrp).closest("table");$("#"+e.data("clone"))}e.find("th[data-slider-group] a").off("click.toggle").on("click.toggle",function(e){e.preventDefault(),e.stopPropagation();var n=Number($(this).data("slider-steps")),i=$(this).parent().data("slider-group");if(t.sliders.hasOwnProperty(i)){var r=t.sliders[i];r.options({autoPlay:0}).slide(n),localStorage.setItem("sliderGroup_"+r.group+"_id",r.currentIndex)}}),e.find("thead [data-sort-by]").off("click.sort").on("click.sort",function(){var e=$(this),n=e.attr("data-sort-by");n&&t.emit("sort",e.attr("data-sort-by"))})},showSortState:function(t){var e=$(this.wrp).closest("table"),n=$("#"+e.data("clone")),i=e.add(n).find("thead [data-sort-by]");i.removeClass("headerSortUp headerSortDown");var r=i.filter("[data-sort-by="+t.column+"]"),o="";"asc"===t.direction?o="headerSortDown":"desc"===t.direction&&(o="headerSortUp"),r.addClass(o)},showSortProgressIndicator:function(t){var e=$.Deferred();return t.length>s?(i.setState("loading").setContent("Đang sắp xếp lại dữ liệu..."),setTimeout(function(){e.resolve()},10)):e.resolve(),e},getRenderArr:function(t){for(var e=Math.ceil(t/s),n=[],i=0;e>i;i++)n.push({start:s*i,end:Math.min(s*(i+1),t)});return n},recursiveRender:function(t,e,r,o,a){if(this.isSatisfyRenderCondition(r[0])){this.renderPart(r,o,a,e[t].start,e[t].end),i.setState("");for(var s in this.sliders)this.sliders[s].refresh();if(n.publish("rendered"),t<e.length-1){if(!this.isSatisfyRenderCondition(r[0]))return;var c=50;Browser.isTablet()&&(c=10),this.crrRenderProcess=setTimeout(function(){this.recursiveRender(t+1,e,r,o,a)}.bind(this),c),this.emit("stockRendering")}else this.handleRenderComplete(o,r,a)}},clearOldRenderProcess:function(){clearTimeout(this.crrRenderProcess)},handleRenderComplete:function(){var t=$(this.wrp).closest("table").removeClass("rendering");this.tooltip instanceof a&&(this.tooltip.destroy(),this.tooltip=null),this.tooltipName instanceof a&&(this.tooltipName.destroy(),this.tooltipName=null),this.tooltip=new a(t.find(".has-tooltip"),{$constrain:t,classes:"tooltip-quick-order",maxShow:20,showOnEmpty:!1,touch:!1}),this.tooltipName=new a(t.find(".has-tooltip-name"),{$constrain:t,classes:"tooltip-name",showOnEmpty:!1,touch:!1}),this.emit("renderComplete")},renderPart:function(t,e,n,i,r){for(var o=e.closest("table"),a="",s=i;r>s;s++)a+=this.getHtmlTextFromStockInfo(t[s],n);this.isSatisfyRenderCondition(t[0])&&$(a).appendTo(o)},bindRowEvents:function(){$(this.wrp).off("click.row").on("click.row","tr",function(t){var e=$(this);if(e.hasClass("selected")){var n=$(t.target);n.closest("td").hasClass("has-tooltip")||0===n.closest("td").index()||RowSelector.unselect(e)}else RowSelector.select(e)})},remove:function(t,e){$("#"+e+t+"row").remove();$(this.wrp)},push:function(t,e){var n=$(this.wrp);n.append(this.getHtmlTextFromStockInfo(t,e))},setCrrRenderFloorCode:function(t){this.crrRenderFloorCode=t},getHtmlTextFromStockInfo:function(t,e){e+=t.code,t.displayBidPrice01=this.formatPrice(t.bidPrice01,t.bidQtty01,t.floorCode),t.displayOfferPrice01=this.formatPrice(t.offerPrice01,t.offerQtty01,t.floorCode);var n=o.getCurrentLanguage();return t.companyName="en"===n?"":t.companyName,htmlText=this.template({idata:t,prefix:e,isCustomized:this.isCustomized,getTextColorClass:this.getTextColorClass,formatVol:this.formatVol,formatPercentage:this.formatPercentage,formatPrice:this.formatPrice,formatSpecialPrice:this.formatSpecialPrice}),htmlText},emit:function(t,e){$(this).trigger({type:t,message:e,time:new Date})},on:function(t,e){$(this).bind(t,e)},clear:function(){},scrollTo:function(t,e){var n=$("#tabbed-content"),i=parseInt(n.css("padding-top").replace("px",""))+n.offset().top,r=$(".fixed-header").filter(":visible").outerHeight(!0),o=i+r,a=$("#"+e+t+"row");if(a.length>0){var s=a.parent().children(),c=s.index(a);if(c>=0){var u=this.wrp.closest("table");window.scrollTo(0,c/s.length*(u.outerHeight(!0)-r)),setTimeout(function(){window.scrollTo(0,a.offset().top-o)},100)}}RowSelector.select($("#"+e+t+"row"))},refreshStockInfo:function(t,e,n){var i="#"+e+t.code,r=this.getTextColorClass(t.matchPrice,t);this.setCellColor($(i+"sym"),r),this.setCellColor($(i+"sym2"),r),this.setCell(i+"vol",this.formatVol(t.accumulatedVol),null,"hl-changing"),this.setCell(i+"val",this.formatSpecialPrice(1e3*t.accumulatedVal,0),null,"hl-changing"),this.setCell(i+"percent",this.formatPercentage(t.changePercent),[t.matchPrice,t],"hl-changing"),this.setCell(i+"lat",this.formatVol(t.matchQtty),[t.matchPrice,t],"hl-changing"),this.setCellColor($(i+"lat"),r);var o="EF"==t.stockType?3:2;setValue(i+"ref",this.formatSpecialPrice(t.basicPrice,o)),setValue(i+"cel",this.formatSpecialPrice(t.ceilingPrice,o)),setValue(i+"flo",this.formatSpecialPrice(t.floorPrice,o)),this.setCell(i+"pri",this.formatSpecialPrice(t.matchPrice,o),[t.matchPrice,t],"hl-changing"),this.setCell(i+"change",this.formatSpecialPrice(t.changeRaw,o),[t.matchPrice,t],"hl-changing"),this.setCell(i+"avgP",this.formatSpecialPrice(t.averagePrice,o),[t.averagePrice,t],"hl-changing"),this.setCell(i+"higP",this.formatSpecialPrice(t.highestPrice,o),[t.highestPrice,t],"hl-changing"),this.setCell(i+"lowP",this.formatSpecialPrice(t.lowestPrice,o),[t.lowestPrice,t],"hl-changing"),this.setCell(i+"bP1",this.formatSpecialPrice(t.bidPrice01,o),[t.bidPrice01,t],"hl-changing"),this.setCell(i+"bP2",this.formatSpecialPrice(t.bidPrice02,o),[t.bidPrice02,t],"hl-changing"),this.setCell(i+"bP3",this.formatSpecialPrice(t.bidPrice03,o),[t.bidPrice03,t],"hl-changing"),this.setCell(i+"oP1",this.formatSpecialPrice(t.offerPrice01,o),[t.offerPrice01,t],"hl-changing"),this.setCell(i+"oP2",this.formatSpecialPrice(t.offerPrice02,o),[t.offerPrice02,t],"hl-changing"),this.setCell(i+"oP3",this.formatSpecialPrice(t.offerPrice03,o),[t.offerPrice03,t],"hl-changing"),this.setCell(i+"bV1",this.formatVol(t.bidQtty01),[t.bidPrice01,t],this.__getQuantityChangeClass(n,"bidPrice01","bidQtty01")),this.setCell(i+"bV2",this.formatVol(t.bidQtty02),[t.bidPrice02,t],this.__getQuantityChangeClass(n,"bidPrice02","bidQtty02")),this.setCell(i+"bV3",this.formatVol(t.bidQtty03),[t.bidPrice03,t],this.__getQuantityChangeClass(n,"bidPrice03","bidQtty03")),this.setCell(i+"oV1",this.formatVol(t.offerQtty01),[t.offerPrice01,t],this.__getQuantityChangeClass(n,"offerPrice01","offerQtty01")),this.setCell(i+"oV2",this.formatVol(t.offerQtty02),[t.offerPrice02,t],this.__getQuantityChangeClass(n,"offerPrice02","offerQtty02")),this.setCell(i+"oV3",this.formatVol(t.offerQtty03),[t.offerPrice03,t],this.__getQuantityChangeClass(n,"offerPrice03","offerQtty03")),this.setCell(i+"sV4",this.formatVol(t.sV4),null,"hl-changing"),this.setCell(i+"bV4",this.formatVol(t.bV4),null,"hl-changing"),this.setCell(i+"forB",this.formatVol(t.buyForeignQtty),null,"hl-changing"),this.setCell(i+"forS",this.formatVol(t.sellForeignQtty),null,"hl-changing"),this.setCell(i+"forR",this.formatVol(t.currentRoom),null,"hl-changing"),this.emit("finishProcessStock")},__getQuantityChangeClass:function(t,e,n){if(!(e in t)&&n in t){if("up"==t[n])return"hl-going-up";if("down"==t[n])return"hl-going-down"}return"hl-changing"},setCell:function(t,e,n,i){var r=$(t);if(r&&"undefined"!=typeof e){var o,a=r.text(),s=r.closest("td");if(o="0"==e||"0.0"==e||"0.00"==e?"":e,o!=a&&(r.text(o),""!=o&&o.length>0)){var c;if(c="ATC"==e||"ATO"==e||null==n?"":this.getTextColorClass(n[0],n[1]),r.removeClass(function(t,e){return(e.match(/\btxt-\S+/g)||[]).join(" ")}).addClass(c),r.closest("tr").hasClass("invisible"))return;HighlightRoom.pushClass(s,i)}}},getTextColorClass:function(t,e){var n,i=Math.round(100*e.ceilingPrice)/100,r=Math.round(100*e.floorPrice)/100,o=Math.round(100*e.basicPrice)/100,a=Math.round(100*t)/100;return n=isNaN(a)?"string"==typeof t&&t.length>0?"":"txt-gia-tc":0==a?"txt-gia-tc":a==i?"txt-magenta":a>o?"txt-lime":a==o?"txt-gia-tc":a==r?"txt-gia-san":"txt-red"},removeColorClass:function(t){var e="txt-gia-tc txt-magenta txt-lime txt-gia-san txt-red txt-gia-tran";t.removeClass(e)},setCellColor:function(t,e){this.removeColorClass(t),t.addClass(e)},getColor:function(){},highlightCells:function(t){HighlightRoom.push(t)},highlightCellsInRow:function(t){for(var e=0;e<t.length;e++)null!=t[e]&&(t[e].addClass("hl-changing"),HighlightRoom.push(t[e]))},sortTextExtraction:function(t){var e=$(t).text();return e?e=e.replace(/,/g,""):"-1"},predictATO_ATC:function(t,e){this.displayMathPriceAndValue(t,e)},clearATC_ATOPrice:function(t,e){this.displayMathPriceAndValue(t,e)},displayMathPriceAndValue:function(t,e){var n="#"+e;this.setCell(n+t.code+"pri",this.formatPrice(t.matchPrice),[t.matchPrice,t]),this.setCell(n+t.code+"lat",this.formatVol(t.matchQtty),[t.matchPrice,t]),this.setCellColor($(n+"lat"),i),this.setCellColor($(n+"sym2"),i),this.setCell("#"+e+t.code+"change",t.changeRaw,null);var i=this.getTextColorClass(t.matchPrice,t);this.setCellColor($(n+"sym"),i)}},c}),define("legacy/StockInfoCmp",["require","legacy/StockInfoModel","legacy/StockInfoView"],function(t){var e=t("legacy/StockInfoModel"),n=t("legacy/StockInfoView"),i=function(t){t&&t.isExtendClass||(this.name="stIf",this.isActive=!1,this.model=new e,this.model.cmp=this,this.view=new n,this.view.cmp=this,this.listenViewEvent(),this.listenModelEvent(),this.listenOutsideEvent(),this.jqueryObject=$(this))};return i.prototype={listenViewEvent:function(){this.view.on("headerClick",function(){System.emit("headerClick")}),this.view.on("renderComplete",function(){this.emit("renderComplete")}.bind(this)),this.view.on("stockRendering",function(){this.emit("stockRendering")}.bind(this)),this.view.on("sort",function(t){this.model.toggleSort(t.message)}.bind(this))},listenModelEvent:function(){this.model.on("needUpdateUI_StockInfo",function(t){this.view.refreshStockInfo(t.message.info,this.name,t.message.changes)}.bind(this)),this.model.on("addStock",function(t){this.view.push(t.message,this.name)}.bind(this)),this.model.on("removeStock",function(t){this.view.remove(t.message,this.name)}.bind(this)),this.model.on("onUpdateFullData",function(){this.view.render(this.model.view(),this.name)}.bind(this)),this.model.on("onUpdateDataForSymbol",function(){this.view.render(this.model.view(),this.name)}.bind(this)),this.model.on("onPredictATO",function(t){this.view.predictATO_ATC(t.message,this.name)}.bind(this)),this.model.on("onPredictATC",function(t){this.view.predictATO_ATC(t.message,this.name)}.bind(this)),this.model.on("onClearATCPrice",function(t){this.view.clearATC_ATOPrice(t.message,this.name)}.bind(this)),this.model.on("onClearATOPrice",function(t){this.view.clearATC_ATOPrice(t.message,this.name)}.bind(this)),this.model.on("sorted",function(t){var e=this,n=this.view,i=this.model.view();n.showSortState(t.message),n.showSortProgressIndicator(i).then(function(){n.render(i,e.name,{recursive:!1})})}.bind(this))},listenOutsideEvent:function(){System.socketManager.on("returnData",function(t){this.isActive&&t.message.name==DataEventType.STOCK&&this.model.updateList(t.message.data)}.bind(this)),System.socketManager.on(DataEventType.STOCK,function(t){this.isActive&&this.model.updateStock(t.message)}.bind(this))},requestBaseOnFloorCode:function(t){this.model.requestBaseOnFloorCode(t)},requestBaseOnSymbol:function(t){this.model.requestBaseOnSymbol(t)},setWrp:function(t){this.view.setWrp(t)},active:function(){this.isActive=!0,this.model.active()},deActive:function(){this.isActive=!1,this.model.stopConsume()},setCrrRenderFloorCode:function(t){this.view.setCrrRenderFloorCode(t)},updateStock:function(t){this.model.updateStock(t)},updateFullData:function(t){this.model.updateFullData(t)},getCrrStockList:function(){return this.model.getCrrStockList()},getStockInfo:function(t){return cloneObject(this.model.stocks[t])},push:function(t){t&&this.model.push(t)},scrollTo:function(t){this.view.scrollTo(t,this.name)},remove:function(t){this.model.remove(t)},emit:function(t,e){this.jqueryObject.trigger({type:t,message:e,time:new Date})},setState:function(t){this.model.setState(t)},render:function(t){this.view.render(this.model.getStockList(),t,this.name)},predictATO:function(t){this.model.predictATO(t)},predictATC:function(t){this.model.predictATC(t)},clearATCPrice:function(t){this.model.clearATCPrice(t)},clearATOPrice:function(t){this.model.clearATOPrice(t)},on:function(t,e){$(this).bind(t,e)},setTab:function(t){this.model.setTab(t)},setStockCodes:function(t){this.isActive&&this.model.setStockCodes(t)}},i}),define("legacy/UserStockInfoCmp",["require","legacy/StockInfoModel","legacy/StockInfoView","legacy/StockInfoCmp"],function(t){var e=t("legacy/StockInfoModel"),n=t("legacy/StockInfoView"),i=t("legacy/StockInfoCmp"),r=function(){this.crrRenderProcess=null,this.crrRenderFloorCode=0,this.isCustomized=!0};r.prototype=new n;var o=function(){this.name="userStIf",this.isActive=!1,this.model=new e,this.model.cmp=this,this.view=new r,this.view.cmp=this,this.listenViewEvent(),this.listenModelEvent(),this.listenOutsideEvent(),this.jqueryObject=$(this)};return o.prototype=new i({isExtendClass:!0}),o}),define("component/industry-resource",["require","jquery","component/finfo-api-client"],function(t){"use strict";var e,n,i=t("jquery"),r=t("component/finfo-api-client");return{getIndustries:function(){return"undefined"!=typeof e?i.Deferred().resolve(e):"undefined"!=typeof n?n:n=r.getIndustries().then(function(t){return n=void 0,e=t.data},function(){n=void 0;var t=i.Deferred();return t.reject.apply(null,arguments),t})},bustCache:function(){e=void 0,n=void 0}}}),define("component/price-api-client",["require","jquery","component/price-server-farm","legacy/MessageUnmarshaller"],function(t){var e=t("jquery"),n=t("component/price-server-farm").privateFarm,i=t("legacy/MessageUnmarshaller"),r="/priceservice/secinfo/snapshot/q=";return{getSecInfoByFloorCodes:function(t){var o=e.Deferred();return n.get().then(function(a){var s=a+r+"floorCode:"+t.join(","),c=[];e.ajax({url:s,type:"get"}).done(function(t){for(var e in t)t[e].forEach(function(t){c.push(i.unmarshal("STOCK",t))});o.resolve(c)}).fail(function(){n.fail(a),o.reject.apply(null,arguments)})},function(t){o.reject(t)}),o},getSecInfoBySymbols:function(t){var o=e.Deferred();return n.get().then(function(a){var s=a+r+"codes:"+t.join(","),c=[];e.ajax({url:s,type:"get"}).done(function(t){t.forEach(function(t){c.push(i.unmarshal("STOCK",t))}),o.resolve(c)}).fail(function(){n.fail(a),o.reject.apply(null,arguments)})},function(t){o.reject(t)}),o}}}),define("component/alert",["require","jquery","microtemplates","component/util"],function(t){var e=t("jquery"),n=t("microtemplates"),i=t("component/util"),r=n(e("#alert-tmpl").text()),o=i.prefixEvent("transitionend","transition"),a=function(){var t,n,i=[];t=e(r()).appendTo(e("body")),n=e(".close",t).on("click",function(e){e.preventDefault(),t.hasClass("closed")||t.addClass("closed").one(o,function(){i.forEach(function(e){e.apply(t)})})}),this.setClass=function(e){return t.addClass("alert-"+e),this},this.setContent=function(n){return e(".content",t).html(n),this},this.open=function(){return t.hasClass("closed")?(t.removeClass("closed"),this):void 0},this.close=function(){return n.trigger("click"),this},this.destroy=function(){t.remove()},this.onclose=function(t){"function"==typeof t&&i.push(t)}};return a}),function(t,e){function n(e,n){var r,o,a,s=e.nodeName.toLowerCase();return"area"===s?(r=e.parentNode,o=r.name,e.href&&o&&"map"===r.nodeName.toLowerCase()?(a=t("img[usemap=#"+o+"]")[0],!!a&&i(a)):!1):(/input|select|textarea|button|object/.test(s)?!e.disabled:"a"===s?e.href||n:n)&&i(e)}function i(e){return t.expr.filters.visible(e)&&!t(e).parents().addBack().filter(function(){return"hidden"===t.css(this,"visibility")}).length}var r=0,o=/^ui-id-\d+$/;t.ui=t.ui||{},t.extend(t.ui,{version:"1.10.3",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),t.fn.extend({focus:function(e){return function(n,i){return"number"==typeof n?this.each(function(){var e=this;setTimeout(function(){t(e).focus(),i&&i.call(e)},n)}):e.apply(this,arguments)}}(t.fn.focus),scrollParent:function(){var e;return e=t.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(t.css(this,"position"))&&/(auto|scroll)/.test(t.css(this,"overflow")+t.css(this,"overflow-y")+t.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(t.css(this,"overflow")+t.css(this,"overflow-y")+t.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!e.length?t(document):e},zIndex:function(n){if(n!==e)return this.css("zIndex",n);if(this.length)for(var i,r,o=t(this[0]);o.length&&o[0]!==document;){if(i=o.css("position"),("absolute"===i||"relative"===i||"fixed"===i)&&(r=parseInt(o.css("zIndex"),10),!isNaN(r)&&0!==r))return r;o=o.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++r)})},removeUniqueId:function(){return this.each(function(){o.test(this.id)&&t(this).removeAttr("id")})}}),t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(n){return!!t.data(n,e)}}):function(e,n,i){return!!t.data(e,i[3])},focusable:function(e){return n(e,!isNaN(t.attr(e,"tabindex")))},tabbable:function(e){var i=t.attr(e,"tabindex"),r=isNaN(i);return(r||i>=0)&&n(e,!r)}}),t("<a>").outerWidth(1).jquery||t.each(["Width","Height"],function(n,i){function r(e,n,i,r){return t.each(o,function(){n-=parseFloat(t.css(e,"padding"+this))||0,i&&(n-=parseFloat(t.css(e,"border"+this+"Width"))||0),r&&(n-=parseFloat(t.css(e,"margin"+this))||0)}),n}var o="Width"===i?["Left","Right"]:["Top","Bottom"],a=i.toLowerCase(),s={innerWidth:t.fn.innerWidth,innerHeight:t.fn.innerHeight,outerWidth:t.fn.outerWidth,outerHeight:t.fn.outerHeight};t.fn["inner"+i]=function(n){return n===e?s["inner"+i].call(this):this.each(function(){t(this).css(a,r(this,n)+"px")})},t.fn["outer"+i]=function(e,n){return"number"!=typeof e?s["outer"+i].call(this,e):this.each(function(){t(this).css(a,r(this,e,!0,n)+"px")})}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(t.fn.removeData=function(e){return function(n){return arguments.length?e.call(this,t.camelCase(n)):e.call(this)}}(t.fn.removeData)),t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),t.support.selectstart="onselectstart"in document.createElement("div"),t.fn.extend({disableSelection:function(){return this.bind((t.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(t){t.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),t.extend(t.ui,{plugin:{add:function(e,n,i){var r,o=t.ui[e].prototype;for(r in i)o.plugins[r]=o.plugins[r]||[],o.plugins[r].push([n,i[r]])},call:function(t,e,n){var i,r=t.plugins[e];if(r&&t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType)for(i=0;i<r.length;i++)t.options[r[i][0]]&&r[i][1].apply(t.element,n)}},hasScroll:function(e,n){if("hidden"===t(e).css("overflow"))return!1;var i=n&&"left"===n?"scrollLeft":"scrollTop",r=!1;return e[i]>0?!0:(e[i]=1,r=e[i]>0,e[i]=0,r)}})}(jQuery),function(t,e){var n=0,i=Array.prototype.slice,r=t.cleanData;t.cleanData=function(e){for(var n,i=0;null!=(n=e[i]);i++)try{t(n).triggerHandler("remove")}catch(o){}r(e)},t.widget=function(e,n,i){var r,o,a,s,c={},u=e.split(".")[0];e=e.split(".")[1],r=u+"-"+e,i||(i=n,n=t.Widget),t.expr[":"][r.toLowerCase()]=function(e){return!!t.data(e,r)},t[u]=t[u]||{},o=t[u][e],a=t[u][e]=function(t,e){return this._createWidget?void(arguments.length&&this._createWidget(t,e)):new a(t,e)},t.extend(a,o,{version:i.version,_proto:t.extend({},i),_childConstructors:[]}),s=new n,s.options=t.widget.extend({},s.options),t.each(i,function(e,i){return t.isFunction(i)?void(c[e]=function(){var t=function(){return n.prototype[e].apply(this,arguments)},r=function(t){return n.prototype[e].apply(this,t)};return function(){var e,n=this._super,o=this._superApply;return this._super=t,this._superApply=r,e=i.apply(this,arguments),this._super=n,this._superApply=o,e}}()):void(c[e]=i)}),a.prototype=t.widget.extend(s,{widgetEventPrefix:o?s.widgetEventPrefix:e},c,{constructor:a,namespace:u,widgetName:e,widgetFullName:r}),o?(t.each(o._childConstructors,function(e,n){var i=n.prototype;t.widget(i.namespace+"."+i.widgetName,a,n._proto)}),delete o._childConstructors):n._childConstructors.push(a),t.widget.bridge(e,a)},t.widget.extend=function(n){for(var r,o,a=i.call(arguments,1),s=0,c=a.length;c>s;s++)for(r in a[s])o=a[s][r],a[s].hasOwnProperty(r)&&o!==e&&(n[r]=t.isPlainObject(o)?t.isPlainObject(n[r])?t.widget.extend({},n[r],o):t.widget.extend({},o):o);return n},t.widget.bridge=function(n,r){var o=r.prototype.widgetFullName||n;t.fn[n]=function(a){var s="string"==typeof a,c=i.call(arguments,1),u=this;return a=!s&&c.length?t.widget.extend.apply(null,[a].concat(c)):a,this.each(s?function(){var i,r=t.data(this,o);return r?t.isFunction(r[a])&&"_"!==a.charAt(0)?(i=r[a].apply(r,c),i!==r&&i!==e?(u=i&&i.jquery?u.pushStack(i.get()):i,!1):void 0):t.error("no such method '"+a+"' for "+n+" widget instance"):t.error("cannot call methods on "+n+" prior to initialization; attempted to call method '"+a+"'")}:function(){var e=t.data(this,o);e?e.option(a||{})._init():t.data(this,o,new r(a,this))}),u}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(e,i){i=t(i||this.defaultElement||this)[0],this.element=t(i),this.uuid=n++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this.bindings=t(),this.hoverable=t(),this.focusable=t(),i!==this&&(t.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===i&&this.destroy()}}),this.document=t(i.style?i.ownerDocument:i.document||i),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:t.noop,_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(t.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:t.noop,widget:function(){return this.element},option:function(n,i){var r,o,a,s=n;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof n)if(s={},r=n.split("."),n=r.shift(),r.length){for(o=s[n]=t.widget.extend({},this.options[n]),a=0;a<r.length-1;a++)o[r[a]]=o[r[a]]||{},o=o[r[a]];if(n=r.pop(),i===e)return o[n]===e?null:o[n];o[n]=i}else{if(i===e)return this.options[n]===e?null:this.options[n];s[n]=i}return this._setOptions(s),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return this.options[t]=e,"disabled"===t&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!e).attr("aria-disabled",e),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(e,n,i){var r,o=this;"boolean"!=typeof e&&(i=n,n=e,e=!1),i?(n=r=t(n),this.bindings=this.bindings.add(n)):(i=n,n=this.element,r=this.widget()),t.each(i,function(i,a){function s(){return e||o.options.disabled!==!0&&!t(this).hasClass("ui-state-disabled")?("string"==typeof a?o[a]:a).apply(o,arguments):void 0}"string"!=typeof a&&(s.guid=a.guid=a.guid||s.guid||t.guid++);var c=i.match(/^(\w+)\s*(.*)$/),u=c[1]+o.eventNamespace,l=c[2];l?r.delegate(l,u,s):n.bind(u,s)})},_off:function(t,e){e=(e||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(e).undelegate(e)},_delay:function(t,e){function n(){return("string"==typeof t?i[t]:t).apply(i,arguments)}var i=this;return setTimeout(n,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){t(e.currentTarget).addClass("ui-state-hover")},mouseleave:function(e){t(e.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){t(e.currentTarget).addClass("ui-state-focus")},focusout:function(e){t(e.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(e,n,i){var r,o,a=this.options[e];if(i=i||{},n=t.Event(n),n.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),n.target=this.element[0],o=n.originalEvent)for(r in o)r in n||(n[r]=o[r]);return this.element.trigger(n,i),!(t.isFunction(a)&&a.apply(this.element[0],[n].concat(i))===!1||n.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,n){t.Widget.prototype["_"+e]=function(i,r,o){"string"==typeof r&&(r={effect:r});var a,s=r?r===!0||"number"==typeof r?n:r.effect||n:e;r=r||{},"number"==typeof r&&(r={duration:r}),a=!t.isEmptyObject(r),r.complete=o,r.delay&&i.delay(r.delay),a&&t.effects&&t.effects.effect[s]?i[e](r):s!==e&&i[s]?i[s](r.duration,r.easing,o):i.queue(function(n){t(this)[e](),o&&o.call(i[0]),n()})}})}(jQuery),function(t){var e=!1;t(document).mouseup(function(){e=!1}),t.widget("ui.mouse",{version:"1.10.3",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.bind("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).bind("click."+this.widgetName,function(n){return!0===t.data(n.target,e.widgetName+".preventClickEvent")?(t.removeData(n.target,e.widgetName+".preventClickEvent"),n.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&t(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(n){if(!e){this._mouseStarted&&this._mouseUp(n),this._mouseDownEvent=n;var i=this,r=1===n.which,o="string"==typeof this.options.cancel&&n.target.nodeName?t(n.target).closest(this.options.cancel).length:!1;return r&&!o&&this._mouseCapture(n)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){i.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(n)&&this._mouseDelayMet(n)&&(this._mouseStarted=this._mouseStart(n)!==!1,!this._mouseStarted)?(n.preventDefault(),!0):(!0===t.data(n.target,this.widgetName+".preventClickEvent")&&t.removeData(n.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return i._mouseMove(t)},this._mouseUpDelegate=function(t){return i._mouseUp(t)},t(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),n.preventDefault(),e=!0,!0)):!0}},_mouseMove:function(e){return t.ui.ie&&(!document.documentMode||document.documentMode<9)&&!e.button?this._mouseUp(e):this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,e)!==!1,this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){return t(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&t.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),!1},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}(jQuery),function(t){function e(t,e,n){return t>e&&e+n>t}function n(t){return/left|right/.test(t.css("float"))||/inline|table-cell/.test(t.css("display"))}t.widget("ui.sortable",t.ui.mouse,{version:"1.10.3",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_create:function(){var t=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=this.items.length?"x"===t.axis||n(this.items[0].item):!1,this.offset=this.element.offset(),this._mouseInit(),this.ready=!0},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled"),this._mouseDestroy();for(var t=this.items.length-1;t>=0;t--)this.items[t].item.removeData(this.widgetName+"-item");return this},_setOption:function(e,n){"disabled"===e?(this.options[e]=n,this.widget().toggleClass("ui-sortable-disabled",!!n)):t.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(e,n){var i=null,r=!1,o=this;return this.reverting?!1:this.options.disabled||"static"===this.options.type?!1:(this._refreshItems(e),t(e.target).parents().each(function(){return t.data(this,o.widgetName+"-item")===o?(i=t(this),!1):void 0}),t.data(e.target,o.widgetName+"-item")===o&&(i=t(e.target)),i&&(!this.options.handle||n||(t(this.options.handle,i).find("*").addBack().each(function(){this===e.target&&(r=!0)}),r))?(this.currentItem=i,this._removeCurrentsFromItems(),!0):!1)},_mouseStart:function(e,n,i){var r,o,a=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,a.cursorAt&&this._adjustOffsetFromHelper(a.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),a.containment&&this._setContainment(),a.cursor&&"auto"!==a.cursor&&(o=this.document.find("body"),this.storedCursor=o.css("cursor"),o.css("cursor",a.cursor),this.storedStylesheet=t("<style>*{ cursor: "+a.cursor+" !important; }</style>").appendTo(o)),a.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",a.opacity)),a.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",a.zIndex)),this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!i)for(r=this.containers.length-1;r>=0;r--)this.containers[r]._trigger("activate",e,this._uiHash(this));
return t.ui.ddmanager&&(t.ui.ddmanager.current=this),t.ui.ddmanager&&!a.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(e),!0},_mouseDrag:function(e){var n,i,r,o,a=this.options,s=!1;for(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<a.scrollSensitivity?this.scrollParent[0].scrollTop=s=this.scrollParent[0].scrollTop+a.scrollSpeed:e.pageY-this.overflowOffset.top<a.scrollSensitivity&&(this.scrollParent[0].scrollTop=s=this.scrollParent[0].scrollTop-a.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<a.scrollSensitivity?this.scrollParent[0].scrollLeft=s=this.scrollParent[0].scrollLeft+a.scrollSpeed:e.pageX-this.overflowOffset.left<a.scrollSensitivity&&(this.scrollParent[0].scrollLeft=s=this.scrollParent[0].scrollLeft-a.scrollSpeed)):(e.pageY-t(document).scrollTop()<a.scrollSensitivity?s=t(document).scrollTop(t(document).scrollTop()-a.scrollSpeed):t(window).height()-(e.pageY-t(document).scrollTop())<a.scrollSensitivity&&(s=t(document).scrollTop(t(document).scrollTop()+a.scrollSpeed)),e.pageX-t(document).scrollLeft()<a.scrollSensitivity?s=t(document).scrollLeft(t(document).scrollLeft()-a.scrollSpeed):t(window).width()-(e.pageX-t(document).scrollLeft())<a.scrollSensitivity&&(s=t(document).scrollLeft(t(document).scrollLeft()+a.scrollSpeed))),s!==!1&&t.ui.ddmanager&&!a.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),n=this.items.length-1;n>=0;n--)if(i=this.items[n],r=i.item[0],o=this._intersectsWithPointer(i),o&&i.instance===this.currentContainer&&r!==this.currentItem[0]&&this.placeholder[1===o?"next":"prev"]()[0]!==r&&!t.contains(this.placeholder[0],r)&&("semi-dynamic"===this.options.type?!t.contains(this.element[0],r):!0)){if(this.direction=1===o?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(i))break;this._rearrange(e,i),this._trigger("change",e,this._uiHash());break}return this._contactContainers(e),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,n){if(e){if(t.ui.ddmanager&&!this.options.dropBehaviour&&t.ui.ddmanager.drop(this,e),this.options.revert){var i=this,r=this.placeholder.offset(),o=this.options.axis,a={};o&&"x"!==o||(a.left=r.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft)),o&&"y"!==o||(a.top=r.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,t(this.helper).animate(a,parseInt(this.options.revert,10)||500,function(){i._clear(e)})}else this._clear(e,n);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger("deactivate",null,this._uiHash(this)),this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",null,this._uiHash(this)),this.containers[e].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),t.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?t(this.domPosition.prev).after(this.currentItem):t(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var n=this._getItemsAsjQuery(e&&e.connected),i=[];return e=e||{},t(n).each(function(){var n=(t(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);n&&i.push((e.key||n[1]+"[]")+"="+(e.key&&e.expression?n[1]:n[2]))}),!i.length&&e.key&&i.push(e.key+"="),i.join("&")},toArray:function(e){var n=this._getItemsAsjQuery(e&&e.connected),i=[];return e=e||{},n.each(function(){i.push(t(e.item||this).attr(e.attribute||"id")||"")}),i},_intersectsWith:function(t){var e=this.positionAbs.left,n=e+this.helperProportions.width,i=this.positionAbs.top,r=i+this.helperProportions.height,o=t.left,a=o+t.width,s=t.top,c=s+t.height,u=this.offset.click.top,l=this.offset.click.left,h="x"===this.options.axis||i+u>s&&c>i+u,f="y"===this.options.axis||e+l>o&&a>e+l,d=h&&f;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?d:o<e+this.helperProportions.width/2&&n-this.helperProportions.width/2<a&&s<i+this.helperProportions.height/2&&r-this.helperProportions.height/2<c},_intersectsWithPointer:function(t){var n="x"===this.options.axis||e(this.positionAbs.top+this.offset.click.top,t.top,t.height),i="y"===this.options.axis||e(this.positionAbs.left+this.offset.click.left,t.left,t.width),r=n&&i,o=this._getDragVerticalDirection(),a=this._getDragHorizontalDirection();return r?this.floating?a&&"right"===a||"down"===o?2:1:o&&("down"===o?2:1):!1},_intersectsWithSides:function(t){var n=e(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),i=e(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),r=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();return this.floating&&o?"right"===o&&i||"left"===o&&!i:r&&("down"===r&&n||"up"===r&&!n)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!==t&&(t>0?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!==t&&(t>0?"right":"left")},refresh:function(t){return this._refreshItems(t),this.refreshPositions(),this},_connectWith:function(){var t=this.options;return t.connectWith.constructor===String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(e){var n,i,r,o,a=[],s=[],c=this._connectWith();if(c&&e)for(n=c.length-1;n>=0;n--)for(r=t(c[n]),i=r.length-1;i>=0;i--)o=t.data(r[i],this.widgetFullName),o&&o!==this&&!o.options.disabled&&s.push([t.isFunction(o.options.items)?o.options.items.call(o.element):t(o.options.items,o.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),o]);for(s.push([t.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):t(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),n=s.length-1;n>=0;n--)s[n][0].each(function(){a.push(this)});return t(a)},_removeCurrentsFromItems:function(){var e=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=t.grep(this.items,function(t){for(var n=0;n<e.length;n++)if(e[n]===t.item[0])return!1;return!0})},_refreshItems:function(e){this.items=[],this.containers=[this];var n,i,r,o,a,s,c,u,l=this.items,h=[[t.isFunction(this.options.items)?this.options.items.call(this.element[0],e,{item:this.currentItem}):t(this.options.items,this.element),this]],f=this._connectWith();if(f&&this.ready)for(n=f.length-1;n>=0;n--)for(r=t(f[n]),i=r.length-1;i>=0;i--)o=t.data(r[i],this.widgetFullName),o&&o!==this&&!o.options.disabled&&(h.push([t.isFunction(o.options.items)?o.options.items.call(o.element[0],e,{item:this.currentItem}):t(o.options.items,o.element),o]),this.containers.push(o));for(n=h.length-1;n>=0;n--)for(a=h[n][1],s=h[n][0],i=0,u=s.length;u>i;i++)c=t(s[i]),c.data(this.widgetName+"-item",a),l.push({item:c,instance:a,width:0,height:0,left:0,top:0})},refreshPositions:function(e){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var n,i,r,o;for(n=this.items.length-1;n>=0;n--)i=this.items[n],i.instance!==this.currentContainer&&this.currentContainer&&i.item[0]!==this.currentItem[0]||(r=this.options.toleranceElement?t(this.options.toleranceElement,i.item):i.item,e||(i.width=r.outerWidth(),i.height=r.outerHeight()),o=r.offset(),i.left=o.left,i.top=o.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(n=this.containers.length-1;n>=0;n--)o=this.containers[n].element.offset(),this.containers[n].containerCache.left=o.left,this.containers[n].containerCache.top=o.top,this.containers[n].containerCache.width=this.containers[n].element.outerWidth(),this.containers[n].containerCache.height=this.containers[n].element.outerHeight();return this},_createPlaceholder:function(e){e=e||this;var n,i=e.options;i.placeholder&&i.placeholder.constructor!==String||(n=i.placeholder,i.placeholder={element:function(){var i=e.currentItem[0].nodeName.toLowerCase(),r=t("<"+i+">",e.document[0]).addClass(n||e.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tr"===i?e.currentItem.children().each(function(){t("<td>&#160;</td>",e.document[0]).attr("colspan",t(this).attr("colspan")||1).appendTo(r)}):"img"===i&&r.attr("src",e.currentItem.attr("src")),n||r.css("visibility","hidden"),r},update:function(t,r){(!n||i.forcePlaceholderSize)&&(r.height()||r.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10)),r.width()||r.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10)))}}),e.placeholder=t(i.placeholder.element.call(e.element,e.currentItem)),e.currentItem.after(e.placeholder),i.placeholder.update(e,e.placeholder)},_contactContainers:function(i){var r,o,a,s,c,u,l,h,f,d,p=null,g=null;for(r=this.containers.length-1;r>=0;r--)if(!t.contains(this.currentItem[0],this.containers[r].element[0]))if(this._intersectsWith(this.containers[r].containerCache)){if(p&&t.contains(this.containers[r].element[0],p.element[0]))continue;p=this.containers[r],g=r}else this.containers[r].containerCache.over&&(this.containers[r]._trigger("out",i,this._uiHash(this)),this.containers[r].containerCache.over=0);if(p)if(1===this.containers.length)this.containers[g].containerCache.over||(this.containers[g]._trigger("over",i,this._uiHash(this)),this.containers[g].containerCache.over=1);else{for(a=1e4,s=null,d=p.floating||n(this.currentItem),c=d?"left":"top",u=d?"width":"height",l=this.positionAbs[c]+this.offset.click[c],o=this.items.length-1;o>=0;o--)t.contains(this.containers[g].element[0],this.items[o].item[0])&&this.items[o].item[0]!==this.currentItem[0]&&(!d||e(this.positionAbs.top+this.offset.click.top,this.items[o].top,this.items[o].height))&&(h=this.items[o].item.offset()[c],f=!1,Math.abs(h-l)>Math.abs(h+this.items[o][u]-l)&&(f=!0,h+=this.items[o][u]),Math.abs(h-l)<a&&(a=Math.abs(h-l),s=this.items[o],this.direction=f?"up":"down"));if(!s&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[g])return;s?this._rearrange(i,s,null,!0):this._rearrange(i,null,this.containers[g].element,!0),this._trigger("change",i,this._uiHash()),this.containers[g]._trigger("change",i,this._uiHash(this)),this.currentContainer=this.containers[g],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[g]._trigger("over",i,this._uiHash(this)),this.containers[g].containerCache.over=1}},_createHelper:function(e){var n=this.options,i=t.isFunction(n.helper)?t(n.helper.apply(this.element[0],[e,this.currentItem])):"clone"===n.helper?this.currentItem.clone():this.currentItem;return i.parents("body").length||t("parent"!==n.appendTo?n.appendTo:this.currentItem[0].parentNode)[0].appendChild(i[0]),i[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!i[0].style.width||n.forceHelperSize)&&i.width(this.currentItem.width()),(!i[0].style.height||n.forceHelperSize)&&i.height(this.currentItem.height()),i},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,n,i,r=this.options;"parent"===r.containment&&(r.containment=this.helper[0].parentNode),("document"===r.containment||"window"===r.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,t("document"===r.containment?document:window).width()-this.helperProportions.width-this.margins.left,(t("document"===r.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(r.containment)||(e=t(r.containment)[0],n=t(r.containment).offset(),i="hidden"!==t(e).css("overflow"),this.containment=[n.left+(parseInt(t(e).css("borderLeftWidth"),10)||0)+(parseInt(t(e).css("paddingLeft"),10)||0)-this.margins.left,n.top+(parseInt(t(e).css("borderTopWidth"),10)||0)+(parseInt(t(e).css("paddingTop"),10)||0)-this.margins.top,n.left+(i?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(t(e).css("borderLeftWidth"),10)||0)-(parseInt(t(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,n.top+(i?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(t(e).css("borderTopWidth"),10)||0)-(parseInt(t(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(e,n){n||(n=this.position);var i="absolute"===e?1:-1,r="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(r[0].tagName);return{top:n.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():o?0:r.scrollTop())*i,left:n.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():o?0:r.scrollLeft())*i}},_generatePosition:function(e){var n,i,r=this.options,o=e.pageX,a=e.pageY,s="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,c=/(html|body)/i.test(s[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(o=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(a=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(o=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(a=this.containment[3]+this.offset.click.top)),r.grid&&(n=this.originalPageY+Math.round((a-this.originalPageY)/r.grid[1])*r.grid[1],a=this.containment?n-this.offset.click.top>=this.containment[1]&&n-this.offset.click.top<=this.containment[3]?n:n-this.offset.click.top>=this.containment[1]?n-r.grid[1]:n+r.grid[1]:n,i=this.originalPageX+Math.round((o-this.originalPageX)/r.grid[0])*r.grid[0],o=this.containment?i-this.offset.click.left>=this.containment[0]&&i-this.offset.click.left<=this.containment[2]?i:i-this.offset.click.left>=this.containment[0]?i-r.grid[0]:i+r.grid[0]:i)),{top:a-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():c?0:s.scrollTop()),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():c?0:s.scrollLeft())}},_rearrange:function(t,e,n,i){n?n[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var r=this.counter;this._delay(function(){r===this.counter&&this.refreshPositions(!i)})},_clear:function(t,e){this.reverting=!1;var n,i=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(n in this._storedCSS)("auto"===this._storedCSS[n]||"static"===this._storedCSS[n])&&(this._storedCSS[n]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!e&&i.push(function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||e||i.push(function(t){this._trigger("update",t,this._uiHash())}),this!==this.currentContainer&&(e||(i.push(function(t){this._trigger("remove",t,this._uiHash())}),i.push(function(t){return function(e){t._trigger("receive",e,this._uiHash(this))}}.call(this,this.currentContainer)),i.push(function(t){return function(e){t._trigger("update",e,this._uiHash(this))}}.call(this,this.currentContainer)))),n=this.containers.length-1;n>=0;n--)e||i.push(function(t){return function(e){t._trigger("deactivate",e,this._uiHash(this))}}.call(this,this.containers[n])),this.containers[n].containerCache.over&&(i.push(function(t){return function(e){t._trigger("out",e,this._uiHash(this))}}.call(this,this.containers[n])),this.containers[n].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!e){for(this._trigger("beforeStop",t,this._uiHash()),n=0;n<i.length;n++)i[n].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!1}if(e||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null,!e){for(n=0;n<i.length;n++)i[n].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){t.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(e){var n=e||this;return{helper:n.helper,placeholder:n.placeholder||t([]),position:n.position,originalPosition:n.originalPosition,offset:n.positionAbs,item:n.currentItem,sender:e?e.element:null}}})}(jQuery),define("jquery-ui-sortable",function(){}),define("component/fundamentals-board",["require","jquery","microtemplates","component/finfo-api-client","component/price-api-client","component/util","component/company-resource","component/industry-resource","component/overlay","component/alert","component/tooltip","legacy/PubSub","component/i18n","jquery-ui-sortable"],function(t){var e=t("jquery"),n=t("microtemplates"),i=t("component/finfo-api-client"),r=t("component/price-api-client"),o=t("component/util"),a=t("component/company-resource"),s=t("component/industry-resource"),c=t("component/overlay"),u=t("component/alert"),l=t("component/tooltip"),h=t("legacy/PubSub"),f=t("component/i18n");t("jquery-ui-sortable");var d,p,g,m,v,y,b,w=!1,k=[],x=[],C={field:null,direction:null},S=!1,T=[],_=(o.prefixEvent("animationend","animation"),["accumulatedVol","accumulatedVal","basicPrice","matchPrice","changePercentage","changeVolume"]),E={eps:"53007",roe:"52002",pe:"51009",averageVol:"51016",pb:"51012"},A=function(t){t.changePercentage=t.matchPrice>0?(t.matchPrice-t.basicPrice)/t.basicPrice:0,t.floor=o.getFloorCodeName(t.floorCode),t.changeVolume=t.averageVol>0?10*t.accumulatedVol/t.averageVol:0},D=function(t){var n=e.extend({},t);return n.accumulatedVol=o.formatNumberToTenths(10*t.accumulatedVol),n.accumulatedVal=o.formatNumber(1e3*t.accumulatedVal,0,!0),n.basicPrice=o.formatNumber(t.basicPrice,2,!0),n.matchPrice=o.formatNumber(t.matchPrice,2,!0),n.changePercentage=o.formatPercentage(t.changePercentage,1,!0),n.changeVolume=o.formatPercentage(t.changeVolume,1,!0),n.eps=o.formatNumber(t.eps>=0?t.eps:0,0,!0),n.pe=o.formatNumber(t.pe>=0?t.pe:0,1,!0),n.roe=o.formatPercentage(t.roe,2,!0),n.pb=o.formatNumber(t.pb>=0?t.pb:0,1,!0),n},I=function(){v.find("tbody").html("");var t=e.extend([],k);!C.field||"asc"!==C.direction&&"desc"!==C.direction||P(t);for(var n in t){var i=D(t[n]),r={matchPrice:U(i,"matchPrice"),basicPrice:U(i,"basicPrice")},o=d({stock:i,colors:r,isCustomized:w});v.find("tbody").append(o)}w&&v.find("tbody").sortable(),c.setState(""),S=!1,h.publish("rendered"),setTimeout(function(){T.forEach(function(t){t.apply(null)}),T=[]},500),N();var a=v.find("[data-tooltip]");m=new l(a,{classes:"tooltip-row",escape:!1}),e(".fundamentals-board").localize()},O=function(){e(".fundamentals-board, .fundamentals-board-clone").find("[data-sort-by]").on("click.sort",function(){S=!0,j(e(this).data("sort-by")),F(),I()})},N=function(){v.find("tr").on("click",function(){M(e(this))})},M=function(t){b&&b.removeClass("selected"),b=t.addClass("selected")},P=function(t){t.sort(function(t,e){var n,i=C.field,r=Number(t[i]),o=Number(e[i]);switch(C.direction){case"asc":n=1;break;case"desc":n=-1;break;default:n=0}var a;if(isNaN(r)||isNaN(o)){var s=B(t[i]),c=B(e[i]);a=s.localeCompare(c)}else a=r-o;return a*n})},j=function(t){C.field!==t?(C.field=t,C.direction="desc"):C.direction="desc"===C.direction?"asc":"asc"===C.direction?"default":"desc"},F=function(){var t=v.add(y).find("[data-sort-by]").removeClass("headerSortUp headerSortDown");"desc"===C.direction?t.filter("[data-sort-by="+C.field+"]").addClass("headerSortUp"):"asc"===C.direction&&t.filter("[data-sort-by="+C.field+"]").addClass("headerSortDown")},R=function(t){p.registConsumer({type:"STOCK",codes:t})},L=function(){p.on("STOCK",function(t){if(k instanceof Array&&v){var n=t.message,i={matchPrice:U(n,"matchPrice"),basicPrice:U(n,"basicPrice")},r=k.filter(function(t){return t.code===n.code})[0];if(r){n=e.extend({},r,n),A(n);var o=v.find("tr[data-symbol="+n.code+"]");_.forEach(function(t){if(n.hasOwnProperty(t)){r&&(r[t]=n[t]);var e=D(n),a=o.find("[data-field="+t+"]"),s=a.text().trim();s!==e[t].toString().trim()&&a.text(e[t]).closest("td").children("span").addClass("flash-background");var c=o.find("[data-color="+t+"]");c.removeClass(function(t,e){return(e.match(/\btxt-\S+/g)||[]).join(" ")}).addClass(i[t])}})}}})},H=function(t){p.stopConsume({type:"STOCK",codes:t})},B=function(t){return"undefined"==typeof t||null===t?"":t.toString()},U=function(t,e){return t.hasOwnProperty(e)?0==t[e]?"txt-yellow":o.getChangeClass(t[e],t.basicPrice,t.ceilingPrice,t.floorPrice):""};return{init:function(){d=n(e("#fundamentals-board-row").text()),O(),new l(e(".fundamentals-board-clone [data-tooltip]"),{classes:"tooltip-header",escape:!1}),g=(new u).setClass("info").setContent(e("#legend-fundamentals-tmpl").text()),g.onclose(function(){localStorage.setItem("isLegendFundamentalsShown",!0)})},"switch":function(t,n){v=n,w=t.isCustomized||!1,y=e(".fundamentals-board-clone[data-floor="+v.data("floor")+"]"),b=null;var o;t.floorCodes instanceof Array?o=r.getSecInfoByFloorCodes(t.floorCodes):t.symbols instanceof Array&&(o=r.getSecInfoBySymbols(t.symbols)),k=[],S=!0;var u=x;return o.then(function(t){return x=t.map(function(t){return t.code}),k=e.extend([],t),a.getCompanies()}).then(function(t){return k.forEach(function(e){var n=t.filter(function(t){return t.symbol===e.code})[0],i=f.getCurrentLanguage();n&&(e.companyName="en"===i?n.companyNameEng:n.companyName)}),s.getIndustries()}).then(function(t){return k.forEach(function(e){var n,i=t.filter(function(t){return t.codeList.match(new RegExp("\\b"+e.code+"\\b"))})[0],r=f.getCurrentLanguage();"en"===r?n="industryNameEn":"vi"===r&&(n="industryName"),i&&(e.industryName=i[n])}),i.getIndicators({symbols:x,codes:Object.keys(E).map(function(t){return E[t]})})}).then(function(t){var e=t.data;k.forEach(function(t){var n=e.filter(function(e){return e.symbol===t.code})[0];n&&Object.keys(E).forEach(function(e){var i=n.items[E[e]];i&&(t[e]=i.value)})})}).then(function(){k.forEach(A),F(),I(),H(u),R(x),"vi"!==localStorage.language||localStorage.getItem("isLegendFundamentalsShown")||g.open()},function(){console.error(arguments),c.setState("failed").setContent("Không thể kết nối, xin vui lòng kiểm tra lại đường truyền và thử lại.<br/>Nếu bạn vẫn gặp vấn đề, xin vui lòng gọi cho chúng tôi theo số 1900-54-54-09 để được hỗ trợ."),H(u)})},lookup:function(t){var n=function(){var n=v.find("tr"),i=n.filter("[data-symbol="+t+"]"),r=v.find("thead").outerHeight(!0);i.length>0&&(e(window).scrollTop(i.index()/n.length*(v.outerHeight(!0)-r)),setTimeout(function(){e(window).scrollTop(i.offset().top-(v.offset().top-parseFloat(v.css("marginTop")))-r),M(i)},100))};return S?T.push(n):n(),this},setSocketManager:function(t){return p=t,L(),this},cleanUp:function(){return H(x),m instanceof l&&(m.destroy(),m=null),v&&v.find("tbody").html(""),v=null,y=null,k=[],x=[],this},help:function(){g.open()}}}),define("legacy/StockCategozyManager",["require","jquery","lodash.core","js-cookie","legacy/StockInfoCmp","component/industry-resource","component/fundamentals-board","component/config","component/i18n"],function(t){var e=t("jquery"),n=t("lodash.core"),i=t("js-cookie"),r=t("legacy/StockInfoCmp"),o=t("component/industry-resource"),a=t("component/fundamentals-board"),s=t("component/config").priceTabs,c=t("component/i18n"),u=function(t,n,i){this.crrIndex=-1,this.preIndex=-1,this.isAltView=!1,this.loadFromCookie(),this.el=t,this.wrp=n,this.stockInfoWrp=i,this.stockInfoComponent=new r,this.stockInfoComponent.setWrp(e("#mcsTable tbody")),this.stockInfoComponent.name="StockCate",this.forceHidden=!1,this.listenEvent(),this.getDataFromServer()},l={path:"/",domain:location.hostname.indexOf("vndirect.com.vn")>=0?".vndirect.com.vn":"",secure:"https:"===location.protocol};return u.prototype={getDataFromServer:function(){var t,i=this,r=c.getCurrentLanguage();o.getIndustries().then(function(o){var a=n.chain(o).sortBy(t).filter(function(e){return"en"===r?(t="industryNameEn",e.id===(n.find(o,{industryNameEn:e.industryNameEn})||{}).id):"vi"===r?(t="industryName",e.id===(n.find(o,{industryName:e.industryName})||{}).id):void 0}).map(function(e){return{index:e.id,cateName:e[t],stockCodes:n.sortBy(e.codeList.split(/\s*,\s*/))}}).value();i.addCates(a),e("#cate"+i.crrIndex).addClass("selected"),System.tabManager.crrTab==s.categoryByIndustry?i.showTraditionalView():System.tabManager.crrTab==s.categoryByIndustryFundamentals&&i.showAlternateView()})},addCates:function(t){this.cates=t,this.renderCates(t)},renderCates:function(t){var e="";for(var n in t)e+=this.getCateHtml(t[n],n);this.wrp.html(e),this.listenItemClick(t)},getCateHtml:function(t,e){var n="";return n+='<li id="cate'+e+'">',n+="<a>"+t.cateName+"</a>",n+="</li>"},listenItemClick:function(t){for(var n in t)e("#cate"+n).on("click touchstart",function(t){this.openList(t)}.bind(this,n))},openList:function(t){this.crrIndex!==t&&(this.preIndex=this.crrIndex,this.crrIndex=t,e("#cate"+this.preIndex).removeClass("selected"),e("#cate"+this.crrIndex).addClass("selected"),this.isAltView?(window.location.hash="#co-ban/co-phieu-nganh",this.showAlternateView()):(window.location.hash="#khop-lenh/co-phieu-nganh",this.showTraditionalView()),i.set("stockcate_crrIndex",t,l))},loadFromCookie:function(){var t=getCookie("stockcate_crrIndex");this.crrIndex=isNaN(t)?0:t},removeOldStocks:function(){this.stockInfoWrp.html("")},renderNewStocks:function(){this.stockInfoComponent.setStockCodes(this.cates[this.crrIndex].stockCodes)},updateStock:function(t){if(-1!==this.crrIndex){var e=this.cates[this.crrIndex].stockCodes;-1!=e.indexOf(t.code)&&this.stockInfoComponent.updateStock(t)}},add:function(t){this.stockInfoComponent.push(System.stockInfoComponent.getStockInfo(t),this.stockInfoWrp)},remove:function(t){this.stockInfoComponent.remove(t)},listenEvent:function(){System.tabManager.on("changeTab",function(t){if(this.cates){var e=t.message.newTab;e==s.categoryByIndustry&&this.showTraditionalView(),e==s.categoryByIndustryFundamentals&&this.showAlternateView()}}.bind(this)),System.tabManager.on("beforeChangeTab",function(t){var e=t.message.newTab;e!=s.categoryByIndustry&&this.stockInfoComponent.deActive()}.bind(this))},showTraditionalView:function(){this.stockInfoComponent.active(),this.removeOldStocks(),this.renderNewStocks()},showAlternateView:function(){a["switch"]({symbols:this.cates[this.crrIndex].stockCodes},e(".fundamentals-board[data-floor=industries]"))},predictATO:function(t){this.stockInfoComponent.predictATO(t)},predictATC:function(t){this.stockInfoComponent.predictATC(t)},clearATCPrice:function(t){this.stockInfoComponent.clearATCPrice(t)},clearATOPrice:function(){this.stockInfoComponent.clearATOPrice(floorCode)}},u}),define("legacy/StockAutoComplete",["component/company-resource","component/i18n"],function(t,e){function n(e,n){this.el=e,this.addBtn=n,this.stocks=[],this.handleBodyKeydown(),this.isSet=!1,t.getCompanies().then(function(t){this.setSource(t)}.bind(this))}return n.prototype={setSource:function(t){var n=this;if(!this.isSet){for(var i in t)this.stocks.push({value:t[i].symbol,label:t[i].symbol+" - "+t[i].company});this.isSet=!0;var r=e.getCurrentLanguage(),o=t.map(function(t){var e="en"===r?t.companyNameEng:t.company,n="<strong>"+t.symbol+"</strong> - "+e+' -  <span class="floor">'+t.floor+"</span>";return{value:t.symbol,description:n}});this.el.suggestion({source:o,maxItems:10}),this.el.on("change",function(){var t=$.trim(n.el.val());n.crrStock=n.emit("select",t),setTimeout(function(){n.el.val("")}.bind(this),100)}),this.el.keyup(function(t){if(13==t.keyCode){var e=$.trim(this.el.val().toUpperCase());this.crrStock=this.emit("select",e),this.el.val(""),this.el.blur(),$("#ui-id-1").hide()}}.bind(this)),this.addBtn.click(function(){var t=$.trim(this.el.val().toUpperCase());this.crrStock=this.emit("select",t),this.el.val(""),this.el.blur(),$("#ui-id-1").hide()}.bind(this))}},emit:function(t,e){$(this).trigger({type:t,message:e,time:new Date})
},handleBodyKeydown:function(){$("body").keydown(function(){}.bind(this))},on:function(t,e){$(this).bind(t,e)}},n}),define("component/profile-api-client",["require","component/config","jquery"],function(t){"use strict";function e(t){return n.url.profile+t}var n=t("component/config"),i=t("jquery");return{watchlist:{setActive:function(t,n){var r=e("/"+t+"/lists/"+n+"/_setActive");return i.ajax({url:r,type:"post",contentType:"application/json"})},"delete":function(t,n){var r=e("/"+t+"/lists/"+n);return i.ajax({url:r,type:"delete"})},addSymbol:function(t,n,r){var o=e("/"+t+"/lists/"+n+"/symbols");return i.ajax({url:o,type:"post",contentType:"application/json",data:JSON.stringify({symbol:r})})},removeSymbol:function(t,n,r){var o=e("/"+t+"/lists/"+n+"/symbols/"+r);return i.ajax({url:o,type:"delete"})},reorderSymbol:function(t,n,r,o,a){var s=e("/"+t+"/lists/"+n+"/symbols/"+r+"/_reorder");return i.ajax({url:s,type:"post",contentType:"application/json",data:JSON.stringify({toBeforeSymbol:a,toAfterSymbol:o})})},create:function(t,n,r){var o=e("/"+t+"/lists"),a={name:n,symbols:r};return i.ajax({url:o,type:"post",data:JSON.stringify(a),contentType:"application/json"})},changeName:function(t,n,r){var o=e("/"+t+"/lists/"+n+"/_rename"),a={name:r};return i.ajax({url:o,type:"post",data:JSON.stringify(a),contentType:"application/json"})},follow:function(t,n){var r=e("/"+t+"/_follow"),o={listId:n};return i.ajax({url:r,type:"post",data:JSON.stringify(o),contentType:"application/json"})}}}}),define("legacy/UserCategoryModel",["require","jquery","legacy/PubSub","firebase","component/profile-api-client","component/track","component/i18n"],function(t){function e(t){var e=this,n=t.val()||{},i=s.map(n,r);s.each(i,function(t,n){n.on("onModelChange",function(t){if("displayValue"===t.message.name){var n=t.message.cateId,i="vnds-"+e.customerId,r=t.message.value;l.watchlist.changeName(i,n,r).fail(function(t){console.error(JSON.stringify(t)),alert(f.t("nav:tabs.watchlist.rename_list_error"))})}})}),e.purgeLocalCategories(),e.setCategories(i),e.emit("onUpdateCategories"),e.emit("onChangeCrrCate",e.getCrrCate()),e.retrieveCrrCate()}function n(t,e){s.each(e,function(e,n){if("customerPortfolio"!==n.type){var r=i(n);l.watchlist.create("vnds-"+t,r.name,r.symbols)}})}function i(t){return{id:t.id,name:t.displayValue,symbols:s.map(t.codes,function(t){return{symbol:t}})}}function r(t,e){return new SingleCategoryModel({id:e,displayValue:t.name,codes:s.map(t.symbols||[],function(t){return t.symbol}),isSelected:e===localStorage.getItem("activeAuthWatchlist"),creator:t.creator})}function o(t){return new SingleCategoryModel(t)}var a,s=t("jquery"),c=t("legacy/PubSub"),u=t("firebase"),l=t("component/profile-api-client"),h=t("component/track"),f=t("component/i18n"),d=function(){var t=this,i=u.database();this.cates={},this.crrCateId=this.getDefaultCate().id,this.createAddCateBoxModel(),this.loadLocalCategories(),c.subscribe("login",function(r){if("string"!=typeof r.customerId)try{var o=(new Date).getTime(),s="LOGIN_DATA_INVALID";i.ref("/watchlist/crashes").push({timestamp:o,type:s,data:JSON.stringify(r),cookie:document.cookie})}finally{return}t.customerId=r.customerId,a=i.ref("/watchlist/listsByUid/vnds-"+r.customerId);var c=i.ref("/watchlist/migratedUsers/vnds-"+r.customerId);c.once("value",function(e){e.exists()||n(t.customerId,t.cates)}),a.on("value",e.bind(t))}),c.subscribe("logout",function(){t.customerId=null,t.cates={},a.off("value"),a=null,t.loadLocalCategories(),t.setCrrCate(t.getFirstCate()),t.emit("onUpdateCategories")})};return d.prototype={catesLocalStorages:"allPortfolios",defaultCateNumber:2,createAddCateBoxModel:function(){var t=this;t.addCateBoxModel=new AddCateBoxModel,t.addCateBoxModel.on("onModelChange",function(e){"displayAddedCate"==e.message.name&&t.addCategory(e.message.value).then(function(e){t.setCrrCate(e)},function(t){console.error(t)})})},saveCate:function(){var t=this,e=s.extend(!0,{},t.cates);s.each(e,function(t,n){"customerPortfolio"===n.type&&delete e[t]});var n={};for(var i in e)n[i]="function"==typeof e[i].toObject?e[i].toObject():e[i];this.customerId||localStorage.setItem(t.catesLocalStorages,JSON.stringify(n))},loadLocalCategories:function(){var t,e=this;(!e.cates||s.isEmptyObject(e.cates))&&(t=JSON.parse(localStorage.getItem(e.catesLocalStorages))),("undefined"==typeof t||s.isEmptyObject(t))&&(t=e.generateDefaultCategories());var n=localStorage.getItem("language");if("en"===n)for(var i in t){var r=t[i].displayValue;("Danh mục 1"===r||"Danh mục 2"===r)&&(t[i].displayValue=r.replace("Danh mục","Watchlist"))}else for(var i in t){var r=t[i].displayValue;("Watchlist 1"===r||"Watchlist 2"===r)&&(t[i].displayValue=r.replace("Watchlist","Danh mục"))}return e.setCategories(s.map(t,o)),e.saveCate(),e.cates},generateDefaultCategories:function(){for(var t=[],e=1;e<=this.defaultCateNumber;e++){var n=new SingleCategoryModel;n.set("id",this.generateCategoryId(e));var i=localStorage.getItem("language"),r="en"===i?"Watchlist":"Danh mục";if(n.set("displayValue",r+" "+e),1===e){var o=["BVH","CII","CSM","CTG","DPM","EIB","FLC","FPT","GMD","HAG","HCM","HHS","HPG","HSG","HVG","ITA","KBC","KDC","MBB","MSN","PPC","PVD","PVT","REE","SSI","STB","VCB","VIC","VNM","VSH"],a=o.concat("VND").sort(function(t,e){return t.localeCompare(e)});n.set("codes",a)}else n.set("codes",[]);t.push(n)}return t},setCategories:function(t){var e=this;s.each(t,function(t,n){e.cates[n.id]=n,e.listenCateEvents(n),Array.isArray(n.codes)||(n.codes=[])})},purgeLocalCategories:function(){for(var t in this.cates)"customerPortfolio"!==this.cates[t].type&&delete this.cates[t]},getCrrCate:function(){return this.cates[this.crrCateId]||this.getFirstCate()},getCates:function(){return this.cates},generateCategoryId:function(t){var e=new Date,n="DM"+e.getTime()+t+Math.random();return n=n.replace(".","")},addCategory:function(t,e){if(!t||0==t.length)throw new Error("Empty category name");var n=this;if(n.customerId)return this.createWatchlist(t,e).then(function(t){return n.setCrrCate(t),t});var i=n.createLocalCategory(t,null,e);n.cates[i.id]=i,this.emit("onAddCategory",i),n.saveCate();var r=new s.Deferred;return r.resolve(i),r},addCustomerPortfolio:function(t){if(!this.cates[t.accountNumber]){var e=this.createLocalCategory(f.t("trade:accounts.account")+" "+t.accountNumber,t.accountNumber);s.each(t.stocks,function(t,n){e.addCode(n.symbol)}),e.type="customerPortfolio",this.cates[e.id]=e,this.emit("onAddCategory",e)}},removeCategory:function(t){delete this.cates[t],this.customerId&&l.watchlist["delete"]("vnds-"+this.customerId,t);var e=this.getFirstCate();this.setCrrCate(e),this.emit("onDeleteCategory",t),this.saveCate()},removeCustomerPortfolio:function(){s.each(this.cates,function(t,e){"customerPortfolio"===e.type&&e.remove()})},createWatchlist:function(t,e){var n=this,i=s.map(e||[],function(t){return{symbol:t}});return l.watchlist.create("vnds-"+this.customerId,t,i).then(function(t){var e=r(t,t.id);return n.listenCateEvents(e),e})},createLocalCategory:function(t,e,n){var i=this,r=new SingleCategoryModel,o=e?e:i.generateCategoryId(0);return r.set("id",o),r.set("displayValue",t),r.set("codes",n||[]),i.listenCateEvents(r),r},listenCateEvents:function(t){var e=this;t.on("onModelChange",function(n){switch(n.message.name){case"isSelected":if(n.message.value)return void e.setCrrCate(t);break;case"isDeleted":e.removeCategory(t.id);break;case"addCode":if(n.message.cateId!==e.crrCateId)return;e.emit("onChangeCrrCate",e.getCrrCate()),e.customerId&&l.watchlist.addSymbol("vnds-"+e.customerId,n.message.cateId,n.message.value),h.eventMixpanel("List of stock","Add",{Symbol:n.message.value}),h.event("userCategory","addCode",n.message.cateId,n.message.value);break;case"removeCode":if(n.message.cateId!==e.crrCateId)return;e.emit("onChangeCrrCate",e.getCrrCate()),e.customerId&&l.watchlist.removeSymbol("vnds-"+e.customerId,n.message.cateId,n.message.value),h.eventMixpanel("List of stock","Remove",{Symbol:n.message.value}),h.event("userCategory","removeCode",n.message.cateId,n.message.value);break;case"selectedCode":var i=n.message.value;e.emit("onChangeSelectedCode",i)}e.saveCate()})},setCrrCate:function(t){if(this.crrCateId!==t.id){var e=this.getCrrCate();e&&e.set&&e.blur(),this.crrCateId=t.id,t.selected(),this.saveCrrCate(),this.emit("onChangeCrrCate",this.getCrrCate())}},setCrrCateById:function(t){var e=this.cates[t];e&&this.setCrrCate(e)},getDefaultCate:function(){var t=new SingleCategoryModel;return t.set("id",null),t.set("displayValue",""),t.set("codes",[]),t},getFirstCate:function(){var t=Object.keys(this.cates);if(t.length>0){var e=t[0];return this.cates[e]}return this.getDefaultCate()},retrieveCrrCate:function(){var t=localStorage.getItem(this.customerId?"activeAuthWatchlist":"activeAnonymousWatchlist");this.cates[t]||(t=Object.keys(this.cates)[0]),this.setCrrCate(this.cates[t])},saveCrrCate:function(){localStorage.setItem(this.customerId?"activeAuthWatchlist":"activeAnonymousWatchlist",this.crrCateId)},emit:function(t,e){s(this).trigger({type:t,message:e,time:new Date})},on:function(t,e){return s(this).bind(t,e)},one:function(t,e){return s(this).one(t,e)}},d}),define("component/notification",["require","sockjs","stomp-websocket","jquery","component/config"],function(t){var e,n=t("sockjs"),i=t("stomp-websocket"),r=t("jquery"),o=t("component/config").url.noti,a=o+"/noti",s=o+"/notification/orderstatus",c=o+"/getCounting",u=o+"/resetCounting",l="/app/subcribeNotification",h={sent:"/topic/sentOrder/{customerId}",executed:"/topic/executedOrder/{customerId}",canceled:"/topic/canceledOrder/{customerId}",replaced:"/topic/replacedOrder/{customerId}",expired:"/topic/expiredOrder/{customerId}"},f="/topic/counting/{customerId}",d={};return{connect:function(t,r,o){o||(o={debug:!1}),e=i.over(new n(a)),o.debug||(e.debug=null),e.connect({},t,r)},disconnect:function(t){for(var n in d)d[n].unsubscribe(),delete d[n];e&&e.disconnect(t)},subscribe:function(t,n,i){if("undefined"==typeof e)throw"No websocket connection for notifications has been made yet!";e.send(l,{},JSON.stringify({customerId:t,accountNumbers:n}));for(var r in h){var o=h[r].replace("{customerId}",t);!function(t,n){d[t]=e.subscribe(t,function(t){var e="order/"+n;i.hasOwnProperty(e)&&i[e].apply(null,[JSON.parse(t.body)])})}(o,r)}var a=f.replace("{customerId}",t);d[a]=e.subscribe(a,function(t){i.hasOwnProperty("counter")&&i.counter(t.body)})},unsubscribe:function(t){for(var e in d)e.match(new RegExp("\\b"+t+"\\b"))&&(d[e].unsubscribe(),delete d[e])},fetch:function(t,e,n){return r.ajax({url:s,data:{accounts:t,from:e,size:n},dataType:"jsonp"})},fetchCounter:function(t){return r.ajax({url:c,data:{customerId:t},dataType:"jsonp"})},resetCounter:function(t){return r.ajax({url:u,data:{customerId:t},dataType:"jsonp"})}}}),define("component/trade-status-parser",["require","component/i18n"],function(t){"use strict";var e=t("component/i18n"),n=[{status:"Pending",shortDesc:"Chờ",longDesc:"Đã ghi nhận",iconClass:"fa-clock-o",statusClass:""},{status:"PendingNew",shortDesc:"Chờ",longDesc:"Chờ gửi lên sàn",iconClass:"fa-paper-plane",statusClass:""},{status:"New",shortDesc:"Gửi",longDesc:"Đã lên sàn",iconClass:"fa-hourglass-start",statusClass:""},{status:"PartiallyFilled",shortDesc:"Khớp",longDesc:"Khớp một phần",iconClass:"fa-hourglass-half",statusClass:""},{status:"Filled",shortDesc:"Khớp",longDesc:"Khớp",iconClass:"fa-check-circle",statusClass:"good"},{status:"PendingReplace",shortDesc:"Sửa",longDesc:"Đang gửi lệnh sửa",iconClass:"fa-pencil-square",statusClass:""},{status:"PendingResend",shortDesc:"Chờ",longDesc:"Chờ thỏa mãn điều kiện",iconClass:"fa-paper-plane-o",statusClass:""},{status:"Replaced",shortDesc:"Sửa",longDesc:"Sửa thành công",iconClass:"fa-pencil-square",statusClass:"good"},{status:"PendingCancel",shortDesc:"Huỷ",longDesc:"Đang gửi lệnh huỷ",iconClass:"fa-hourglass-start",statusClass:""},{status:"Cancelled",shortDesc:"Huỷ",longDesc:"Huỷ thành công",iconClass:"fa-trash",statusClass:"good"},{status:"Canceled",shortDesc:"Huỷ",longDesc:"Huỷ thành công",iconClass:"fa-trash",statusClass:"good"},{status:"Rejected",shortDesc:"Từ chối",longDesc:"Sàn từ chối",iconClass:"fa-ban",statusClass:"bad"},{status:"DoneForDay",shortDesc:"Giải tỏa",longDesc:"Giải toả vì hết phiên",iconClass:"fa-ban",statusClass:"bad"},{status:"Expired",shortDesc:"Hết hạn",longDesc:"Hết hạn",iconClass:"fa-hourglass-end",statusClass:"bad"},{status:"Completed",shortDesc:"Xong",longDesc:"Thanh toán xong T+3",iconClass:"fa-check-square-o",statusClass:"good"}],i=[{key:"Pending",status:"any",execType:"Pending",shortDesc:"Chờ",longDesc:"Đã ghi nhận",iconClass:"fa-clock-o"},{key:"PendingNew",status:"any",execType:"PendingNew",shortDesc:"Chờ",longDesc:"Chờ gửi lên sàn",iconClass:"fa-clock-o"},{key:"New",status:"any",execType:"New",shortDesc:"Gửi",longDesc:"Đã lên sàn",iconClass:"fa-check"},{key:"Replaced",status:"any",execType:"Replaced",shortDesc:"Sửa",longDesc:"Sửa thành công",iconClass:"fa-check"},{key:"PendingCancel",status:"any",execType:"PendingCancel",shortDesc:"Hủy",longDesc:"Đang gửi lệnh hủy",iconClass:"fa-clock-o"},{key:"PendingReplace",status:"any",execType:"PendingReplace",shortDesc:"Sửa",longDesc:"Đang gửi lệnh sửa",iconClass:"fa-clock-o"},{key:"PendingResend",status:"any",execType:"PendingResend",shortDesc:"Chờ",longDesc:"Chờ thỏa mãn điều kiện",iconClass:"fa-clock-o"},{key:"Restated",status:"any",execType:"Restated",shortDesc:"Giá",longDesc:"Cập nhật giá",iconClass:"fa-refresh"},{key:"PartiallyFilled",status:"PartiallyFilled",execType:"Trade",shortDesc:"Khớp",longDesc:"Khớp một phần",iconClass:"fa-check"},{key:"CompletelyTrade",status:"Filled",execType:"Trade",shortDesc:"Khớp",longDesc:"Khớp toàn bộ",iconClass:"fa-check"},{key:"Trade",status:"any",execType:"Trade",shortDesc:"Khớp",longDesc:"Khớp",iconClass:"fa-check"},{key:"Cancelled",status:"any",execType:"Cancelled",shortDesc:"Hủy",longDesc:"Hủy thành công",iconClass:"fa-check"},{key:"Canceled",status:"any",execType:"Canceled",shortDesc:"Hủy",longDesc:"Hủy thành công",iconClass:"fa-check"},{key:"Rejected",status:"any",execType:"Rejected",shortDesc:"Từ chối",longDesc:"Sàn từ chối",iconClass:"fa-times"},{key:"RejectedReplace",status:"any",execType:"RejectedReplace",shortDesc:"Từ chối",longDesc:"Sàn từ chối lệnh sửa",iconClass:"fa-times"},{key:"RejectedCancel",status:"any",execType:"RejectedCancel",shortDesc:"Từ chối",longDesc:"Sàn từ chối lệnh hủy",iconClass:"fa-times"},{key:"Expired",status:"any",execType:"Expired",shortDesc:"Hết hạn",longDesc:"Hết hạn",iconClass:"fa-times"},{key:"DoneForDay",status:"any",execType:"DoneForDay",shortDesc:"Giải tỏa",longDesc:"Giải tỏa vì hết phiên",iconClass:"fa-times"}];return{getOrderStatus:function(t){for(var i=0;i<n.length;i++)if(n[i].status===t)return{status:t,shortDesc:e.t("status_code:order_statuses."+t+".shortDesc"),longDesc:e.t("status_code:order_statuses."+t+".longDesc"),iconClass:e.t("status_code:order_statuses."+t+".iconClass"),statusClass:e.t("status_code:order_statuses."+t+".statusClass")};return{status:t,shortDesc:"--",longDesc:t,iconClass:"fa-question-circle",statusClass:""}},getReportStatus:function(t,n){for(var r=[],o=0;o<i.length;o++)i[o].execType===n&&r.push(i[o]);for(var a={status:t,execType:n,shortDesc:"--",longDesc:"-"},o=0;o<r.length;o++){var s=r[o];if("any"===s.status&&(a={status:void 0,execType:s.execType,shortDesc:e.t("status_code:report_statuses."+s.key+".shortDesc"),longDesc:e.t("status_code:report_statuses."+s.key+".longDesc"),iconClass:e.t("status_code:report_statuses."+s.key+".iconClass")}),s.status===t){a={status:t,execType:s.execType,shortDesc:e.t("status_code:report_statuses."+s.key+".shortDesc"),longDesc:e.t("status_code:report_statuses."+s.key+".longDesc"),iconClass:e.t("status_code:report_statuses."+s.key+".iconClass")};break}}return a},getConditionalOrderStatus:function(t){if("string"==typeof t.reason&&t.reason.length>0)return{status:t.status,shortDesc:e.t("status_code:conditional_order_statuses.Rejected.shortDesc"),desc:e.t("status_code:conditional_order_statuses.Rejected.desc"),iconClass:"fa-ban",statusClass:"bad"};if(t.triggered)return{status:t.status,shortDesc:e.t("status_code:conditional_order_statuses.Activated.shortDesc"),desc:e.t("status_code:conditional_order_statuses.Activated.desc"),iconClass:"fa-check",statusClass:"good"};var n;switch(t.status){case"Cancelled":n={status:t.status,shortDesc:e.t("status_code:conditional_order_statuses.Cancelled.shortDesc"),desc:e.t("status_code:conditional_order_statuses.Cancelled.desc"),iconClass:"fa-trash",statusClass:"good"};break;case"Expired":n={status:t.status,shortDesc:e.t("status_code:conditional_order_statuses.Expired.shortDesc"),desc:e.t("status_code:conditional_order_statuses.Expired.desc"),iconClass:"fa-hourglass-end",statusClass:"bad"};break;default:n={status:t.status,shortDesc:e.t("status_code:conditional_order_statuses.NotActivated.shortDesc"),desc:e.t("status_code:conditional_order_statuses.NotActivated.desc"),iconClass:"fa-hourglass-start"}}return n}}}),define("component/order-interaction-checker",["require","component/company-resource"],function(t){var e=t("component/company-resource");return{isCancellable:function(t){switch(t.status){case"Pending":case"PendingNew":case"PendingResend":return!0;case"New":if(["LO","ATO","ATC"].indexOf(t.orderType)>=0)return!0;break;case"PartiallyFilled":if(["LO","MP","MTL"].indexOf(t.orderType)>=0)return!0}return!1},isReplaceable:function(t){if("PendingResend"===t.status)return!0;if(!e.isHNX(t.symbol)&&!e.isUPCOM(t.symbol))return!1;switch(t.status){case"Pending":case"PendingNew":if("LO"===t.orderType)return!0;break;case"New":if("LO"===t.orderType)return!0;break;case"PartiallyFilled":if(["LO","MTL"].indexOf(t.orderType)>=0)return!0}return!1}}}),define("component/legacy-value-mapper",["require"],function(){var t={sending:"PendingNew",sent:"New",executed:"Filled",canceled:"Cancelled",replaced:"Replaced",expired:"Expired",rejected:"Rejected"},e={1:"NB",2:"NS"},n={1:"MP",2:"LO",3:"ATO",5:"ATC",6:"MOK",7:"MAK",8:"MTL"};return{mapStatus:function(e){for(var n in t)if(n===e)return t[n];return"-"},mapSide:function(t){for(var n in e)if(n===t)return e[n];return"-"},mapOrderType:function(t){for(var e in n)if(e===t)return n[e];return"-"}}}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define("moment",e):t.moment=e()}(this,function(){"use strict";function t(){return gr.apply(null,arguments)}function e(t){gr=t}function n(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function i(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)}function r(t){var e;for(e in t)return!1;return!0}function o(t){return"number"==typeof t||"[object Number]"===Object.prototype.toString.call(t)}function a(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function s(t,e){var n,i=[];for(n=0;n<t.length;++n)i.push(e(t[n],n));return i}function c(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function u(t,e){for(var n in e)c(e,n)&&(t[n]=e[n]);return c(e,"toString")&&(t.toString=e.toString),c(e,"valueOf")&&(t.valueOf=e.valueOf),t}function l(t,e,n,i){return yn(t,e,n,i,!0).utc()}function h(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null}}function f(t){return null==t._pf&&(t._pf=h()),t._pf}function d(t){if(null==t._isValid){var e=f(t),n=vr.call(e.parsedDateParts,function(t){return null!=t}),i=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidMonth&&!e.invalidWeekday&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&n);if(t._strict&&(i=i&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour),null!=Object.isFrozen&&Object.isFrozen(t))return i;t._isValid=i}return t._isValid}function p(t){var e=l(0/0);return null!=t?u(f(e),t):f(e).userInvalidated=!0,e}function g(t){return void 0===t}function m(t,e){var n,i,r;if(g(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),g(e._i)||(t._i=e._i),g(e._f)||(t._f=e._f),g(e._l)||(t._l=e._l),g(e._strict)||(t._strict=e._strict),g(e._tzm)||(t._tzm=e._tzm),g(e._isUTC)||(t._isUTC=e._isUTC),g(e._offset)||(t._offset=e._offset),g(e._pf)||(t._pf=f(e)),g(e._locale)||(t._locale=e._locale),yr.length>0)for(n in yr)i=yr[n],r=e[i],g(r)||(t[i]=r);return t}function v(e){m(this,e),this._d=new Date(null!=e._d?e._d.getTime():0/0),this.isValid()||(this._d=new Date(0/0)),br===!1&&(br=!0,t.updateOffset(this),br=!1)}function y(t){return t instanceof v||null!=t&&null!=t._isAMomentObject}function b(t){return 0>t?Math.ceil(t)||0:Math.floor(t)}function w(t){var e=+t,n=0;return 0!==e&&isFinite(e)&&(n=b(e)),n}function k(t,e,n){var i,r=Math.min(t.length,e.length),o=Math.abs(t.length-e.length),a=0;for(i=0;r>i;i++)(n&&t[i]!==e[i]||!n&&w(t[i])!==w(e[i]))&&a++;return a+o}function x(e){t.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function C(e,n){var i=!0;return u(function(){if(null!=t.deprecationHandler&&t.deprecationHandler(null,e),i){for(var r,o=[],a=0;a<arguments.length;a++){if(r="","object"==typeof arguments[a]){r+="\n["+a+"] ";for(var s in arguments[0])r+=s+": "+arguments[0][s]+", ";r=r.slice(0,-2)}else r=arguments[a];o.push(r)}x(e+"\nArguments: "+Array.prototype.slice.call(o).join("")+"\n"+(new Error).stack),i=!1}return n.apply(this,arguments)},n)}function S(e,n){null!=t.deprecationHandler&&t.deprecationHandler(e,n),wr[e]||(x(n),wr[e]=!0)}function T(t){return t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function _(t){var e,n;for(n in t)e=t[n],T(e)?this[n]=e:this["_"+n]=e;this._config=t,this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function E(t,e){var n,r=u({},t);for(n in e)c(e,n)&&(i(t[n])&&i(e[n])?(r[n]={},u(r[n],t[n]),u(r[n],e[n])):null!=e[n]?r[n]=e[n]:delete r[n]);for(n in t)c(t,n)&&!c(e,n)&&i(t[n])&&(r[n]=u({},r[n]));return r}function A(t){null!=t&&this.set(t)}function D(t,e,n){var i=this._calendar[t]||this._calendar.sameElse;return T(i)?i.call(e,n):i}function I(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t])}function O(){return this._invalidDate}function N(t){return this._ordinal.replace("%d",t)}function M(t,e,n,i){var r=this._relativeTime[n];return T(r)?r(t,e,n,i):r.replace(/%d/i,t)}function P(t,e){var n=this._relativeTime[t>0?"future":"past"];return T(n)?n(e):n.replace(/%s/i,e)}function j(t,e){var n=t.toLowerCase();Ir[n]=Ir[n+"s"]=Ir[e]=t}function F(t){return"string"==typeof t?Ir[t]||Ir[t.toLowerCase()]:void 0}function R(t){var e,n,i={};for(n in t)c(t,n)&&(e=F(n),e&&(i[e]=t[n]));return i}function L(t,e){Or[t]=e}function H(t){var e=[];for(var n in t)e.push({unit:n,priority:Or[n]});return e.sort(function(t,e){return t.priority-e.priority}),e}function B(e,n){return function(i){return null!=i?(W(this,e,i),t.updateOffset(this,n),this):U(this,e)}}function U(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():0/0}function W(t,e,n){t.isValid()&&t._d["set"+(t._isUTC?"UTC":"")+e](n)}function q(t){return t=F(t),T(this[t])?this[t]():this}function $(t,e){if("object"==typeof t){t=R(t);for(var n=H(t),i=0;i<n.length;i++)this[n[i].unit](t[n[i].unit])}else if(t=F(t),T(this[t]))return this[t](e);return this}function V(t,e,n){var i=""+Math.abs(t),r=e-i.length,o=t>=0;return(o?n?"+":"":"-")+Math.pow(10,Math.max(0,r)).toString().substr(1)+i}function Y(t,e,n,i){var r=i;"string"==typeof i&&(r=function(){return this[i]()}),t&&(jr[t]=r),e&&(jr[e[0]]=function(){return V(r.apply(this,arguments),e[1],e[2])}),n&&(jr[n]=function(){return this.localeData().ordinal(r.apply(this,arguments),t)})}function z(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function X(t){var e,n,i=t.match(Nr);for(e=0,n=i.length;n>e;e++)i[e]=jr[i[e]]?jr[i[e]]:z(i[e]);return function(e){var r,o="";for(r=0;n>r;r++)o+=i[r]instanceof Function?i[r].call(e,t):i[r];return o}}function G(t,e){return t.isValid()?(e=K(e,t.localeData()),Pr[e]=Pr[e]||X(e),Pr[e](t)):t.localeData().invalidDate()}function K(t,e){function n(t){return e.longDateFormat(t)||t}var i=5;for(Mr.lastIndex=0;i>=0&&Mr.test(t);)t=t.replace(Mr,n),Mr.lastIndex=0,i-=1;return t}function Q(t,e,n){Zr[t]=T(e)?e:function(t){return t&&n?n:e}}function J(t,e){return c(Zr,t)?Zr[t](e._strict,e._locale):new RegExp(Z(t))}function Z(t){return te(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,n,i,r){return e||n||i||r}))}function te(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function ee(t,e){var n,i=e;for("string"==typeof t&&(t=[t]),o(e)&&(i=function(t,n){n[e]=w(t)}),n=0;n<t.length;n++)to[t[n]]=i}function ne(t,e){ee(t,function(t,n,i,r){i._w=i._w||{},e(t,i._w,i,r)})}function ie(t,e,n){null!=e&&c(to,t)&&to[t](e,n._a,n,t)}function re(t,e){return new Date(Date.UTC(t,e+1,0)).getUTCDate()}function oe(t,e){return t?n(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||ho).test(e)?"format":"standalone"][t.month()]:this._months}function ae(t,e){return t?n(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[ho.test(e)?"format":"standalone"][t.month()]:this._monthsShort}function se(t,e,n){var i,r,o,a=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;12>i;++i)o=l([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===e?(r=lo.call(this._shortMonthsParse,a),-1!==r?r:null):(r=lo.call(this._longMonthsParse,a),-1!==r?r:null):"MMM"===e?(r=lo.call(this._shortMonthsParse,a),-1!==r?r:(r=lo.call(this._longMonthsParse,a),-1!==r?r:null)):(r=lo.call(this._longMonthsParse,a),-1!==r?r:(r=lo.call(this._shortMonthsParse,a),-1!==r?r:null))}function ce(t,e,n){var i,r,o;if(this._monthsParseExact)return se.call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;12>i;i++){if(r=l([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(o="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[i]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===e&&this._longMonthsParse[i].test(t))return i;if(n&&"MMM"===e&&this._shortMonthsParse[i].test(t))return i;if(!n&&this._monthsParse[i].test(t))return i}}function ue(t,e){var n;if(!t.isValid())return t;if("string"==typeof e)if(/^\d+$/.test(e))e=w(e);else if(e=t.localeData().monthsParse(e),!o(e))return t;return n=Math.min(t.date(),re(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t}function le(e){return null!=e?(ue(this,e),t.updateOffset(this,!0),this):U(this,"Month")}function he(){return re(this.year(),this.month())}function fe(t){return this._monthsParseExact?(c(this,"_monthsRegex")||pe.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(c(this,"_monthsShortRegex")||(this._monthsShortRegex=go),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)}function de(t){return this._monthsParseExact?(c(this,"_monthsRegex")||pe.call(this),t?this._monthsStrictRegex:this._monthsRegex):(c(this,"_monthsRegex")||(this._monthsRegex=mo),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)}function pe(){function t(t,e){return e.length-t.length}var e,n,i=[],r=[],o=[];for(e=0;12>e;e++)n=l([2e3,e]),i.push(this.monthsShort(n,"")),r.push(this.months(n,"")),o.push(this.months(n,"")),o.push(this.monthsShort(n,""));for(i.sort(t),r.sort(t),o.sort(t),e=0;12>e;e++)i[e]=te(i[e]),r[e]=te(r[e]);for(e=0;24>e;e++)o[e]=te(o[e]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+i.join("|")+")","i")}function ge(t){return me(t)?366:365}function me(t){return t%4===0&&t%100!==0||t%400===0}function ve(){return me(this.year())}function ye(t,e,n,i,r,o,a){var s=new Date(t,e,n,i,r,o,a);return 100>t&&t>=0&&isFinite(s.getFullYear())&&s.setFullYear(t),s}function be(t){var e=new Date(Date.UTC.apply(null,arguments));return 100>t&&t>=0&&isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t),e}function we(t,e,n){var i=7+e-n,r=(7+be(t,0,i).getUTCDay()-e)%7;return-r+i-1}function ke(t,e,n,i,r){var o,a,s=(7+n-i)%7,c=we(t,i,r),u=1+7*(e-1)+s+c;return 0>=u?(o=t-1,a=ge(o)+u):u>ge(t)?(o=t+1,a=u-ge(t)):(o=t,a=u),{year:o,dayOfYear:a}}function xe(t,e,n){var i,r,o=we(t.year(),e,n),a=Math.floor((t.dayOfYear()-o-1)/7)+1;return 1>a?(r=t.year()-1,i=a+Ce(r,e,n)):a>Ce(t.year(),e,n)?(i=a-Ce(t.year(),e,n),r=t.year()+1):(r=t.year(),i=a),{week:i,year:r}}function Ce(t,e,n){var i=we(t,e,n),r=we(t+1,e,n);return(ge(t)-i+r)/7}function Se(t){return xe(t,this._week.dow,this._week.doy).week}function Te(){return this._week.dow}function _e(){return this._week.doy}function Ee(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")}function Ae(t){var e=xe(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")}function De(t,e){return"string"!=typeof t?t:isNaN(t)?(t=e.weekdaysParse(t),"number"==typeof t?t:null):parseInt(t,10)}function Ie(t,e){return"string"==typeof t?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}function Oe(t,e){return t?n(this._weekdays)?this._weekdays[t.day()]:this._weekdays[this._weekdays.isFormat.test(e)?"format":"standalone"][t.day()]:this._weekdays}function Ne(t){return t?this._weekdaysShort[t.day()]:this._weekdaysShort}function Me(t){return t?this._weekdaysMin[t.day()]:this._weekdaysMin}function Pe(t,e,n){var i,r,o,a=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;7>i;++i)o=l([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===e?(r=lo.call(this._weekdaysParse,a),-1!==r?r:null):"ddd"===e?(r=lo.call(this._shortWeekdaysParse,a),-1!==r?r:null):(r=lo.call(this._minWeekdaysParse,a),-1!==r?r:null):"dddd"===e?(r=lo.call(this._weekdaysParse,a),-1!==r?r:(r=lo.call(this._shortWeekdaysParse,a),-1!==r?r:(r=lo.call(this._minWeekdaysParse,a),-1!==r?r:null))):"ddd"===e?(r=lo.call(this._shortWeekdaysParse,a),-1!==r?r:(r=lo.call(this._weekdaysParse,a),-1!==r?r:(r=lo.call(this._minWeekdaysParse,a),-1!==r?r:null))):(r=lo.call(this._minWeekdaysParse,a),-1!==r?r:(r=lo.call(this._weekdaysParse,a),-1!==r?r:(r=lo.call(this._shortWeekdaysParse,a),-1!==r?r:null)))}function je(t,e,n){var i,r,o;if(this._weekdaysParseExact)return Pe.call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;7>i;i++){if(r=l([2e3,1]).day(i),n&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(r,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(r,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(r,"").replace(".",".?")+"$","i")),this._weekdaysParse[i]||(o="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[i]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===e&&this._fullWeekdaysParse[i].test(t))return i;if(n&&"ddd"===e&&this._shortWeekdaysParse[i].test(t))return i;if(n&&"dd"===e&&this._minWeekdaysParse[i].test(t))return i;if(!n&&this._weekdaysParse[i].test(t))return i}}function Fe(t){if(!this.isValid())return null!=t?this:0/0;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();
return null!=t?(t=De(t,this.localeData()),this.add(t-e,"d")):e}function Re(t){if(!this.isValid())return null!=t?this:0/0;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")}function Le(t){if(!this.isValid())return null!=t?this:0/0;if(null!=t){var e=Ie(t,this.localeData());return this.day(this.day()%7?e:e-7)}return this.day()||7}function He(t){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||We.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(c(this,"_weekdaysRegex")||(this._weekdaysRegex=xo),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)}function Be(t){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||We.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(c(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Co),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Ue(t){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||We.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(c(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=So),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function We(){function t(t,e){return e.length-t.length}var e,n,i,r,o,a=[],s=[],c=[],u=[];for(e=0;7>e;e++)n=l([2e3,1]).day(e),i=this.weekdaysMin(n,""),r=this.weekdaysShort(n,""),o=this.weekdays(n,""),a.push(i),s.push(r),c.push(o),u.push(i),u.push(r),u.push(o);for(a.sort(t),s.sort(t),c.sort(t),u.sort(t),e=0;7>e;e++)s[e]=te(s[e]),c[e]=te(c[e]),u[e]=te(u[e]);this._weekdaysRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function qe(){return this.hours()%12||12}function $e(){return this.hours()||24}function Ve(t,e){Y(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}function Ye(t,e){return e._meridiemParse}function ze(t){return"p"===(t+"").toLowerCase().charAt(0)}function Xe(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"}function Ge(t){return t?t.toLowerCase().replace("_","-"):t}function Ke(t){for(var e,n,i,r,o=0;o<t.length;){for(r=Ge(t[o]).split("-"),e=r.length,n=Ge(t[o+1]),n=n?n.split("-"):null;e>0;){if(i=Qe(r.slice(0,e).join("-")))return i;if(n&&n.length>=e&&k(r,n,!0)>=e-1)break;e--}o++}return null}function Qe(t){var e=null;if(!Do[t]&&"undefined"!=typeof module&&module&&module.exports)try{e=To._abbr,require("./locale/"+t),Je(e)}catch(n){}return Do[t]}function Je(t,e){var n;return t&&(n=g(e)?en(t):Ze(t,e),n&&(To=n)),To._abbr}function Ze(t,e){if(null!==e){var n=Ao;if(e.abbr=t,null!=Do[t])S("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=Do[t]._config;else if(null!=e.parentLocale){if(null==Do[e.parentLocale])return Io[e.parentLocale]||(Io[e.parentLocale]=[]),Io[e.parentLocale].push({name:t,config:e}),null;n=Do[e.parentLocale]._config}return Do[t]=new A(E(n,e)),Io[t]&&Io[t].forEach(function(t){Ze(t.name,t.config)}),Je(t),Do[t]}return delete Do[t],null}function tn(t,e){if(null!=e){var n,i=Ao;null!=Do[t]&&(i=Do[t]._config),e=E(i,e),n=new A(e),n.parentLocale=Do[t],Do[t]=n,Je(t)}else null!=Do[t]&&(null!=Do[t].parentLocale?Do[t]=Do[t].parentLocale:null!=Do[t]&&delete Do[t]);return Do[t]}function en(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return To;if(!n(t)){if(e=Qe(t))return e;t=[t]}return Ke(t)}function nn(){return Cr(Do)}function rn(t){var e,n=t._a;return n&&-2===f(t).overflow&&(e=n[no]<0||n[no]>11?no:n[io]<1||n[io]>re(n[eo],n[no])?io:n[ro]<0||n[ro]>24||24===n[ro]&&(0!==n[oo]||0!==n[ao]||0!==n[so])?ro:n[oo]<0||n[oo]>59?oo:n[ao]<0||n[ao]>59?ao:n[so]<0||n[so]>999?so:-1,f(t)._overflowDayOfYear&&(eo>e||e>io)&&(e=io),f(t)._overflowWeeks&&-1===e&&(e=co),f(t)._overflowWeekday&&-1===e&&(e=uo),f(t).overflow=e),t}function on(t){var e,n,i,r,o,a,s=t._i,c=Oo.exec(s)||No.exec(s);if(c){for(f(t).iso=!0,e=0,n=Po.length;n>e;e++)if(Po[e][1].exec(c[1])){r=Po[e][0],i=Po[e][2]!==!1;break}if(null==r)return void(t._isValid=!1);if(c[3]){for(e=0,n=jo.length;n>e;e++)if(jo[e][1].exec(c[3])){o=(c[2]||" ")+jo[e][0];break}if(null==o)return void(t._isValid=!1)}if(!i&&null!=o)return void(t._isValid=!1);if(c[4]){if(!Mo.exec(c[4]))return void(t._isValid=!1);a="Z"}t._f=r+(o||"")+(a||""),hn(t)}else t._isValid=!1}function an(e){var n=Fo.exec(e._i);return null!==n?void(e._d=new Date(+n[1])):(on(e),void(e._isValid===!1&&(delete e._isValid,t.createFromInputFallback(e))))}function sn(t,e,n){return null!=t?t:null!=e?e:n}function cn(e){var n=new Date(t.now());return e._useUTC?[n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()]:[n.getFullYear(),n.getMonth(),n.getDate()]}function un(t){var e,n,i,r,o=[];if(!t._d){for(i=cn(t),t._w&&null==t._a[io]&&null==t._a[no]&&ln(t),t._dayOfYear&&(r=sn(t._a[eo],i[eo]),t._dayOfYear>ge(r)&&(f(t)._overflowDayOfYear=!0),n=be(r,0,t._dayOfYear),t._a[no]=n.getUTCMonth(),t._a[io]=n.getUTCDate()),e=0;3>e&&null==t._a[e];++e)t._a[e]=o[e]=i[e];for(;7>e;e++)t._a[e]=o[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[ro]&&0===t._a[oo]&&0===t._a[ao]&&0===t._a[so]&&(t._nextDay=!0,t._a[ro]=0),t._d=(t._useUTC?be:ye).apply(null,o),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[ro]=24)}}function ln(t){var e,n,i,r,o,a,s,c;if(e=t._w,null!=e.GG||null!=e.W||null!=e.E)o=1,a=4,n=sn(e.GG,t._a[eo],xe(bn(),1,4).year),i=sn(e.W,1),r=sn(e.E,1),(1>r||r>7)&&(c=!0);else{o=t._locale._week.dow,a=t._locale._week.doy;var u=xe(bn(),o,a);n=sn(e.gg,t._a[eo],u.year),i=sn(e.w,u.week),null!=e.d?(r=e.d,(0>r||r>6)&&(c=!0)):null!=e.e?(r=e.e+o,(e.e<0||e.e>6)&&(c=!0)):r=o}1>i||i>Ce(n,o,a)?f(t)._overflowWeeks=!0:null!=c?f(t)._overflowWeekday=!0:(s=ke(n,i,r,o,a),t._a[eo]=s.year,t._dayOfYear=s.dayOfYear)}function hn(e){if(e._f===t.ISO_8601)return void on(e);e._a=[],f(e).empty=!0;var n,i,r,o,a,s=""+e._i,c=s.length,u=0;for(r=K(e._f,e._locale).match(Nr)||[],n=0;n<r.length;n++)o=r[n],i=(s.match(J(o,e))||[])[0],i&&(a=s.substr(0,s.indexOf(i)),a.length>0&&f(e).unusedInput.push(a),s=s.slice(s.indexOf(i)+i.length),u+=i.length),jr[o]?(i?f(e).empty=!1:f(e).unusedTokens.push(o),ie(o,i,e)):e._strict&&!i&&f(e).unusedTokens.push(o);f(e).charsLeftOver=c-u,s.length>0&&f(e).unusedInput.push(s),e._a[ro]<=12&&f(e).bigHour===!0&&e._a[ro]>0&&(f(e).bigHour=void 0),f(e).parsedDateParts=e._a.slice(0),f(e).meridiem=e._meridiem,e._a[ro]=fn(e._locale,e._a[ro],e._meridiem),un(e),rn(e)}function fn(t,e,n){var i;return null==n?e:null!=t.meridiemHour?t.meridiemHour(e,n):null!=t.isPM?(i=t.isPM(n),i&&12>e&&(e+=12),i||12!==e||(e=0),e):e}function dn(t){var e,n,i,r,o;if(0===t._f.length)return f(t).invalidFormat=!0,void(t._d=new Date(0/0));for(r=0;r<t._f.length;r++)o=0,e=m({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[r],hn(e),d(e)&&(o+=f(e).charsLeftOver,o+=10*f(e).unusedTokens.length,f(e).score=o,(null==i||i>o)&&(i=o,n=e));u(t,n||e)}function pn(t){if(!t._d){var e=R(t._i);t._a=s([e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],function(t){return t&&parseInt(t,10)}),un(t)}}function gn(t){var e=new v(rn(mn(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function mn(t){var e=t._i,i=t._f;return t._locale=t._locale||en(t._l),null===e||void 0===i&&""===e?p({nullInput:!0}):("string"==typeof e&&(t._i=e=t._locale.preparse(e)),y(e)?new v(rn(e)):(a(e)?t._d=e:n(i)?dn(t):i?hn(t):vn(t),d(t)||(t._d=null),t))}function vn(e){var i=e._i;void 0===i?e._d=new Date(t.now()):a(i)?e._d=new Date(i.valueOf()):"string"==typeof i?an(e):n(i)?(e._a=s(i.slice(0),function(t){return parseInt(t,10)}),un(e)):"object"==typeof i?pn(e):o(i)?e._d=new Date(i):t.createFromInputFallback(e)}function yn(t,e,o,a,s){var c={};return(o===!0||o===!1)&&(a=o,o=void 0),(i(t)&&r(t)||n(t)&&0===t.length)&&(t=void 0),c._isAMomentObject=!0,c._useUTC=c._isUTC=s,c._l=o,c._i=t,c._f=e,c._strict=a,gn(c)}function bn(t,e,n,i){return yn(t,e,n,i,!1)}function wn(t,e){var i,r;if(1===e.length&&n(e[0])&&(e=e[0]),!e.length)return bn();for(i=e[0],r=1;r<e.length;++r)(!e[r].isValid()||e[r][t](i))&&(i=e[r]);return i}function kn(){var t=[].slice.call(arguments,0);return wn("isBefore",t)}function xn(){var t=[].slice.call(arguments,0);return wn("isAfter",t)}function Cn(t){var e=R(t),n=e.year||0,i=e.quarter||0,r=e.month||0,o=e.week||0,a=e.day||0,s=e.hour||0,c=e.minute||0,u=e.second||0,l=e.millisecond||0;this._milliseconds=+l+1e3*u+6e4*c+1e3*s*60*60,this._days=+a+7*o,this._months=+r+3*i+12*n,this._data={},this._locale=en(),this._bubble()}function Sn(t){return t instanceof Cn}function Tn(t){return 0>t?-1*Math.round(-1*t):Math.round(t)}function _n(t,e){Y(t,0,0,function(){var t=this.utcOffset(),n="+";return 0>t&&(t=-t,n="-"),n+V(~~(t/60),2)+e+V(~~t%60,2)})}function En(t,e){var n=(e||"").match(t);if(null===n)return null;var i=n[n.length-1]||[],r=(i+"").match(Bo)||["-",0,0],o=+(60*r[1])+w(r[2]);return 0===o?0:"+"===r[0]?o:-o}function An(e,n){var i,r;return n._isUTC?(i=n.clone(),r=(y(e)||a(e)?e.valueOf():bn(e).valueOf())-i.valueOf(),i._d.setTime(i._d.valueOf()+r),t.updateOffset(i,!1),i):bn(e).local()}function Dn(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function In(e,n){var i,r=this._offset||0;if(!this.isValid())return null!=e?this:0/0;if(null!=e){if("string"==typeof e){if(e=En(Kr,e),null===e)return this}else Math.abs(e)<16&&(e=60*e);return!this._isUTC&&n&&(i=Dn(this)),this._offset=e,this._isUTC=!0,null!=i&&this.add(i,"m"),r!==e&&(!n||this._changeInProgress?Yn(this,Un(e-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,t.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?r:Dn(this)}function On(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function Nn(t){return this.utcOffset(0,t)}function Mn(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(Dn(this),"m")),this}function Pn(){if(null!=this._tzm)this.utcOffset(this._tzm);else if("string"==typeof this._i){var t=En(Gr,this._i);null!=t?this.utcOffset(t):this.utcOffset(0,!0)}return this}function jn(t){return this.isValid()?(t=t?bn(t).utcOffset():0,(this.utcOffset()-t)%60===0):!1}function Fn(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Rn(){if(!g(this._isDSTShifted))return this._isDSTShifted;var t={};if(m(t,this),t=mn(t),t._a){var e=t._isUTC?l(t._a):bn(t._a);this._isDSTShifted=this.isValid()&&k(t._a,e.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function Ln(){return this.isValid()?!this._isUTC:!1}function Hn(){return this.isValid()?this._isUTC:!1}function Bn(){return this.isValid()?this._isUTC&&0===this._offset:!1}function Un(t,e){var n,i,r,a=t,s=null;return Sn(t)?a={ms:t._milliseconds,d:t._days,M:t._months}:o(t)?(a={},e?a[e]=t:a.milliseconds=t):(s=Uo.exec(t))?(n="-"===s[1]?-1:1,a={y:0,d:w(s[io])*n,h:w(s[ro])*n,m:w(s[oo])*n,s:w(s[ao])*n,ms:w(Tn(1e3*s[so]))*n}):(s=Wo.exec(t))?(n="-"===s[1]?-1:1,a={y:Wn(s[2],n),M:Wn(s[3],n),w:Wn(s[4],n),d:Wn(s[5],n),h:Wn(s[6],n),m:Wn(s[7],n),s:Wn(s[8],n)}):null==a?a={}:"object"==typeof a&&("from"in a||"to"in a)&&(r=$n(bn(a.from),bn(a.to)),a={},a.ms=r.milliseconds,a.M=r.months),i=new Cn(a),Sn(t)&&c(t,"_locale")&&(i._locale=t._locale),i}function Wn(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function qn(t,e){var n={milliseconds:0,months:0};return n.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function $n(t,e){var n;return t.isValid()&&e.isValid()?(e=An(e,t),t.isBefore(e)?n=qn(t,e):(n=qn(e,t),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function Vn(t,e){return function(n,i){var r,o;return null===i||isNaN(+i)||(S(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),o=n,n=i,i=o),n="string"==typeof n?+n:n,r=Un(n,i),Yn(this,r,t),this}}function Yn(e,n,i,r){var o=n._milliseconds,a=Tn(n._days),s=Tn(n._months);e.isValid()&&(r=null==r?!0:r,o&&e._d.setTime(e._d.valueOf()+o*i),a&&W(e,"Date",U(e,"Date")+a*i),s&&ue(e,U(e,"Month")+s*i),r&&t.updateOffset(e,a||s))}function zn(t,e){var n=t.diff(e,"days",!0);return-6>n?"sameElse":-1>n?"lastWeek":0>n?"lastDay":1>n?"sameDay":2>n?"nextDay":7>n?"nextWeek":"sameElse"}function Xn(e,n){var i=e||bn(),r=An(i,this).startOf("day"),o=t.calendarFormat(this,r)||"sameElse",a=n&&(T(n[o])?n[o].call(this,i):n[o]);return this.format(a||this.localeData().calendar(o,this,bn(i)))}function Gn(){return new v(this)}function Kn(t,e){var n=y(t)?t:bn(t);return this.isValid()&&n.isValid()?(e=F(g(e)?"millisecond":e),"millisecond"===e?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(e).valueOf()):!1}function Qn(t,e){var n=y(t)?t:bn(t);return this.isValid()&&n.isValid()?(e=F(g(e)?"millisecond":e),"millisecond"===e?this.valueOf()<n.valueOf():this.clone().endOf(e).valueOf()<n.valueOf()):!1}function Jn(t,e,n,i){return i=i||"()",("("===i[0]?this.isAfter(t,n):!this.isBefore(t,n))&&(")"===i[1]?this.isBefore(e,n):!this.isAfter(e,n))}function Zn(t,e){var n,i=y(t)?t:bn(t);return this.isValid()&&i.isValid()?(e=F(e||"millisecond"),"millisecond"===e?this.valueOf()===i.valueOf():(n=i.valueOf(),this.clone().startOf(e).valueOf()<=n&&n<=this.clone().endOf(e).valueOf())):!1}function ti(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function ei(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function ni(t,e,n){var i,r,o,a;return this.isValid()?(i=An(t,this),i.isValid()?(r=6e4*(i.utcOffset()-this.utcOffset()),e=F(e),"year"===e||"month"===e||"quarter"===e?(a=ii(this,i),"quarter"===e?a/=3:"year"===e&&(a/=12)):(o=this-i,a="second"===e?o/1e3:"minute"===e?o/6e4:"hour"===e?o/36e5:"day"===e?(o-r)/864e5:"week"===e?(o-r)/6048e5:o),n?a:b(a)):0/0):0/0}function ii(t,e){var n,i,r=12*(e.year()-t.year())+(e.month()-t.month()),o=t.clone().add(r,"months");return 0>e-o?(n=t.clone().add(r-1,"months"),i=(e-o)/(o-n)):(n=t.clone().add(r+1,"months"),i=(e-o)/(n-o)),-(r+i)||0}function ri(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function oi(){var t=this.clone().utc();return 0<t.year()&&t.year()<=9999?T(Date.prototype.toISOString)?this.toDate().toISOString():G(t,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):G(t,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function ai(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="";this.isLocal()||(t=0===this.utcOffset()?"moment.utc":"moment.parseZone",e="Z");var n="["+t+'("]',i=0<this.year()&&this.year()<=9999?"YYYY":"YYYYYY",r="-MM-DD[T]HH:mm:ss.SSS",o=e+'[")]';return this.format(n+i+r+o)}function si(e){e||(e=this.isUtc()?t.defaultFormatUtc:t.defaultFormat);var n=G(this,e);return this.localeData().postformat(n)}function ci(t,e){return this.isValid()&&(y(t)&&t.isValid()||bn(t).isValid())?Un({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function ui(t){return this.from(bn(),t)}function li(t,e){return this.isValid()&&(y(t)&&t.isValid()||bn(t).isValid())?Un({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function hi(t){return this.to(bn(),t)}function fi(t){var e;return void 0===t?this._locale._abbr:(e=en(t),null!=e&&(this._locale=e),this)}function di(){return this._locale}function pi(t){switch(t=F(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.weekday(0),"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this}function gi(t){return t=F(t),void 0===t||"millisecond"===t?this:("date"===t&&(t="day"),this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms"))}function mi(){return this._d.valueOf()-6e4*(this._offset||0)}function vi(){return Math.floor(this.valueOf()/1e3)}function yi(){return new Date(this.valueOf())}function bi(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function wi(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function ki(){return this.isValid()?this.toISOString():null}function xi(){return d(this)}function Ci(){return u({},f(this))}function Si(){return f(this).overflow}function Ti(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function _i(t,e){Y(0,[t,t.length],0,e)}function Ei(t){return Oi.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Ai(t){return Oi.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function Di(){return Ce(this.year(),1,4)}function Ii(){var t=this.localeData()._week;return Ce(this.year(),t.dow,t.doy)}function Oi(t,e,n,i,r){var o;return null==t?xe(this,i,r).year:(o=Ce(t,i,r),e>o&&(e=o),Ni.call(this,t,e,n,i,r))}function Ni(t,e,n,i,r){var o=ke(t,e,n,i,r),a=be(o.year,0,o.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}function Mi(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)}function Pi(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")}function ji(t,e){e[so]=w(1e3*("0."+t))}function Fi(){return this._isUTC?"UTC":""}function Ri(){return this._isUTC?"Coordinated Universal Time":""}function Li(t){return bn(1e3*t)}function Hi(){return bn.apply(null,arguments).parseZone()}function Bi(t){return t}function Ui(t,e,n,i){var r=en(),o=l().set(i,e);return r[n](o,t)}function Wi(t,e,n){if(o(t)&&(e=t,t=void 0),t=t||"",null!=e)return Ui(t,e,n,"month");var i,r=[];for(i=0;12>i;i++)r[i]=Ui(t,i,n,"month");return r}function qi(t,e,n,i){"boolean"==typeof t?(o(e)&&(n=e,e=void 0),e=e||""):(e=t,n=e,t=!1,o(e)&&(n=e,e=void 0),e=e||"");var r=en(),a=t?r._week.dow:0;if(null!=n)return Ui(e,(n+a)%7,i,"day");var s,c=[];for(s=0;7>s;s++)c[s]=Ui(e,(s+a)%7,i,"day");return c}function $i(t,e){return Wi(t,e,"months")}function Vi(t,e){return Wi(t,e,"monthsShort")}function Yi(t,e,n){return qi(t,e,n,"weekdays")}function zi(t,e,n){return qi(t,e,n,"weekdaysShort")}function Xi(t,e,n){return qi(t,e,n,"weekdaysMin")}function Gi(){var t=this._data;return this._milliseconds=Zo(this._milliseconds),this._days=Zo(this._days),this._months=Zo(this._months),t.milliseconds=Zo(t.milliseconds),t.seconds=Zo(t.seconds),t.minutes=Zo(t.minutes),t.hours=Zo(t.hours),t.months=Zo(t.months),t.years=Zo(t.years),this}function Ki(t,e,n,i){var r=Un(e,n);return t._milliseconds+=i*r._milliseconds,t._days+=i*r._days,t._months+=i*r._months,t._bubble()}function Qi(t,e){return Ki(this,t,e,1)}function Ji(t,e){return Ki(this,t,e,-1)}function Zi(t){return 0>t?Math.floor(t):Math.ceil(t)}function tr(){var t,e,n,i,r,o=this._milliseconds,a=this._days,s=this._months,c=this._data;return o>=0&&a>=0&&s>=0||0>=o&&0>=a&&0>=s||(o+=864e5*Zi(nr(s)+a),a=0,s=0),c.milliseconds=o%1e3,t=b(o/1e3),c.seconds=t%60,e=b(t/60),c.minutes=e%60,n=b(e/60),c.hours=n%24,a+=b(n/24),r=b(er(a)),s+=r,a-=Zi(nr(r)),i=b(s/12),s%=12,c.days=a,c.months=s,c.years=i,this}function er(t){return 4800*t/146097}function nr(t){return 146097*t/4800}function ir(t){var e,n,i=this._milliseconds;if(t=F(t),"month"===t||"year"===t)return e=this._days+i/864e5,n=this._months+er(e),"month"===t?n:n/12;switch(e=this._days+Math.round(nr(this._months)),t){case"week":return e/7+i/6048e5;case"day":return e+i/864e5;case"hour":return 24*e+i/36e5;case"minute":return 1440*e+i/6e4;case"second":return 86400*e+i/1e3;case"millisecond":return Math.floor(864e5*e)+i;default:throw new Error("Unknown unit "+t)}}function rr(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*w(this._months/12)}function or(t){return function(){return this.as(t)}}function ar(t){return t=F(t),this[t+"s"]()}function sr(t){return function(){return this._data[t]}}function cr(){return b(this.days()/7)}function ur(t,e,n,i,r){return r.relativeTime(e||1,!!n,t,i)}function lr(t,e,n){var i=Un(t).abs(),r=ga(i.as("s")),o=ga(i.as("m")),a=ga(i.as("h")),s=ga(i.as("d")),c=ga(i.as("M")),u=ga(i.as("y")),l=r<ma.s&&["s",r]||1>=o&&["m"]||o<ma.m&&["mm",o]||1>=a&&["h"]||a<ma.h&&["hh",a]||1>=s&&["d"]||s<ma.d&&["dd",s]||1>=c&&["M"]||c<ma.M&&["MM",c]||1>=u&&["y"]||["yy",u];return l[2]=e,l[3]=+t>0,l[4]=n,ur.apply(null,l)}function hr(t){return void 0===t?ga:"function"==typeof t?(ga=t,!0):!1}function fr(t,e){return void 0===ma[t]?!1:void 0===e?ma[t]:(ma[t]=e,!0)}function dr(t){var e=this.localeData(),n=lr(this,!t,e);return t&&(n=e.pastFuture(+this,n)),e.postformat(n)}function pr(){var t,e,n,i=va(this._milliseconds)/1e3,r=va(this._days),o=va(this._months);t=b(i/60),e=b(t/60),i%=60,t%=60,n=b(o/12),o%=12;var a=n,s=o,c=r,u=e,l=t,h=i,f=this.asSeconds();return f?(0>f?"-":"")+"P"+(a?a+"Y":"")+(s?s+"M":"")+(c?c+"D":"")+(u||l||h?"T":"")+(u?u+"H":"")+(l?l+"M":"")+(h?h+"S":""):"P0D"}var gr,mr;mr=Array.prototype.some?Array.prototype.some:function(t){for(var e=Object(this),n=e.length>>>0,i=0;n>i;i++)if(i in e&&t.call(this,e[i],i,e))return!0;return!1};var vr=mr,yr=t.momentProperties=[],br=!1,wr={};t.suppressDeprecationWarnings=!1,t.deprecationHandler=null;var kr;kr=Object.keys?Object.keys:function(t){var e,n=[];for(e in t)c(t,e)&&n.push(e);return n};var xr,Cr=kr,Sr={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},Tr={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},_r="Invalid date",Er="%d",Ar=/\d{1,2}/,Dr={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Ir={},Or={},Nr=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Mr=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Pr={},jr={},Fr=/\d/,Rr=/\d\d/,Lr=/\d{3}/,Hr=/\d{4}/,Br=/[+-]?\d{6}/,Ur=/\d\d?/,Wr=/\d\d\d\d?/,qr=/\d\d\d\d\d\d?/,$r=/\d{1,3}/,Vr=/\d{1,4}/,Yr=/[+-]?\d{1,6}/,zr=/\d+/,Xr=/[+-]?\d+/,Gr=/Z|[+-]\d\d:?\d\d/gi,Kr=/Z|[+-]\d\d(?::?\d\d)?/gi,Qr=/[+-]?\d+(\.\d{1,3})?/,Jr=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Zr={},to={},eo=0,no=1,io=2,ro=3,oo=4,ao=5,so=6,co=7,uo=8;xr=Array.prototype.indexOf?Array.prototype.indexOf:function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1};var lo=xr;Y("M",["MM",2],"Mo",function(){return this.month()+1}),Y("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)}),Y("MMMM",0,0,function(t){return this.localeData().months(this,t)}),j("month","M"),L("month",8),Q("M",Ur),Q("MM",Ur,Rr),Q("MMM",function(t,e){return e.monthsShortRegex(t)}),Q("MMMM",function(t,e){return e.monthsRegex(t)}),ee(["M","MM"],function(t,e){e[no]=w(t)-1}),ee(["MMM","MMMM"],function(t,e,n,i){var r=n._locale.monthsParse(t,i,n._strict);null!=r?e[no]=r:f(n).invalidMonth=t});var ho=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,fo="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),po="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),go=Jr,mo=Jr;Y("Y",0,0,function(){var t=this.year();return 9999>=t?""+t:"+"+t}),Y(0,["YY",2],0,function(){return this.year()%100}),Y(0,["YYYY",4],0,"year"),Y(0,["YYYYY",5],0,"year"),Y(0,["YYYYYY",6,!0],0,"year"),j("year","y"),L("year",1),Q("Y",Xr),Q("YY",Ur,Rr),Q("YYYY",Vr,Hr),Q("YYYYY",Yr,Br),Q("YYYYYY",Yr,Br),ee(["YYYYY","YYYYYY"],eo),ee("YYYY",function(e,n){n[eo]=2===e.length?t.parseTwoDigitYear(e):w(e)}),ee("YY",function(e,n){n[eo]=t.parseTwoDigitYear(e)}),ee("Y",function(t,e){e[eo]=parseInt(t,10)}),t.parseTwoDigitYear=function(t){return w(t)+(w(t)>68?1900:2e3)};var vo=B("FullYear",!0);Y("w",["ww",2],"wo","week"),Y("W",["WW",2],"Wo","isoWeek"),j("week","w"),j("isoWeek","W"),L("week",5),L("isoWeek",5),Q("w",Ur),Q("ww",Ur,Rr),Q("W",Ur),Q("WW",Ur,Rr),ne(["w","ww","W","WW"],function(t,e,n,i){e[i.substr(0,1)]=w(t)});var yo={dow:0,doy:6};Y("d",0,"do","day"),Y("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)}),Y("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)}),Y("dddd",0,0,function(t){return this.localeData().weekdays(this,t)}),Y("e",0,0,"weekday"),Y("E",0,0,"isoWeekday"),j("day","d"),j("weekday","e"),j("isoWeekday","E"),L("day",11),L("weekday",11),L("isoWeekday",11),Q("d",Ur),Q("e",Ur),Q("E",Ur),Q("dd",function(t,e){return e.weekdaysMinRegex(t)}),Q("ddd",function(t,e){return e.weekdaysShortRegex(t)}),Q("dddd",function(t,e){return e.weekdaysRegex(t)}),ne(["dd","ddd","dddd"],function(t,e,n,i){var r=n._locale.weekdaysParse(t,i,n._strict);null!=r?e.d=r:f(n).invalidWeekday=t}),ne(["d","e","E"],function(t,e,n,i){e[i]=w(t)});var bo="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),wo="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),ko="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),xo=Jr,Co=Jr,So=Jr;Y("H",["HH",2],0,"hour"),Y("h",["hh",2],0,qe),Y("k",["kk",2],0,$e),Y("hmm",0,0,function(){return""+qe.apply(this)+V(this.minutes(),2)}),Y("hmmss",0,0,function(){return""+qe.apply(this)+V(this.minutes(),2)+V(this.seconds(),2)}),Y("Hmm",0,0,function(){return""+this.hours()+V(this.minutes(),2)}),Y("Hmmss",0,0,function(){return""+this.hours()+V(this.minutes(),2)+V(this.seconds(),2)}),Ve("a",!0),Ve("A",!1),j("hour","h"),L("hour",13),Q("a",Ye),Q("A",Ye),Q("H",Ur),Q("h",Ur),Q("HH",Ur,Rr),Q("hh",Ur,Rr),Q("hmm",Wr),Q("hmmss",qr),Q("Hmm",Wr),Q("Hmmss",qr),ee(["H","HH"],ro),ee(["a","A"],function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t}),ee(["h","hh"],function(t,e,n){e[ro]=w(t),f(n).bigHour=!0}),ee("hmm",function(t,e,n){var i=t.length-2;e[ro]=w(t.substr(0,i)),e[oo]=w(t.substr(i)),f(n).bigHour=!0}),ee("hmmss",function(t,e,n){var i=t.length-4,r=t.length-2;e[ro]=w(t.substr(0,i)),e[oo]=w(t.substr(i,2)),e[ao]=w(t.substr(r)),f(n).bigHour=!0}),ee("Hmm",function(t,e){var n=t.length-2;e[ro]=w(t.substr(0,n)),e[oo]=w(t.substr(n))}),ee("Hmmss",function(t,e){var n=t.length-4,i=t.length-2;e[ro]=w(t.substr(0,n)),e[oo]=w(t.substr(n,2)),e[ao]=w(t.substr(i))});var To,_o=/[ap]\.?m?\.?/i,Eo=B("Hours",!0),Ao={calendar:Sr,longDateFormat:Tr,invalidDate:_r,ordinal:Er,ordinalParse:Ar,relativeTime:Dr,months:fo,monthsShort:po,week:yo,weekdays:bo,weekdaysMin:ko,weekdaysShort:wo,meridiemParse:_o},Do={},Io={},Oo=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,No=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Mo=/Z|[+-]\d\d(?::?\d\d)?/,Po=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],jo=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Fo=/^\/?Date\((\-?\d+)/i;t.createFromInputFallback=C("value provided is not in a recognized ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),t.ISO_8601=function(){};var Ro=C("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=bn.apply(null,arguments);return this.isValid()&&t.isValid()?this>t?this:t:p()}),Lo=C("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=bn.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:p()}),Ho=function(){return Date.now?Date.now():+new Date};_n("Z",":"),_n("ZZ",""),Q("Z",Kr),Q("ZZ",Kr),ee(["Z","ZZ"],function(t,e,n){n._useUTC=!0,n._tzm=En(Kr,t)});var Bo=/([\+\-]|\d\d)/gi;t.updateOffset=function(){};var Uo=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Wo=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;Un.fn=Cn.prototype;var qo=Vn(1,"add"),$o=Vn(-1,"subtract");t.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",t.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Vo=C("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return void 0===t?this.localeData():this.locale(t)});Y(0,["gg",2],0,function(){return this.weekYear()%100}),Y(0,["GG",2],0,function(){return this.isoWeekYear()%100}),_i("gggg","weekYear"),_i("ggggg","weekYear"),_i("GGGG","isoWeekYear"),_i("GGGGG","isoWeekYear"),j("weekYear","gg"),j("isoWeekYear","GG"),L("weekYear",1),L("isoWeekYear",1),Q("G",Xr),Q("g",Xr),Q("GG",Ur,Rr),Q("gg",Ur,Rr),Q("GGGG",Vr,Hr),Q("gggg",Vr,Hr),Q("GGGGG",Yr,Br),Q("ggggg",Yr,Br),ne(["gggg","ggggg","GGGG","GGGGG"],function(t,e,n,i){e[i.substr(0,2)]=w(t)}),ne(["gg","GG"],function(e,n,i,r){n[r]=t.parseTwoDigitYear(e)}),Y("Q",0,"Qo","quarter"),j("quarter","Q"),L("quarter",7),Q("Q",Fr),ee("Q",function(t,e){e[no]=3*(w(t)-1)}),Y("D",["DD",2],"Do","date"),j("date","D"),L("date",9),Q("D",Ur),Q("DD",Ur,Rr),Q("Do",function(t,e){return t?e._ordinalParse:e._ordinalParseLenient}),ee(["D","DD"],io),ee("Do",function(t,e){e[io]=w(t.match(Ur)[0],10)});var Yo=B("Date",!0);Y("DDD",["DDDD",3],"DDDo","dayOfYear"),j("dayOfYear","DDD"),L("dayOfYear",4),Q("DDD",$r),Q("DDDD",Lr),ee(["DDD","DDDD"],function(t,e,n){n._dayOfYear=w(t)}),Y("m",["mm",2],0,"minute"),j("minute","m"),L("minute",14),Q("m",Ur),Q("mm",Ur,Rr),ee(["m","mm"],oo);var zo=B("Minutes",!1);Y("s",["ss",2],0,"second"),j("second","s"),L("second",15),Q("s",Ur),Q("ss",Ur,Rr),ee(["s","ss"],ao);var Xo=B("Seconds",!1);Y("S",0,0,function(){return~~(this.millisecond()/100)}),Y(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),Y(0,["SSS",3],0,"millisecond"),Y(0,["SSSS",4],0,function(){return 10*this.millisecond()}),Y(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),Y(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),Y(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),Y(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),Y(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),j("millisecond","ms"),L("millisecond",16),Q("S",$r,Fr),Q("SS",$r,Rr),Q("SSS",$r,Lr);var Go;for(Go="SSSS";Go.length<=9;Go+="S")Q(Go,zr);for(Go="S";Go.length<=9;Go+="S")ee(Go,ji);var Ko=B("Milliseconds",!1);Y("z",0,0,"zoneAbbr"),Y("zz",0,0,"zoneName");var Qo=v.prototype;Qo.add=qo,Qo.calendar=Xn,Qo.clone=Gn,Qo.diff=ni,Qo.endOf=gi,Qo.format=si,Qo.from=ci,Qo.fromNow=ui,Qo.to=li,Qo.toNow=hi,Qo.get=q,Qo.invalidAt=Si,Qo.isAfter=Kn,Qo.isBefore=Qn,Qo.isBetween=Jn,Qo.isSame=Zn,Qo.isSameOrAfter=ti,Qo.isSameOrBefore=ei,Qo.isValid=xi,Qo.lang=Vo,Qo.locale=fi,Qo.localeData=di,Qo.max=Lo,Qo.min=Ro,Qo.parsingFlags=Ci,Qo.set=$,Qo.startOf=pi,Qo.subtract=$o,Qo.toArray=bi,Qo.toObject=wi,Qo.toDate=yi,Qo.toISOString=oi,Qo.inspect=ai,Qo.toJSON=ki,Qo.toString=ri,Qo.unix=vi,Qo.valueOf=mi,Qo.creationData=Ti,Qo.year=vo,Qo.isLeapYear=ve,Qo.weekYear=Ei,Qo.isoWeekYear=Ai,Qo.quarter=Qo.quarters=Mi,Qo.month=le,Qo.daysInMonth=he,Qo.week=Qo.weeks=Ee,Qo.isoWeek=Qo.isoWeeks=Ae,Qo.weeksInYear=Ii,Qo.isoWeeksInYear=Di,Qo.date=Yo,Qo.day=Qo.days=Fe,Qo.weekday=Re,Qo.isoWeekday=Le,Qo.dayOfYear=Pi,Qo.hour=Qo.hours=Eo,Qo.minute=Qo.minutes=zo,Qo.second=Qo.seconds=Xo,Qo.millisecond=Qo.milliseconds=Ko,Qo.utcOffset=In,Qo.utc=Nn,Qo.local=Mn,Qo.parseZone=Pn,Qo.hasAlignedHourOffset=jn,Qo.isDST=Fn,Qo.isLocal=Ln,Qo.isUtcOffset=Hn,Qo.isUtc=Bn,Qo.isUTC=Bn,Qo.zoneAbbr=Fi,Qo.zoneName=Ri,Qo.dates=C("dates accessor is deprecated. Use date instead.",Yo),Qo.months=C("months accessor is deprecated. Use month instead",le),Qo.years=C("years accessor is deprecated. Use year instead",vo),Qo.zone=C("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",On),Qo.isDSTShifted=C("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Rn);
var Jo=A.prototype;Jo.calendar=D,Jo.longDateFormat=I,Jo.invalidDate=O,Jo.ordinal=N,Jo.preparse=Bi,Jo.postformat=Bi,Jo.relativeTime=M,Jo.pastFuture=P,Jo.set=_,Jo.months=oe,Jo.monthsShort=ae,Jo.monthsParse=ce,Jo.monthsRegex=de,Jo.monthsShortRegex=fe,Jo.week=Se,Jo.firstDayOfYear=_e,Jo.firstDayOfWeek=Te,Jo.weekdays=Oe,Jo.weekdaysMin=Me,Jo.weekdaysShort=Ne,Jo.weekdaysParse=je,Jo.weekdaysRegex=He,Jo.weekdaysShortRegex=Be,Jo.weekdaysMinRegex=Ue,Jo.isPM=ze,Jo.meridiem=Xe,Je("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,n=1===w(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th";return t+n}}),t.lang=C("moment.lang is deprecated. Use moment.locale instead.",Je),t.langData=C("moment.langData is deprecated. Use moment.localeData instead.",en);var Zo=Math.abs,ta=or("ms"),ea=or("s"),na=or("m"),ia=or("h"),ra=or("d"),oa=or("w"),aa=or("M"),sa=or("y"),ca=sr("milliseconds"),ua=sr("seconds"),la=sr("minutes"),ha=sr("hours"),fa=sr("days"),da=sr("months"),pa=sr("years"),ga=Math.round,ma={s:45,m:45,h:22,d:26,M:11},va=Math.abs,ya=Cn.prototype;return ya.abs=Gi,ya.add=Qi,ya.subtract=Ji,ya.as=ir,ya.asMilliseconds=ta,ya.asSeconds=ea,ya.asMinutes=na,ya.asHours=ia,ya.asDays=ra,ya.asWeeks=oa,ya.asMonths=aa,ya.asYears=sa,ya.valueOf=rr,ya._bubble=tr,ya.get=ar,ya.milliseconds=ca,ya.seconds=ua,ya.minutes=la,ya.hours=ha,ya.days=fa,ya.weeks=cr,ya.months=da,ya.years=pa,ya.humanize=dr,ya.toISOString=pr,ya.toString=pr,ya.toJSON=pr,ya.locale=fi,ya.localeData=di,ya.toIsoString=C("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",pr),ya.lang=Vo,Y("X",0,0,"unix"),Y("x",0,0,"valueOf"),Q("x",Xr),Q("X",Qr),ee("X",function(t,e,n){n._d=new Date(1e3*parseFloat(t,10))}),ee("x",function(t,e,n){n._d=new Date(w(t))}),t.version="2.17.0",e(bn),t.fn=Qo,t.min=kn,t.max=xn,t.now=Ho,t.utc=l,t.unix=Li,t.months=$i,t.isDate=a,t.locale=Je,t.invalid=p,t.duration=Un,t.isMoment=y,t.weekdays=Yi,t.parseZone=Hi,t.localeData=en,t.isDuration=Sn,t.monthsShort=Vi,t.weekdaysMin=Xi,t.defineLocale=Ze,t.updateLocale=tn,t.locales=nn,t.weekdaysShort=zi,t.normalizeUnits=F,t.relativeTimeRounding=hr,t.relativeTimeThreshold=fr,t.calendarFormat=zn,t.prototype=Qo,t}),define("component/trade",["require","component/suggestion","jquery","microtemplates","js-cookie","component/config","component/util","component/track","component/trade-api-client","component/notification","component/trade-error-parser","component/trade-status-parser","legacy/PubSub","component/company-resource","component/order-interaction-checker","component/legacy-value-mapper","component/trade/announcement","component/auth","component/trade/loader","moment","component/i18n","component/config"],function(t){"use strict";t("component/suggestion");var e,n,i,r,o,a,s,c,u,l,h,f,d,p,g,m,v,y,b,w,k,x,C,S,T,_,E,A,D,I,O,N=t("jquery"),M=t("microtemplates"),P=t("js-cookie"),j=t("component/config"),F=t("component/util"),R=t("component/track"),L=t("component/trade-api-client"),H=t("component/notification"),B=t("component/trade-error-parser"),U=t("component/trade-status-parser"),W=t("legacy/PubSub"),q=t("component/company-resource"),$=t("component/order-interaction-checker"),V=t("component/legacy-value-mapper"),Y=t("component/trade/announcement"),z=t("component/auth"),X=t("component/trade/loader"),G=t("moment"),K=t("component/i18n"),Q={path:"/",domain:location.hostname.indexOf("vndirect.com.vn")>=0?".vndirect.com.vn":"",secure:"https:"===location.protocol},J=0,Z=2,te=500,ee=15e3,ne=function(){W.subscribe("login",function(t){if("social-acc"===t.loginType){P.set("loginType","social-acc",Q),N("body").addClass("logged-in-social-acc").removeClass("logged-in logged-in-free-acc"),e.addClass("logged-in-social-acc").removeClass("logged-in");var n=null==t.customerName?t.username:t.customerName;return N(".name",e).html(n),void X.hide()}if("ONLINE_FREE_REGISTER"===t.status){P.set("loginType","free-acc",Q),N("body").addClass("logged-in-free-acc").removeClass("logged-in logged-in-social-acc"),e.addClass("logged-in-free-acc").removeClass("logged-in logged-in-social-acc");var n=null==t.customerName?t.username:t.customerName;return N(".name",e).html(n),void X.hide()}pe().done(function(){de(C)})})},ie=function(){W.subscribe("logout",function(){ue(),H.disconnect(),N("body").removeClass("logged-in-free-acc logged-in-social-acc logged-in"),e.removeClass("logged-in-free-acc logged-in-social-acc logged-in"),C=void 0,S=[],n.empty(),N("#portfolio-render").empty(),N("#orderbook-render").empty(),N("#assets-render").empty(),N("#stocks-render").empty(),N("#notifications-render").empty(),N(".name",e).empty(),N(".trade-page-login .vtos label",e).html("..."),N(".max-quantity span",y).html("0"),N(".vtosmap-serial strong",v).empty(),N(".trade-pages",e).nanoScroller()})},re=function(){return L.getVtosChallenge(z.getRawToken()).done(function(t){N(".vtosmap .cell",v).html("").removeClass("highlight"),N.each(t.challenges,function(n,i){p.eq(n).attr("data-cell",i),N(".trade-page-login .vtos label",e).eq(n).html(t.challenges[n]),N("#vtosmap-"+i).addClass("highlight").html(i)}),N(".vtosmap-serial strong",v).text(t.serial)}).fail(function(t){Y.show(B.getMessage(t),"important bad"),R.page("/trade/personal/vtos/fail/"+B.getCode(t),"Xác nhận VTOS thất bại")})},oe=function(){p.click(function(){N(this).select()}).not(":last").each(function(t){N(this).on("keyup",function(){N(this).val()&&p.eq(t+1).focus()})}),N('form[name="vtos"]',v).on("submit",function(t){t.preventDefault();var n=me();if(n){var i=[p.eq(0).val(),p.eq(1).val(),p.eq(2).val()];if(""===i[0]||""===i[1]||""===i[2])return void Y.show(K.t("trade:auth.vtos_missing_code"),"bad").hide(3e3);var r=N(this).find("[type=submit]");r.prop("disabled",!0),X.show(),R.page("/trade/personal/vtos","Xác nhận VTOS"),L.postVtosAnswer(n,i).always(function(){r.prop("disabled",!1),X.hide()}).done(function(t){p.val(""),P.set("accessToken",t.token,Q),Y.show(K.t("trade:auth.vtos_success"),"good").hide(3e3),e.addClass("two-factor-logged-in"),R.stopTiming("Luồng người dùng","Xác nhận VTOS"),R.page("/trade/personal/vtos/succeed","Xác nhận VTOS thành công"),W.publish("vtosLoggedIn")}).fail(function(t){re(),p.val(""),Y.show(B.getMessage(t),"bad").hide(3e3),R.page("/trade/personal/vtos/fail/"+B.getCode(t),"Xác nhận VTOS thất bại")})}})},ae=function(){N('form[name="otp"]',v).on("submit",function(t){t.preventDefault();var n=me();if(n){var i=g.val();if(""===i)return void Y.show(K.t("trade:auth.enter_vtos_warning"),"bad").hide(3e3);var r=N(this).find("[type=submit]");r.prop("disabled",!0),X.show(),R.page("/trade/personal/otp","Xác nhận OTP"),L.postOtpAnswer(n,i).always(function(){r.prop("disabled",!1),X.hide()}).done(function(t){g.val(""),P.set("accessToken",t.token,Q),Y.show(K.t("trade:auth.otp_success"),"good").hide(3e3),e.addClass("two-factor-logged-in"),R.stopTiming("Luồng người dùng","Xác nhận OTP"),R.page("/trade/personal/otp/succeed","Xác nhận OTP thành công"),W.publish("vtosLoggedIn")}).fail(function(t){g.val(""),Y.show(B.getMessage(t),"bad").hide(3e3),R.page("/trade/personal/otp/fail/"+B.getCode(t),"Xác nhận OTP thất bại")})}})},se=function(){var t="otp-user otp-app-user otp-sms-user vtos-user";N(v).on("click",".fallback-vtos",function(){e.removeClass(t).addClass("vtos-user"),re()}),N(v).on("click",".fallback-otp-sms",function(){e.removeClass(t).addClass("otp-user otp-sms-user")}),N(v).on("click",".fallback-otp-app",function(){e.removeClass(t).addClass("otp-user otp-app-user")})},ce=function(){n.on("change",function(){if(me()){var t=N(this).val();P.set("accountNo",t,Q),ue(),n.val(t),X.show(),N.when(xe(),Ce(),_e(),Le(),He()).done(function(){X.hide(),N(".trade-pages",e).nanoScroller()}).fail(function(){X.hide()}),R.event("dropdown","switch","Chuyển tài khoản")}})},ue=function(){T&&T.stocks&&N.each(T.stocks,function(t,e){W.publish("stopConsume",{type:"STOCK",codes:[e.symbol],id:"trade-portfolio"}),e.subscriber.remove()})},le=function(){var t=me();if(t){var e=r.first().html();r.html("<em>"+K.t("loading")+"</em>");var i=a.val(),o=s.val().trim(),c=u.val();i&&(i=Math.round(1e3*Number(i))),"LO"!==c&&(i=void 0),o&&o.length>=3?L.getPpse(t,n.val(),o,i,c).done(function(t){r.html("<strong>"+F.formatNumber(t.ppse>0?t.ppse:0)+"</strong> ₫"),r.filter(":visible").addClass("flash-color")}).fail(function(t){r.html(e),R.page("/trade/fail/"+B.getCode(t),"Lấy PPSE thất bại")}):L.getPp0(t,n.val()).done(function(t){r.html("<strong>"+F.formatNumber(t.pp0>0?t.pp0:0)+"</strong> ₫")}).fail(function(t){r.html("<strong>"+e+"</strong>"),R.page("/trade/fail/"+B.getCode(t),"Lấy PP0 thất bại")})}},he=function(){e.on("click",".reload",function(t){pe(),R.event("reload","click","Người dùng bấm cập nhật toàn bộ Trade Menu"),t.preventDefault()})},fe=function(){N(".send-otp",v).on("click",function(t){t.preventDefault();var e=me();if(e){var n=K.getCurrentLanguage(),i=N(this);R.event("otp","click","Người dùng bấm yêu cầu gửi mã xác thực OTP"),i.prop("disabled",!0),L.getOtp(e,"sms",n).then(function(){Y.show(K.t("trade:auth.otp_sent"),"important").hide(5e3),setTimeout(function(){i.prop("disabled",!1)},ee)},function(t){i.prop("disabled",!1),Y.show(B.getMessage(t),"bad important"),R.page("/trade/fail/"+B.getCode(t),"Yêu cầu gửi mã xác thực OTP thất bại")})}})},de=function(e){var n=function(t){Ue(t),Ve([t],{prepend:!0,isNew:!0})};!function i(){H.connect(function(){H.subscribe(e,S.map(function(t){return t.accountNumber}),{"order/sent":function(t){n(t),_e(),Ce(),Le()},"order/executed":function(t){n(t),_e(),Ce(),Le()},"order/canceled":function(t){n(t),_e(),Ce(),Le()},"order/replaced":function(t){n(t),_e(),Ce(),Le()},"order/expired":function(t){n(t),_e(),Ce(),Le()},counter:function(t){qe(t)}})},function(e){console.error("Notification: ",e),setTimeout(i,t("component/config").reconnectDelay)})}()},pe=function(){return me()?(X.show(),R.startTiming("Hệ thống","Tải đầy đủ thông tin tài khoản người dùng"),ye(),we().then(function(){"free-acc"===P.get("loginType")?(N("body").addClass("logged-in-free-acc"),e.addClass("logged-in-free-acc")):(N("body").addClass("logged-in"),e.addClass("logged-in")),P.set("smartboardUser",1,Q);var t=z.getToken();"true"===t.secondFa&&e.addClass("two-factor-logged-in"),"free-acc"!==P.get("loginType")&&be(),N.when(ke(),xe(),le(),Ce(),_e(),Le(),He(),We(),$e()).done(function(){R.stopTiming("Hệ thống","Tải đầy đủ thông tin tài khoản người dùng")}).fail(function(){R.clearTiming("Hệ thống","Tải đầy đủ thông tin tài khoản người dùng")}),X.hide()},function(t){("AUTH-03"===t.responseJSON.error||"AUTH-04"===t.responseJSON.error)&&N(".logout",e).first().click(),X.hide()})):void 0},ge=function(){return Ce(),Le(),He(),s.trigger("change"),_e()},me=function(){var t=z.getRawToken();return t||(N(".logout",e).first().click(),Y.show(K.t("trade:auth.session_expired"),"bad").hide(5e3)),t},ve=function(){if(!e.hasClass("two-factor-logged-in")){N('[href="#page-login"]',e).click();var t;return t=K.t(e.hasClass("otp-user")?"trade:auth.enter_otp_warning":e.hasClass("vtos-user")?"trade:auth.enter_vtos_warning":"trade:auth.not_register_otp"),Y.show(t).hide(5e3),!1}return!0},ye=function(){var t=new Date;t.getDay()>0&&t.getDay()<6&&t.getHours()>15&&t.getHours()<20?e.addClass("batch-processing-time"):e.removeClass("batch-processing-time")},be=function(){return e.removeClass(function(t,e){return(e.match(/\b\S+\-user\b/g)||[]).join(" ")}),L.getAuthInfo(z.getRawToken()).then(function(t){"string"==typeof t.secondFactor&&t.secondFactor.length>0&&(e.addClass(t.secondFactor.toLowerCase()+"-user"),"string"==typeof t.authenticationMethod&&t.authenticationMethod.length>0&&e.addClass(t.secondFactor.toLowerCase()+"-"+t.authenticationMethod.toLowerCase()+"-user")),"VTOS"!==t.secondFactor||e.hasClass("two-factor-logged-in")||re()},function(t){Y.show(B.getMessage(t),"bad important"),R.page("/trade/fail/"+B.getCode(t),"Lấy thông tin bảo mật 2 lớp thất bại")})},we=function(){return L.getCustomer(z.getRawToken()).done(function(t){C=t.customerId,S=t.accounts,W.publish("accountLoaded",t),N(".name",e).html(t.customerName),n.each(function(t,e){N(e).empty(),N.each(S,function(t,n){N(e).append('<option value="'+n.accountNumber+'">'+n.accountNumber+" - "+n.fullName+"</option>")}),S&&S.length&&N(e).val(S[0].accountNumber)}),N("option",n).filter(function(){return N(this).attr("value")==P.get("accountNo")}).prop("selected",!0),R.user(C)}).fail(function(t){Y.show(B.getMessage(t),"bad important"),R.page("/trade/fail/"+B.getCode(t),"Lấy thông tin khách hàng thất bại")})},ke=function(){return L.getAccounts(z.getRawToken()).done(function(t){S=t.accounts}).fail(function(t){Y.show(B.getMessage(t),"bad")})},xe=function(){var t=!1;return L.getConditionalOrderSupport(z.getRawToken(),n.val()).done(function(e){"isCOSupported"===e.name&&e.value&&(t=!0,y.add(b).addClass("support-conditional-order"))}).always(function(){t||(y.add(b).removeClass("support-conditional-order has-condition"),"normal"!=m.filter(":checked").val()&&m.filter('[value="normal"]').prop("checked",!0).trigger("change"))})},Ce=function(){return ue(),L.getPortfolio(z.getRawToken(),n.val()).done(function(t){T=t,t.getProfit=function(){var t=0;return N.each(this.stocks,function(e,n){t+=(n.currentPrice-n.costPrice)*n.quantity}),t},N.each(t.stocks,function(t,e){W.publish("consume",{type:"STOCK",codes:[e.symbol],id:"trade-portfolio"}),e.subscriber=W.subscribe("update"+e.symbol,function(t){var n=t.displayPrice(),i=0!=n?n:t.basicPrice;i=1e3*i,e.currentPrice!=i&&(e.currentPrice=i,Se())})}),Se()}).fail(function(){N("#portfolio-render").html(M(N("#portfolio-tmpl").html(),void 0))})},Se=function(){N("#portfolio-render").html(""),N.each(T.stocks,function(t,e){e.percentage=e.costPrice>0?Math.round(1e4*(e.currentPrice/e.costPrice-1))/100:"--"}),N("#portfolio-render").html(M(N("#portfolio-tmpl").html(),{stocks:T.stocks,profit:T.getProfit(),format:F.formatNumber})),N(".view-on-priceboard",w).click(function(t){W.publish("requestExpand",n.val()),t.preventDefault()}),w.localize()},Te=function(){m.change(function(){if(me()){{"condition"===N(this).val()}X.show(),_e(J).always(function(){X.hide()})}})},_e=function(t){var i="condition"===m.filter(":checked").val(),r="number"!=typeof t||J>t?J:t;return L.getOrders(z.getRawToken(),n.val(),r,i).done(function(t){t.orders||(t.orders=t.sellStopOrders),"undefined"!=typeof t.orders&&(i?(Ie(t.orders),Oe(t.orders,r),b.addClass("no-more-items")):(Ee(t.orders),Ae(t.orders,r),De(t.orders)))}).fail(function(){r===J&&(b.addClass("no-more-items"),N("#orderbook-render").html(M(N("#orderbook-tmpl").html(),{})))}).always(function(){N(".trade-pages",e).nanoScroller(),b.localize()})},Ee=function(t){t.forEach(function(t){t.createdAtFormatted=G(t.createdAt).format(K.t("date_time_format")),"GTD"===t.type&&(t.expiredDateFormatted=G(new Date(t.expiredDate)).format(K.t("date_format"))),"Filled"===t.status&&t.remainingQuantity>0&&(t.status="PartiallyFilled"),t.error&&(t.errorMessage=B.getShortMessage(t.error)),t.cancellable=$.isCancellable(t),t.replaceable=$.isReplaceable(t),t.status=U.getOrderStatus(t.status),t.orderReports&&Array.isArray(t.orderReports)&&t.orderReports.forEach(function(t){t.createdAt=new Date(t.createdAt),t.createdAtHHmm=G(t.createdAt).format("HH:mm"),t.status=U.getReportStatus(t.status,t.execType)})})},Ae=function(t,e){var n=N("#orderbook-tmpl").html(),i=N("#orderbook-item-tmpl").html();t.length>0&&b.data("page",e),e===J?N("#orderbook-render").html(M(n,{orders:t,render:function(t){return M(i,{order:t,format:F.formatNumber})}})):t.forEach(function(t){N(".orderbook tfoot",N("#orderbook-render")).before(M(i,{order:t,format:F.formatNumber}))})},De=function(t){0===t.length?b.addClass("no-more-items"):b.removeClass("no-more-items")},Ie=function(t){t.forEach(function(t){t.orderTypeText="sell_stop"===t.orderType?"Bán":"Mua",t.createdDateFormatted=G(new Date(t.createdDate)).format(K.t("date_time_format")),t.expiryDateFormatted=G(new Date(t.expiryDate)).format(K.t("date_format")),t.triggered||"Cancelled"===t.status?(t.cancellable=!1,t.replaceable=!1):(t.cancellable=!0,t.replaceable=!0),t.status=U.getConditionalOrderStatus(t),t.reason&&(t.errorMessage=B.getShortMessage(t.reason))})},Oe=function(t,e){var n=N("#orderbook-conditional-tmpl").html(),i=N("#orderbook-item-conditional-tmpl").html();t.length>0&&b.data("page",e),e===J?N("#orderbook-render").html(M(n,{orders:t,render:function(t){return M(i,{order:t,format:F.formatNumber})}})):t.forEach(function(t){N(".orderbook tfoot",N("#orderbook-render")).before(M(i,{order:t,format:F.formatNumber}))})},Ne=function(){if(me()){var t=(b.data("page")||J)+1;b.data("loading",!0),X.show(),_e(t).always(function(){b.data("loading",!1),X.hide()})}},Me=function(){var t=b.parent(),e=0;t.on("scroll",function(){if(!(!b.hasClass("active")||b.hasClass("no-more-items")||b.data("loading")||e>=Z)){var n=t.scrollTop()+t.innerHeight()>=.9*b.outerHeight();n&&(Ne(),e++)}})},Pe=function(){b.on("click",".load-more",Ne)},je=function(){s.add(a).add(n).add(u).on("change",F.debounce(function(){e.hasClass("logged-in")&&le()},te))},Fe=function(){var t=n.val(),i=s.val().toUpperCase().trim(),r=a.val(),o=u.val(),c=N.Deferred();c.done(function(t){return N(".max-quantity span",y).html(F.formatNumber(t)),t});var l=me();if(!e.hasClass("logged-in")||!l)return c.resolve(0),c;if(r&&(r=Math.round(1e3*Number(r))),"LO"!==o&&(r=void 0),y.hasClass("showing-buy"))i&&i.length>=3?L.getPpse(l,t,i,r,o).done(function(t){c.resolve(t.qmax)}):c.resolve(0);else{var h;A.some(function(t){return t.symbol.toUpperCase()===i?(h=t,!0):void 0}),h?_.getStockInfo(i).done(function(t){var e=F.getDefaultQuantity(t.floorCode),n=Math.floor(h.available/e)*e;c.resolve(n)}):c.resolve(0)}return c},Re=function(){var t=u.val(),e=Number(F.removeCommasFromNumber(c.val())),n=N.Deferred();if("LO"===t){var i=a.val()||0;n.resolve(i)}else{var r=s.val().toUpperCase().trim();r&&r.length>=3?_.getStockInfo(r).then(function(t){n.resolve(y.hasClass("showing-buy")?t.ceilingPrice:t.floorPrice)}):n.resolve(0)}n.then(function(t){var n=Math.round(e*t*1e3);N(".order-total strong",y).html(isNaN(n)?"-":F.formatNumber(n))})},Le=function(){return L.getAssets(z.getRawToken(),n.val()).done(function(t){N("#assets-render").html(M(N("#assets-tmpl").html(),{assets:t,format:F.formatNumber}))}).fail(function(){N("#assets-render").html(M(N("#assets-tmpl").html(),{}))}).always(function(){k.localize()})},He=function(){return L.getStocks(z.getRawToken(),n.val()).done(function(t){"undefined"==typeof t.stocks&&(t.stocks=N.makeArray([])),t.stocks.forEach(function(t){t.receiving=t.t0+t.t1+t.t2}),A=t.stocks,N("#stocks-render").html(M(N("#stocks-tmpl").html(),{stocks:t.stocks,format:F.formatNumber}))}).fail(function(){N("#stocks-render").html(M(N("#stocks-tmpl").html(),{}))}).always(function(){k.localize()})},Be=function(){var t=Number(o.children("em").text());return(isNaN(t)||0>t)&&(t=0),t},Ue=function(t){t.hasOwnProperty("side")&&(t.side=V.mapSide(t.side)),t.hasOwnProperty("type")&&(t.priceType=V.mapOrderType(t.type)),t.hasOwnProperty("price")&&(t.price/=1e3),t.hasOwnProperty("matchedPrice")&&(t.matchedPrice/=1e3),t.hasOwnProperty("newPrice")&&(t.newPrice/=1e3),t.hasOwnProperty("eventName")&&(t.type=t.eventName.toLowerCase()),t.transactTime=new Date(t.transactTime)},We=function(){return H.fetchCounter(C).done(function(t){qe(t.result.count)})},qe=function(t){t=Number(t)||0,o.children("em").text(t),t>0?o.addClass("new"):o.removeClass("new")},$e=function(t,e){return t="number"==typeof t&&t>=0?t:0,e="number"==typeof e&&e>0?e:10,H.fetch(S.map(function(t){return t.accountNumber}),t,e).done(function(e){e.result.forEach(Ue),Ve(e.result,{replace:0===t}),0===e.result.length&&x.addClass("no-more-items")}).fail(function(){0===t&&(x.addClass("no-more-items"),N("#notifications-render").html(M(D,{notifications:[]})))})},Ve=function(t,n){n=N.extend({prepend:!1,replace:!1,isNew:!1},n);var i=function(t){return K.t("NB"===t?"trade:order.buy":"trade:order.sell")},r=function(t){return G(t).format(K.t("date_format"))},o=function(t){return O.hasOwnProperty(t.type)?M(O[t.type],{notification:t,formatNumber:F.formatNumber,getSide:i}):(console.warn("no notification template found for: "+t.type),"")},a=function(t){return M(I,{notification:t,moment:G,formatDate:r,isNew:n.isNew,renderBody:o})},s=N(".notifications",e);n.replace?N("#notifications-render").html(M(D,{notifications:t,render:a})):t.forEach(function(t){n.prepend?s.prepend(a(t)):s.append(a(t))}),x.localize()},Ye=function(){var t=Be(),n=N(".notifications",e).children("li");n.removeClass("new"),t>0&&n.slice(0,t).addClass("new")},ze=function(){x.on("click",".load-more",Ge)},Xe=function(){var t=x.parent(),e=0;t.on("scroll",function(){if(!(!x.hasClass("active")||x.hasClass("no-more-items")||x.data("loading")||e>=Z)){var n=t.scrollTop()+t.innerHeight()>=.9*x.outerHeight();n&&(Ge(),e++)}})},Ge=function(){var t=N(".notifications",e).children("li").length;X.show(),x.data("loading",!0),$e(t).always(function(){x.data("loading",!1),X.hide(),N(".trade-pages",e).nanoScroller()})},Ke=function(){b.on("click",".cancel, .cancel-stop",function(){var t=me();if(t&&ve()&&confirm("Bạn có chắc chắn muốn huỷ lệnh?")){var i=N(this).parents("tbody"),r=G.utc(i.data("expired-date")),o={Symbol:i.data("symbol"),Quantity:i.data("quantity"),OrderType:i.data("order-type"),Side:"NB"===i.data("side")?"Buy":"Sell",Term:i.data("term"),ExpiredDate:r.isValid()?r.format("YYYY-MM-DD"):""},a=N(this).hasClass("cancel-stop"),s=N(this).attr("data-id");X.show();var c;c=a?L.deleteStopOrder(t,n.val(),s):L.deleteOrder(t,n.val(),s),c.always(function(){X.hide()}).done(function(){Y.show(K.t("trade:order.cancel_order_success"),"important good").hide(5e3),ge().then(function(){N(".trade-pages",e).nanoScroller()}),a||R.eventMixpanel("Order","Cancel",o),R.page("/trade/order/cancel/succeed","Huỷ lệnh thành công")}).fail(function(t){Y.show(B.getMessage(t),"important bad").hide(1e4),R.page("/trade/order/cancel/fail/"+B.getCode(t),"Huỷ lệnh thất bại")})}})},Qe=function(){b.on("click",".replace",function(){if(ve()){var t=N(this).parents("tbody");t.addClass("editable"),t.find(".input").each(function(){var t=N(this),e=t.parent().siblings(".value").text();t.hasClass("number")?(e=F.removeCommasFromNumber(e),isNaN(e)?e="":(e=Number(e),t.hasClass("price")&&(e/=1e3))):t.hasClass("conditional-expriry-date")&&(e=e.substr(0,10)),N(this).val(e)}).first().focus();var e=t.find(".orderbook-expiry-date").find(".input"),n=t.find(".orderbook-date-created"),i=G.utc(G(n.text(),K.t("date_time_format"))).add(30,"days").toDate();Ze(e,i)}}),b.on("keyup",".input",function(t){if(13==t.which){var e=N(this).parents("tbody").data("order-id");e&&N("#do-replace-"+e,b).trigger("click")}}),b.on("click",".do-replace, .do-replace-stop",function(){var t=me();if(ve()){var i,r=N(this),o=r.parents("tbody"),a=r.data("order-id"),s=G.utc(o.data("expired-date")),c={Symbol:o.data("symbol"),Quantity:o.data("quantity"),OrderType:o.data("order-type"),Side:"NB"===o.data("side")?"Buy":"Sell",Term:o.data("term"),ExpiredDate:s.isValid()?s.format("YYYY-MM-DD"):""},u=N(this).hasClass("do-replace-stop");if(u){var l=o.find(".orderbook-price").find(".input"),h=o.find(".orderbook-quantity").find(".input"),f=o.find(".orderbook-trigger-price").find(".input"),d=o.find(".orderbook-expiry-date").find(".input"),p=G.utc(d.val(),K.t("date_format"));if(!p.isValid())return void Y.show(K.t("trade:order.invalid_order_date")).hide("5000");var g=p.toDate(),m=Math.round(1e3*Number(F.removeCommasFromNumber(l.val()))),v=Number(F.removeCommasFromNumber(h.val())),y=Number(1e3*F.removeCommasFromNumber(f.val())),b={orderId:a,symbol:r.data("symbol"),orderType:r.data("order-type"),priceType:r.data("price-type"),price:m,triggerPrice:y,quantity:v,expiryDate:g,relational:f.data("relational")};i=L.putStopOrder(t,n.val(),b)}else{var l=o.find(".orderbook-price").find(".input"),h=o.find(".orderbook-quantity").find(".input"),m=Math.round(1e3*Number(F.removeCommasFromNumber(l.val()))),v=Number(F.removeCommasFromNumber(h.val()));c.Quantity=v,i=L.patchOrder(t,n.val(),a,m,v)}r.prop("disabled",!0),X.show(),i.always(function(){X.hide(),r.prop("disabled",!1)}).done(function(){ge().then(function(){N(".trade-pages",e).nanoScroller()}),o.removeClass("editable"),Y.show(K.t("trade:order.edit_order_success"),"important good").hide(5e3),u||R.eventMixpanel("Order","Replace",c),R.page("/trade/order/replace/succeed","Sửa lệnh thành công")}).fail(function(t){Y.show(B.getMessage(t),"important bad").hide(1e4),R.page("/trade/order/replace/fail/"+B.getCode(t),"Sửa lệnh thất bại")})}}),b.on("click",".reset-replace",function(){var t=N(this).parents("tbody");t.removeClass("editable")})},Je=function(){N(".trade-page-order form",e).on("submit",function(t){if(t.preventDefault(),!e.hasClass("logged-in"))return void N('[href="#page-login"]',e).click();var r=me();if(r&&ve()){var o=s.val().toUpperCase().trim(),p=y.hasClass("showing-buy")?"NB":"NS",g=Math.round(1e3*parseFloat(a.val())),v=Number(F.removeCommasFromNumber(c.val())),b=u.val(),w=f.val(),k=y.hasClass("has-condition"),x={side:p,symbol:o,price:g,quantity:v,orderType:b},C={Symbol:o,Quantity:v,OrderType:b,Side:"NB"===p?"Buy":"Sell",Term:"T",ExpiredDate:""},S=G.utc(w,K.t("date_format"));if(null!=w&&""!=w&&S.isValid()&&0!==S.diff(G.utc().startOf("day"))?(x.expiredDate=S.toDate(),C.ExpiredDate=S.format("YYYY-MM-DD"),k||(x.term="GTD",C.Term="GTD")):x.expiredDate=new Date,k){if(isNaN(d.val()))return void Y.show(K.t("trade:order.invalid_trigger_price"),"important bad").hide(1e4);var T=Math.round(1e3*parseFloat(d.val()));x.accountNo=n.val(),x.orderType="NB"===p?"buy_stop":"sell_stop",x.expiryDate=x.expiredDate,x.triggerPrice=T,x.placedPrice=g,x.priceType=l.val(),x.relational=h.hasClass("active")?"lteq":"gteq",delete x.price,delete x.expiredDate}var E=N(this),A=E.find("[type=submit]");A.prop("disabled",!0),X.show(),R.startTiming("Hệ thống","Đặt lệnh"),L.postOrder(r,n.val(),x).always(function(){X.hide(),A.prop("disabled",!1)}).done(function(t){N(".trade-page-order form",e).trigger("reset");var n="Đặt lệnh thành công!";t.hasOwnProperty("orders")&&Array.isArray(t.orders)&&(t.orders.length>1&&(n+=" Lệnh được chia thành "+t.orders.length+" lệnh con để đảm bảo giới hạn khối lượng tối đa của sở GDCK."),"LO"===b?R.transaction(t.orders[0].id,p,o,b,g,v):_.getStockInfo(o).then(function(e){R.transaction(t.orders[0].id,p,o,b,1e3*e.basicPrice,v)})),Y.show(n,"important good").hide(7500),u.val("LO").trigger("change"),s.val(""),a.val(""),d.val(""),f.val(""),c.val("").trigger("keyup"),E.find("select, input").filter(":focus").blur(),A.prop("disabled",!1),k||R.eventMixpanel("Order","New",C),R.page("/trade/order/place/succeed","Đặt lệnh thành công"),R.stopTiming("Hệ thống","Đặt lệnh"),R.stopTiming("Luồng người dùng","Đặt lệnh"),k?m.filter("[value=condition]").prop("checked",!0):m.filter("[value=normal]").prop("checked",!0),N('[href="#page-orderbook"]',i).click(),ge().then(function(){N(".trade-pages",e).nanoScroller()})}).fail(function(t){Y.show(B.getMessage(t),"important bad").hide(1e4),R.page("/trade/order/place/fail/"+B.getCode(t),"Đặt lệnh thất bại")})}}).on("reset",function(){Y.hide(),setTimeout(function(){u.trigger("change"),s.trigger("change"),N("#page-order").removeClass("has-condition")},1)}),y.on("change",F.debounce(function(t,e){if(Re(),"quantity"!==N(t.target).attr("name")){var n=Fe();y.hasClass("showing-sell")&&"switch-to-sell"===e&&n.done(function(t){c.val(t)})}},te)).on("prefill.sell",function(t){y.addClass("showing-sell").removeClass("showing-buy"),s.val(t.symbol),isNaN(Number(t.price))||(u.val("LO"),a.val(t.price)),Fe().done(function(t){c.val(t)}),N('[href="#page-order"]',i).click(),s.trigger("change"),u.trigger("change"),a.trigger("keyup"),c.trigger("change")})},Ze=function(t,e){t.datepicker({dateFormat:K.t("jq_datepicker_date_format"),minDate:0,maxDate:e,defaultDate:0,constrainInput:!0,beforeShow:function(t,e){e.dpDiv.insertAfter(t),setTimeout(function(){e.dpDiv.css({position:"relative",top:2,left:0,marginBottom:2})},100)}})},tn=function(){u.on("change",function(){"LO"===N(this).val()?a.prop("disabled",!1).focus():a.prop("disabled",!0)})},en=function(){s.on("change",function(){var t,e,i=N(this).val().toUpperCase();q.isHOSE(i)?(e=E.getMarketInfoModel("10"),t=j.priceTypes.HOSE[e.getStatusKey()]):q.isHNX(i)?(e=E.getMarketInfoModel("02"),t=j.priceTypes.HNX[e.getStatusKey()]):q.isUPCOM(i)?(e=E.getMarketInfoModel("03"),t=j.priceTypes.UPCOM[e.getStatusKey()]):t=j.priceTypes.all,u.children("option").prop("disabled",!0).filter(function(){return t.indexOf(N(this).val())>=0}).prop("disabled",!1),t.indexOf(u.val())<0&&u.val("LO").trigger("change");var r=n.val();i=s.val().toUpperCase().trim(),nn(r,i)}),q.getCompanies().then(function(t){var e=K.getCurrentLanguage(),n=t.map(function(t){var n="en"===e?t.companyNameEng:t.company,i="<strong>"+t.symbol+"</strong> - "+n+' -  <span class="floor">'+t.floor+"</span>";return{value:t.symbol,description:i}});s.suggestion({source:n,maxItems:5})})},nn=function(t,e){var n=me();n&&t&&0!=e.trim().length&&L.getMajorHolder(n,t,e).then(function(t){return t.majorHolder&&t.majorHolder.length>0?void Y.show(j.majorHolder[t.majorHolder],"important").hide(7e3):void 0})},rn=function(){D=N("#notifications-tmpl").html(),I=N("#notification-item-tmpl").html(),O={sent:N("#notification-body-order-sent-tmpl").html(),executed:N("#notification-body-order-executed-tmpl").html(),canceled:N("#notification-body-order-canceled-tmpl").html(),replaced:N("#notification-body-order-replaced-tmpl").html(),expired:N("#notification-body-order-expired-tmpl").html()}},on=function(){N(".sign-up",e).on("click",function(){R.page("/trade/personal/signup","Đăng ký mở tài khoản")}),N("#main").on("click",".logged-in-free-acc .sign-up",function(){R.page("/trade/personal/signup/free-acc","Nâng cấp tài khoản sau khi đăng nhập bằng free-acc")}),N("#main").on("click",".logged-in-social-acc .sign-up",function(){R.page("/trade/personal/signup/social-acc","Đăng ký mở tài khoản sau khi đăng nhập bằng social-acc")}),N(".recover-password",e).on("click",function(){R.page("/trade/personal/recover-password","Quên mật khẩu")}),N(".support",e).on("click",function(){R.page("/trade/personal/support","Trợ giúp")})},an=function(){W.subscribe("page/switch",function(t){C&&("page-notifications"===t.currentPage&&(Ye(),setTimeout(function(){H.resetCounter(C)},5e3)),"page-notifications"===t.lastPage&&(H.resetCounter(C),N(".notifications > li.new").removeClass("new")))})},sn=function(){W.subscribe("requestPortfolios",function(){var t=me();if(t){var e=[];N.each(S,function(n,i){var r=N.Deferred();e.push(r),L.getPortfolio(t,i.accountNumber).then(function(t){r.resolve(t)})}),N.when.apply(this,e).then(function(){W.publish("portfoliosLoaded",arguments)})}})};return{init:function(){e=N(".trade-menu"),v=N(".trade-page-login",e),w=N(".trade-page-portfolio",e),b=N(".trade-page-orderbook",e),y=N(".trade-page-order",e),k=N(".trade-page-assets",e),x=N(".trade-page-notifications",e),a=N('[name="price"]',y),s=N('[name="symbol"]',y),c=N('[name="quantity"]',y),u=N('[name="price-type"].for-no-condition',y),h=N("#conditional-operator-lte"),l=N('[name="price-type"].for-condition',y),f=N('[name="expiredDate"]',y),d=N('[name="triggered-price"]',y),p=N('.trade-page-login form[name="vtos"] input',e),g=N('.trade-page-login form[name="otp"] input',e),m=N('[name="order-condition"]',b),n=N(".account-switch select",e),r=N(".account-switch .pp span.value",e),i=N(".nav",e).children(),o=N(".notifications-trigger"),A=[],N(".nano",e).nanoScroller(),N.ajaxSetup({dataType:"json",contentType:"application/json"}),Je(),ne(),oe(),ae(),se(),ie(),ce(),tn(),en(),Ke(),Qe(),he(),fe(),je(),Me(),Pe(),Xe(),ze(),rn(),Te(),on(),an(),sn()},setStockResource:function(t){_=t},setMarketInfoGroup:function(t){E=t}}}),define("component/lazy-render",["require","jquery","legacy/PubSub"],function(t){var e,n,i,r,o,a,s,c,u=t("jquery"),l=t("legacy/PubSub"),h=1,f=function(){o=u(window).height();var t=e.find(n).first();if(0===t.length)throw"Reflow must NOT be triggered when no element matching <pageSelector> has been rendered yet";r=t.height(),a=Math.ceil(o/r)*h},d=function(){if(!e)return 0;
var t=u(window).scrollTop();return Math.max(0,Math.floor(t/o+.5))},p=function(){c=d()},g=function(){if(requestAnimationFrame(g),c!==s&&(s=c,e)){c||(c=0);var t=e.find(n),o=t.filter(function(){var t=Number(u(this).attr("data-"+i));return c-1>t}).addClass("invisible"),a=t.filter(function(){var t=Number(u(this).attr("data-"+i));return t>c+1}).addClass("invisible");e.css({marginTop:o.length*r,marginBottom:a.length*r}),t.filter(function(){var t=Number(u(this).attr("data-"+i));return t>=c-1&&c+1>=t}).removeClass("invisible")}},m=function(){u(window).on("scroll",function(){p()})},v=function(){u(window).on("resize",function(){y()})},y=function(){try{if(!e)return;f(),e.find(n).each(function(t){u(this).attr("data-"+i,Math.floor(t/a))}),s=void 0,p()}catch(t){console.warn(t)}};return{init:function(t,e,r){return n=t,i=e,m(),v(),r.forEach(function(t){l.subscribe(t,function(){y()})}),requestAnimationFrame(g),this},bindTo:function(t){return e&&e.css({marginTop:0,marginBottom:0}),e=t,this},reflow:function(){return y(),this}}}),define("component/motif",["require","jquery","microtemplates","component/util","component/track","component/finfo-api-client","component/price-api-client","component/company-resource","component/overlay","component/tooltip"],function(t){var e,n,i,r,o,a,s,c,u,l,h,f=t("jquery"),d=t("microtemplates"),p=t("component/util"),g=t("component/track"),m=t("component/finfo-api-client"),v=t("component/price-api-client"),y=t("component/company-resource"),b=t("component/overlay"),w=t("component/tooltip"),k=30,x=[],C=[],S=100,T=5e-5,_={colors:["#f7941d"],grid:{borderWidth:{top:0,right:0,bottom:2,left:0},color:"#999",hoverable:!0,mouseActiveRadius:10},series:{lines:{show:!0}},xaxis:{minTickSize:[7,"day"],mode:"time",tickColor:"transparent",timeformat:"%d/%m",transform:function(t){var e=Math.floor(t/864e5)-3,n=5*Math.floor(e/7)+(5>e%7?e%7:5);return n},inverseTransform:function(t){return t}},yaxis:{tickColor:"#666"}},E=["accumulatedVol","matchPrice","priceChange"],A={outstandingShares:"51004",averageVol:"51016",averageVal:"51018"},D=function(){n.filter(".active").removeClass("active")},I=function(t,e){return t.hasOwnProperty(e)?0==t[e]?"txt-yellow":p.getChangeClass(t[e],t.basicPrice,t.ceilingPrice,t.floorPrice):""},O=function(t){var e=t.stocks.map(function(t){return t.symbol});return v.getSecInfoBySymbols(e).then(function(e){return t.stocks.forEach(function(t){var n=e.filter(function(e){return e.code===t.symbol})[0];t.colors={},n&&(t.floorCode=n.floorCode,t.accumulatedVol=10*Number(n.accumulatedVol),t.floorPrice=Number(n.floorPrice),t.ceilingPrice=Number(n.ceilingPrice),t.basicPrice=Number(n.basicPrice),t.matchPrice=Number(n.matchPrice),t.priceChange=t.matchPrice?t.matchPrice-t.basicPrice:0,t.colors.matchPrice=I(t,"matchPrice"),t.colors.basicPrice=I(t,"basicPrice")),y.getCompany(t.symbol).then(function(e){e&&(t.companyName=e.company)})}),t})},N=function(t){var e=t.stocks.map(function(t){return t.symbol}),n=Object.keys(A).map(function(t){return A[t]});return m.getIndicators({symbols:e,codes:n}).then(function(e){return t.stocks.forEach(function(t){var n=e.data.filter(function(e){return e.symbol===t.symbol})[0];n&&Object.keys(A).forEach(function(e){var i=A[e];n.items.hasOwnProperty(i)&&(t[e]=n.items[i].value)})}),t})},M=function(t){return t.index=S*t.stocks.reduce(function(t,e){return t+1e3*(e.matchPrice||e.basicPrice)*e.outstandingShares},0)/t.bmv,t.indexChangePercentage=t.index/t.indexWas-1,t.gainLossClass=t.indexChangePercentage>=T?"txt-lime":t.indexChangePercentage<=-T?"txt-red":"txt-yellow",t},P=function(){l.on("STOCK",function(t){var e=t.message;if(h&&C.indexOf(e.code)>=0){for(var n,i,r=0;r<x.length;r++)for(var o=0;o<x[r].stocks.length;o++)if(x[r].stocks[o].symbol===e.code){n=x[r].stocks[o],i=x[r];break}void 0!==n&&void 0!==i&&(j(i,e),F(i),R(n))}})},j=function(t,e){t.stocks.forEach(function(t){t.symbol===e.code&&t.matchPrice!==Number(e.matchPrice)&&(t.colors||(t.colors={}),t.accumulatedVol=10*Number(e.accumulatedVol),t.matchPrice=Number(e.matchPrice),t.priceChange=t.matchPrice?t.matchPrice-t.basicPrice:0,t.colors.matchPrice=I(t,"matchPrice"))}),M(t)},F=function(t){if("object"==typeof t){var e,n=p.formatPercentage(t.indexChangePercentage,2);if(i.is(":visible")){var o=i.find(".motif-category[data-category-id="+t.id+"]");if(e=o.find(".gain-loss > span").text().trim(),n!==e){var a=o.find(".gain-loss"),s=a.children("span");a.removeClass("txt-red txt-lime txt-yellow").addClass(t.gainLossClass),s.attr("data-old",e).attr("data-new",n).addClass("flip").text(n),setTimeout(function(){s.removeClass("flip")},1e3)}}if(r.is(":visible")&&r.attr("data-category-id")==t.id){var c=p.formatNumber(t.index,2),u=r.find(".index").text().trim();e=r.find(".gain-loss").text().trim(),c!==u&&(r.find(".index").attr("data-old",u).attr("data-new",c).addClass("flip").text(c),r.find(".gain-loss").removeClass("txt-red txt-lime txt-yellow").addClass(t.gainLossClass).children().attr("data-old",e).attr("data-new",n).addClass("flip").text(n),setTimeout(function(){r.find(".flippable").removeClass("flip")},1e3))}}},R=function(t){var e=r.find("table.motif-board").find("tr[data-symbol="+t.symbol+"]");0!==e.length&&E.forEach(function(n){if(t.hasOwnProperty(n)){var i,r=e.find("[data-field="+n+"]"),o=r.text().trim();if(i="accumulatedVol"===n?p.formatNumber(t[n],0,!0):"basicPrice"===n||"matchPrice"===n||"priceChange"===n?p.formatNumber(t[n],2,!0):p.formatNumber(t[n],1,!0),o!==i){r.text(i).closest("td").addClass("flash-background");var a=e.find("[data-color="+n+"]");a.removeClass(function(t,e){return(e.match(/\btxt-\S+/g)||[]).join(" ")}).addClass(t.colors[n])}}})},L=function(){r.on("click",".view-chart",function(){var t=f(this).data("symbol");g.page("/price/motif/view-chart/"+t,"Xem biểu đồ kỹ thuật mã "+t)})},H=function(t){l.stopConsume({type:"STOCK",codes:C}),C=f.extend([],t),C.length>0&&l.registConsumer({type:"STOCK",codes:C})},B=function(){var t=new Date((new Date).getTime()-24*k*60*60*1e3),e=t.getFullYear().toString(),n=("0"+(t.getMonth()+1)).substr(-2),i=("0"+t.getDate()).substr(-2);return e+"-"+n+"-"+i},U=function(){e.on("change","[name=motif-period]",function(){if(k=Number(f(this).val()),localStorage.setItem("motifBackDates",k),g.event("motif range","switch",f(this).data("label")),f(this).parent().addClass("loading"),r.hasClass("active")){var t=r.attr("data-category-id");Y(t)}else V()})},W=function(){var t=f('<div id="tooltip-chart"></div>');r.bind("plothover",p.debounce(function(e,n,i){if(i){var r=new Date(i.datapoint[0]),o=i.datapoint[1];t.appendTo(f("body")).css({top:n.pageY-f("body").offset().top}).html("<p><label>Ngày:</label> "+p.formatDate(r)+"</p><p><label>Index:</label> "+o+"</p>");var a=t.outerWidth()+n.pageX<f(window).width()?n.pageX:n.pageX-t.outerWidth();t.css({left:a})}else t.detach()},10))},q=function(){r.on("click",".watch",function(t){t.preventDefault();var e=f(this).data("symbol");u.getCrrCate().addCode(e),f(this).prop("disabled",!0),g.event("motif button","click","Theo dõi mã "+e)})},$=function(t){t.stocks.forEach(function(t){t.watched=u.getCrrCate().hasCode(t.symbol)})},V=function(){D(),i.addClass("active"),i.children().length>0&&b.setState("");var t;m.getMotifCategories(B()).then(function(e){t=e.data;var n=[],i=[];return t.forEach(function(t){t.slug=t.id+"-"+p.slugify(t.name);var e=f.when(O(t),N(t)).then(M);n.push(e),t.stocks.forEach(function(t){i.indexOf(t.symbol)<0&&i.push(t.symbol)})}),H(i),f.when.apply(null,n)}).then(function(){t.sort(function(t,e){return e.indexChangePercentage-t.indexChangePercentage}),x=f.extend([],t),b.setState(""),i.html(o({categories:x,formatPercentage:p.formatPercentage,periodText:z(k),backDates:k,optionsTemplate:s})),g.page("/price/motif","Đầu tư theo nhóm")},function(){0===x.length&&b.setState("failed").setContent("Không thể kết nối, xin vui lòng kiểm tra lại đường truyền và thử lại.<br/>Nếu bạn vẫn gặp vấn đề, xin vui lòng gọi cho chúng tôi theo số 1900-54-54-09 để được hỗ trợ.")})},Y=function(t){D();var e=r.attr("data-category-id");r.addClass("active").attr("data-category-id",t);var n=x.filter(function(e){return e.id.toString()===t.toString()})[0];n&&(b.setState(""),t!=e&&(n.stocks.sort(function(t,e){return t.symbol.localeCompare(e.symbol)}),X(n,[]))),m.getMotifCategory(t,B()).then(function(t){var e=t.data;return e.slug=e.id+"-"+p.slugify(e.name),f.when(O(e),N(e))}).then(M).then(function(e){if(r.hasClass("active")&&r.attr("data-category-id")==t){0===x.length&&x.push(e),e.stocks.sort(function(t,e){return t.symbol.localeCompare(e.symbol)});var n=e.indices.map(function(t){return[new Date(t.date),t.index]});b.setState(""),X(e,n),H(e.stocks.map(function(t){return t.symbol})),g.page("/price/motif/"+e.slug,"Đầu tư theo nhóm - "+e.name)}},function(){n||b.setState("failed").setContent("Không thể kết nối, xin vui lòng kiểm tra lại đường truyền và thử lại.<br/>Nếu bạn vẫn gặp vấn đề, xin vui lòng gọi cho chúng tôi theo số 1900-54-54-09 để được hỗ trợ.")})},z=function(t){switch(t){case 7:return"tuần";case 90:return"quý";case 365:return"năm";default:return"tháng"}},X=function(t,e){c instanceof w&&c.destroy(),$(t),r.html(a({category:t,formatNumber:p.formatNumber,formatPercentage:p.formatPercentage,formatDate:p.formatDate,backDates:k,optionsTemplate:s}));var n=r.find("[data-tooltip]");c=new w(n,{classes:"tooltip-header",escape:!1}),f(".profit-chart-wrapper",r).plot([{data:e}],_)};return{init:function(){o=d(f("#motif-index-tmpl").text()),a=d(f("#motif-show-tmpl").text()),s=d(f("#motif-period-options-tmpl").text()),e=f(".motif-wrap"),n=f(".motif-page",e),i=f(".motif-page-index",e),r=f(".motif-page-show",e);var t=Number(localStorage.getItem("motifBackDates"));t&&(k=t),U(),W(),q(),L()},index:V,show:Y,activate:function(){h=!0},deactivate:function(){h=!1,H([])},setSocketManager:function(t){l=t,P()},setUserCategoryModel:function(t){u=t}}}),define("component/query-params-handler",["require","component/i18n","component/track"],function(t){var e=t("component/i18n"),n=(t("component/track"),function(){var t={},e=window.location.href;if(-1===e.indexOf("?"))return{};var n=e.slice(e.indexOf("?")+1);return n.split("&").map(function(e){var n=e.split("=")[0],i=e.split("=")[1];t[n]=i}),t}),i=function(t){var e=n();if(0!==Object.keys(e).length&&"undefined"!=typeof e[t])return e[t]},r=function(t){e.changeLanguageWithoutReloading(t),e.changeCSSClass(t),e.setSelectedLanguageButton(t)},o=function(){},a=function(){var t=n();if(Object.keys(t).length>0){if("undefined"!=typeof t.lang){var e=t.lang;""!==e&&r(e)}if("undefined"!=typeof t.symbol){var i=t.symbol;o(i)}}};return{init:function(){a()},getQueryParams:n,getParam:i,checkForQueryParams:a}}),define("component/router",["require","jquery","component/motif","component/query-params-handler"],function(t){var e,n=t("jquery"),i=t("component/motif"),r=t("component/query-params-handler"),o=function(t){var n=t.split("/"),r=n[1];r&&-1!==r.indexOf("?")&&(r=r.substr(0,r.indexOf("?")));var o={"#khop-lenh":function(){switch(r){case"hose":e.setTab(3);break;case"vn30":e.setTab(14);break;case"hnx":e.setTab(5);break;case"hnx30":e.setTab(15);break;case"upcom":e.setTab(7);break;case"co-phieu-nganh":e.setTab(2);break;default:e.setTab(1)}},"#co-ban":function(){switch(r){case"hose":e.setTab(8);break;case"vn30":e.setTab(16);break;case"hnx":e.setTab(9);break;case"hnx30":e.setTab(17);break;case"upcom":e.setTab(10);break;case"co-phieu-nganh":e.setTab(12);break;default:e.setTab(11)}},"#thoa-thuan":function(){switch(r){case"hnx":e.setTab(6);break;default:e.setTab(4)}},"#dau-tu-theo-nhom":function(){if(e.setTab(13),r){var t=(n[1].match(/^\d+/)||[])[0];t&&i.show(t)}else i.index()}};o[n[0]]&&o[n[0]]()};return{init:function(){n(window).on("hashchange",function(){r.checkForQueryParams(),o(decodeURI(window.location.hash))})},setTabManager:function(t){e=t}}}),define("legacy/System",["require","jquery","jquery-ui-sortable","legacy/MarketInfoGroup","legacy/SocketManager","legacy/TabManager","legacy/UserCategoryModel","legacy/UserStockInfoCmp","legacy/StockInfoCmp","legacy/StockCategozyManager","legacy/MarketInfosManager","legacy/FixHeader","legacy/PubSub","component/track","component/company-resource","legacy/StockAutoComplete","component/trade","component/lazy-render","component/fundamentals-board","component/motif","component/config","component/overlay","component/profile-api-client","component/auth","component/router","component/finfo-api-client","component/i18n","component/query-params-handler"],function(t){var e=t("jquery");t("jquery-ui-sortable");var n=t("legacy/MarketInfoGroup"),i=t("legacy/SocketManager"),r=t("legacy/TabManager"),o=t("legacy/UserCategoryModel"),a=t("legacy/UserStockInfoCmp"),s=t("legacy/StockInfoCmp"),c=t("legacy/StockCategozyManager"),u=t("legacy/MarketInfosManager"),l=t("legacy/FixHeader"),h=t("legacy/PubSub"),f=t("component/track"),d=t("component/company-resource"),p=t("legacy/StockAutoComplete"),g=t("component/trade"),m=t("component/lazy-render"),v=t("component/fundamentals-board"),y=t("component/motif"),b=t("component/config").priceTabs,w=t("component/overlay"),k=t("component/profile-api-client"),x=t("component/auth"),C=t("component/router"),S=t("component/finfo-api-client"),T=t("component/i18n"),_=t("component/query-params-handler"),E={socketManager:new i,start:function(){var t=this;t.jqueryObject=e(this),t.state="nomal",t.createAjaxHelper(),t.createTabManager(),t.createSocketManagers(),t.addConnectionNotice(),t.createFixHeader(),t.createStockInfoComponent(),t.createAdOrderComponent(),t.createPtOrderComponent(),t.createMarketInfosManager(),t.createUserCategoryCmp(),t.createStockCategozyManager(),t.createStockAutoComplete(),t.sendHeartbeatToGA(),Schedule.createJob({hour:0,minute:5},function(){location.reload()}),t.listenEvent(),t.socketManager.start(),HighlightRoom.active(),t.tabManager.start(),t.listenCustomerAccounts(),t.initEventHandlers()},createTabManager:function(){this.tabManager=new r({name:"MainTab"}),C.setTabManager(this.tabManager),this.tabManager.on("beforeChangeTab",function(t){t.message.newTab;E.userStockCmp.deActive(),E.stockInfoComponent.deActive(),v.cleanUp(),y.deactivate(),e("#search-box-category").hide()}),this.tabManager.on("changeTab",function(t){var n=t.message.newTab;switch(f.event("tab button","click",TabDictionary[n],1),n){case b.userCategory:E.userStockCmp.active(),E.userStockCmp.setStockCodes(E.userCategoryModel.getCrrCate().codes),m.bindTo(e("#userCateBox")),e("#search-box-category").show();var i=E.userCategoryModel.getCrrCate().codes,r=new Date,o=r.getFullYear()+"-"+(r.getMonth()+1)+"-"+r.getDate(),a={symbols:i.join(","),fromDate:o},s={symbols:i.join(","),fromEffDate:o,toEffDate:o};setTimeout(function(){S.getFinfoAlertNews(a).then(function(t){var e=t.data,n=[];for(var r in e){var o=e[r].symbol;i.indexOf(o)>-1&&-1==n.indexOf(o)&&n.push(o)}sessionStorage.setItem("fromDateAlertList",n)}),S.getFinfoAlertNews(s).then(function(t){var e=t.data,n=[];for(var r in e){var o=e[r].symbol;i.indexOf(o)>-1&&-1==n.indexOf(o)&&n.push(o)}sessionStorage.setItem("effDateAlertList",n)}).then(function(){var t=[],n=sessionStorage.getItem("fromDateAlertList");null!=n&&""!=n&&(t=n.split(","));var i=sessionStorage.getItem("effDateAlertList");if(null!=i&&""!=i){var r=i.split(",");t=t.concat(r.filter(function(e){return t.indexOf(e)<0}))}for(var o in t){var a="#userStIf"+t[o]+"sym",s=e(a);0==s.find("span.has-alert").length&&s.prepend('<span class="has-alert">*<span>')}})},500);break;case b.categoryByIndustry:m.bindTo(e("#mcsTable"));break;case b.hose:E.stockInfoComponent.setWrp(e("#hoseStock > tbody")),E.stockInfoComponent.requestBaseOnFloorCode(CONST_HSX_NAME),E.stockInfoComponent.active(),m.bindTo(e("#hoseStock"));break;case b.vn30:E.stockInfoComponent.setWrp(e("#vn30Stock > tbody")),S.getVN30Stocks().then(function(t){E.stockInfoComponent.setStockCodes(t)}),E.stockInfoComponent.active(),m.bindTo(e("#vn30Stock"));break;case b.hnx:E.stockInfoComponent.setWrp(e("#hnxStock > tbody")),E.stockInfoComponent.requestBaseOnFloorCode(CONST_HNX_NAME),E.stockInfoComponent.active(),m.bindTo(e("#hnxStock"));break;case b.hnx30:E.stockInfoComponent.setWrp(e("#hnx30Stock > tbody")),S.getHNX30Stocks().then(function(t){E.stockInfoComponent.setStockCodes(t)}),E.stockInfoComponent.active(),m.bindTo(e("#hnx30Stock"));break;case b.upcom:E.stockInfoComponent.setWrp(e("#upcStock > tbody")),E.stockInfoComponent.requestBaseOnFloorCode(CONST_UPC_NAME),E.stockInfoComponent.active(),m.bindTo(e("#upcStock"));break;case b.vn30Fundamentals:S.getVN30Stocks().then(function(t){v["switch"]({symbols:t},e(".fundamentals-board[data-floor=VN30]")),m.bindTo(e(".fundamentals-board[data-floor=VN30]"))});break;case b.hnx30Fundamentals:S.getHNX30Stocks().then(function(t){v["switch"]({symbols:t},e(".fundamentals-board[data-floor=HNX30]")),m.bindTo(e(".fundamentals-board[data-floor=HNX30]"))});break;case b.hoseFundamentals:v["switch"]({floorCodes:["10"]},e(".fundamentals-board[data-floor=HOSE]")),m.bindTo(e(".fundamentals-board[data-floor=HOSE]"));break;case b.hnxFundamentals:v["switch"]({floorCodes:["02"]},e(".fundamentals-board[data-floor=HNX]")),m.bindTo(e(".fundamentals-board[data-floor=HNX]"));break;case b.upcomFundamentals:v["switch"]({floorCodes:["03"]},e(".fundamentals-board[data-floor=UPCOM]")),m.bindTo(e(".fundamentals-board[data-floor=UPCOM]"));break;case b.userCategoryFundamentals:v["switch"]({symbols:E.userCategoryModel.getCrrCate().codes,isCustomized:!0},e(".fundamentals-board[data-floor=custom]")),m.bindTo(e(".fundamentals-board[data-floor=custom]")),e("#search-box-category").show();break;case b.categoryByIndustryFundamentals:m.bindTo(e(".fundamentals-board[data-floor=industries]"));break;case 13:y.activate()}var c=e("#view-mode");switch(n){case b.userCategory:case b.categoryByIndustry:case b.hose:case b.hnx:case b.upcom:case b.hnx30:case b.vn30:c.prop("disabled",!1).prop("checked",!0);break;case b.userCategoryFundamentals:case b.categoryByIndustryFundamentals:case b.hoseFundamentals:case b.hnxFundamentals:case b.upcomFundamentals:case b.vn30Fundamentals:case b.hnx30Fundamentals:c.prop("disabled",!1).prop("checked",!1);break;default:c.prop("disabled",!0)}window.scrollTo(0,0);var u=t.message.oldTab;setTimeout(function(){u==b.hose?e("#hoseStock > tbody").empty():u==b.hnx?e("#hnxStock > tbody").empty():u==b.upcom?e("#upcStock > tbody").empty():u==b.vn30?e("#vn30Stock > tbody").empty():u==b.hnx30&&e("#hnx30Stock > tbody").empty()},1e3),RowSelector.clear()})},createSocketManagers:function(){this.socketManager=new i,this.socketManager.regisEvent(["STOCK","MARKETINFO","PT_ORDER","AD_ORDER","RESET","CEILING_FLOOR_COUNT"]),this.socketManager.on("init",function(){E.socketManager.activate()}),this.socketManager.on("receiveFullData",function(){}),this.socketManager.on("init",function(){E.socketManager.requestFullData()}),this.socketManager.on("resume",function(){E.socketManager.requestFullData()}),this.socketManager.on("MARKETINFO",function(t){E.marketInfoGroup.updateMarketSnapshot(t.message)}),this.socketManager.on("CEILING_FLOOR_COUNT",function(t){E.marketInfoGroup.updateCelingFloorCount(t.message)}),this.socketManager.on("RESET",function(){location.reload()}),this.socketManager.on("PT_ORDER",function(t){"recovery"!=E.state&&"undefined"!=typeof E.ptOrder[t.message.floorCode]&&E.ptOrder[t.message.floorCode].add(t.message)}),this.socketManager.on("AD_ORDER",function(t){"recovery"!=E.state&&"undefined"!=typeof E.adOrder[t.message.floorCode]&&E.adOrder[t.message.floorCode].add(t.message)}),v.setSocketManager(this.socketManager),y.setSocketManager(this.socketManager)},createAjaxHelper:function(){this.ajaxHelper=new AjaxHelper},createStockInfoComponent:function(){this.stockInfoComponent=new s({isRerender:!0});var t=_.getParam("symbol");null!==t&&this.stockInfoComponent.requestBaseOnSymbol(t)},createAdOrderComponent:function(){this.adOrder={},this.adOrder[CONST_HNX_NAME]=new AdOrderCmp({wrp:{buy:e("#adbHNX > tbody"),sell:e("#adsHNX > tbody")}}),this.adOrder[CONST_HSX_NAME]=new AdOrderCmp({wrp:{buy:e("#adbHOSE > tbody"),sell:e("#adsHOSE > tbody")}}),this.getAdOrderFromServer()},getAdOrderFromServer:function(){E.ajaxHelper.request("priceservice/adorder/history/",function(t){for(var e in t)"undefined"==typeof E.adOrder[e]||E.adOrder[e].setAdOrders(t[e])}.bind(this))},_createConnectionNoticeEl:function(){var t=e("#global-toast");return t},addConnectionNotice:function(){{var t=this._createConnectionNoticeEl();this.socketManager}t.addClass("active"),this.socketManager.on("pause",function(){t.addClass("active"),t.find("p").text(T.t("connecting"))}),this.socketManager.on("active",function(){t.addClass("active").find("p").text(T.t("connected")),setTimeout(function(){t.removeClass("active")},2e3)})},bindConnectionNotice:function(){},createPtOrderComponent:function(){this.ptOrder={},this.ptOrder[CONST_HNX_NAME]=new PtOrderCmp({wrp:{totalVol:e("#HNXtotalVolume"),totalVal:e("#HNXtotalValue"),el:e("#ptmHNX > tbody")}}),this.ptOrder[CONST_HSX_NAME]=new PtOrderCmp({wrp:{totalVol:e("#HOSEtotalVolume"),totalVal:e("#HOSEtotalValue"),el:e("#ptmHOSE > tbody")}}),this.getPtOrderFromServer()},getPtOrderFromServer:function(){E.ajaxHelper.request("priceservice/ptorder/history/",function(t){for(var e in t)"undefined"==typeof E.ptOrder[e]||E.ptOrder[e].setPtOrders(t[e])}.bind(this))},createUserCategoryCmp:function(){var t=e("#userCateBox tbody"),n=this;n.userStockCmp=new a({isRerender:!0}),n.userStockCmp.setWrp(t),n.userStockCmp.active(),n.userCategoryModel=new o,n.userCategoryModel.on("onChangeCrrCate",function(t){var i=t.message;n.userStockCmp.setStockCodes(i.codes);var r=!e("#view-mode").prop("checked");r&&v.cleanUp()["switch"]({symbols:E.userCategoryModel.getCrrCate().codes,isCustomized:!0},e(".fundamentals-board[data-floor=custom]"))}),n.userCategoryModel.on("onChangeSelectedCode",function(t){var e=t.message;setTimeout(function(){n.userStockCmp.scrollTo(e)},100)}),e(t).sortable({axis:"y",distance:5}),e(t).add(".fundamentals-board[data-floor=custom]").on("sortstop",function(t,i){var r=[];e(this).find("tr").each(function(t,n){var i=e(n).find("[data-symbol]");i.length>0&&r.push(i.data("symbol"))});var o=e(i.item[0]).attr("data-symbol"),a=r.indexOf(o);if(-1!==a){var s=r[a-1],c=r[a+1],u=n.userCategoryModel.getCrrCate(),l=x.getToken();if(l){var h="vnds-"+l.customerId;k.watchlist.reorderSymbol(h,u.id,o,s,c).fail(function(t){console.error(JSON.stringify(t)),alert("Có lỗi xảy ra khi sắp xếp thứ tự mã. Xin vui lòng thử lại sau.")})}}}),this.userCategoryCmp=new UserCategoryCmp({wrp:e("#UserCategoriesWrp"),btn:e("#tab"+b.userCategory),btnText:T.t("nav:tabs.watchlist.default",{defaultValue:"Danh mục"})}),this.userCategoryCmp.setModel(this.userCategoryModel),n.userCategoryModel.retrieveCrrCate(),y.setUserCategoryModel(this.userCategoryModel)},createStockCategozyManager:function(){this.stockCategozyManager=new c(e("#tab"+b.categoryByIndustry),e("#predefined_stock_list"),e("#mcsTable > tbody")),this.stockCategozyManager.isAltView=!e("#view-mode").prop("checked")},createMarketInfosManager:function(){var t=this;t.marketInfoGroup=new n.MarketInfoGroup(FloorCodes.getFullList()),t.marketInfosManager=new u(t.marketInfoGroup),t.marketInfosManager.on("ATO",function(t){E.stockInfoComponent.predictATO(t.message),E.userStockCmp.predictATO(t.message),E.stockCategozyManager.predictATO(t.message)}),t.marketInfosManager.on("ATC",function(t){E.stockInfoComponent.predictATC(t.message),E.userStockCmp.predictATC(t.message),E.stockCategozyManager.predictATC(t.message)}),t.marketInfosManager.on("onEndATC",function(t){E.stockInfoComponent.clearATCPrice(t.message),E.userStockCmp.clearATCPrice(t.message),E.stockCategozyManager.clearATCPrice(t.message)}),t.marketInfosManager.on("onEndATO",function(t){E.stockInfoComponent.clearATOPrice(t.message),E.userStockCmp.clearATOPrice(t.message),E.stockCategozyManager.clearATOPrice(t.message)}),t.getCeilingFloorCountFromServer().then(function(){t.getMarketInfoFromServer()}),E.marketInfoGroup.marketInfoModels[10].on("updateSnapshot",function(t){("I"===t.message.status||"BSU"===t.message.status||"12"===t.message.status||"13"===t.message.status||"11"===t.message.status)&&h.publish("intermisionOrCloseSession",t.message)}),g.setMarketInfoGroup(t.marketInfoGroup)},getMarketInfoFromServer:function(){var t=this,e=FloorCodes.getFullList();t.ajaxHelper.request("priceservice/market/snapshot/q=codes:"+e.join(","),function(e){t.marketInfoGroup.setMarketSnapshots(e)}.bind(this));for(var n=0;n<e.length;n++)setTimeout(function(e){t.ajaxHelper.request("priceservice/market/history/q=codes:"+e,function(n){var i=t.marketInfoGroup.getMarketInfoModel(e);i.setHistory(n[e])}.bind(this))}.bind(this,e[n]),0*(n+1))},getCeilingFloorCountFromServer:function(){var t=this,n=e.Deferred();return E.socketManager.registConsumer({type:DataEventType.CEILING_FLOOR_COUNT,codes:FloorCodes.getFullList()}),t.ajaxHelper.request("priceservice/ceilingfloorcount/snapshot/",function(e){t.marketInfoGroup.setCeilingFloorCounts(e),n.resolve()}.bind(this)),n},createStockAutoComplete:function(){var t=this,n=function(e){var n=e.message,i=t.tabManager.crrTab;if(i===b.userCategory||i===b.userCategoryFundamentals){var r=E.userCategoryModel.getCrrCate();d.getCompany(n).then(function(t){t&&r.addCode(n)})}t.jumpToSymbol(n)};this.stockAutoComplete=new p(e('#search-box [name="query"]'),e('#search-box [type="submit"]')),this.stockAutoCompleteT=new p(e('#search-box-category [name="addSymbol"]'),e('#search-box-category [type="submit"]')),this.stockAutoComplete.on("select",n),this.stockAutoCompleteT.on("select",n)},createFixHeader:function(){var t=new l({originalElement:e("#hoseStock"),tabIndex:b.hose,isNotAutoHandleTabChange:!0,cssAtr:{top1:"249px",top2:"84px",left:0,windowScrollTop1:52,windowScrollTop2:80}}),n=new l({originalElement:e("#vn30Stock"),tabIndex:b.vn30,isNotAutoHandleTabChange:!0,cssAtr:{top1:"249px",top2:"84px",left:0,windowScrollTop1:52,windowScrollTop2:80}}),i=new l({originalElement:e("#hnxStock"),tabIndex:b.hnx,isNotAutoHandleTabChange:!0,cssAtr:{top1:"249px",top2:"84px",left:0,windowScrollTop1:52,windowScrollTop2:80}}),r=new l({originalElement:e("#hnx30Stock"),tabIndex:b.hnx30,isNotAutoHandleTabChange:!0,cssAtr:{top1:"249px",top2:"84px",left:0,windowScrollTop1:52,windowScrollTop2:80}}),o=new l({originalElement:e("#upcStock"),tabIndex:b.upcom,cssAtr:{top1:"249px",top2:"84px",left:0,windowScrollTop1:52,windowScrollTop2:80}}),a=new l({originalElement:e("#userCateBox"),tabIndex:b.userCategory,cssAtr:{top1:"249px",top2:"84px",left:0,windowScrollTop1:52,windowScrollTop2:80}}),s=new l({originalElement:e("#mcsTable"),tabIndex:b.categoryByIndustry,cssAtr:{top1:"249px",top2:"84px",left:0,windowScrollTop1:52,windowScrollTop2:80}});r.active(),n.active(),t.active(),i.active(),o.active(),a.active(),s.active()},sendHeartbeatToGA:function(){setInterval(function(){"undefined"!=typeof ga&&ga("send","event","heartbeat","idle")},12e4)},listenEvent:function(){var t=this;this.on("onRemoveUserStock",function(t){var e=E.userCategoryModel.getCrrCate();e.removeCode(t.message)});var n=e("#page-order form  input[name=symbol]");n.on("blur",function(){var e=n.val().trim().toUpperCase();d.getCompany(e).then(function(n){n&&t.jumpToSymbol(e)})})},jumpToSymbol:function(t){var n=this,i=n.tabManager.crrTab;if(13!=i){if(i==b.userCategory)return void n.userStockCmp.scrollTo(t);if(i==b.categoryByIndustry){var r=E.stockCategozyManager.cates[E.stockCategozyManager.crrIndex];if(r.stockCodes.indexOf(t)>-1)return void n.stockCategozyManager.stockInfoComponent.scrollTo(t)}if(i==b.categoryByIndustryFundamentals){var r=E.stockCategozyManager.cates[E.stockCategozyManager.crrIndex];if(r.stockCodes.indexOf(t)>-1)return void v.lookup(t)}if(i==b.userCategoryFundamentals)return void v.lookup(t);var o=function(){E.stockInfoComponent.scrollTo(t),e(n.stockInfoComponent).unbind("renderComplete",o)},a=function(){w.setState("loading").setContent("Đang tìm kiếm dữ liệu..."),setTimeout(function(){e(n.stockInfoComponent).unbind("stockRendering",a)},1e3)};n.goToRelativeTab(t).then(function(r){if(r>0){var s=!e("#view-mode").prop("checked");s?v.lookup(t):r==i?E.stockInfoComponent.scrollTo(t):(n.stockInfoComponent.on("stockRendering",a),n.stockInfoComponent.on("renderComplete",o))}})}},goToRelativeTab:function(t){var n=this;return d.getCompany(t).then(function(t){if(!t)return 0;var i,r=n.tabManager.crrTab,o=!e("#view-mode").prop("checked");switch(t.floor){case"HOSE":i=o?"VN30"===t.indexCode&&r==b.vn30Fundamentals?b.vn30Fundamentals:b.hoseFundamentals:"VN30"===t.indexCode&&r==b.vn30?b.vn30:b.hose;break;case"HNX":i=o?"HNX30"===t.indexCode&&r==b.hnx30Fundamentals?b.hnx30Fundamentals:b.hnxFundamentals:"HNX30"===t.indexCode&&r==b.hnx30?b.hnx30:b.hnx;break;case"UPCOM":i=o?b.upcomFundamentals:b.upcom;break;default:i=b.hose}return n.tabManager.setTab(i),e.Deferred().resolve(i)})},listenCustomerAccounts:function(){var t=this;h.subscribe("accountLoaded",function(){h.publish("requestPortfolios")}),h.subscribe("portfoliosLoaded",function(n){e.each(n,function(e,n){"undefined"!=typeof n&&t.userCategoryModel.addCustomerPortfolio(n)})}),h.subscribe("requestExpand",function(e){t.tabManager.setTab(b.userCategory),t.userCategoryModel.setCrrCateById(e)}),h.subscribe("logout",function(){E.userCategoryModel.removeCustomerPortfolio()}),h.subscribe("TYPING_UP",function(){RowSelector.selectPrev()}),h.subscribe("TYPING_DOWN",function(){RowSelector.selectNext()}),h.subscribe("TYPING_ENTER",function(){var t=RowSelector.crrRow;null!==t&&t.find(".miniwindow-trigger").trigger("click")}),h.subscribe("TYPING_DELETE",function(){var t=RowSelector.crrRow;t.find(".remove").trigger("click")})},initEventHandlers:function(){var t=e("#view-mode"),n=this;t.on("change",function(){var t=e(this);e(".switch-bg").one("transitionend webkitTransitionEnd oTransitionEnd otransitionend MSTransitionEnd",function(){E.stockCategozyManager.isAltView=!t.prop("checked");var i=n.tabManager.crrTab,r=e("#nav .primary").find("a[data-tab="+i+"]").siblings("a").attr("href");r&&(window.location.hash=r),t.trigger("blur")})}),t.siblings(".switch-priceboard").find(".help").on("click",function(t){t.preventDefault(),t.stopPropagation(),v.help()}),e("#UserCategoriesWrp").on("click","a, button",function(){var e;e=t.prop("checked")?"#khop-lenh/danh-muc":"#co-ban/danh-muc",window.location.hash=e});var i=0,r=Browser.isTablet();e(document).on("scroll",function(){var t=e(this).scrollLeft();i!==t&&(r||(e(".sticky-table-header-wrapper, .gdtt-sticky-header").css({left:-t}),e("#nav").css({left:-t})),i=t)})},emit:function(t,e){this.jqueryObject.trigger({type:t,message:e,time:new Date})},on:function(t,n){e(this).bind(t,n)}};return m.init("tbody > tr","scroll-page",["rendered"]),window.System=E,E}),function(t){return"function"==typeof define&&define.amd?define("nanoscroller",["jquery"],function(e){return t(e,window,document)}):"object"==typeof exports?module.exports=t(require("jquery"),window,document):t(jQuery,window,document)}(function(t,e,n){"use strict";var i,r,o,a,s,c,u,l,h,f,d,p,g,m,v,y,b,w,k,x,C,S,T,_,E,A,D,I,O,N,M;T={paneClass:"nano-pane",sliderClass:"nano-slider",contentClass:"nano-content",iOSNativeScrolling:!1,preventPageScrolling:!1,disableResize:!1,alwaysVisible:!1,flashDelay:1500,sliderMinHeight:20,sliderMaxHeight:null,documentContext:null,windowContext:null},w="scrollbar",b="scroll",h="mousedown",f="mouseenter",d="mousemove",g="mousewheel",p="mouseup",y="resize",s="drag",c="enter",x="up",v="panedown",o="DOMMouseScroll",a="down",C="wheel",u="keydown",l="keyup",k="touchmove",i="Microsoft Internet Explorer"===e.navigator.appName&&/msie 7./i.test(e.navigator.appVersion)&&e.ActiveXObject,r=null,D=e.requestAnimationFrame,S=e.cancelAnimationFrame,O=n.createElement("div").style,M=function(){var t,e,n,i,r,o;for(i=["t","webkitT","MozT","msT","OT"],t=r=0,o=i.length;o>r;t=++r)if(n=i[t],e=i[t]+"ransform",e in O)return i[t].substr(0,i[t].length-1);return!1}(),N=function(t){return M===!1?!1:""===M?t:M+t.charAt(0).toUpperCase()+t.substr(1)},I=N("transform"),E=I!==!1,_=function(){var t,e,i;return t=n.createElement("div"),e=t.style,e.position="absolute",e.width="100px",e.height="100px",e.overflow=b,e.top="-9999px",n.body.appendChild(t),i=t.offsetWidth-t.clientWidth,n.body.removeChild(t),i
},A=function(){var t,n,i;return n=e.navigator.userAgent,(t=/(?=.+Mac OS X)(?=.+Firefox)/.test(n))?(i=/Firefox\/\d{2}\./.exec(n),i&&(i=i[0].replace(/\D+/g,"")),t&&+i>23):!1},m=function(){function u(i,o){this.el=i,this.options=o,r||(r=_()),this.$el=t(this.el),this.doc=t(this.options.documentContext||n),this.win=t(this.options.windowContext||e),this.body=this.doc.find("body"),this.$content=this.$el.children("."+this.options.contentClass),this.$content.attr("tabindex",this.options.tabIndex||0),this.content=this.$content[0],this.previousPosition=0,this.options.iOSNativeScrolling&&null!=this.el.style.WebkitOverflowScrolling?this.nativeScrolling():this.generate(),this.createEvents(),this.addEvents(),this.reset()}return u.prototype.preventScrolling=function(t,e){if(this.isActive)if(t.type===o)(e===a&&t.originalEvent.detail>0||e===x&&t.originalEvent.detail<0)&&t.preventDefault();else if(t.type===g){if(!t.originalEvent||!t.originalEvent.wheelDelta)return;(e===a&&t.originalEvent.wheelDelta<0||e===x&&t.originalEvent.wheelDelta>0)&&t.preventDefault()}},u.prototype.nativeScrolling=function(){this.$content.css({WebkitOverflowScrolling:"touch"}),this.iOSNativeScrolling=!0,this.isActive=!0},u.prototype.updateScrollValues=function(){var t,e;t=this.content,this.maxScrollTop=t.scrollHeight-t.clientHeight,this.prevScrollTop=this.contentScrollTop||0,this.contentScrollTop=t.scrollTop,e=this.contentScrollTop>this.previousPosition?"down":this.contentScrollTop<this.previousPosition?"up":"same",this.previousPosition=this.contentScrollTop,"same"!==e&&this.$el.trigger("update",{position:this.contentScrollTop,maximum:this.maxScrollTop,direction:e}),this.iOSNativeScrolling||(this.maxSliderTop=this.paneHeight-this.sliderHeight,this.sliderTop=0===this.maxScrollTop?0:this.contentScrollTop*this.maxSliderTop/this.maxScrollTop)},u.prototype.setOnScrollStyles=function(){var t;E?(t={},t[I]="translate(0, "+this.sliderTop+"px)"):t={top:this.sliderTop},D?(S&&this.scrollRAF&&S(this.scrollRAF),this.scrollRAF=D(function(e){return function(){return e.scrollRAF=null,e.slider.css(t)}}(this))):this.slider.css(t)},u.prototype.createEvents=function(){this.events={down:function(t){return function(e){return t.isBeingDragged=!0,t.offsetY=e.pageY-t.slider.offset().top,t.slider.is(e.target)||(t.offsetY=0),t.pane.addClass("active"),t.doc.bind(d,t.events[s]).bind(p,t.events[x]),t.body.bind(f,t.events[c]),!1}}(this),drag:function(t){return function(e){return t.sliderY=e.pageY-t.$el.offset().top-t.paneTop-(t.offsetY||.5*t.sliderHeight),t.scroll(),t.contentScrollTop>=t.maxScrollTop&&t.prevScrollTop!==t.maxScrollTop?t.$el.trigger("scrollend"):0===t.contentScrollTop&&0!==t.prevScrollTop&&t.$el.trigger("scrolltop"),!1}}(this),up:function(t){return function(){return t.isBeingDragged=!1,t.pane.removeClass("active"),t.doc.unbind(d,t.events[s]).unbind(p,t.events[x]),t.body.unbind(f,t.events[c]),!1}}(this),resize:function(t){return function(){t.reset()}}(this),panedown:function(t){return function(e){return t.sliderY=(e.offsetY||e.originalEvent.layerY)-.5*t.sliderHeight,t.scroll(),t.events.down(e),!1}}(this),scroll:function(t){return function(e){t.updateScrollValues(),t.isBeingDragged||(t.iOSNativeScrolling||(t.sliderY=t.sliderTop,t.setOnScrollStyles()),null!=e&&(t.contentScrollTop>=t.maxScrollTop?(t.options.preventPageScrolling&&t.preventScrolling(e,a),t.prevScrollTop!==t.maxScrollTop&&t.$el.trigger("scrollend")):0===t.contentScrollTop&&(t.options.preventPageScrolling&&t.preventScrolling(e,x),0!==t.prevScrollTop&&t.$el.trigger("scrolltop"))))}}(this),wheel:function(t){return function(e){var n;if(null!=e)return n=e.delta||e.wheelDelta||e.originalEvent&&e.originalEvent.wheelDelta||-e.detail||e.originalEvent&&-e.originalEvent.detail,n&&(t.sliderY+=-n/3),t.scroll(),!1}}(this),enter:function(t){return function(e){var n;if(t.isBeingDragged)return 1!==(e.buttons||e.which)?(n=t.events)[x].apply(n,arguments):void 0}}(this)}},u.prototype.addEvents=function(){var t;this.removeEvents(),t=this.events,this.options.disableResize||this.win.bind(y,t[y]),this.iOSNativeScrolling||(this.slider.bind(h,t[a]),this.pane.bind(h,t[v]).bind(""+g+" "+o,t[C])),this.$content.bind(""+b+" "+g+" "+o+" "+k,t[b])},u.prototype.removeEvents=function(){var t;t=this.events,this.win.unbind(y,t[y]),this.iOSNativeScrolling||(this.slider.unbind(),this.pane.unbind()),this.$content.unbind(""+b+" "+g+" "+o+" "+k,t[b])},u.prototype.generate=function(){var t,n,i,o,a,s,c;return o=this.options,s=o.paneClass,c=o.sliderClass,t=o.contentClass,(a=this.$el.children("."+s)).length||a.children("."+c).length||this.$el.append('<div class="'+s+'"><div class="'+c+'" /></div>'),this.pane=this.$el.children("."+s),this.slider=this.pane.find("."+c),0===r&&A()?(i=e.getComputedStyle(this.content,null).getPropertyValue("padding-right").replace(/[^0-9.]+/g,""),n={right:-14,paddingRight:+i+14}):r&&(n={right:-r},this.$el.addClass("has-scrollbar")),null!=n&&this.$content.css(n),this},u.prototype.restore=function(){this.stopped=!1,this.iOSNativeScrolling||this.pane.show(),this.addEvents()},u.prototype.reset=function(){var t,e,n,o,a,s,c,u,l,h,f,d;return this.iOSNativeScrolling?void(this.contentHeight=this.content.scrollHeight):(this.$el.find("."+this.options.paneClass).length||this.generate().stop(),this.stopped&&this.restore(),t=this.content,o=t.style,a=o.overflowY,i&&this.$content.css({height:this.$content.height()}),e=t.scrollHeight+r,h=parseInt(this.$el.css("max-height"),10),h>0&&(this.$el.height(""),this.$el.height(t.scrollHeight>h?h:t.scrollHeight)),c=this.pane.outerHeight(!1),l=parseInt(this.pane.css("top"),10),s=parseInt(this.pane.css("bottom"),10),u=c+l+s,d=Math.round(u/e*c),d<this.options.sliderMinHeight?d=this.options.sliderMinHeight:null!=this.options.sliderMaxHeight&&d>this.options.sliderMaxHeight&&(d=this.options.sliderMaxHeight),a===b&&o.overflowX!==b&&(d+=r),this.maxSliderTop=u-d,this.contentHeight=e,this.paneHeight=c,this.paneOuterHeight=u,this.sliderHeight=d,this.paneTop=l,this.slider.height(d),this.events.scroll(),this.pane.show(),this.isActive=!0,t.scrollHeight===t.clientHeight||this.pane.outerHeight(!0)>=t.scrollHeight&&a!==b?(this.pane.hide(),this.isActive=!1):this.el.clientHeight===t.scrollHeight&&a===b?this.slider.hide():this.slider.show(),this.pane.css({opacity:this.options.alwaysVisible?1:"",visibility:this.options.alwaysVisible?"visible":""}),n=this.$content.css("position"),("static"===n||"relative"===n)&&(f=parseInt(this.$content.css("right"),10),f&&this.$content.css({right:"",marginRight:f})),this)},u.prototype.scroll=function(){return this.isActive?(this.sliderY=Math.max(0,this.sliderY),this.sliderY=Math.min(this.maxSliderTop,this.sliderY),this.$content.scrollTop(this.maxScrollTop*this.sliderY/this.maxSliderTop),this.iOSNativeScrolling||(this.updateScrollValues(),this.setOnScrollStyles()),this):void 0},u.prototype.scrollBottom=function(t){return this.isActive?(this.$content.scrollTop(this.contentHeight-this.$content.height()-t).trigger(g),this.stop().restore(),this):void 0},u.prototype.scrollTop=function(t){return this.isActive?(this.$content.scrollTop(+t).trigger(g),this.stop().restore(),this):void 0},u.prototype.scrollTo=function(t){return this.isActive?(this.scrollTop(this.$el.find(t).get(0).offsetTop),this):void 0},u.prototype.stop=function(){return S&&this.scrollRAF&&(S(this.scrollRAF),this.scrollRAF=null),this.stopped=!0,this.removeEvents(),this.iOSNativeScrolling||this.pane.hide(),this},u.prototype.destroy=function(){return this.stopped||this.stop(),!this.iOSNativeScrolling&&this.pane.length&&this.pane.remove(),i&&this.$content.height(""),this.$content.removeAttr("tabindex"),this.$el.hasClass("has-scrollbar")&&(this.$el.removeClass("has-scrollbar"),this.$content.css({right:""})),this},u.prototype.flash=function(){return!this.iOSNativeScrolling&&this.isActive?(this.reset(),this.pane.addClass("flashed"),setTimeout(function(t){return function(){t.pane.removeClass("flashed")}}(this),this.options.flashDelay),this):void 0},u}(),t.fn.nanoScroller=function(e){return this.each(function(){var n,i;if((i=this.nanoscroller)||(n=t.extend({},T,e),this.nanoscroller=i=new m(this,n)),e&&"object"==typeof e){if(t.extend(i.options,e),null!=e.scrollBottom)return i.scrollBottom(e.scrollBottom);if(null!=e.scrollTop)return i.scrollTop(e.scrollTop);if(e.scrollTo)return i.scrollTo(e.scrollTo);if("bottom"===e.scroll)return i.scrollBottom(0);if("top"===e.scroll)return i.scrollTop(0);if(e.scroll&&e.scroll instanceof t)return i.scrollTo(e.scroll);if(e.stop)return i.stop();if(e.destroy)return i.destroy();if(e.flash)return i.flash()}return i.reset()})},t.fn.nanoScroller.Constructor=m}),function(t){"function"==typeof define&&define.amd?define("datepicker/version",["jquery"],t):t(jQuery)}(function(t){return t.ui=t.ui||{},t.ui.version="1.12.0"}),function(t){"function"==typeof define&&define.amd?define("datepicker/keycode",["jquery","./version"],t):t(jQuery)}(function(t){return t.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),function(t){"function"==typeof define&&define.amd?define("datepicker/widgets/datepicker",["jquery","../version","../keycode"],t):t(jQuery)}(function(t){function e(t){for(var e,n;t.length&&t[0]!==document;){if(e=t.css("position"),("absolute"===e||"relative"===e||"fixed"===e)&&(n=parseInt(t.css("zIndex"),10),!isNaN(n)&&0!==n))return n;t=t.parent()}return 0}function n(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},t.extend(this._defaults,this.regional[""]),this.regional.en=t.extend(!0,{},this.regional[""]),this.regional["en-US"]=t.extend(!0,{},this.regional.en),this.dpDiv=i(t("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function i(e){var n="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return e.on("mouseout",n,function(){t(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).removeClass("ui-datepicker-next-hover")}).on("mouseover",n,r)}function r(){t.datepicker._isDisabledDatepicker(a.inline?a.dpDiv.parent()[0]:a.input[0])||(t(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),t(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).addClass("ui-datepicker-next-hover"))}function o(e,n){t.extend(e,n);for(var i in n)null==n[i]&&(e[i]=n[i]);return e}t.extend(t.ui,{datepicker:{version:"1.12.0"}});var a;return t.extend(n.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(t){return o(this._defaults,t||{}),this},_attachDatepicker:function(e,n){var i,r,o;i=e.nodeName.toLowerCase(),r="div"===i||"span"===i,e.id||(this.uuid+=1,e.id="dp"+this.uuid),o=this._newInst(t(e),r),o.settings=t.extend({},n||{}),"input"===i?this._connectDatepicker(e,o):r&&this._inlineDatepicker(e,o)},_newInst:function(e,n){var r=e[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:r,input:e,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:n,dpDiv:n?i(t("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(e,n){var i=t(e);n.append=t([]),n.trigger=t([]),i.hasClass(this.markerClassName)||(this._attachments(i,n),i.addClass(this.markerClassName).on("keydown",this._doKeyDown).on("keypress",this._doKeyPress).on("keyup",this._doKeyUp),this._autoSize(n),t.data(e,"datepicker",n),n.settings.disabled&&this._disableDatepicker(e))},_attachments:function(e,n){var i,r,o,a=this._get(n,"appendText"),s=this._get(n,"isRTL");n.append&&n.append.remove(),a&&(n.append=t("<span class='"+this._appendClass+"'>"+a+"</span>"),e[s?"before":"after"](n.append)),e.off("focus",this._showDatepicker),n.trigger&&n.trigger.remove(),i=this._get(n,"showOn"),("focus"===i||"both"===i)&&e.on("focus",this._showDatepicker),("button"===i||"both"===i)&&(r=this._get(n,"buttonText"),o=this._get(n,"buttonImage"),n.trigger=t(this._get(n,"buttonImageOnly")?t("<img/>").addClass(this._triggerClass).attr({src:o,alt:r,title:r}):t("<button type='button'></button>").addClass(this._triggerClass).html(o?t("<img/>").attr({src:o,alt:r,title:r}):r)),e[s?"before":"after"](n.trigger),n.trigger.on("click",function(){return t.datepicker._datepickerShowing&&t.datepicker._lastInput===e[0]?t.datepicker._hideDatepicker():t.datepicker._datepickerShowing&&t.datepicker._lastInput!==e[0]?(t.datepicker._hideDatepicker(),t.datepicker._showDatepicker(e[0])):t.datepicker._showDatepicker(e[0]),!1}))},_autoSize:function(t){if(this._get(t,"autoSize")&&!t.inline){var e,n,i,r,o=new Date(2009,11,20),a=this._get(t,"dateFormat");a.match(/[DM]/)&&(e=function(t){for(n=0,i=0,r=0;r<t.length;r++)t[r].length>n&&(n=t[r].length,i=r);return i},o.setMonth(e(this._get(t,a.match(/MM/)?"monthNames":"monthNamesShort"))),o.setDate(e(this._get(t,a.match(/DD/)?"dayNames":"dayNamesShort"))+20-o.getDay())),t.input.attr("size",this._formatDate(t,o).length)}},_inlineDatepicker:function(e,n){var i=t(e);i.hasClass(this.markerClassName)||(i.addClass(this.markerClassName).append(n.dpDiv),t.data(e,"datepicker",n),this._setDate(n,this._getDefaultDate(n),!0),this._updateDatepicker(n),this._updateAlternate(n),n.settings.disabled&&this._disableDatepicker(e),n.dpDiv.css("display","block"))},_dialogDatepicker:function(e,n,i,r,a){var s,c,u,l,h,f=this._dialogInst;return f||(this.uuid+=1,s="dp"+this.uuid,this._dialogInput=t("<input type='text' id='"+s+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.on("keydown",this._doKeyDown),t("body").append(this._dialogInput),f=this._dialogInst=this._newInst(this._dialogInput,!1),f.settings={},t.data(this._dialogInput[0],"datepicker",f)),o(f.settings,r||{}),n=n&&n.constructor===Date?this._formatDate(f,n):n,this._dialogInput.val(n),this._pos=a?a.length?a:[a.pageX,a.pageY]:null,this._pos||(c=document.documentElement.clientWidth,u=document.documentElement.clientHeight,l=document.documentElement.scrollLeft||document.body.scrollLeft,h=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[c/2-100+l,u/2-150+h]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),f.settings.onSelect=i,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),t.blockUI&&t.blockUI(this.dpDiv),t.data(this._dialogInput[0],"datepicker",f),this},_destroyDatepicker:function(e){var n,i=t(e),r=t.data(e,"datepicker");i.hasClass(this.markerClassName)&&(n=e.nodeName.toLowerCase(),t.removeData(e,"datepicker"),"input"===n?(r.append.remove(),r.trigger.remove(),i.removeClass(this.markerClassName).off("focus",this._showDatepicker).off("keydown",this._doKeyDown).off("keypress",this._doKeyPress).off("keyup",this._doKeyUp)):("div"===n||"span"===n)&&i.removeClass(this.markerClassName).empty(),a===r&&(a=null))},_enableDatepicker:function(e){var n,i,r=t(e),o=t.data(e,"datepicker");r.hasClass(this.markerClassName)&&(n=e.nodeName.toLowerCase(),"input"===n?(e.disabled=!1,o.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===n||"span"===n)&&(i=r.children("."+this._inlineClass),i.children().removeClass("ui-state-disabled"),i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}))},_disableDatepicker:function(e){var n,i,r=t(e),o=t.data(e,"datepicker");r.hasClass(this.markerClassName)&&(n=e.nodeName.toLowerCase(),"input"===n?(e.disabled=!0,o.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===n||"span"===n)&&(i=r.children("."+this._inlineClass),i.children().addClass("ui-state-disabled"),i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}),this._disabledInputs[this._disabledInputs.length]=e)},_isDisabledDatepicker:function(t){if(!t)return!1;for(var e=0;e<this._disabledInputs.length;e++)if(this._disabledInputs[e]===t)return!0;return!1},_getInst:function(e){try{return t.data(e,"datepicker")}catch(n){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(e,n,i){var r,a,s,c,u=this._getInst(e);return 2===arguments.length&&"string"==typeof n?"defaults"===n?t.extend({},t.datepicker._defaults):u?"all"===n?t.extend({},u.settings):this._get(u,n):null:(r=n||{},"string"==typeof n&&(r={},r[n]=i),void(u&&(this._curInst===u&&this._hideDatepicker(),a=this._getDateDatepicker(e,!0),s=this._getMinMaxDate(u,"min"),c=this._getMinMaxDate(u,"max"),o(u.settings,r),null!==s&&void 0!==r.dateFormat&&void 0===r.minDate&&(u.settings.minDate=this._formatDate(u,s)),null!==c&&void 0!==r.dateFormat&&void 0===r.maxDate&&(u.settings.maxDate=this._formatDate(u,c)),"disabled"in r&&(r.disabled?this._disableDatepicker(e):this._enableDatepicker(e)),this._attachments(t(e),u),this._autoSize(u),this._setDate(u,a),this._updateAlternate(u),this._updateDatepicker(u))))},_changeDatepicker:function(t,e,n){this._optionDatepicker(t,e,n)},_refreshDatepicker:function(t){var e=this._getInst(t);e&&this._updateDatepicker(e)},_setDateDatepicker:function(t,e){var n=this._getInst(t);n&&(this._setDate(n,e),this._updateDatepicker(n),this._updateAlternate(n))},_getDateDatepicker:function(t,e){var n=this._getInst(t);return n&&!n.inline&&this._setDateFromField(n,e),n?this._getDate(n):null},_doKeyDown:function(e){var n,i,r,o=t.datepicker._getInst(e.target),a=!0,s=o.dpDiv.is(".ui-datepicker-rtl");if(o._keyEvent=!0,t.datepicker._datepickerShowing)switch(e.keyCode){case 9:t.datepicker._hideDatepicker(),a=!1;break;case 13:return r=t("td."+t.datepicker._dayOverClass+":not(."+t.datepicker._currentClass+")",o.dpDiv),r[0]&&t.datepicker._selectDay(e.target,o.selectedMonth,o.selectedYear,r[0]),n=t.datepicker._get(o,"onSelect"),n?(i=t.datepicker._formatDate(o),n.apply(o.input?o.input[0]:null,[i,o])):t.datepicker._hideDatepicker(),!1;case 27:t.datepicker._hideDatepicker();break;case 33:t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(o,"stepBigMonths"):-t.datepicker._get(o,"stepMonths"),"M");break;case 34:t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(o,"stepBigMonths"):+t.datepicker._get(o,"stepMonths"),"M");break;case 35:(e.ctrlKey||e.metaKey)&&t.datepicker._clearDate(e.target),a=e.ctrlKey||e.metaKey;break;case 36:(e.ctrlKey||e.metaKey)&&t.datepicker._gotoToday(e.target),a=e.ctrlKey||e.metaKey;break;case 37:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,s?1:-1,"D"),a=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(o,"stepBigMonths"):-t.datepicker._get(o,"stepMonths"),"M");break;case 38:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,-7,"D"),a=e.ctrlKey||e.metaKey;break;case 39:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,s?-1:1,"D"),a=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(o,"stepBigMonths"):+t.datepicker._get(o,"stepMonths"),"M");break;case 40:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,7,"D"),a=e.ctrlKey||e.metaKey;break;default:a=!1}else 36===e.keyCode&&e.ctrlKey?t.datepicker._showDatepicker(this):a=!1;a&&(e.preventDefault(),e.stopPropagation())},_doKeyPress:function(e){var n,i,r=t.datepicker._getInst(e.target);return t.datepicker._get(r,"constrainInput")?(n=t.datepicker._possibleChars(t.datepicker._get(r,"dateFormat")),i=String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),e.ctrlKey||e.metaKey||" ">i||!n||n.indexOf(i)>-1):void 0},_doKeyUp:function(e){var n,i=t.datepicker._getInst(e.target);if(i.input.val()!==i.lastVal)try{n=t.datepicker.parseDate(t.datepicker._get(i,"dateFormat"),i.input?i.input.val():null,t.datepicker._getFormatConfig(i)),n&&(t.datepicker._setDateFromField(i),t.datepicker._updateAlternate(i),t.datepicker._updateDatepicker(i))}catch(r){}return!0},_showDatepicker:function(n){if(n=n.target||n,"input"!==n.nodeName.toLowerCase()&&(n=t("input",n.parentNode)[0]),!t.datepicker._isDisabledDatepicker(n)&&t.datepicker._lastInput!==n){var i,r,a,s,c,u,l;i=t.datepicker._getInst(n),t.datepicker._curInst&&t.datepicker._curInst!==i&&(t.datepicker._curInst.dpDiv.stop(!0,!0),i&&t.datepicker._datepickerShowing&&t.datepicker._hideDatepicker(t.datepicker._curInst.input[0])),r=t.datepicker._get(i,"beforeShow"),a=r?r.apply(n,[n,i]):{},a!==!1&&(o(i.settings,a),i.lastVal=null,t.datepicker._lastInput=n,t.datepicker._setDateFromField(i),t.datepicker._inDialog&&(n.value=""),t.datepicker._pos||(t.datepicker._pos=t.datepicker._findPos(n),t.datepicker._pos[1]+=n.offsetHeight),s=!1,t(n).parents().each(function(){return s|="fixed"===t(this).css("position"),!s}),c={left:t.datepicker._pos[0],top:t.datepicker._pos[1]},t.datepicker._pos=null,i.dpDiv.empty(),i.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),t.datepicker._updateDatepicker(i),c=t.datepicker._checkOffset(i,c,s),i.dpDiv.css({position:t.datepicker._inDialog&&t.blockUI?"static":s?"fixed":"absolute",display:"none",left:c.left+"px",top:c.top+"px"}),i.inline||(u=t.datepicker._get(i,"showAnim"),l=t.datepicker._get(i,"duration"),i.dpDiv.css("z-index",e(t(n))+1),t.datepicker._datepickerShowing=!0,t.effects&&t.effects.effect[u]?i.dpDiv.show(u,t.datepicker._get(i,"showOptions"),l):i.dpDiv[u||"show"](u?l:null),t.datepicker._shouldFocusInput(i)&&i.input.trigger("focus"),t.datepicker._curInst=i))}},_updateDatepicker:function(e){this.maxRows=4,a=e,e.dpDiv.empty().append(this._generateHTML(e)),this._attachHandlers(e);var n,i=this._getNumberOfMonths(e),o=i[1],s=17,c=e.dpDiv.find("."+this._dayOverClass+" a");c.length>0&&r.apply(c.get(0)),e.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),o>1&&e.dpDiv.addClass("ui-datepicker-multi-"+o).css("width",s*o+"em"),e.dpDiv[(1!==i[0]||1!==i[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),e.dpDiv[(this._get(e,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),e===t.datepicker._curInst&&t.datepicker._datepickerShowing&&t.datepicker._shouldFocusInput(e)&&e.input.trigger("focus"),e.yearshtml&&(n=e.yearshtml,setTimeout(function(){n===e.yearshtml&&e.yearshtml&&e.dpDiv.find("select.ui-datepicker-year:first").replaceWith(e.yearshtml),n=e.yearshtml=null},0))},_shouldFocusInput:function(t){return t.input&&t.input.is(":visible")&&!t.input.is(":disabled")&&!t.input.is(":focus")},_checkOffset:function(e,n,i){var r=e.dpDiv.outerWidth(),o=e.dpDiv.outerHeight(),a=e.input?e.input.outerWidth():0,s=e.input?e.input.outerHeight():0,c=document.documentElement.clientWidth+(i?0:t(document).scrollLeft()),u=document.documentElement.clientHeight+(i?0:t(document).scrollTop());return n.left-=this._get(e,"isRTL")?r-a:0,n.left-=i&&n.left===e.input.offset().left?t(document).scrollLeft():0,n.top-=i&&n.top===e.input.offset().top+s?t(document).scrollTop():0,n.left-=Math.min(n.left,n.left+r>c&&c>r?Math.abs(n.left+r-c):0),n.top-=Math.min(n.top,n.top+o>u&&u>o?Math.abs(o+s):0),n},_findPos:function(e){for(var n,i=this._getInst(e),r=this._get(i,"isRTL");e&&("hidden"===e.type||1!==e.nodeType||t.expr.filters.hidden(e));)e=e[r?"previousSibling":"nextSibling"];return n=t(e).offset(),[n.left,n.top]},_hideDatepicker:function(e){var n,i,r,o,a=this._curInst;!a||e&&a!==t.data(e,"datepicker")||this._datepickerShowing&&(n=this._get(a,"showAnim"),i=this._get(a,"duration"),r=function(){t.datepicker._tidyDialog(a)},t.effects&&(t.effects.effect[n]||t.effects[n])?a.dpDiv.hide(n,t.datepicker._get(a,"showOptions"),i,r):a.dpDiv["slideDown"===n?"slideUp":"fadeIn"===n?"fadeOut":"hide"](n?i:null,r),n||r(),this._datepickerShowing=!1,o=this._get(a,"onClose"),o&&o.apply(a.input?a.input[0]:null,[a.input?a.input.val():"",a]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),t.blockUI&&(t.unblockUI(),t("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(t){t.dpDiv.removeClass(this._dialogClass).off(".ui-datepicker-calendar")},_checkExternalClick:function(e){if(t.datepicker._curInst){var n=t(e.target),i=t.datepicker._getInst(n[0]);(n[0].id!==t.datepicker._mainDivId&&0===n.parents("#"+t.datepicker._mainDivId).length&&!n.hasClass(t.datepicker.markerClassName)&&!n.closest("."+t.datepicker._triggerClass).length&&t.datepicker._datepickerShowing&&(!t.datepicker._inDialog||!t.blockUI)||n.hasClass(t.datepicker.markerClassName)&&t.datepicker._curInst!==i)&&t.datepicker._hideDatepicker()}},_adjustDate:function(e,n,i){var r=t(e),o=this._getInst(r[0]);this._isDisabledDatepicker(r[0])||(this._adjustInstDate(o,n+("M"===i?this._get(o,"showCurrentAtPos"):0),i),this._updateDatepicker(o))},_gotoToday:function(e){var n,i=t(e),r=this._getInst(i[0]);this._get(r,"gotoCurrent")&&r.currentDay?(r.selectedDay=r.currentDay,r.drawMonth=r.selectedMonth=r.currentMonth,r.drawYear=r.selectedYear=r.currentYear):(n=new Date,r.selectedDay=n.getDate(),r.drawMonth=r.selectedMonth=n.getMonth(),r.drawYear=r.selectedYear=n.getFullYear()),this._notifyChange(r),this._adjustDate(i)},_selectMonthYear:function(e,n,i){var r=t(e),o=this._getInst(r[0]);o["selected"+("M"===i?"Month":"Year")]=o["draw"+("M"===i?"Month":"Year")]=parseInt(n.options[n.selectedIndex].value,10),this._notifyChange(o),this._adjustDate(r)},_selectDay:function(e,n,i,r){var o,a=t(e);t(r).hasClass(this._unselectableClass)||this._isDisabledDatepicker(a[0])||(o=this._getInst(a[0]),o.selectedDay=o.currentDay=t("a",r).html(),o.selectedMonth=o.currentMonth=n,o.selectedYear=o.currentYear=i,this._selectDate(e,this._formatDate(o,o.currentDay,o.currentMonth,o.currentYear)))},_clearDate:function(e){var n=t(e);this._selectDate(n,"")},_selectDate:function(e,n){var i,r=t(e),o=this._getInst(r[0]);n=null!=n?n:this._formatDate(o),o.input&&o.input.val(n),this._updateAlternate(o),i=this._get(o,"onSelect"),i?i.apply(o.input?o.input[0]:null,[n,o]):o.input&&o.input.trigger("change"),o.inline?this._updateDatepicker(o):(this._hideDatepicker(),this._lastInput=o.input[0],"object"!=typeof o.input[0]&&o.input.trigger("focus"),this._lastInput=null)},_updateAlternate:function(e){var n,i,r,o=this._get(e,"altField");o&&(n=this._get(e,"altFormat")||this._get(e,"dateFormat"),i=this._getDate(e),r=this.formatDate(n,i,this._getFormatConfig(e)),t(o).val(r))},noWeekends:function(t){var e=t.getDay();return[e>0&&6>e,""]},iso8601Week:function(t){var e,n=new Date(t.getTime());return n.setDate(n.getDate()+4-(n.getDay()||7)),e=n.getTime(),n.setMonth(0),n.setDate(1),Math.floor(Math.round((e-n)/864e5)/7)+1},parseDate:function(e,n,i){if(null==e||null==n)throw"Invalid arguments";if(n="object"==typeof n?n.toString():n+"",""===n)return null;var r,o,a,s,c=0,u=(i?i.shortYearCutoff:null)||this._defaults.shortYearCutoff,l="string"!=typeof u?u:(new Date).getFullYear()%100+parseInt(u,10),h=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,f=(i?i.dayNames:null)||this._defaults.dayNames,d=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,p=(i?i.monthNames:null)||this._defaults.monthNames,g=-1,m=-1,v=-1,y=-1,b=!1,w=function(t){var n=r+1<e.length&&e.charAt(r+1)===t;return n&&r++,n},k=function(t){var e=w(t),i="@"===t?14:"!"===t?20:"y"===t&&e?4:"o"===t?3:2,r="y"===t?i:1,o=new RegExp("^\\d{"+r+","+i+"}"),a=n.substring(c).match(o);if(!a)throw"Missing number at position "+c;return c+=a[0].length,parseInt(a[0],10)},x=function(e,i,r){var o=-1,a=t.map(w(e)?r:i,function(t,e){return[[e,t]]}).sort(function(t,e){return-(t[1].length-e[1].length)});if(t.each(a,function(t,e){var i=e[1];return n.substr(c,i.length).toLowerCase()===i.toLowerCase()?(o=e[0],c+=i.length,!1):void 0}),-1!==o)return o+1;throw"Unknown name at position "+c},C=function(){if(n.charAt(c)!==e.charAt(r))throw"Unexpected literal at position "+c;c++};for(r=0;r<e.length;r++)if(b)"'"!==e.charAt(r)||w("'")?C():b=!1;else switch(e.charAt(r)){case"d":v=k("d");break;case"D":x("D",h,f);break;case"o":y=k("o");break;case"m":m=k("m");break;case"M":m=x("M",d,p);break;case"y":g=k("y");break;case"@":s=new Date(k("@")),g=s.getFullYear(),m=s.getMonth()+1,v=s.getDate();break;case"!":s=new Date((k("!")-this._ticksTo1970)/1e4),g=s.getFullYear(),m=s.getMonth()+1,v=s.getDate();break;case"'":w("'")?C():b=!0;break;default:C()}if(c<n.length&&(a=n.substr(c),!/^\s+/.test(a)))throw"Extra/unparsed characters found in date: "+a;if(-1===g?g=(new Date).getFullYear():100>g&&(g+=(new Date).getFullYear()-(new Date).getFullYear()%100+(l>=g?0:-100)),y>-1)for(m=1,v=y;;){if(o=this._getDaysInMonth(g,m-1),o>=v)break;m++,v-=o}if(s=this._daylightSavingAdjust(new Date(g,m-1,v)),s.getFullYear()!==g||s.getMonth()+1!==m||s.getDate()!==v)throw"Invalid date";return s},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(t,e,n){if(!e)return"";var i,r=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,o=(n?n.dayNames:null)||this._defaults.dayNames,a=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,s=(n?n.monthNames:null)||this._defaults.monthNames,c=function(e){var n=i+1<t.length&&t.charAt(i+1)===e;return n&&i++,n},u=function(t,e,n){var i=""+e;if(c(t))for(;i.length<n;)i="0"+i;return i},l=function(t,e,n,i){return c(t)?i[e]:n[e]},h="",f=!1;if(e)for(i=0;i<t.length;i++)if(f)"'"!==t.charAt(i)||c("'")?h+=t.charAt(i):f=!1;else switch(t.charAt(i)){case"d":h+=u("d",e.getDate(),2);break;case"D":h+=l("D",e.getDay(),r,o);break;case"o":h+=u("o",Math.round((new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5),3);break;case"m":h+=u("m",e.getMonth()+1,2);break;case"M":h+=l("M",e.getMonth(),a,s);break;case"y":h+=c("y")?e.getFullYear():(e.getFullYear()%100<10?"0":"")+e.getFullYear()%100;break;case"@":h+=e.getTime();
break;case"!":h+=1e4*e.getTime()+this._ticksTo1970;break;case"'":c("'")?h+="'":f=!0;break;default:h+=t.charAt(i)}return h},_possibleChars:function(t){var e,n="",i=!1,r=function(n){var i=e+1<t.length&&t.charAt(e+1)===n;return i&&e++,i};for(e=0;e<t.length;e++)if(i)"'"!==t.charAt(e)||r("'")?n+=t.charAt(e):i=!1;else switch(t.charAt(e)){case"d":case"m":case"y":case"@":n+="0123456789";break;case"D":case"M":return null;case"'":r("'")?n+="'":i=!0;break;default:n+=t.charAt(e)}return n},_get:function(t,e){return void 0!==t.settings[e]?t.settings[e]:this._defaults[e]},_setDateFromField:function(t,e){if(t.input.val()!==t.lastVal){var n=this._get(t,"dateFormat"),i=t.lastVal=t.input?t.input.val():null,r=this._getDefaultDate(t),o=r,a=this._getFormatConfig(t);try{o=this.parseDate(n,i,a)||r}catch(s){i=e?"":i}t.selectedDay=o.getDate(),t.drawMonth=t.selectedMonth=o.getMonth(),t.drawYear=t.selectedYear=o.getFullYear(),t.currentDay=i?o.getDate():0,t.currentMonth=i?o.getMonth():0,t.currentYear=i?o.getFullYear():0,this._adjustInstDate(t)}},_getDefaultDate:function(t){return this._restrictMinMax(t,this._determineDate(t,this._get(t,"defaultDate"),new Date))},_determineDate:function(e,n,i){var r=function(t){var e=new Date;return e.setDate(e.getDate()+t),e},o=function(n){try{return t.datepicker.parseDate(t.datepicker._get(e,"dateFormat"),n,t.datepicker._getFormatConfig(e))}catch(i){}for(var r=(n.toLowerCase().match(/^c/)?t.datepicker._getDate(e):null)||new Date,o=r.getFullYear(),a=r.getMonth(),s=r.getDate(),c=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,u=c.exec(n);u;){switch(u[2]||"d"){case"d":case"D":s+=parseInt(u[1],10);break;case"w":case"W":s+=7*parseInt(u[1],10);break;case"m":case"M":a+=parseInt(u[1],10),s=Math.min(s,t.datepicker._getDaysInMonth(o,a));break;case"y":case"Y":o+=parseInt(u[1],10),s=Math.min(s,t.datepicker._getDaysInMonth(o,a))}u=c.exec(n)}return new Date(o,a,s)},a=null==n||""===n?i:"string"==typeof n?o(n):"number"==typeof n?isNaN(n)?i:r(n):new Date(n.getTime());return a=a&&"Invalid Date"===a.toString()?i:a,a&&(a.setHours(0),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0)),this._daylightSavingAdjust(a)},_daylightSavingAdjust:function(t){return t?(t.setHours(t.getHours()>12?t.getHours()+2:0),t):null},_setDate:function(t,e,n){var i=!e,r=t.selectedMonth,o=t.selectedYear,a=this._restrictMinMax(t,this._determineDate(t,e,new Date));t.selectedDay=t.currentDay=a.getDate(),t.drawMonth=t.selectedMonth=t.currentMonth=a.getMonth(),t.drawYear=t.selectedYear=t.currentYear=a.getFullYear(),r===t.selectedMonth&&o===t.selectedYear||n||this._notifyChange(t),this._adjustInstDate(t),t.input&&t.input.val(i?"":this._formatDate(t))},_getDate:function(t){var e=!t.currentYear||t.input&&""===t.input.val()?null:this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return e},_attachHandlers:function(e){var n=this._get(e,"stepMonths"),i="#"+e.id.replace(/\\\\/g,"\\");e.dpDiv.find("[data-handler]").map(function(){var e={prev:function(){t.datepicker._adjustDate(i,-n,"M")},next:function(){t.datepicker._adjustDate(i,+n,"M")},hide:function(){t.datepicker._hideDatepicker()},today:function(){t.datepicker._gotoToday(i)},selectDay:function(){return t.datepicker._selectDay(i,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return t.datepicker._selectMonthYear(i,this,"M"),!1},selectYear:function(){return t.datepicker._selectMonthYear(i,this,"Y"),!1}};t(this).on(this.getAttribute("data-event"),e[this.getAttribute("data-handler")])})},_generateHTML:function(t){var e,n,i,r,o,a,s,c,u,l,h,f,d,p,g,m,v,y,b,w,k,x,C,S,T,_,E,A,D,I,O,N,M,P,j,F,R,L,H,B=new Date,U=this._daylightSavingAdjust(new Date(B.getFullYear(),B.getMonth(),B.getDate())),W=this._get(t,"isRTL"),q=this._get(t,"showButtonPanel"),$=this._get(t,"hideIfNoPrevNext"),V=this._get(t,"navigationAsDateFormat"),Y=this._getNumberOfMonths(t),z=this._get(t,"showCurrentAtPos"),X=this._get(t,"stepMonths"),G=1!==Y[0]||1!==Y[1],K=this._daylightSavingAdjust(t.currentDay?new Date(t.currentYear,t.currentMonth,t.currentDay):new Date(9999,9,9)),Q=this._getMinMaxDate(t,"min"),J=this._getMinMaxDate(t,"max"),Z=t.drawMonth-z,te=t.drawYear;if(0>Z&&(Z+=12,te--),J)for(e=this._daylightSavingAdjust(new Date(J.getFullYear(),J.getMonth()-Y[0]*Y[1]+1,J.getDate())),e=Q&&Q>e?Q:e;this._daylightSavingAdjust(new Date(te,Z,1))>e;)Z--,0>Z&&(Z=11,te--);for(t.drawMonth=Z,t.drawYear=te,n=this._get(t,"prevText"),n=V?this.formatDate(n,this._daylightSavingAdjust(new Date(te,Z-X,1)),this._getFormatConfig(t)):n,i=this._canAdjustMonth(t,-1,te,Z)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(W?"e":"w")+"'>"+n+"</span></a>":$?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(W?"e":"w")+"'>"+n+"</span></a>",r=this._get(t,"nextText"),r=V?this.formatDate(r,this._daylightSavingAdjust(new Date(te,Z+X,1)),this._getFormatConfig(t)):r,o=this._canAdjustMonth(t,1,te,Z)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+r+"'><span class='ui-icon ui-icon-circle-triangle-"+(W?"w":"e")+"'>"+r+"</span></a>":$?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+r+"'><span class='ui-icon ui-icon-circle-triangle-"+(W?"w":"e")+"'>"+r+"</span></a>",a=this._get(t,"currentText"),s=this._get(t,"gotoCurrent")&&t.currentDay?K:U,a=V?this.formatDate(a,s,this._getFormatConfig(t)):a,c=t.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(t,"closeText")+"</button>",u=q?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(W?c:"")+(this._isInRange(t,s)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+a+"</button>":"")+(W?"":c)+"</div>":"",l=parseInt(this._get(t,"firstDay"),10),l=isNaN(l)?0:l,h=this._get(t,"showWeek"),f=this._get(t,"dayNames"),d=this._get(t,"dayNamesMin"),p=this._get(t,"monthNames"),g=this._get(t,"monthNamesShort"),m=this._get(t,"beforeShowDay"),v=this._get(t,"showOtherMonths"),y=this._get(t,"selectOtherMonths"),b=this._getDefaultDate(t),w="",x=0;x<Y[0];x++){for(C="",this.maxRows=4,S=0;S<Y[1];S++){if(T=this._daylightSavingAdjust(new Date(te,Z,t.selectedDay)),_=" ui-corner-all",E="",G){if(E+="<div class='ui-datepicker-group",Y[1]>1)switch(S){case 0:E+=" ui-datepicker-group-first",_=" ui-corner-"+(W?"right":"left");break;case Y[1]-1:E+=" ui-datepicker-group-last",_=" ui-corner-"+(W?"left":"right");break;default:E+=" ui-datepicker-group-middle",_=""}E+="'>"}for(E+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+_+"'>"+(/all|left/.test(_)&&0===x?W?o:i:"")+(/all|right/.test(_)&&0===x?W?i:o:"")+this._generateMonthYearHeader(t,Z,te,Q,J,x>0||S>0,p,g)+"</div><table class='ui-datepicker-calendar'><thead><tr>",A=h?"<th class='ui-datepicker-week-col'>"+this._get(t,"weekHeader")+"</th>":"",k=0;7>k;k++)D=(k+l)%7,A+="<th scope='col'"+((k+l+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+f[D]+"'>"+d[D]+"</span></th>";for(E+=A+"</tr></thead><tbody>",I=this._getDaysInMonth(te,Z),te===t.selectedYear&&Z===t.selectedMonth&&(t.selectedDay=Math.min(t.selectedDay,I)),O=(this._getFirstDayOfMonth(te,Z)-l+7)%7,N=Math.ceil((O+I)/7),M=G&&this.maxRows>N?this.maxRows:N,this.maxRows=M,P=this._daylightSavingAdjust(new Date(te,Z,1-O)),j=0;M>j;j++){for(E+="<tr>",F=h?"<td class='ui-datepicker-week-col'>"+this._get(t,"calculateWeek")(P)+"</td>":"",k=0;7>k;k++)R=m?m.apply(t.input?t.input[0]:null,[P]):[!0,""],L=P.getMonth()!==Z,H=L&&!y||!R[0]||Q&&Q>P||J&&P>J,F+="<td class='"+((k+l+6)%7>=5?" ui-datepicker-week-end":"")+(L?" ui-datepicker-other-month":"")+(P.getTime()===T.getTime()&&Z===t.selectedMonth&&t._keyEvent||b.getTime()===P.getTime()&&b.getTime()===T.getTime()?" "+this._dayOverClass:"")+(H?" "+this._unselectableClass+" ui-state-disabled":"")+(L&&!v?"":" "+R[1]+(P.getTime()===K.getTime()?" "+this._currentClass:"")+(P.getTime()===U.getTime()?" ui-datepicker-today":""))+"'"+(L&&!v||!R[2]?"":" title='"+R[2].replace(/'/g,"&#39;")+"'")+(H?"":" data-handler='selectDay' data-event='click' data-month='"+P.getMonth()+"' data-year='"+P.getFullYear()+"'")+">"+(L&&!v?"&#xa0;":H?"<span class='ui-state-default'>"+P.getDate()+"</span>":"<a class='ui-state-default"+(P.getTime()===U.getTime()?" ui-state-highlight":"")+(P.getTime()===K.getTime()?" ui-state-active":"")+(L?" ui-priority-secondary":"")+"' href='#'>"+P.getDate()+"</a>")+"</td>",P.setDate(P.getDate()+1),P=this._daylightSavingAdjust(P);E+=F+"</tr>"}Z++,Z>11&&(Z=0,te++),E+="</tbody></table>"+(G?"</div>"+(Y[0]>0&&S===Y[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),C+=E}w+=C}return w+=u,t._keyEvent=!1,w},_generateMonthYearHeader:function(t,e,n,i,r,o,a,s){var c,u,l,h,f,d,p,g,m=this._get(t,"changeMonth"),v=this._get(t,"changeYear"),y=this._get(t,"showMonthAfterYear"),b="<div class='ui-datepicker-title'>",w="";if(o||!m)w+="<span class='ui-datepicker-month'>"+a[e]+"</span>";else{for(c=i&&i.getFullYear()===n,u=r&&r.getFullYear()===n,w+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",l=0;12>l;l++)(!c||l>=i.getMonth())&&(!u||l<=r.getMonth())&&(w+="<option value='"+l+"'"+(l===e?" selected='selected'":"")+">"+s[l]+"</option>");w+="</select>"}if(y||(b+=w+(!o&&m&&v?"":"&#xa0;")),!t.yearshtml)if(t.yearshtml="",o||!v)b+="<span class='ui-datepicker-year'>"+n+"</span>";else{for(h=this._get(t,"yearRange").split(":"),f=(new Date).getFullYear(),d=function(t){var e=t.match(/c[+\-].*/)?n+parseInt(t.substring(1),10):t.match(/[+\-].*/)?f+parseInt(t,10):parseInt(t,10);return isNaN(e)?f:e},p=d(h[0]),g=Math.max(p,d(h[1]||"")),p=i?Math.max(p,i.getFullYear()):p,g=r?Math.min(g,r.getFullYear()):g,t.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";g>=p;p++)t.yearshtml+="<option value='"+p+"'"+(p===n?" selected='selected'":"")+">"+p+"</option>";t.yearshtml+="</select>",b+=t.yearshtml,t.yearshtml=null}return b+=this._get(t,"yearSuffix"),y&&(b+=(!o&&m&&v?"":"&#xa0;")+w),b+="</div>"},_adjustInstDate:function(t,e,n){var i=t.selectedYear+("Y"===n?e:0),r=t.selectedMonth+("M"===n?e:0),o=Math.min(t.selectedDay,this._getDaysInMonth(i,r))+("D"===n?e:0),a=this._restrictMinMax(t,this._daylightSavingAdjust(new Date(i,r,o)));t.selectedDay=a.getDate(),t.drawMonth=t.selectedMonth=a.getMonth(),t.drawYear=t.selectedYear=a.getFullYear(),("M"===n||"Y"===n)&&this._notifyChange(t)},_restrictMinMax:function(t,e){var n=this._getMinMaxDate(t,"min"),i=this._getMinMaxDate(t,"max"),r=n&&n>e?n:e;return i&&r>i?i:r},_notifyChange:function(t){var e=this._get(t,"onChangeMonthYear");e&&e.apply(t.input?t.input[0]:null,[t.selectedYear,t.selectedMonth+1,t])},_getNumberOfMonths:function(t){var e=this._get(t,"numberOfMonths");return null==e?[1,1]:"number"==typeof e?[1,e]:e},_getMinMaxDate:function(t,e){return this._determineDate(t,this._get(t,e+"Date"),null)},_getDaysInMonth:function(t,e){return 32-this._daylightSavingAdjust(new Date(t,e,32)).getDate()},_getFirstDayOfMonth:function(t,e){return new Date(t,e,1).getDay()},_canAdjustMonth:function(t,e,n,i){var r=this._getNumberOfMonths(t),o=this._daylightSavingAdjust(new Date(n,i+(0>e?e:r[0]*r[1]),1));return 0>e&&o.setDate(this._getDaysInMonth(o.getFullYear(),o.getMonth())),this._isInRange(t,o)},_isInRange:function(t,e){var n,i,r=this._getMinMaxDate(t,"min"),o=this._getMinMaxDate(t,"max"),a=null,s=null,c=this._get(t,"yearRange");return c&&(n=c.split(":"),i=(new Date).getFullYear(),a=parseInt(n[0],10),s=parseInt(n[1],10),n[0].match(/[+\-].*/)&&(a+=i),n[1].match(/[+\-].*/)&&(s+=i)),(!r||e.getTime()>=r.getTime())&&(!o||e.getTime()<=o.getTime())&&(!a||e.getFullYear()>=a)&&(!s||e.getFullYear()<=s)},_getFormatConfig:function(t){var e=this._get(t,"shortYearCutoff");return e="string"!=typeof e?e:(new Date).getFullYear()%100+parseInt(e,10),{shortYearCutoff:e,dayNamesShort:this._get(t,"dayNamesShort"),dayNames:this._get(t,"dayNames"),monthNamesShort:this._get(t,"monthNamesShort"),monthNames:this._get(t,"monthNames")}},_formatDate:function(t,e,n,i){e||(t.currentDay=t.selectedDay,t.currentMonth=t.selectedMonth,t.currentYear=t.selectedYear);var r=e?"object"==typeof e?e:this._daylightSavingAdjust(new Date(i,n,e)):this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return this.formatDate(this._get(t,"dateFormat"),r,this._getFormatConfig(t))}}),t.fn.datepicker=function(e){if(!this.length)return this;t.datepicker.initialized||(t(document).on("mousedown",t.datepicker._checkExternalClick),t.datepicker.initialized=!0),0===t("#"+t.datepicker._mainDivId).length&&t("body").append(t.datepicker.dpDiv);var n=Array.prototype.slice.call(arguments,1);return"string"!=typeof e||"isDisabled"!==e&&"getDate"!==e&&"widget"!==e?"option"===e&&2===arguments.length&&"string"==typeof arguments[1]?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(n)):this.each(function(){"string"==typeof e?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this].concat(n)):t.datepicker._attachDatepicker(this,e)}):t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(n))},t.datepicker=new n,t.datepicker.initialized=!1,t.datepicker.uuid=(new Date).getTime(),t.datepicker.version="1.12.0",t.datepicker}),define("datepicker",["datepicker/widgets/datepicker"],function(t){return t}),define("component/trade-ui",["require","jquery","microtemplates","legacy/PubSub","component/track","datepicker","moment","component/i18n","component/util"],function(t){"use strict";var e,n,i,r,o,a,s,c,u,l,h,f,d,p,g,m,v,y=t("jquery"),b=t("microtemplates"),w=t("legacy/PubSub"),k=t("component/track"),x=(t("datepicker"),t("moment")),C=t("component/i18n"),S=t("component/util"),T=function(){n.on("click",function(t){n.toggleClass("showing"),e.toggleClass("showing"),e.hasClass("showing")?(y("#nav").addClass("showing-trade-menu"),k.startTiming("Luồng người dùng","Đăng nhập"),k.startTiming("Luồng người dùng","Xác nhận VTOS"),k.startTiming("Luồng người dùng","Đặt lệnh"),k.page("/trade","Mở menu Giao dịch")):y("#nav").removeClass("showing-trade-menu"),t.preventDefault()})},_=function(){n.addClass("showing"),e.addClass("showing"),y("#nav").addClass("showing-trade-menu"),y('[href="#page-login"]',e).trigger("click"),c.find(":input:visible:first").trigger("focus")},E=function(){y(".login-trigger").on("click",function(t){t.preventDefault();var e=y(this);_(),k.page("/trade","Mở menu Giao dịch"),e.data("login-source")&&k.event("login-trigger","click","Bấm đăng nhập trên "+e.data("login-source"))}),w.subscribe("requestLoginWindow",function(){_()})},A=function(){y(".logout-trigger").on("click",function(t){t.preventDefault(),y(".logout",e).first().trigger("click")})},D=function(t,c,l,h,f,d){var p=0;f&&d&&e.hasClass("showing")&&u.hasClass("active")&&(M(f,d),p=1e3),e.hasClass("showing")||n.click(),u.hasClass("active")||y('[href="#page-order"]',s).click(),"NB"===t?u.addClass("showing-buy").removeClass("showing-sell"):u.addClass("showing-sell").removeClass("showing-buy"),r.val(""),o.val(""),setTimeout(function(){isNaN(Number(l))?i.val(l).trigger("change"):(i.val("LO").trigger("change"),r.val(l).trigger("keyup")),o.val(c).trigger("change"),"NB"===t?a.val(h).trigger("change"):u.trigger({type:"prefill.sell",symbol:c,price:l}),a.select(),u.trigger("change")},p)},I=function(){y(".tabbed-content").on("dblclick",".has-tooltip",function(){if(y("body").hasClass("logged-in")){var t=y(this),i=t.find("span:visible"),o=t.hasClass("sell")?"NS":"NB",a=i.text().trim(),s=t.closest("tr").find("a.symbol").find("span.has-symbol").html(),l=y(t.closest("tr")).attr("floorcode"),h=S.getDefaultQuantity(l);D(o,s,a,h,i,r),k.page("/trade/quick-order","Đặt lệnh bằng cách bấm vào giá")}else y("body").hasClass("logged-in-social-acc")?(n.addClass("showing"),e.addClass("showing"),y("#nav").addClass("showing-trade-menu"),y('[href="#page-order"]',e).trigger("click"),u.find(":input:visible:first").trigger("focus")):(n.addClass("showing"),e.addClass("showing"),y("#nav").addClass("showing-trade-menu"),y('[href="#page-login"]',e).trigger("click"),c.find(":input:visible:first").trigger("focus"))})},O=function(){y(".tabbed-content").on("click",".go-page-order",function(){var t=y(this),e=t.closest("tr"),n=e.find("[data-field=matchPrice]"),i=t.hasClass("btn-sell")?"NS":"NB",o=e.find("[data-symbol]").data("symbol"),a=n.text().trim(),s=y(t.closest("tr")).attr("floorcode"),c=S.getDefaultQuantity(s);D(i,o,a,c,n,r),k.page("/trade/quick-order-fundamentals","Đặt lệnh bằng cách bấm nút Mua/Bán trên bảng giá Cơ bản")})},N=function(){y(".tabbed-content").on("click",".motif-board .btn-buy",function(){var t=y(this),e=t.closest("tr"),n=e.find("[data-field=matchPrice]"),i=t.hasClass("btn-sell")?"NS":"NB",o=e.find("[data-symbol]").data("symbol"),a=n.text().trim(),s=y(t.closest("tr")).attr("floorcode"),c=S.getDefaultQuantity(s);D(i,o,a,c,n,r),k.page("/trade/quick-order-motif","Đặt lệnh bằng cách bấm nút Mua/Bán trên Đầu tư theo nhóm")})},M=function(t,e){var n=t.clone().addClass("flying-shadow"),i=n.width(),r=n.height();n.css({transform:"translate3d("+t.offset().left+"px, "+(t.offset().top-y(window).scrollTop())+"px, 0)",width:t.width(),height:t.height(),textAlign:t.css("textAlign")}).appendTo(y("body")).css({transform:"translate3d("+(e.offset().left+2)+"px, "+(e.offset().top-1-y(window).scrollTop())+"px, 0)",width:i,height:r}),setTimeout(function(){n.remove()},1e3)},P=function(){e.add("#nav").on("click",".nav-link",function(t){var i=y(this).attr("href"),r=y('[href="'+i+'"]',s),o=y(i),a=y(".trade-page.active",e);if(m=o.attr("id"),"page-login"!==m&&(v=m),y.contains(e.get(0),r.get(0))||(e.hasClass("showing")?r.parent().hasClass("active")&&n.click():n.click()),!r.parent().hasClass("active")&&!e.hasClass("sliding")){w.publish("page/switch",{lastPage:a.attr("id"),currentPage:m}),s.removeClass("active"),r.parent().addClass("active");var c,u;o.index()>a.index()?(c="sliding-from-right",u="sliding-to-left"):(c="sliding-from-left",u="sliding-to-right"),e.addClass("sliding"),a.addClass(u).removeClass("active"),o.addClass(c).addClass("active"),setTimeout(function(){o.removeClass(c),a.removeClass(u),e.removeClass("sliding"),y(".trade-pages",e).nanoScroller()},320),R(),L(o)}t.preventDefault()})},j=function(){l.on("click","tr.clickable",function(){var t=y(this).find(".portfolio-symbol").text();y(".stocks-symbol",h).filter(function(){return y(this).text()==t}).click()})},F=function(){h.on("click","tr.clickable",function(){var t=y(this).find(".stocks-symbol").text(),e=y('.portfolio-symbol:contains("'+t+'")',l).parent().find(".portfolio-currentprice").text();u.trigger({type:"prefill.sell",symbol:t,price:e}),k.event("row","click","Bán nhanh từ bảng Danh mục hoặc Tài sản",t)})},R=function(){var t=s.filter(".active").find(".nav-link");k.page(t.attr("data-virtual-path"),t.attr("title"));var e=t.data("event-name");e&&k.eventMixpanel(e,t.data("event-action"))},L=function(t){var e=t.find("input").filter("[type=text], [type=search], [type=password], [type=number]").filter(function(){return 0===y(this).val().length}).filter(":visible");e.length>0&&setTimeout(function(){y(e[0]).focus()},1)},H=function(){y("#vtosmap-render").html(b(y("#vtosmap-tmpl").html(),{}));var t=y(".vtosmap",e),n=y(".vtosmap-types",e);y(".vtosmap-types .vertical",e).on("click",function(e){t.addClass("col-highlight").removeClass("row-highlight"),n.addClass("vertical-checked").removeClass("horizontal-checked"),e.preventDefault()}),y(".vtosmap-types .horizontal",e).on("click",function(e){t.addClass("row-highlight").removeClass("col-highlight"),n.addClass("horizontal-checked").removeClass("vertical-checked"),e.preventDefault()});var i=y('.trade-page-login form[name="vtos"] input',e).on("focus",function(){y("#vtosmap-"+y(this).attr("data-cell")).addClass("active")}).on("blur",function(){y("#vtosmap-"+y(this).attr("data-cell")).removeClass("active")});t.on("click",".cell.highlight",function(){i.filter('[data-cell="'+y(this).attr("data-cell")+'"]').focus().select()})},B=function(){r.add(a).on("keyup",function(){u.trigger("change")}),o.on("change",function(){u.trigger("change")}),p.on("change",function(){0===r.val().length&&r.val(y(this).val())})},U=function(){var t=y("#page-order"),e=y("#toggle-condition");e.on("click",function(){t.toggleClass("has-condition"),t.hasClass("has-condition")?(0===f.val().length&&f.val(x().add(15,"days").format(C.t("date_format"))),r.prop("disabled",!1).focus()):(f.val(""),"LO"===i.val()?r.prop("disabled",!1).focus():r.prop("disabled",!0))}),g.attr("title",d.children("option:selected").data("tooltip")),d.on("change",function(){var t=y(this).children("option:selected").data("tooltip");g.attr("title",t)})},W=function(){var t=y("#conditional-operator-gte"),e=y("#conditional-operator-lte");t.on("click",function(n){n.preventDefault(),t.toggleClass("active"),e.toggleClass("active")}),e.on("click",function(n){n.preventDefault(),t.toggleClass("active"),e.toggleClass("active")})},q=function(){y.datepicker.regional["vi-VN"]={closeText:"Đóng",prevText:"Trước",nextText:"Sau",currentText:"Hôm nay",monthNames:["Tháng một","Tháng hai","Tháng ba","Tháng tư","Tháng năm","Tháng sáu","Tháng bảy","Tháng tám","Tháng chín","Tháng mười","Tháng mười một","Tháng mười hai"],monthNamesShort:["Một","Hai","Ba","Bốn","Năm","Sáu","Bảy","Tám","Chín","Mười","Mười một","Mười hai"],dayNames:["Chủ nhật","Thứ hai","Thứ ba","Thứ tư","Thứ năm","Thứ sáu","Thứ bảy"],dayNamesShort:["CN","Hai","Ba","Tư","Năm","Sáu","Bảy"],dayNamesMin:["CN","T2","T3","T4","T5","T6","T7"],weekHeader:"Tuần",dateFormat:"dd/mm/yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},y("#datepicker").datepicker({dateFormat:C.t("jq_datepicker_date_format"),minDate:0,maxDate:30,defaultDate:0,constrainInput:!0,beforeShow:function(t,e){e.dpDiv.insertAfter(t),setTimeout(function(){e.dpDiv.css({position:"absolute",left:"auto",right:9,top:45})},100)}})},$=function(){var t=y(".order-buy-sell-switch .order-buy",e),n=y(".order-buy-sell-switch .order-sell",e);t.on("click",function(t){u.addClass("showing-buy").removeClass("showing-sell"),u.trigger("change"),t.preventDefault()}),n.on("click",function(t){u.addClass("showing-sell").removeClass("showing-buy"),u.trigger("change",["switch-to-sell"]),t.preventDefault()})},V=function(){y("#orderbook-render").on("click",".expandable-trigger",function(t){y(this).hasClass("editable")||y(t.target).is("button, a, input")||(y(this).find(".expandable").toggleClass("expanded").addClass("expanding"),y(this).toggleClass("clicked"))}).on("transitionend",".expandable",function(){y(this).removeClass("expanding")})},Y=function(){e.on("keyup mousewheel",".auto-comma",function(){var t=y(this).val(),e=Number(S.removeCommasFromNumber(t));if(isNaN(e))return void y(this).trigger("change");y(this).trigger("change");var n=S.addCommasToNumber(S.removeCommasFromNumber(t)),i=n.length-t.length,r=this.selectionStart+i,o=this.selectionEnd+i;y(this).val(n),this.setSelectionRange(r,o)})},z=function(){w.subscribe("vtosLoggedIn",function(){var t=v||"page-order";y('[href="#'+t+'"]',e.add("#nav")).click()})},X=function(){var t=S.prefixEvent("animationend","animation");e.on(t,".flash-color",function(){y(this).removeClass("flash-color")})};return{init:function(){n=y(".trade-menu-trigger"),e=y(".trade-menu"),c=y(".trade-page-login",e),u=y(".trade-page-order",e),l=y(".trade-page-portfolio",e),h=y(".trade-page-assets",e),r=y('[name="price"]',u),o=y('[name="symbol"]',u),a=y('[name="quantity"]',u),i=y('.for-no-condition[name="price-type"]',u),f=y('[name="expiredDate"]',u),d=y('[name="condition"]',u),p=y('[name="triggered-price"]',u),g=y(".form-field.triggered-price label",u),s=y(".nav",e).children().add(y("#nav ul.secondary > li")),B(),T(),E(),A(),I(),O(),N(),P(),$(),H(),V(),Y(),j(),F(),z(),X(),q(),U(),W()},showLoginPage:_}}),define("component/feedback",["require","component/i18n"],function(t){var e=t("component/i18n");return{init:function(){$.ajax({url:e.t("links.jira_issue_collector"),type:"get",cache:!0,dataType:"script"}),window.ATL_JQ_PAGE_PROPS={triggerFunction:function(t){$(".jira-feedback").click(function(e){e.preventDefault(),t()})}}}}}),define("component/clock",["require","jquery","component/i18n","moment"],function(t){"use strict";var e=t("jquery"),n=t("component/i18n"),i=t("moment"),r=3e5,o="+07:00",a=function(){var t=(new Date).getTime();return e.ajax({url:"https://finfoapi-hn.vndirect.com.vn/time",type:"get"}).then(function(e){var n=(new Date).getTime()-t,i=e.VNDDateTime+n/2;return sessionStorage.setItem("startTimeCounter",i),i})};return{init:function(){var t=e("#clock-date"),s=e("#clock-time");a().then(function(e){var c="HH:mm:ss",u=n.t("date_format",{defaultValue:"DD/MM/YYYY"}),l=i(e).utcOffset(o);s.text(l.format(c)),t.text(l.format(u)),setInterval(function(){var e=sessionStorage.getItem("startTimeCounter"),n=parseInt(e)+1e3;sessionStorage.setItem("startTimeCounter",n),l=i(n).utcOffset(o),s.text(l.format(c)),t.text(l.format(u))},1e3),setInterval(function(){a().then(function(e){l=i(e).utcOffset(o),s.text(l.format(c)),t.text(l.format(u))})},r)})}}}),define("component/news",["require","jquery","microtemplates","component/track"],function(t,e,n,i){"use strict";var r,o="https://www.vndirect.com.vn/wp-content/themes/vnd/ajax.php?action=getHotNews",a=6e5,s=2e4,c=!1,u=[{newsHeader:'<i class="fa fa-line-chart"></i> Cập nhật dữ liệu Phân tích kỹ thuật real-time, miễn phí',url:"https://tuvan.vndirect.com.vn/datafeed/?utm_source=web_bgv3&utm_medium=link&utm_content=ver1&utm_campaign=datafeedsimplevnd",isAd:!0,track:"datafeed",position:"middle"},{newsHeader:'<i class="fa fa-bolt"></i> Ứng dụng mới: Cập nhật liên tục mã hay từ chuyên gia',url:"http://stockbook1.launchrock.com/",isAd:!0,track:"cudau",position:0}],l=function(){e.ajax({url:o,dataType:"json"}).then(function(t){r=e.map(t.listNews,function(t){return{newsHeader:t.newsHeader,url:t.newsUrl}}),r=h(r),f(r)})},h=function(t){return e.each(u,function(e,n){var i;i="middle"==n.position?Math.floor(t.length/2):0,t.splice(i,0,n)}),t},f=function(t){c?e("#news-wrapper .inner ul").fadeOut(function(){e(this).remove(),e("#news-wrapper .inner").html(n(e("#news-tmpl").html(),t))}):(c=!0,e("#news-wrapper .inner").html(n(e("#news-tmpl").html(),t))),e('#news-wrapper li:not(".ad") a').click(function(){i.event("news","click","Bấm vào link tin tức")})};return{init:function(){setTimeout(function(){l(),setInterval(l,a)},s)}}}),!function(t,e){"use strict";var n=e(t);"object"==typeof module&&null!=module&&module.exports?module.exports=n:"function"==typeof define&&define.amd?define("mithril",[],function(){return n}):t.m=n}("undefined"!=typeof window?window:this,function(t,e){"use strict";function n(t){return"function"==typeof t}function i(t){return"[object Object]"===Ae.call(t)}function r(t){return"[object String]"===Ae.call(t)}function o(){}function a(t){Ce=t.document,Se=t.location,_e=t.cancelAnimationFrame||t.clearTimeout,Te=t.requestAnimationFrame||t.setTimeout}function s(t,e){for(var n,i=[],r=/(?:(^|#|\.)([^#\.\[\]]+))|(\[.+?\])/g;n=r.exec(e);)if(""===n[1]&&n[2])t.tag=n[2];else if("#"===n[1])t.attrs.id=n[2];else if("."===n[1])i.push(n[2]);else if("["===n[3][0]){var o=/\[(.+?)(?:=("|'|)(.*?)\2)?\]/.exec(n[3]);t.attrs[o[1]]=o[3]||""}return i}function c(t,e){var n=e?t.slice(1):t;return 1===n.length&&De(n[0])?n[0]:n}function u(t,e,n){var i="class"in e?"class":"className";for(var r in e)Ee.call(e,r)&&(r===i&&null!=e[r]&&""!==e[r]?(n.push(e[r]),t[r]=""):t[r]=e[r]);n.length&&(t[i]=n.join(" "))}function l(t,e){for(var n=[],o=1,a=arguments.length;a>o;o++)n[o-1]=arguments[o];if(i(t))return ie(t,n);if(!r(t))throw new Error("selector in m(selector, attrs, children) should be a string");var l=null!=e&&i(e)&&!("tag"in e||"view"in e||"subtree"in e),h=l?e:{},f={tag:"div",attrs:{},children:c(n,l)};return u(f.attrs,h,s(f,t)),f}function h(t,e){for(var n=0;n<t.length&&!e(t[n],n++););}function f(t,e){h(t,function(t,n){return(t=t&&t.attrs)&&null!=t.key&&e(t,n)})}function d(t){try{if(null!=t&&null!=t.toString())return t}catch(e){}return""}function p(t,e,n,i){try{m(t,e,n),e.nodeValue=i}catch(r){}}function g(t){for(var e=0;e<t.length;e++)De(t[e])&&(t=t.concat.apply([],t),e--);return t}function m(t,e,n){t.insertBefore(e,t.childNodes[n]||null)}function v(t,e,n,i){f(t,function(t,i){e[t=t.key]=e[t]?{action:Me,index:i,from:e[t].index,element:n.nodes[e[t].index]||Ce.createElement("div")}:{action:Ne,index:i}});var r=[];for(var o in e)Ee.call(e,o)&&r.push(e[o]);var a=r.sort(q),s=new Array(n.length);return s.nodes=n.nodes.slice(),h(a,function(e){var r=e.index;if(e.action===Oe&&(X(n[r].nodes,n[r]),s.splice(r,1)),e.action===Ne){var o=Ce.createElement("div");o.key=t[r].attrs.key,m(i,o,r),s.splice(r,0,{attrs:{key:t[r].attrs.key},nodes:[o]}),s.nodes[r]=o}if(e.action===Me){var a=e.element,c=i.childNodes[r];c!==a&&null!==a&&i.insertBefore(a,c||null),s[r]=n[e.from],s.nodes[r]=a}}),s}function y(t,e,n,i){var r=t.length!==e.length;return r||f(t,function(t,n){var i=e[n];return r=i&&i.attrs&&i.attrs.key!==t.key}),r?v(t,n,e,i):e}function b(t,e,n){h(t,function(t,i){null!=e[i]&&n.push.apply(n,e[i].nodes)}),h(e.nodes,function(t,i){null!=t.parentNode&&n.indexOf(t)<0&&X([t],[e[i]])}),t.length<e.length&&(e.length=t.length),e.nodes=n}function w(t){var e=0;f(t,function(){return h(t,function(t){(t=t&&t.attrs)&&null==t.key&&(t.key="__mithril__"+e++)}),1})}function k(t,e,n){return t.tag!==e.tag?!0:n.sort().join()!==Object.keys(e.attrs).sort().join()?!0:t.attrs.id!==e.attrs.id?!0:t.attrs.key!==e.attrs.key?!0:"all"===l.redraw.strategy()?!e.configContext||e.configContext.retain!==!0:"diff"===l.redraw.strategy()?e.configContext&&e.configContext.retain===!1:!1}function x(t,e,i){k(t,e,i)&&(e.nodes.length&&X(e.nodes),e.configContext&&n(e.configContext.onunload)&&e.configContext.onunload(),e.controllers&&h(e.controllers,function(t){t.onunload&&t.onunload({preventDefault:o})}))}function C(t,e){return t.attrs.xmlns?t.attrs.xmlns:"svg"===t.tag?"http://www.w3.org/2000/svg":"math"===t.tag?"http://www.w3.org/1998/Math/MathML":e}function S(t,e,n){n.length&&(t.views=e,t.controllers=n,h(n,function(t){if(t.onunload&&t.onunload.$old&&(t.onunload=t.onunload.$old),Pe&&t.onunload){var e=t.onunload;t.onunload=o,t.onunload.$old=e}}))}function T(t,e,i,r,o){if(n(e.attrs.config)){var a=o.configContext=o.configContext||{};t.push(function(){return e.attrs.config.call(e,i,!r,a,o)})}}function _(t,n,i,r,o,a,s,c){var u=t.nodes[0];return r&&z(u,n.tag,n.attrs,t.attrs,o),t.children=W(u,n.tag,e,e,n.children,t.children,!1,0,n.attrs.contenteditable?u:i,o,s),t.nodes.intact=!0,c.length&&(t.views=a,t.controllers=c),u}function E(t,e,n){var i;t.$trusted?i=Z(e,n,t):(i=[Ce.createTextNode(t)],e.nodeName in Ie||m(e,i[0],n));var r;return r="string"==typeof t||"number"==typeof t||"boolean"==typeof t?new t.constructor(t):t,r.nodes=i,r}function A(t,e,n,i,r,o){var a=e.nodes;return i&&i===Ce.activeElement||(t.$trusted?(X(a,e),a=Z(n,r,t)):"textarea"===o?n.value=t:i?i.innerHTML=t:((1===a[0].nodeType||a.length>1||a[0].nodeValue.trim&&!a[0].nodeValue.trim())&&(X(e.nodes,e),a=[Ce.createTextNode(t)]),p(n,a[0],r,t))),e=new t.constructor(t),e.nodes=a,e}function D(t,e,n,i,r,o,a){return t.nodes.length?t.valueOf()!==e.valueOf()||r?A(e,t,i,o,n,a):(t.nodes.intact=!0,t):E(e,i,n)}function I(t){if(t.$trusted){var e=t.match(/<[^\/]|\>\s*[^<]/g);if(null!=e)return e.length}else if(De(t))return t.length;return 1}function O(t,n,i,r,o,a,s,c,u){t=g(t);var l=[],h=n.length===t.length,d=0,p={},m=!1;f(n,function(t,e){m=!0,p[n[e].attrs.key]={action:Oe,index:e}}),w(t),m&&(n=y(t,n,p,i));for(var v=0,k=0,x=t.length;x>k;k++){var C=W(i,o,n,r,t[k],n[v],a,r+d||d,s,c,u);C!==e&&(h=h&&C.nodes.intact,d+=I(C),n[v++]=C)}return h||b(t,n,l),n}function N(t,e,n,i,r){if(null!=e){if(Ae.call(e)===Ae.call(t))return e;if(r&&r.nodes){var o=n-i,a=o+(De(t)?t:e.nodes).length;X(r.nodes.slice(o,a),r.slice(o,a))}else e.nodes&&X(e.nodes,e)}return e=new t.constructor,e.tag&&(e={}),e.nodes=[],e
}function M(t,e){return t.attrs.is?null==e?Ce.createElement(t.tag,t.attrs.is):Ce.createElementNS(e,t.tag,t.attrs.is):null==e?Ce.createElement(t.tag):Ce.createElementNS(e,t.tag)}function P(t,e,n,i){return i?z(e,t.tag,t.attrs,{},n):t.attrs}function j(t,n,i,r,o,a){return null!=t.children&&t.children.length>0?W(n,t.tag,e,e,t.children,i.children,!0,0,t.attrs.contenteditable?n:r,o,a):t.children}function F(t,e,n,i,r,o,a){var s={tag:t.tag,attrs:e,children:n,nodes:[i]};return S(s,o,a),s.children&&!s.children.nodes&&(s.children.nodes=[]),"select"===t.tag&&"value"in t.attrs&&z(i,t.tag,{value:t.attrs.value},{},r),s}function R(t,e,i,r){var o;return o="diff"===l.redraw.strategy()&&t?t.indexOf(e):-1,o>-1?i[o]:n(r)?new r:{}}function L(t,e,n,i){null!=i.onunload&&Fe.map(function(t){return t.handler}).indexOf(i.onunload)<0&&Fe.push({controller:i,handler:i.onunload}),t.push(n),e.push(i)}function H(t,e,n,i,r,o){var a=R(n.views,e,i,t.controller),s=t&&t.attrs&&t.attrs.key;return t=0===Pe||Re||i&&i.indexOf(a)>-1?t.view(a):{tag:"placeholder"},"retain"===t.subtree?t:(t.attrs=t.attrs||{},t.attrs.key=s,L(o,r,e,a),t)}function B(t,e,n,i){for(var r=e&&e.controllers;null!=t.view;)t=H(t,t.view.$original||t.view,e,r,i,n);return t}function U(t,e,n,i,o,a,s,c){var u=[],l=[];if(t=B(t,e,u,l),"retain"===t.subtree)return e;if(!t.tag&&l.length)throw new Error("Component template must return a virtual element, not an array, string, etc.");t.attrs=t.attrs||{},e.attrs=e.attrs||{};var h=Object.keys(t.attrs),f=h.length>("key"in t.attrs?1:0);if(x(t,e,h),r(t.tag)){var d=0===e.nodes.length;s=C(t,s);var p;if(d){p=M(t,s);var g=P(t,p,s,f);m(i,p,o);var v=j(t,p,e,n,s,c);e=F(t,g,v,p,s,u,l)}else p=_(e,t,n,f,s,u,c,l);return d||a!==!0||null==p||m(i,p,o),T(c,t,p,d,e),e}}function W(t,e,r,o,a,s,c,u,l,h,f){return a=d(a),"retain"===a.subtree?s:(s=N(a,s,u,o,r),De(a)?O(a,s,t,u,e,c,l,h,f):null!=a&&i(a)?U(a,s,l,t,u,c,h,f):n(a)?s:D(s,a,u,t,c,l,e))}function q(t,e){return t.action-e.action||t.index-e.index}function $(t,e,n){for(var i in e)Ee.call(e,i)&&(null!=n&&n[i]===e[i]||(t.style[i]=e[i]));for(i in n)Ee.call(n,i)&&(Ee.call(e,i)||(t.style[i]=""))}function V(t,e,r,o,a,s){if("config"===e||"key"===e)return!0;if(n(r)&&"on"===e.slice(0,2))t[e]=te(r,t);else if("style"===e&&null!=r&&i(r))$(t,r,o);else if(null!=s)"href"===e?t.setAttributeNS("http://www.w3.org/1999/xlink","href",r):t.setAttribute("className"===e?"class":e,r);else if(e in t&&!Le[e])try{"input"===a&&t[e]===r||(t[e]=r)}catch(c){t.setAttribute(e,r)}else t.setAttribute(e,r)}function Y(t,e,n,i,r,o,a){if(e in r&&i===n&&Ce.activeElement!==t)"value"===e&&"input"===o&&t.value!==n&&(t.value=n);else{r[e]=n;try{return V(t,e,n,i,o,a)}catch(s){if(s.message.indexOf("Invalid argument")<0)throw s}}}function z(t,e,n,i,r){for(var o in n)!Ee.call(n,o)||!Y(t,o,n[o],i[o],i,e,r);return i}function X(t,e){for(var n=t.length-1;n>-1;n--)if(t[n]&&t[n].parentNode){try{t[n].parentNode.removeChild(t[n])}catch(i){}e=[].concat(e),e[n]&&G(e[n])}t.length&&(t.length=0)}function G(t){t.configContext&&n(t.configContext.onunload)&&(t.configContext.onunload(),t.configContext.onunload=null),t.controllers&&h(t.controllers,function(t){n(t.onunload)&&t.onunload({preventDefault:o})}),t.children&&(De(t.children)?h(t.children,G):t.children.tag&&G(t.children))}function K(t,e){try{t.appendChild(Ce.createRange().createContextualFragment(e))}catch(n){t.insertAdjacentHTML("beforeend",e),Q(t)}}function Q(t){if("SCRIPT"===t.tagName)t.parentNode.replaceChild(J(t),t);else{var e=t.childNodes;if(e&&e.length)for(var n=0;n<e.length;n++)Q(e[n])}return t}function J(t){for(var e=document.createElement("script"),n=t.attributes,i=0;i<n.length;i++)e.setAttribute(n[i].name,n[i].value);return e.text=t.innerHTML,e}function Z(t,e,n){var i=t.childNodes[e];if(i){var r=1!==i.nodeType,o=Ce.createElement("span");r?(t.insertBefore(o,i||null),o.insertAdjacentHTML("beforebegin",n),t.removeChild(o)):i.insertAdjacentHTML("beforebegin",n)}else K(t,n);for(var a=[];t.childNodes[e]!==i;)a.push(t.childNodes[e]),e++;return a}function te(t,e){return function(n){n=n||event,l.redraw.strategy("diff"),l.startComputation();try{return t.call(e,n)}finally{se()}}}function ee(t){var e=Be.indexOf(t);return 0>e?Be.push(t)-1:e}function ne(t){function e(){return arguments.length&&(t=arguments[0]),t}return e.toJSON=function(){return t},e}function ie(t,e){function n(){return(t.controller||o).apply(this,e)||this}function i(n){for(var i=[n].concat(e),r=1;r<arguments.length;r++)i.push(arguments[r]);return t.view.apply(t,i)}t.controller&&(n.prototype=t.controller.prototype),i.$original=t.view;var r={controller:n,view:i};return e[0]&&null!=e[0].key&&(r.attrs={key:e[0].key}),r}function re(t,e,n,i){if(!i){l.redraw.strategy("all"),l.startComputation(),qe[n]=e;var r;r=We=t?t:t={controller:o};var a=new(t.controller||o);return r===We&&(Ve[n]=a,$e[n]=t),se(),null===t&&oe(e,n),Ve[n]}null==t&&oe(e,n)}function oe(t,e){qe.splice(e,1),Ve.splice(e,1),$e.splice(e,1),pe(t),Be.splice(ee(t),1)}function ae(){Xe&&(Xe(),Xe=null),h(qe,function(t,e){var n=$e[e];if(Ve[e]){var i=[Ve[e]];l.render(t,n.view?n.view(Ve[e],i):"")}}),Ge&&(Ge(),Ge=null),Ye=null,ze=new Date,l.redraw.strategy("diff")}function se(){"none"===l.redraw.strategy()?(Pe--,l.redraw.strategy("diff")):l.endComputation()}function ce(t){return t.slice(tn[l.route.mode].length)}function ue(t,e,n){Je={};var i=n.indexOf("?");-1!==i&&(Je=de(n.substr(i+1,n.length)),n=n.substr(0,i));var r=Object.keys(e),o=r.indexOf(n);if(-1!==o)return l.mount(t,e[r[o]]),!0;for(var a in e)if(Ee.call(e,a)){if(a===n)return l.mount(t,e[a]),!0;var s=new RegExp("^"+a.replace(/:[^\/]+?\.{3}/g,"(.*?)").replace(/:[^\/]+/g,"([^\\/]+)")+"/?$");if(s.test(n))return n.replace(s,function(){var n=a.match(/:[^\/]+/g)||[],i=[].slice.call(arguments,1,-2);h(n,function(t,e){Je[t.replace(/:|\./g,"")]=decodeURIComponent(i[e])}),l.mount(t,e[a])}),!0}}function le(t){if(t=t||event,!(t.ctrlKey||t.metaKey||t.shiftKey||2===t.which)){t.preventDefault?t.preventDefault():t.returnValue=!1;var e,n=t.currentTarget||t.srcElement;for(e="pathname"===l.route.mode&&n.search?de(n.search.slice(1)):{};n&&!/a/i.test(n.nodeName);)n=n.parentNode;Pe=0,l.route(n[l.route.mode].slice(tn[l.route.mode].length),e)}}function he(){"hash"!==l.route.mode&&Se.hash?Se.hash=Se.hash:t.scrollTo(0,0)}function fe(t,n){var r={},o=[];for(var a in t)if(Ee.call(t,a)){var s=n?n+"["+a+"]":a,c=t[a];if(null===c)o.push(encodeURIComponent(s));else if(i(c))o.push(fe(c,s));else if(De(c)){var u=[];r[s]=r[s]||{},h(c,function(t){r[s][t]||(r[s][t]=!0,u.push(encodeURIComponent(s)+"="+encodeURIComponent(t)))}),o.push(u.join("&"))}else c!==e&&o.push(encodeURIComponent(s)+"="+encodeURIComponent(c))}return o.join("&")}function de(t){if(""===t||null==t)return{};"?"===t.charAt(0)&&(t=t.slice(1));var e=t.split("&"),n={};return h(e,function(t){var e=t.split("="),i=decodeURIComponent(e[0]),r=2===e.length?decodeURIComponent(e[1]):null;null!=n[i]?(De(n[i])||(n[i]=[n[i]]),n[i].push(r)):n[i]=r}),n}function pe(t){var n=ee(t);X(t.childNodes,Ue[n]),Ue[n]=e}function ge(t,e){var n=l.prop(e);return t.then(n),n.then=function(n,i){return ge(t.then(n,i),e)},n["catch"]=n.then.bind(null,null),n}function me(t,e){function r(t){c=t||sn,h.map(function(t){c===an?t.resolve(u):t.reject(u)})}function o(t,e,r,o){if((null!=u&&i(u)||n(u))&&n(t))try{var a=0;t.call(u,function(t){a++||(u=t,e())},function(t){a++||(u=t,r())})}catch(s){l.deferred.onerror(s),u=s,r()}else o()}function a(){var i;try{i=u&&u.then}catch(h){return l.deferred.onerror(h),u=h,c=on,a()}c===on&&l.deferred.onerror(u),o(i,function(){c=rn,a()},function(){c=on,a()},function(){try{c===rn&&n(t)?u=t(u):c===on&&n(e)&&(u=e(u),c=rn)}catch(a){return l.deferred.onerror(a),u=a,r()}u===s?(u=TypeError(),r()):o(i,function(){r(an)},r,function(){r(c===rn&&an)})})}var s=this,c=0,u=0,h=[];s.promise={},s.resolve=function(t){return c||(u=t,c=rn,a()),s},s.reject=function(t){return c||(u=t,c=on,a()),s},s.promise.then=function(t,e){var n=new me(t,e);return c===an?n.resolve(u):c===sn?n.reject(u):h.push(n),n.promise}}function ve(t){return t}function ye(n){var i=n.callbackName||"mithril_callback_"+(new Date).getTime()+"_"+Math.round(1e16*Math.random()).toString(36),r=Ce.createElement("script");t[i]=function(o){r.parentNode.removeChild(r),n.onload({type:"load",target:{responseText:o}}),t[i]=e},r.onerror=function(){return r.parentNode.removeChild(r),n.onerror({type:"error",target:{status:500,responseText:JSON.stringify({error:"Error making jsonp request"})}}),t[i]=e,!1},r.onload=function(){return!1},r.src=n.url+(n.url.indexOf("?")>0?"&":"?")+(n.callbackKey?n.callbackKey:"callback")+"="+i+"&"+fe(n.data||{}),Ce.body.appendChild(r)}function be(e){var i=new t.XMLHttpRequest;if(i.open(e.method,e.url,!0,e.user,e.password),i.onreadystatechange=function(){4===i.readyState&&(i.status>=200&&i.status<300?e.onload({type:"load",target:i}):e.onerror({type:"error",target:i}))},e.serialize===JSON.stringify&&e.data&&"GET"!==e.method&&i.setRequestHeader("Content-Type","application/json; charset=utf-8"),e.deserialize===JSON.parse&&i.setRequestHeader("Accept","application/json, text/*"),n(e.config)){var o=e.config(i,e);null!=o&&(i=o)}var a="GET"!==e.method&&e.data?e.data:"";if(a&&!r(a)&&a.constructor!==t.FormData)throw new Error("Request data should be either be a string or FormData. Check the `serialize` option in `m.request`");return i.send(a),i}function we(t){return t.dataType&&"jsonp"===t.dataType.toLowerCase()?ye(t):be(t)}function ke(t,e,n){if("GET"===t.method&&"jsonp"!==t.dataType){var i=t.url.indexOf("?")<0?"?":"&",r=fe(e);t.url+=r?i+r:""}else t.data=n(e)}function xe(t,e){return e&&(t=t.replace(/:[a-z]\w+/gi,function(t){var n=t.slice(1),i=e[n]||t;return delete e[n],i})),t}l.version=function(){return"v0.2.5"};var Ce,Se,Te,_e,Ee={}.hasOwnProperty,Ae={}.toString,De=Array.isArray||function(t){return"[object Array]"===Ae.call(t)},Ie={AREA:1,BASE:1,BR:1,COL:1,COMMAND:1,EMBED:1,HR:1,IMG:1,INPUT:1,KEYGEN:1,LINK:1,META:1,PARAM:1,SOURCE:1,TRACK:1,WBR:1};l.deps=function(e){return a(t=e||window),t},l.deps(t);var Oe=1,Ne=2,Me=3,Pe=0;l.startComputation=function(){Pe++},l.endComputation=function(){Pe>1?Pe--:(Pe=0,l.redraw())};var je,Fe=[],Re=!1,Le={list:1,style:1,form:1,type:1,width:1,height:1},He={appendChild:function(t){je===e&&(je=Ce.createElement("html")),Ce.documentElement&&Ce.documentElement!==t?Ce.replaceChild(t,Ce.documentElement):Ce.appendChild(t),this.childNodes=Ce.childNodes},insertBefore:function(t){this.appendChild(t)},childNodes:[]},Be=[],Ue={};l.render=function(t,n,i){if(!t)throw new Error("Ensure the DOM element being passed to m.route/m.mount/m.render is not undefined.");var r,o=[],a=ee(t),s=t===Ce;r=s||t===Ce.documentElement?He:t,s&&"html"!==n.tag&&(n={tag:"html",attrs:{},children:n}),Ue[a]===e&&X(r.childNodes),i===!0&&pe(t),Ue[a]=W(r,null,e,e,n,Ue[a],!1,0,null,e,o),h(o,function(t){t()})},l.trust=function(t){return t=new String(t),t.$trusted=!0,t},l.prop=function(t){return(null!=t&&(i(t)||n(t))||"undefined"!=typeof Promise&&t instanceof Promise)&&n(t.then)?ge(t):ne(t)};var We,qe=[],$e=[],Ve=[],Ye=null,ze=0,Xe=null,Ge=null,Ke=16;l.component=function(t){for(var e=new Array(arguments.length-1),n=1;n<arguments.length;n++)e[n-1]=arguments[n];return ie(t,e)},l.mount=l.module=function(t,e){if(!t)throw new Error("Please ensure the DOM element exists before rendering a template into it.");var i=qe.indexOf(t);0>i&&(i=qe.length);var r=!1,o={preventDefault:function(){r=!0,Xe=Ge=null}};return h(Fe,function(t){t.handler.call(t.controller,o),t.controller.onunload=null}),r?h(Fe,function(t){t.controller.onunload=t.handler}):Fe=[],Ve[i]&&n(Ve[i].onunload)&&Ve[i].onunload(o),re(e,t,i,r)};var Qe=!1;l.redraw=function(e){if(!Qe){Qe=!0,e&&(Re=!0);try{Ye&&!e?(Te===t.requestAnimationFrame||new Date-ze>Ke)&&(Ye>0&&_e(Ye),Ye=Te(ae,Ke)):(ae(),Ye=Te(function(){Ye=null},Ke))}finally{Qe=Re=!1}}},l.redraw.strategy=l.prop(),l.withAttr=function(t,e,n){return function(i){i=i||window.event;var r=i.currentTarget||this,o=n||this,a=t in r?r[t]:r.getAttribute(t);e.call(o,a)}};var Je,Ze,tn={pathname:"",hash:"#",search:"?"},en=o,nn=!1;l.route=function(e,n,i,o){if(0===arguments.length)return Ze;if(3===arguments.length&&r(n)){en=function(t){var r=Ze=ce(t);if(!ue(e,i,r)){if(nn)throw new Error("Ensure the default route matches one of the routes defined in m.route");nn=!0,l.route(n,!0),nn=!1}};var a="hash"===l.route.mode?"onhashchange":"onpopstate";return t[a]=function(){var t=Se[l.route.mode];"pathname"===l.route.mode&&(t+=Se.search),Ze!==ce(t)&&en(t)},Xe=he,void t[a]()}if(e.addEventListener||e.attachEvent){var s="pathname"!==l.route.mode?Se.pathname:"";return e.href=s+tn[l.route.mode]+o.attrs.href,void(e.addEventListener?(e.removeEventListener("click",le),e.addEventListener("click",le)):(e.detachEvent("onclick",le),e.attachEvent("onclick",le)))}if(r(e)){var c=Ze;Ze=e;var u,h=n||{},f=Ze.indexOf("?");u=f>-1?de(Ze.slice(f+1)):{};for(var d in h)Ee.call(h,d)&&(u[d]=h[d]);var p,g=fe(u);p=f>-1?Ze.slice(0,f):Ze,g&&(Ze=p+(-1===p.indexOf("?")?"?":"&")+g);var m=(3===arguments.length?i:n)===!0||c===e;if(t.history.pushState){var v=m?"replaceState":"pushState";Xe=he,Ge=function(){try{t.history[v](null,Ce.title,tn[l.route.mode]+Ze)}catch(e){Se[l.route.mode]=Ze}},en(tn[l.route.mode]+Ze)}else Se[l.route.mode]=Ze,en(tn[l.route.mode]+Ze)}},l.route.param=function(t){if(!Je)throw new Error("You must call m.route(element, defaultRoute, routes) before calling m.route.param()");return t?Je[t]:Je},l.route.mode="search",l.route.buildQueryString=fe,l.route.parseQueryString=de,l.deferred=function(){var t=new me;return t.promise=ge(t.promise),t};var rn=1,on=2,an=3,sn=4;return l.deferred.onerror=function(t){if("[object Error]"===Ae.call(t)&&!/ Error/.test(t.constructor.toString()))throw Pe=0,t},l.sync=function(t){function e(t,e){return function(a){return r[t]=a,e||(o="reject"),0===--i&&(n.promise(r),n[o](r)),a}}var n=l.deferred(),i=t.length,r=[],o="resolve";return t.length>0?h(t,function(t,n){t.then(e(n,!0),e(n,!1))}):n.resolve([]),n.promise},l.request=function(t){t.background!==!0&&l.startComputation();var e,n,i,r=new me,o=t.dataType&&"jsonp"===t.dataType.toLowerCase();return o?(e=t.serialize=n=t.deserialize=ve,i=function(t){return t.responseText}):(e=t.serialize=t.serialize||JSON.stringify,n=t.deserialize=t.deserialize||JSON.parse,i=t.extract||function(t){return t.responseText.length||n!==JSON.parse?t.responseText:null}),t.method=(t.method||"GET").toUpperCase(),t.url=xe(t.url,t.data),ke(t,t.data,e),t.onload=t.onerror=function(e){try{e=e||event;var o=n(i(e.target,t));"load"===e.type?(t.unwrapSuccess&&(o=t.unwrapSuccess(o,e.target)),De(o)&&t.type?h(o,function(e,n){o[n]=new t.type(e)}):t.type&&(o=new t.type(o)),r.resolve(o)):(t.unwrapError&&(o=t.unwrapError(o,e.target)),r.reject(o))}catch(a){r.reject(a),l.deferred.onerror(a)}finally{t.background!==!0&&l.endComputation()}},we(t),r.promise=ge(r.promise,t.initialValue),r.promise},l}),function(t,e,n,i){"use strict";function r(t,e,n){return setTimeout(l(t,n),e)}function o(t,e,n){return Array.isArray(t)?(a(t,n[e],n),!0):!1}function a(t,e,n){var r;if(t)if(t.forEach)t.forEach(e,n);else if(t.length!==i)for(r=0;r<t.length;)e.call(n,t[r],r,t),r++;else for(r in t)t.hasOwnProperty(r)&&e.call(n,t[r],r,t)}function s(t,e,n){for(var r=Object.keys(e),o=0;o<r.length;)(!n||n&&t[r[o]]===i)&&(t[r[o]]=e[r[o]]),o++;return t}function c(t,e){return s(t,e,!0)}function u(t,e,n){var i,r=e.prototype;i=t.prototype=Object.create(r),i.constructor=t,i._super=r,n&&s(i,n)}function l(t,e){return function(){return t.apply(e,arguments)}}function h(t,e){return typeof t==le?t.apply(e?e[0]||i:i,e):t}function f(t,e){return t===i?e:t}function d(t,e,n){a(v(e),function(e){t.addEventListener(e,n,!1)})}function p(t,e,n){a(v(e),function(e){t.removeEventListener(e,n,!1)})}function g(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function m(t,e){return t.indexOf(e)>-1}function v(t){return t.trim().split(/\s+/g)}function y(t,e,n){if(t.indexOf&&!n)return t.indexOf(e);for(var i=0;i<t.length;){if(n&&t[i][n]==e||!n&&t[i]===e)return i;i++}return-1}function b(t){return Array.prototype.slice.call(t,0)}function w(t,e,n){for(var i=[],r=[],o=0;o<t.length;){var a=e?t[o][e]:t[o];y(r,a)<0&&i.push(t[o]),r[o]=a,o++}return n&&(i=e?i.sort(function(t,n){return t[e]>n[e]}):i.sort()),i}function k(t,e){for(var n,r,o=e[0].toUpperCase()+e.slice(1),a=0;a<ce.length;){if(n=ce[a],r=n?n+o:e,r in t)return r;a++}return i}function x(){return pe++}function C(t){var e=t.ownerDocument;return e.defaultView||e.parentWindow}function S(t,e){var n=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){h(t.options.enable,[t])&&n.handler(e)},this.init()}function T(t){var e,n=t.options.inputClass;return new(e=n?n:ve?H:ye?W:me?$:L)(t,_)}function _(t,e,n){var i=n.pointers.length,r=n.changedPointers.length,o=e&Se&&i-r===0,a=e&(_e|Ee)&&i-r===0;n.isFirst=!!o,n.isFinal=!!a,o&&(t.session={}),n.eventType=e,E(t,n),t.emit("hammer.input",n),t.recognize(n),t.session.prevInput=n}function E(t,e){var n=t.session,i=e.pointers,r=i.length;n.firstInput||(n.firstInput=I(e)),r>1&&!n.firstMultiple?n.firstMultiple=I(e):1===r&&(n.firstMultiple=!1);var o=n.firstInput,a=n.firstMultiple,s=a?a.center:o.center,c=e.center=O(i);e.timeStamp=de(),e.deltaTime=e.timeStamp-o.timeStamp,e.angle=j(s,c),e.distance=P(s,c),A(n,e),e.offsetDirection=M(e.deltaX,e.deltaY),e.scale=a?R(a.pointers,i):1,e.rotation=a?F(a.pointers,i):0,D(n,e);var u=t.element;g(e.srcEvent.target,u)&&(u=e.srcEvent.target),e.target=u}function A(t,e){var n=e.center,i=t.offsetDelta||{},r=t.prevDelta||{},o=t.prevInput||{};(e.eventType===Se||o.eventType===_e)&&(r=t.prevDelta={x:o.deltaX||0,y:o.deltaY||0},i=t.offsetDelta={x:n.x,y:n.y}),e.deltaX=r.x+(n.x-i.x),e.deltaY=r.y+(n.y-i.y)}function D(t,e){var n,r,o,a,s=t.lastInterval||e,c=e.timeStamp-s.timeStamp;if(e.eventType!=Ee&&(c>Ce||s.velocity===i)){var u=s.deltaX-e.deltaX,l=s.deltaY-e.deltaY,h=N(c,u,l);r=h.x,o=h.y,n=fe(h.x)>fe(h.y)?h.x:h.y,a=M(u,l),t.lastInterval=e}else n=s.velocity,r=s.velocityX,o=s.velocityY,a=s.direction;e.velocity=n,e.velocityX=r,e.velocityY=o,e.direction=a}function I(t){for(var e=[],n=0;n<t.pointers.length;)e[n]={clientX:he(t.pointers[n].clientX),clientY:he(t.pointers[n].clientY)},n++;return{timeStamp:de(),pointers:e,center:O(e),deltaX:t.deltaX,deltaY:t.deltaY}}function O(t){var e=t.length;if(1===e)return{x:he(t[0].clientX),y:he(t[0].clientY)};for(var n=0,i=0,r=0;e>r;)n+=t[r].clientX,i+=t[r].clientY,r++;return{x:he(n/e),y:he(i/e)}}function N(t,e,n){return{x:e/t||0,y:n/t||0}}function M(t,e){return t===e?Ae:fe(t)>=fe(e)?t>0?De:Ie:e>0?Oe:Ne}function P(t,e,n){n||(n=Fe);var i=e[n[0]]-t[n[0]],r=e[n[1]]-t[n[1]];return Math.sqrt(i*i+r*r)}function j(t,e,n){n||(n=Fe);var i=e[n[0]]-t[n[0]],r=e[n[1]]-t[n[1]];return 180*Math.atan2(r,i)/Math.PI}function F(t,e){return j(e[1],e[0],Re)-j(t[1],t[0],Re)}function R(t,e){return P(e[0],e[1],Re)/P(t[0],t[1],Re)}function L(){this.evEl=He,this.evWin=Be,this.allow=!0,this.pressed=!1,S.apply(this,arguments)}function H(){this.evEl=qe,this.evWin=$e,S.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function B(){this.evTarget=Ye,this.evWin=ze,this.started=!1,S.apply(this,arguments)}function U(t,e){var n=b(t.touches),i=b(t.changedTouches);return e&(_e|Ee)&&(n=w(n.concat(i),"identifier",!0)),[n,i]}function W(){this.evTarget=Ge,this.targetIds={},S.apply(this,arguments)}function q(t,e){var n=b(t.touches),i=this.targetIds;if(e&(Se|Te)&&1===n.length)return i[n[0].identifier]=!0,[n,n];var r,o,a=b(t.changedTouches),s=[],c=this.target;if(o=n.filter(function(t){return g(t.target,c)}),e===Se)for(r=0;r<o.length;)i[o[r].identifier]=!0,r++;for(r=0;r<a.length;)i[a[r].identifier]&&s.push(a[r]),e&(_e|Ee)&&delete i[a[r].identifier],r++;return s.length?[w(o.concat(s),"identifier",!0),s]:void 0}function $(){S.apply(this,arguments);var t=l(this.handler,this);this.touch=new W(this.manager,t),this.mouse=new L(this.manager,t)}function V(t,e){this.manager=t,this.set(e)}function Y(t){if(m(t,en))return en;var e=m(t,nn),n=m(t,rn);return e&&n?nn+" "+rn:e||n?e?nn:rn:m(t,tn)?tn:Ze}function z(t){this.id=x(),this.manager=null,this.options=c(t||{},this.defaults),this.options.enable=f(this.options.enable,!0),this.state=on,this.simultaneous={},this.requireFail=[]}function X(t){return t&ln?"cancel":t&cn?"end":t&sn?"move":t&an?"start":""}function G(t){return t==Ne?"down":t==Oe?"up":t==De?"left":t==Ie?"right":""}function K(t,e){var n=e.manager;return n?n.get(t):t}function Q(){z.apply(this,arguments)}function J(){Q.apply(this,arguments),this.pX=null,this.pY=null}function Z(){Q.apply(this,arguments)}function te(){z.apply(this,arguments),this._timer=null,this._input=null}function ee(){Q.apply(this,arguments)}function ne(){Q.apply(this,arguments)}function ie(){z.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function re(t,e){return e=e||{},e.recognizers=f(e.recognizers,re.defaults.preset),new oe(t,e)}function oe(t,e){e=e||{},this.options=c(e,re.defaults),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.element=t,this.input=T(this),this.touchAction=new V(this,this.options.touchAction),ae(this,!0),a(e.recognizers,function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])},this)}function ae(t,e){var n=t.element;a(t.options.cssProps,function(t,i){n.style[k(n.style,i)]=e?t:""})}function se(t,n){var i=e.createEvent("Event");i.initEvent(t,!0,!0),i.gesture=n,n.target.dispatchEvent(i)}var ce=["","webkit","moz","MS","ms","o"],ue=e.createElement("div"),le="function",he=Math.round,fe=Math.abs,de=Date.now,pe=1,ge=/mobile|tablet|ip(ad|hone|od)|android/i,me="ontouchstart"in t,ve=k(t,"PointerEvent")!==i,ye=me&&ge.test(navigator.userAgent),be="touch",we="pen",ke="mouse",xe="kinect",Ce=25,Se=1,Te=2,_e=4,Ee=8,Ae=1,De=2,Ie=4,Oe=8,Ne=16,Me=De|Ie,Pe=Oe|Ne,je=Me|Pe,Fe=["x","y"],Re=["clientX","clientY"];S.prototype={handler:function(){},init:function(){this.evEl&&d(this.element,this.evEl,this.domHandler),this.evTarget&&d(this.target,this.evTarget,this.domHandler),this.evWin&&d(C(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&p(this.element,this.evEl,this.domHandler),this.evTarget&&p(this.target,this.evTarget,this.domHandler),this.evWin&&p(C(this.element),this.evWin,this.domHandler)}};var Le={mousedown:Se,mousemove:Te,mouseup:_e},He="mousedown",Be="mousemove mouseup";u(L,S,{handler:function(t){var e=Le[t.type];e&Se&&0===t.button&&(this.pressed=!0),e&Te&&1!==t.which&&(e=_e),this.pressed&&this.allow&&(e&_e&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:ke,srcEvent:t}))}});var Ue={pointerdown:Se,pointermove:Te,pointerup:_e,pointercancel:Ee,pointerout:Ee},We={2:be,3:we,4:ke,5:xe},qe="pointerdown",$e="pointermove pointerup pointercancel";t.MSPointerEvent&&(qe="MSPointerDown",$e="MSPointerMove MSPointerUp MSPointerCancel"),u(H,S,{handler:function(t){var e=this.store,n=!1,i=t.type.toLowerCase().replace("ms",""),r=Ue[i],o=We[t.pointerType]||t.pointerType,a=o==be,s=y(e,t.pointerId,"pointerId");r&Se&&(0===t.button||a)?0>s&&(e.push(t),s=e.length-1):r&(_e|Ee)&&(n=!0),0>s||(e[s]=t,this.callback(this.manager,r,{pointers:e,changedPointers:[t],pointerType:o,srcEvent:t}),n&&e.splice(s,1))}});var Ve={touchstart:Se,touchmove:Te,touchend:_e,touchcancel:Ee},Ye="touchstart",ze="touchstart touchmove touchend touchcancel";u(B,S,{handler:function(t){var e=Ve[t.type];if(e===Se&&(this.started=!0),this.started){var n=U.call(this,t,e);e&(_e|Ee)&&n[0].length-n[1].length===0&&(this.started=!1),this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:be,srcEvent:t})}}});var Xe={touchstart:Se,touchmove:Te,touchend:_e,touchcancel:Ee},Ge="touchstart touchmove touchend touchcancel";u(W,S,{handler:function(t){var e=Xe[t.type],n=q.call(this,t,e);n&&this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:be,srcEvent:t})}}),u($,S,{handler:function(t,e,n){var i=n.pointerType==be,r=n.pointerType==ke;if(i)this.mouse.allow=!1;else if(r&&!this.mouse.allow)return;e&(_e|Ee)&&(this.mouse.allow=!0),this.callback(t,e,n)},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var Ke=k(ue.style,"touchAction"),Qe=Ke!==i,Je="compute",Ze="auto",tn="manipulation",en="none",nn="pan-x",rn="pan-y";V.prototype={set:function(t){t==Je&&(t=this.compute()),Qe&&(this.manager.element.style[Ke]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return a(this.manager.recognizers,function(e){h(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))}),Y(t.join(" "))},preventDefaults:function(t){if(!Qe){var e=t.srcEvent,n=t.offsetDirection;if(this.manager.session.prevented)return void e.preventDefault();var i=this.actions,r=m(i,en),o=m(i,rn),a=m(i,nn);return r||o&&n&Me||a&&n&Pe?this.preventSrc(e):void 0}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var on=1,an=2,sn=4,cn=8,un=cn,ln=16,hn=32;z.prototype={defaults:{},set:function(t){return s(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(o(t,"recognizeWith",this))return this;var e=this.simultaneous;return t=K(t,this),e[t.id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return o(t,"dropRecognizeWith",this)?this:(t=K(t,this),delete this.simultaneous[t.id],this)},requireFailure:function(t){if(o(t,"requireFailure",this))return this;var e=this.requireFail;return t=K(t,this),-1===y(e,t)&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(o(t,"dropRequireFailure",this))return this;t=K(t,this);var e=y(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){function e(e){n.manager.emit(n.options.event+(e?X(i):""),t)}var n=this,i=this.state;cn>i&&e(!0),e(),i>=cn&&e(!0)},tryEmit:function(t){return this.canEmit()?this.emit(t):void(this.state=hn)},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(this.requireFail[t].state&(hn|on)))return!1;t++}return!0},recognize:function(t){var e=s({},t);return h(this.options.enable,[this,e])?(this.state&(un|ln|hn)&&(this.state=on),this.state=this.process(e),void(this.state&(an|sn|cn|ln)&&this.tryEmit(e))):(this.reset(),void(this.state=hn))},process:function(){},getTouchAction:function(){},reset:function(){}},u(Q,z,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,n=t.eventType,i=e&(an|sn),r=this.attrTest(t);return i&&(n&Ee||!r)?e|ln:i||r?n&_e?e|cn:e&an?e|sn:an:hn}}),u(J,Q,{defaults:{event:"pan",threshold:10,pointers:1,direction:je},getTouchAction:function(){var t=this.options.direction,e=[];return t&Me&&e.push(rn),t&Pe&&e.push(nn),e},directionTest:function(t){var e=this.options,n=!0,i=t.distance,r=t.direction,o=t.deltaX,a=t.deltaY;return r&e.direction||(e.direction&Me?(r=0===o?Ae:0>o?De:Ie,n=o!=this.pX,i=Math.abs(t.deltaX)):(r=0===a?Ae:0>a?Oe:Ne,n=a!=this.pY,i=Math.abs(t.deltaY))),t.direction=r,n&&i>e.threshold&&r&e.direction},attrTest:function(t){return Q.prototype.attrTest.call(this,t)&&(this.state&an||!(this.state&an)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=G(t.direction);e&&this.manager.emit(this.options.event+e,t),this._super.emit.call(this,t)}}),u(Z,Q,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[en]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||this.state&an)},emit:function(t){if(this._super.emit.call(this,t),1!==t.scale){var e=t.scale<1?"in":"out";this.manager.emit(this.options.event+e,t)}}}),u(te,z,{defaults:{event:"press",pointers:1,time:500,threshold:5},getTouchAction:function(){return[Ze]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,i=t.distance<e.threshold,o=t.deltaTime>e.time;if(this._input=t,!i||!n||t.eventType&(_e|Ee)&&!o)this.reset();else if(t.eventType&Se)this.reset(),this._timer=r(function(){this.state=un,this.tryEmit()},e.time,this);else if(t.eventType&_e)return un;return hn},reset:function(){clearTimeout(this._timer)},emit:function(t){this.state===un&&(t&&t.eventType&_e?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=de(),this.manager.emit(this.options.event,this._input)))}}),u(ee,Q,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[en]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||this.state&an)}}),u(ne,Q,{defaults:{event:"swipe",threshold:10,velocity:.65,direction:Me|Pe,pointers:1},getTouchAction:function(){return J.prototype.getTouchAction.call(this)},attrTest:function(t){var e,n=this.options.direction;return n&(Me|Pe)?e=t.velocity:n&Me?e=t.velocityX:n&Pe&&(e=t.velocityY),this._super.attrTest.call(this,t)&&n&t.direction&&t.distance>this.options.threshold&&fe(e)>this.options.velocity&&t.eventType&_e},emit:function(t){var e=G(t.direction);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),u(ie,z,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:2,posThreshold:10},getTouchAction:function(){return[tn]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,i=t.distance<e.threshold,o=t.deltaTime<e.time;if(this.reset(),t.eventType&Se&&0===this.count)return this.failTimeout();if(i&&o&&n){if(t.eventType!=_e)return this.failTimeout();var a=this.pTime?t.timeStamp-this.pTime<e.interval:!0,s=!this.pCenter||P(this.pCenter,t.center)<e.posThreshold;this.pTime=t.timeStamp,this.pCenter=t.center,s&&a?this.count+=1:this.count=1,this._input=t;var c=this.count%e.taps;if(0===c)return this.hasRequireFailures()?(this._timer=r(function(){this.state=un,this.tryEmit()},e.interval,this),an):un}return hn},failTimeout:function(){return this._timer=r(function(){this.state=hn},this.options.interval,this),hn},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==un&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),re.VERSION="2.0.4",re.defaults={domEvents:!1,touchAction:Je,enable:!0,inputTarget:null,inputClass:null,preset:[[ee,{enable:!1}],[Z,{enable:!1},["rotate"]],[ne,{direction:Me}],[J,{direction:Me},["swipe"]],[ie],[ie,{event:"doubletap",taps:2},["tap"]],[te]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var fn=1,dn=2;oe.prototype={set:function(t){return s(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?dn:fn},recognize:function(t){var e=this.session;if(!e.stopped){this.touchAction.preventDefaults(t);var n,i=this.recognizers,r=e.curRecognizer;(!r||r&&r.state&un)&&(r=e.curRecognizer=null);for(var o=0;o<i.length;)n=i[o],e.stopped===dn||r&&n!=r&&!n.canRecognizeWith(r)?n.reset():n.recognize(t),!r&&n.state&(an|sn|cn)&&(r=e.curRecognizer=n),o++}},get:function(t){if(t instanceof z)return t;for(var e=this.recognizers,n=0;n<e.length;n++)if(e[n].options.event==t)return e[n];return null},add:function(t){if(o(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(o(t,"remove",this))return this;var e=this.recognizers;return t=this.get(t),e.splice(y(e,t),1),this.touchAction.update(),this},on:function(t,e){var n=this.handlers;return a(v(t),function(t){n[t]=n[t]||[],n[t].push(e)}),this},off:function(t,e){var n=this.handlers;return a(v(t),function(t){e?n[t].splice(y(n[t],e),1):delete n[t]}),this},emit:function(t,e){this.options.domEvents&&se(t,e);var n=this.handlers[t]&&this.handlers[t].slice();
if(n&&n.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var i=0;i<n.length;)n[i](e),i++}},destroy:function(){this.element&&ae(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},s(re,{INPUT_START:Se,INPUT_MOVE:Te,INPUT_END:_e,INPUT_CANCEL:Ee,STATE_POSSIBLE:on,STATE_BEGAN:an,STATE_CHANGED:sn,STATE_ENDED:cn,STATE_RECOGNIZED:un,STATE_CANCELLED:ln,STATE_FAILED:hn,DIRECTION_NONE:Ae,DIRECTION_LEFT:De,DIRECTION_RIGHT:Ie,DIRECTION_UP:Oe,DIRECTION_DOWN:Ne,DIRECTION_HORIZONTAL:Me,DIRECTION_VERTICAL:Pe,DIRECTION_ALL:je,Manager:oe,Input:S,TouchAction:V,TouchInput:W,MouseInput:L,PointerEventInput:H,TouchMouseInput:$,SingleTouchInput:B,Recognizer:z,AttrRecognizer:Q,Tap:ie,Pan:J,Swipe:ne,Pinch:Z,Rotate:ee,Press:te,on:d,off:p,each:a,merge:c,extend:s,inherit:u,bindFn:l,prefixed:k}),typeof define==le&&define.amd?define("hammerjs",[],function(){return re}):"undefined"!=typeof module&&module.exports?module.exports=re:t[n]=re}(window,document,"Hammer"),define("component/miniwindow",["require","jquery","microtemplates","hammerjs"],function(t,e,n,i){"use strict";function r(t){var r,o,a,s,c,u,l,h,f,d=!1,p=function(){return window[i.prefixed(window,"requestAnimationFrame")]||function(t){window.setTimeout(t,1e3/60)}}(),g=function(t){var e=t.css("transform").match(/matrix(?:(3d)\(-{0,1}\d+(?:, -{0,1}\d+)*(?:, (-{0,1}\d+))(?:, (-{0,1}\d+))(?:, (-{0,1}\d+)), -{0,1}\d+\)|\(-{0,1}\d+(?:, -{0,1}\d+)*(?:, (-{0,1}\d+))(?:, (-{0,1}\d+))\))/);return e?("3d"==e[1]?e=e.slice(2,5):(e.push(0),e=e.slice(5,8)),e[0]=parseInt(e[0]),e[1]=parseInt(e[1]),e[2]=parseInt(e[2]),e):[0,0,0]},m=function(){var t=parseInt(h[0])+c,e=parseInt(h[1])+u,n="translate3d("+t+"px, "+e+"px, 0)";r.css("transform",n),d=!1,l&&(h=g(r),l=!1)},v=function(){s=new i(o),s.get("pan").set({direction:i.DIRECTION_ALL}),s.on("pan",function(t){c=t.deltaX,u=t.deltaY,d||(p(m),d=!0),r.addClass("panning")}).on("panend",function(){l=!0,r.removeClass("panning")}),e(".head",r).on("mousedown",function(t){t.preventDefault()})},y=function(){r.on("click",".close",function(t){r.fadeOut("fast",function(){try{"function"==typeof f&&f()}finally{r.remove()}}),t.preventDefault()})};this.init=function(i,s){a={title:i?i:""},r=e(n(e("#miniwindow-tmpl").html(),a)).hide().addClass(t),e("#miniwindow-tmpl").add(e(".miniwindow")).last().after(r),r.fadeIn("fast",function(){s&&s(r)}),o=e(".head",r).get(0),h=g(r),r.localize(),v(),y()},this.addClass=function(t){r.addClass(t)},this.removeClass=function(t){r.removeClass(t)},this.setBody=function(t){e(".body",r).html(t)},this.getBody=function(){return e(".body",r)},this.setTitle=function(t){e(".head h2",r).html(t)},this.onclose=function(t){"function"==typeof t&&(f=t)},this.close=function(){e(".head .close",r).click()}}return r}),define("component/stock-details",["require","jquery","mithril","lodash.core","component/i18n","component/util","component/miniwindow","component/config","component/track","legacy/PubSub","component/finfo-api-client","component/theme-switcher","component/company-resource"],function(t){"use strict";function e(){var t=window.localStorage.getItem(w);return t!=k.DETAILS&&t!=k.TECHNICAL_CHART&&t!=k.DNRATING&&(t=k.TECHNICAL_CHART,n(t)),t}function n(t){(t==k.TECHNICAL_CHART||t==k.DETAILS||t==k.DNRATING)&&window.localStorage.setItem(w,t)}function i(t){var n=e();f.event("ActivedTab",n,t)}var r,o,a=t("jquery"),s=t("mithril"),c=t("lodash.core"),u=t("component/i18n"),l=t("component/util"),h=t("component/miniwindow"),f=(t("component/config"),t("component/track")),d=t("legacy/PubSub"),p=t("component/finfo-api-client"),g=t("component/theme-switcher"),m=t("component/company-resource"),v={},y="vnds.tradingView.widget.symbol",b="vnds.tradingView.widget.userId",w="vnds.active_tab",k={TECHNICAL_CHART:"technical-chart",DETAILS:"details",DNRATING:"dnrating"},x=s.prop(k.TECHNICAL_CHART),C=window.localStorage.getItem("language"),S="en"===C&&"dnrating"===e()?"details":e();x(S);var o;v.StockDetails={controller:function(){return s.redraw.strategy("diff"),{resizeMiniWindow:function(t){o.removeClass(function(t,e){return(e.match(/(^|\s)tab-\S+-active\b/g)||[]).join(" ")}),o.addClass("tab-"+t+"-active")},switchTab:function(t,e,i){n(e),t(e),this.resizeMiniWindow(e),e===k.TECHNICAL_CHART&&f.eventMixpanel("DChart","View",{Symbol:i})}}},view:function(t,e){var n=c.map(k,function(n,i){return s("li",{key:n},s("a",{className:e.activeTab()===n&&"active",onclick:t.switchTab.bind(t,e.activeTab,n,e.symbol)},u.t("priceboard:stock_details.tabs."+i)))});return[s("ul.tabs",{config:t.resizeMiniWindow.bind(t,e.activeTab())},n),s("section.tab-content.details",{className:e.activeTab()===k.DETAILS&&"active"},s(v.Transactions,{symbol:e.symbol})),s("section.tab-content.technical-chart",{className:e.activeTab()===k.TECHNICAL_CHART&&"active"},s(v.TechnicalChart,{symbol:e.symbol})),s("section.tab-content.dnrating",{className:e.activeTab()===k.DNRATING&&"active"},s(v.DNRating,{symbol:e.symbol}))]}},v.DNRating={setupPage:function(t,n,i,r){if(window.ifr=n,e()==k.DNRATING){r.retain=!0;var o=window.location.host,a=o.slice(0,o.indexOf(".vndirect.com.vn"));n.src="https://"+a+".vndirect.com.vn/drating/?symbol="+t}},view:function(t,e){return i(e.symbol),s("iframe",{config:this.setupPage.bind(null,e.symbol)})}},v.TechnicalChart={setupChart:function(t,e,n,i){if(i.retain=!0,!n){var r="en"===u.getCurrentLanguage()?"&language=en":"",o=window.location.host,a=o.slice(0,o.indexOf(".vndirect.com.vn"));e.src="https://"+a+".vndirect.com.vn/chart/?symbol="+t+r}},view:function(t,e){return s("iframe",{config:this.setupChart.bind(null,e.symbol)})}},v.Transactions={controller:function(t){function e(t){s.startComputation();var e=p.getStockTransactions(t).then(function(t){n(t.data||[])}),o=r.getStockInfo(t).then(function(t){i(t||{})});a.when(e,o).then(function(){s.endComputation()})}var n=s.prop([]),i=s.prop({});return e(t.symbol),{transactions:n,stockInfo:i,fetchTransactions:e,previousSymbol:s.prop(t.symbol)}},view:function(t,e){var n=e.symbol;return t.previousSymbol()!==n&&(t.previousSymbol(n),t.fetchTransactions(n)),s(".transactions",[s(v.StockHistory,{symbol:n,stockInfo:t.stockInfo(),transactions:t.transactions()}),s("div",[s(v.Charts,{transactions:t.transactions()}),s(v.News,{symbol:n}),s(".cta",s("a.button",{href:"https://www.vndirect.com.vn/portal/tong-quan/"+n.toLowerCase()+".shtml"+u.t("priceboard:stock_details.lang_param"),target:"_blank"},[u.t("priceboard:stock_details.details.view_more")+" ",s("i.fa.fa-external-link")]))])])}},v.StockHistory={config:function(t,e,n){var i=c.map(e,function(e){var n=e.last-t.basicPrice;return"					<tr> 						<td>"+e.time+'</td> 						<td class="txtr">'+l.formatNumberToTenths(10*e.lastVol)+'</td> 						<td class="txtr">'+l.formatNumber(e.last,3,1)+'</td> 						<td class="txtr">'+l.formatNumber(n,1)+"</td> 					</tr>"});0===i.length&&(i=["<tr><td colspan='4'><em>"+u.t("priceboard:stock_details.details.no_transact")+"</em></td></tr>"]);var r=i.reverse().join("");n.innerHTML=r},view:function(t,e){{var n=e.transactions,i=e.stockInfo;e.symbol}return s(".stock-history",s("h3",u.t("priceboard:stock_details.details.history")),s(".table",s("table",s("thead",s("tr",[s("th",u.t("priceboard:put_through.time")),s("th",u.t("priceboard:table.vol")),s("th",u.t("priceboard:table.price")),s("th","+/-")])),s("tbody",{config:this.config.bind(null,i,n)}))))}};var T={PRICE_BASED:"price-based",TIME_BASED:"time-based"};v.Charts={controller:function(){return{chartMode:s.prop(T.PRICE_BASED)}},view:function(t,e){var n=g.getCurrentTheme().chart,i=e.transactions,r=c.map(T,function(e,n){return s("label",{key:e},s("input",{type:"radio",name:"chart-mode",value:e,checked:t.chartMode()===e,onchange:s.withAttr("value",t.chartMode)})," "+u.t("priceboard:stock_details.details."+n))});return s(".area-charts",{className:t.chartMode()},[s(".tabs",[u.t("priceboard:stock_details.details.match_by")+"  ",r]),s(".charts",[s(v.TimeBasedChart,{transactions:i,colorSet:n}),s(v.PriceBasedChart,{transactions:i,colorSet:n})])])}},v.PriceBasedChart={drawChart:function(t,e,n){a(n).is(":visible")&&a.plot(n,t,{grid:{backgroundColor:{colors:[e.upperBackground,e.lowerBackground]},borderWidth:.5},legend:{show:!1},xaxis:{reserveSpace:!0,autoscaleMargin:.1,tickFormatter:function(t){return l.formatNumber(t,1)}},yaxis:{autoscaleMargin:.001,tickFormatter:function(t){return l.formatNumberToTenths(10*t)}}})},prepareChartData:function(t){var e=c.chain(t).reduce(function(t,e){var n=e.last;return t[n]||(t[n]=0),t[n]+=e.lastVol,t},{}).map(function(t,e){return[e,t]}).value();return[{data:e,color:"#69a0ff",bars:{barWidth:.01,align:"center",show:!0}}]},view:function(t,e){var n=e.colorSet,i=this.prepareChartData(e.transactions);return s(".chart.chart-price-based",{config:this.drawChart.bind(null,i,n)},[s(".loader",[s("i.fa.fa-cog.fa-spin"),s("span",u.t("loading"))])])}},v.TimeBasedChart={prepareChartData:function(t,e){function n(t){var e=t.split(":");return Date.UTC(0,0,0,e[0],e[1])}var i=[],r=c.map(t,function(t){return[n(t.time),t.lastVol]}),o=c.map(t,function(t){return[n(t.time),t.last]}),a=0;return t[0]&&(a=t[0].basicPrice),i.push({data:r,color:e.volBar,bars:{show:!0,lineWidth:1.5},shadowSize:0,yaxis:2}),i.push({data:o,color:e.advancingLine,shadowSize:0,threshold:{below:a,color:e.decliningLine}}),i},drawChart:function(t,e,n,i,r){if(a(n).is(":visible")){if(i&&r.chart)return r.chart.setData(t),void r.chart.draw();var o=Date.UTC(0,0,0,9,0),s=Date.UTC(0,0,0,15,0);r.chart=a.plot(n,t,{xaxis:{mode:"time",min:o,max:s},yaxis:{ticks:2},grid:{backgroundColor:{colors:[e.upperBackground,e.lowerBackground]},borderWidth:.5},lines:{steps:!0,lineWidth:1},bars:{barWidth:.5},legend:{show:!1},xaxes:[{mode:"time"}],yaxes:[{position:"right"}]})}},view:function(t,e){var n=e.colorSet,i=this.prepareChartData(e.transactions,n);return s(".chart.chart-time-based",{config:this.drawChart.bind(null,i,n)},[s(".loader",[s("i.fa.fa-cog.fa-spin"),s("span",u.t("loading"))])])}},v.News={controller:function(t){function e(t){var e=new Date,i=e.getFullYear()-1+"-"+(e.getMonth()+1)+"-"+e.getDate();s.startComputation(),p.getFinfoAlertNews({symbols:[t],fromDate:i}).done(function(t){n(t.data),s.endComputation()})}var n=s.prop();return e(t.symbol),{previousSymbol:s.prop(t.symbol),news:n,fetchNews:e}},view:function(t,e){t.previousSymbol()!==e.symbol&&(t.previousSymbol(e.symbol),t.fetchNews(e.symbol));var n=c.map(t.news(),function(t){var e,n,i,r=l.formatDate(t.disclosuredDate),o=t.effectiveDate&&l.formatDate(t.effectiveDate);return"stockAlert"===t.group?(e="fa-exclamation",n="bad",i="Cảnh báo đặc biệt"):"investorRight"===t.group?(e="fa-calendar",n="good",i="Sự kiện quyền"):"schedEvent"===t.group&&(e="fa-calendar",n="neutral",i="Sự kiện dự kiến"),s("tr",{key:t.id},[s("td.txtc",{title:i},s("i.fa."+e+"."+n)),s("td",[s("p",t.typeDesc),s("p.weak",r)]),s("td",[s("p",t.content),o&&s("p.sub",["Hiệu lực từ: ",s("strong.no-break",o)])])])}),i=s("tr",s("td.empty[colspan='3']","Chưa có sự kiện nào liên quan đến mã CK này."));return s(".news.table",[s("table",[s("thead",s("tr",[s("th"),s("th","Sự kiện"),s("th","Chi tiết")])),s("tbody",n.length>0?n:i)])])}};var _=function(t,e){var n=new h("stock-details");n.onclose(function(){s.mount(o.getBody()[0],null),o=void 0}),n.init("",function(){e(n)})},E=function(t){function n(){r.symbol=t;var n=r.getBody()[0];s.mount(n,s(v.StockDetails,{symbol:t,activeTab:x})),e()===k.TECHNICAL_CHART&&f.eventMixpanel("DChart","View",{Symbol:t}),i||localStorage.setItem(y,t);var o=u.getCurrentLanguage();m.getCompany(t).then(function(e){var n="en"===o?e.companyNameEng:e.companyName;return e?void r.setTitle("<strong>"+e.symbol+"</strong> - "+n+' - <span class="floor">'+e.floor+"</span>"):void r.setTitle("<strong>"+t+"</strong>")}),f.page("/view-stock/"+t,"Xem chi tiết mã "+t)}var i,r;if(o){if(o.symbol===t)return;r=o,i=!1,n()}else _(t,function(t){r=t,o=r,i=!0,n()})},A=function(){a(".banggia, .motif-wrap").on("click",".miniwindow-trigger",function(t){t.preventDefault();var e=a(this),n=e.data("symbol");d.publish("viewSymbol",n)}),d.subscribe("viewSymbol",function(t){a(".miniwindow").show(),E(t)})};return{init:function(){A(),localStorage.removeItem(b),d.subscribe("login",function(t){if("string"==typeof t.customerId){var e="vnds-"+t.customerId;localStorage.setItem(b,e)}}),d.subscribe("logout",function(){localStorage.removeItem(b)}),window.addEventListener("storage",function(t){t.key===y&&t.newValue!==t.oldValue&&E(t.newValue)}),a(document).keyup(function(t){27==t.keyCode&&"undefined"!=typeof o&&o.close()})},setStockResource:function(t){r=t},UI:v}}),define("component/quantity-input",["jquery"],function(t){return{init:function(){t("input.quantity").each(function(e,n){function i(t){var e=t.val().replace(/,/g,"");if(isNaN(e)||0==e.length||0==e)return{num:0,lot:1};var n=/^(\d*)([^0])(0*)?$/,i=e.replace(n,"$1$2"),r=e/i;return r>1e3&&(i=i*r/1e3,r=1e3),{num:i,lot:r}}var r=t(n);r.on("keydown",function(t){function e(){t.preventDefault(),r.val(a*o),r.trigger("change")}var n=i(r),o=n.num,a=n.lot;switch(t.keyCode){case 83:a>1&&(a/=10),e();break;case 70:a=10*a,e();break;case 69:o++,e();break;case 68:if(o>1)o--;else{if(1==a)return;a/=10,o=9}e();break;case 78:case 75:t.preventDefault();var n=r.val().replace(/,/g,"");!isNaN(n)&&n.length>0&&r.val(1e3*n);break;case 65:t.preventDefault(),r.select()}}),r.on("focus",function(){r.select()}),r.on("mousewheel",function(t){t.preventDefault();var e=r.val().replace(/,/g,"");if(isNaN(e)||parseFloat(e)<10)return r.val(10),void r.trigger("change");var n=i(r);if(t.originalEvent.deltaY<0)n.num++;else{if(10==e)return;if(n.num>1)n.num--;else{if(1==n.lot)return;n.lot=n.lot/10,n.num=9}}r.val(n.lot*n.num),r.trigger("change")})})}}}),define("component/free-typing",["jquery","legacy/PubSub"],function(t,e){return{init:function(){t(document).on("keydown",function(i){if(!t(i.target).is(":input")){if(n[i.keyCode])return void e.publish(n[i.keyCode]);t('#search-box [name="query"]').focus()}});var n={38:"TYPING_UP",40:"TYPING_DOWN",13:"TYPING_ENTER",27:"TYPING_ESCAPE",46:"TYPING_DELETE"}}}}),define("component/header",["require","jquery"],function(t,e){"use strict";var n,i,r=function(){setTimeout(function(){e(".trade-pages").nanoScroller()},500)},o=function(){i=localStorage.getItem("headerPullLevel"),(void 0===i||null===i)&&(i=0),1==i?e(".pullable").addClass("pulled-halfway-up"):2==i&&(e(".pullable").addClass("pulled-up"),n.addClass("down")),r()},a=function(){n.click(function(){1==i?(i=2,e(".pullable").removeClass("pulled-halfway-up").addClass("pulled-up"),e(this).addClass("down")):2==i?(i=0,e(".pullable").removeClass("pulled-up"),e(this).removeClass("down")):(i=1,e(".pullable").addClass("pulled-halfway-up")),r(),localStorage.setItem("headerPullLevel",i)})};return{init:function(){n=e("#chart-toggle"),o(),a()}}}),define("component/portfolio-sharer",["require","component/config","component/miniwindow","component/track","microtemplates","legacy/System","hi-base64","firebase","component/profile-api-client","legacy/PubSub","component/auth","component/trade-ui","component/i18n"],function(t){"use strict";function e(t){function e(t,e){var n=e.map(function(e){return d.watchlist.follow(t,e)});$.when(n).done(function(){y.everythingDone()}).fail(function(){alert("Không thể thêm danh mục!")})}var n=t.l,i=g.getToken(),r=new c("watchlist-follow-chooser");r.init(v.t("priceboard:share.title2")),r.setBody(l($("#watchlist-follow-chooser-tmpl").html(),{watchlistIds:n})),u.page("/share-portfolios/receive/v2","Chia sẻ danh mục - nhận về & tự đồng bộ");var o=r.getBody(),a=$(".button.add",o),s=$(".button.cancel",o),h=$(".notice",o);$(".miniwindow.watchlist-follow-chooser").localize();var y={tryingToFollow:function(){a.prop("disabled",!0),a.html('<i class="fa fa-cog fa-spin"></i>')},ready:function(){a.prop("disabled",!1),a.html('<i class="fa fa-check"></i> '+v.t("priceboard:share.add_to_mine"))},everythingDone:function(){r.close(),System.userCategoryModel.one("onUpdateCategories",function(){System.userCategoryModel.setCrrCateById(n[0])})},notLoggedIn:function(){h.removeClass("hidden")}};n.map(function(t){f.database().ref("/watchlist/listsById/"+t).once("value",function(e){if(e.exists()){var n=e.val(),i=$(".watchlists ."+t);$(".name",i).html(n.name);var r=n.symbols.map(function(t){return t.symbol});$(".symbols",i).html(r.join(", "))}})}),a.click(function(t){if(t.preventDefault(),y.tryingToFollow(),i){var r="vnds-"+i.customerId;e(r,n)}else{m.showLoginPage();var o=p.subscribe("login",function(t){var i="vnds-"+t.customerId;e(i,n),o.remove()})}}),s.click(function(t){t.preventDefault(),y.everythingDone()}),i?y.ready():y.notLoggedIn()}function n(t){var e,n=t[1];try{var i=LZString.decompressFromEncodedURIComponent(n);e=JSON.parse(i)}catch(r){return null}return{version:1,portfolios:e}}function i(t){var e;try{e=JSON.parse(h.decode(t[1]))}catch(n){return null}return{version:2,payload:e}}var r,o,a,s=t("component/config"),c=t("component/miniwindow"),u=t("component/track"),l=t("microtemplates"),h=(t("legacy/System"),t("hi-base64")),f=t("firebase"),d=t("component/profile-api-client"),p=t("legacy/PubSub"),g=t("component/auth"),m=t("component/trade-ui"),v=t("component/i18n"),y=function(t){var e=[];for(var n in t){var i=t[n];"customerPortfolio"!==i.type&&e.push(i.id)}var r={v:"2",l:e},o=h.encode(JSON.stringify(r)),c=window.location.href.split("?")[0]+"?shared-watchlists="+o;"undefined"==typeof gapi?a.val(c):(a.val(""),gapi.client.setApiKey(s.googleApiKey),gapi.client.load("urlshortener","v1").then(function(){gapi.client.urlshortener.url.insert({resource:{longUrl:c}}).then(function(t){a.val(t.result.id)},function(t){console.log("Error: "+t.result.error.message),a.val(c)})}))},b=function(){var t=$('input[name="portfolios-to-share"]',o);t.change(function(){var e={};t.filter(":checked").each(function(){var t=$(this).val();$.each(System.userCategoryModel.cates,function(n,i){var r=$.extend({},i);r.id==t&&(e[t]=r)})}),y(e)})},w=function(){var t=$(".portfolio-sharer-trigger"),e=function(t){r&&r.close();var e=$(t.target);r=new c("portfolio-sharer"),r.init(v.t("priceboard:share.title"),function(){var t={};for(var n in System.userCategoryModel.cates){var i=System.userCategoryModel.cates[n];i.numOfSymbols=i.codes.length>1?i.codes.length+" "+v.t("priceboard:share.syms"):"1 "+v.t("priceboard:share.sym"),"customerPortfolio"!==i.type&&(t[n]=i)}r.setBody(l($(e.attr("href")).html(),t)),o=r.getBody(),a=o.find('input[type="text"]').click(function(){e.select()}),b(),$('input[name="portfolios-to-share"]:checked',o).trigger("change"),u.page("/share-portfolios/send","Chia sẻ danh mục - gửi đi"),$(".portfolio-sharer").localize()}),t.preventDefault()},n=function(t){p.publish("requestLoginWindow",t)},i=n;p.subscribe("login",function(){t.removeClass("disabled"),i=e}),p.subscribe("logout",function(){t.addClass("disabled"),i=n}),t.click(function(t){i(t)})},k=function(t){if(t){var e=new c("portfolio-loader");e.init("Chia sẻ danh mục"),e.setBody(l($("#portfolio-loader-tmpl").html(),t));for(var n in t)t[n].isSelected=!1,t[n].type="";x(e.getBody(),t),u.page("/share-portfolios/receive","Chia sẻ danh mục - nhận về")}},x=function(t,e){$(".button.add",t).click(function(t){t.preventDefault();var n=$.map(e,function(t){var e=t.displayValue,n=t.codes;return System.userCategoryModel.addCategory(e,n)});$.when.apply($,n).then(function(){window.location.href=location.protocol+"//"+location.host+location.pathname})}),$(".button.cancel",t).click(function(t){window.location.href=location.protocol+"//"+location.host+location.pathname,t.preventDefault()})};return{init:function(){w();var t=this.getPortfoliosFromUrl();t&&(1===t.version?k(t.portfolios):2===t.version&&e(t.payload))},getPortfoliosFromUrl:function(){var t,e=new RegExp("[?&]cates=([^&#]*)").exec(window.location.href),r=new RegExp("[?&]shared-watchlists=([^&#]*)").exec(window.location.href);return e?n(e):r?i(r):t}}}),define("component/release-notes",["require","component/miniwindow","component/track","component/portfolio-sharer","component/i18n"],function(t,e,n,i,r){"use strict";var o="3.9.0.5",a=function(t,e){if(!t)return-1;for(var n=t.split(/\D/),i=e.split(/\D/),r=0;r<n.length;r++){if(void 0===i[r])return 1;var o=Number(n[r])-Number(i[r]);if(0!==o)return o}return void 0!==i[n.length]?-1:0};return{init:function(){$("#release-notes-trigger").on("click",function(t,i){var o=new e("welcome");o.init(r.t("releases_title")),o.setBody($($(this).attr("href")).html()),"artificial"!=i&&n.page("/release-notes","Chức năng mới"),$(".miniwindow.welcome").localize(),t.preventDefault()}),i.getPortfoliosFromUrl()||a(localStorage.getItem("lastVersion"),o)<0&&($("#release-notes-trigger").trigger("click","artificial"),localStorage.setItem("lastVersion",o))}}}),define("component/embed",["require","component/config","component/miniwindow","component/track","microtemplates","legacy/System"],function(t,e,n,i,r){"use strict";var o,a,s,c,u=t("component/company-resource"),l=t("component/i18n"),h=function(){$(".embed-trigger").click(function(t){o&&o.close();var e=$(this);o=new n("embed"),o.init("Nhúng vào web",function(){var t=r($("#embed").html());o.setBody(t({indexCodes:{HNX:"HNX-INDEX",HOSE:"VN-INDEX",VN30:"VN30-INDEX",HNX30:"HNX30-INDEX",UPCOM:"UPCOM"}})),a=o.getBody(),c=$('input[name="symbol"]',a),s=$("textarea",a).click(function(){e.select()}),f(),p(),d()}),t.preventDefault()})},f=function(){u.getCompanies().then(function(t){var e=l.getCurrentLanguage(),n=t.map(function(t){var n="en"===e?t.companyNameEng:t.company,i="<strong>"+t.symbol+"</strong> - "+n+' -  <span class="floor">'+t.floor+"</span>";return{value:t.symbol,description:i}});c.suggestion({source:n,maxItems:5})})},d=function(){$('[name="theme"]',a).change(function(){$(".preview",a).removeClass(function(t,e){return(e.match(/(^|\s)theme-\S+/g)||[]).join(" ")}).addClass("theme-"+$(this).val())}).trigger("change")},p=function(){a.addClass("embed-widget-stock"),$("input, select",a).on("change",function(){var t=$("[name=type]",a).val(),e=$('[name="mode"]',a).val();a.removeClass("embed-widget-stock"),a.removeClass("embed-widget-index"),a.addClass("embed-widget-"+t);var n=location.href.replace(/[\#\?].*$/g,""),i=n.substring(0,location.href.lastIndexOf("/")+1)+"widget.html?type="+t+"&mode="+e+"&theme="+$("[name=theme]",a).val();switch(t){case"index":i+="&indexCode="+$("[name=index-code]").val();break;case"stock":i+="&symbol="+c.val()}var r={stock:{full:{height:250},compact:{height:90}},index:{full:{height:200},compact:{height:90}}},o=r[t][e].height,u='<iframe src="'+i+'" width="250" height="'+o+'" frameborder="0" scrolling="no"></iframe>';s.text(u),$(".preview",a).html(u)}).first().trigger("change"),$("form",a).on("submit",function(t){t.preventDefault()})};return{init:function(){h()}}}),define("component/marketwatch",["require","component/config","component/miniwindow","component/track","microtemplates","component/i18n"],function(t,e,n,i,r,o){"use strict";var a,s="https://marketwatch.vndirect.com.vn/",c={scattering:{path:"marketscatter.htm",title:"Độ rộng thị trường"},leaders:{path:"topmostindex.htm",title:"Mã ảnh hưởng nhất"},foreignmap:{path:"foreignmap.htm",title:"Giao dịch khối ngoại"},marketcap:{path:"marketcap.htm",title:"Bản đồ vốn hóa"},liquidity:{path:"liquidity.htm",title:"Bản đồ thanh khoản"}},u=function(t,e){$(".nav a.button",t).click(function(e){$(".nav a").removeClass("active"),$(this).addClass("active");var n=$(this).attr("data-chart"),r=o.getCurrentLanguage();$("iframe",t).attr("src",s+c[n].path+"?lang="+r),$(".miniwindow.marketwatch").localize(),i.page("/marketwatch/"+n,"Xem biểu đồ "+c[n].title),e.preventDefault()}),e?$('.nav a.button[data-chart="'+e+'"]',t).click():$(".nav a.button",t).first().click(),$(".nav a.reload",t).click(function(e){$(".nav a.active",t).click(),e.preventDefault()})},l=function(){$(".marketwatch-toggle").click(function(t){a&&a.close(),a=new n("marketwatch"),a.init(o.t("priceboard:marketwatch.title"),function(){a.setBody(r($("#marketwatch-tmpl").html(),c));var t=$(this).attr("data-chart");u(a.getBody(),t)}),t.preventDefault()})},h=function(){var t=$(".charts-extra"),e=t.children("div").children("div"),n=$(".slider-up",t),i=$(".slider-down",t);$(".slider",t).click(function(t){t.preventDefault();var r=e.data("offset")||0,o=Number(e.data("min-offset")),a=Number(e.data("max-offset")),s=$(this).hasClass("slider-up")?-1:1,c=r+s;c>a||o>c||(n.add(i).removeClass("disabled"),c===o&&n.addClass("disabled"),c===a&&i.addClass("disabled"),e.data("offset",c).css("top",32*-c))})};return{init:function(){l(),h()}}}),define("component/facebook-login",["require","component/config","legacy/PubSub","js-cookie","component/trade/loader","component/trade/announcement","component/i18n","component/track"],function(t){"use strict";var e=t("component/config"),n=t("legacy/PubSub"),i=t("js-cookie"),r=t("component/trade/loader"),o=t("component/trade/announcement"),a=t("component/i18n"),s=t("component/track"),c=null,u={path:"/",domain:location.hostname.indexOf("vndirect.com.vn")>=0?".vndirect.com.vn":"",secure:"https:"===location.protocol},l=$(".facebook-login-wrp"),h=$(".facebook-login-btn"),f=e.url.auth+"/facebookauth",d=$(".trade-menu"),p=$("body"),g=function(){n.subscribe("login",function(){l.hide()}),n.subscribe("logout",function(){l.show(),i.remove("loginType"),p.removeClass("logged-in-social-acc"),d.removeClass("logged-in-social-acc")}),l.click(function(){m(),s.event("login-social","click-fb-portfolio","Click login fb in portfolio tab",1e4)}),h.click(function(){m(),s.event("login-social","click-fb-order","Click login fb in order tab",1e4)})},m=function(){return null==c||"connected"!==c.status||c.isExpired()?void FB.login(b):void b(c)},v=function(){$.getScript("//connect.facebook.net/en_US/sdk.js",function(){FB.init({appId:"1063318300461344",xfbml:!0,version:"v2.8"}),FB.getLoginStatus(function(t){var e=(new Date).getTime();c=t,c.isExpired=function(){var t=(new Date).getTime();return t-e<1e3*c.authResponse.expiresIn?!1:!0}})})},y=function(t){var e=t.split(".");if(3!==e.length)return{};var n=JSON.parse(base64.decode(e[1]));return n},b=function(t){if(t.session){var e="/me?fields=name,email";FB.api(e,function(t){console.log(t),console.log(t.name),console.log(t.email)})}"connected"==t.status&&(r.show(),$.ajax({type:"POST",url:f,data:JSON.stringify(t),success:function(t){var e=y(t.token);e.loginType="social-acc",i.set("accessToken",t.token,u),i.set("loginType","social-acc",u),n.publish("login",e),p.addClass("logged-in-social-acc"),d.addClass("logged-in-social-acc"),o.show(a.t("trade:auth.login_fb_success"),"good").hide(2500),r.hide()},error:function(){c=null,o.hide(a.t("trade:auth.login_fb_fail"),"bad").hide(2500),r.hide()},dataType:"json"}))};return{init:function(){v(),g()}}}),define("component/google-login",["require","component/config","legacy/PubSub","js-cookie","component/track","component/trade/loader","component/trade/announcement","component/i18n"],function(t){"use strict";var e=t("component/config"),n=t("legacy/PubSub"),i=t("js-cookie"),r=t("component/track"),o=t("component/trade/loader"),a=t("component/trade/announcement"),s=t("component/i18n"),c={},u=null,l={path:"/",domain:location.hostname.indexOf("vndirect.com.vn")>=0?".vndirect.com.vn":"",secure:"https:"===location.protocol},h=$(".google-login-wrp"),f=$(".google-login-btn"),d=e.url.auth+"/googleauth",p=$(".trade-menu"),g=$("body"),m=function(){n.subscribe("login",function(){h.hide()}),n.subscribe("logout",function(){h.show(),i.remove("loginType"),g.removeClass("logged-in-social-acc"),p.removeClass("logged-in-social-acc")}),h.click(function(){v(),r.event("login-social","click-google-portfolio","Click login google in portfolio tab",1e4)}),f.click(function(){v(),r.event("login-social","click-google-order","Click login google in order tab",1e4)})},v=function(){c=gapi.auth2.getAuthInstance().currentUser.get(),"undefined"==typeof c||null==c.getAuthResponse()||null==c.getId()||c.getAuthResponse().expires_at<=(new Date).getTime()?u.signIn().then(w):w(c)},y=function(){gapi.load("auth2",function(){u=gapi.auth2.init({client_id:"400785400747-po4572n2edb3a8v7tjdmdv0bujbpouu0.apps.googleusercontent.com",cookiepolicy:"vndirect.com.vn"}),m()})},b=function(t){var e=t.split(".");if(3!==e.length)return{};var n=JSON.parse(base64.decode(e[1]));return n},w=function(t){o.show(),$.ajax({type:"POST",url:d,data:JSON.stringify({userName:t.getBasicProfile().getName(),accessToken:t.Zi.access_token}),success:function(t){var e=b(t.token);e.loginType="social-acc",i.set("accessToken",t.token,l),i.set("loginType","social-acc",l),n.publish("login",e),g.addClass("logged-in-social-acc"),p.addClass("logged-in-social-acc"),a.show(s.t("trade:auth.login_gg_success"),"good").hide(2500),o.hide()},error:function(){t={},a.show(s.t("trade:auth.login_gg_fail"),"bad").hide(2500),o.hide()},dataType:"json"})};return{init:function(){y()}}}),define("component/url-route",["require","jquery","legacy/PubSub","component/company-resource"],function(t){var e=t("jquery"),n=t("legacy/PubSub"),i=t("component/company-resource"),r=function(t){var n=e(location).attr("href");if(n.indexOf("?")>0){var i=n.split("?"),r=i[1].split("&"),o=new Array(r.length),a=new Array(r.length),s=0;for(s=0;s<r.length;s++){var c=r[s].split("=");o[s]=c[0],a[s]=""!=c[1]?unescape(c[1]):"No Value"}for(s=0;s<r.length;s++)if(o[s]==t)return a[s];return""}},o=function(){var t=r("mode"),e=r("symbol");"chart"===t&&i.getCompany(e).then(function(t){"undefined"!=typeof t&&n.publish("viewSymbol",e)})};return{init:function(){o()},getURLParameters:function(t){var e=new RegExp("[?&]"+t+"=([^&#]*)").exec(window.location.href);return null==e?null:e[1]||0}}}),define("component/login-encourage",["require","component/miniwindow","component/track","component/i18n","component/config","legacy/PubSub","legacy/System"],function(t,e,n,i,r,o,a){"use strict";var s=!0,c=function(){s&&a.socketManager.switchToPublicServer()};return{init:function(){o.subscribe("login",function(){$(".login-notice").removeClass("show"),s=!1}),$(".login-notice a").click(function(){o.publish("requestLoginWindow"),$(".login-notice").removeClass("show"),n.event("encourage login","press login","press login button",1)}),$(".login-notice .close").click(function(){$(".login-notice").removeClass("show"),n.event("encourage login","close popup","close encourage popup",1)}),this.active()},active:function(){setTimeout(function(){s&&($(".login-notice").addClass("show"),setTimeout(function(){},6e4),setTimeout(function(){c()},3e5))},6e4)}}}),define("component/ad-popup",["require","legacy/PubSub","component/track"],function(t,e,n){"use strict";var i=!1,r=t("js-cookie");window.coo=r;var o="is-ad-showed",a=function(){return r.set(o,!0),i?!0:(i=!0,!1)};return i=r.get(o),"undefined"==typeof i&&(i=!1),{init:function(){$(".ad-popup a.close").click(function(t){t.preventDefault(),$(".ad-popup").removeClass("show"),n.page("/ad/hoichung/close/btn/","Close quảng cáo Hội chứng")}),$(".ad-popup").click(function(){$(".ad-popup").removeClass("show"),n.page("/ad/hoichung/close/bg/","Click quảng cáo Hội chứng")}),$("#adIframe").on("click",function(t){t.preventDefault(),r.set(o,(new Date).getTime()),n.page("/ad/hoichung/click/","Click quảng cáo Hội chứng")}),this.active()},active:function(){$("#adIframe").attr("src","https://product.vndirect.com.vn/stockbook1.html"),e.subscribe("intermisionOrCloseSession",function(){setTimeout(function(){a()||($(".ad-popup").addClass("show"),n.page("/ad/hoichung/view","Hiện quảng cáo Hội chứng"))},1e3)})}}}),function(t,e){"function"==typeof define&&define.amd?define("jquery.transit",["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):e(t.jQuery)}(this,function(t){function e(t){if(t in h.style)return t;for(var e=["Moz","Webkit","O","ms"],n=t.charAt(0).toUpperCase()+t.substr(1),i=0;i<e.length;++i){var r=e[i]+n;if(r in h.style)return r}}function n(){return h.style[f.transform]="",h.style[f.transform]="rotateY(90deg)",""!==h.style[f.transform]}function i(t){return"string"==typeof t&&this.parse(t),this}function r(t,e,n){e===!0?t.queue(n):e?t.queue(e,n):t.each(function(){n.call(this)
})}function o(e){var n=[];return t.each(e,function(e){e=t.camelCase(e),e=t.transit.propertyMap[e]||t.cssProps[e]||e,e=c(e),f[e]&&(e=c(f[e])),-1===t.inArray(e,n)&&n.push(e)}),n}function a(e,n,i,r){var a=o(e);t.cssEase[i]&&(i=t.cssEase[i]);var s=""+l(n)+" "+i;parseInt(r,10)>0&&(s+=" "+l(r));var c=[];return t.each(a,function(t,e){c.push(e+" "+s)}),c.join(", ")}function s(e,n){n||(t.cssNumber[e]=!0),t.transit.propertyMap[e]=f.transform,t.cssHooks[e]={get:function(n){var i=t(n).css("transit:transform");return i.get(e)},set:function(n,i){var r=t(n).css("transit:transform");r.setFromString(e,i),t(n).css({"transit:transform":r})}}}function c(t){return t.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()})}function u(t,e){return"string"!=typeof t||t.match(/^[\-0-9\.]+$/)?""+t+e:t}function l(e){var n=e;return"string"!=typeof n||n.match(/^[\-0-9\.]+/)||(n=t.fx.speeds[n]||t.fx.speeds._default),u(n,"ms")}t.transit={version:"0.9.12",propertyMap:{marginLeft:"margin",marginRight:"margin",marginBottom:"margin",marginTop:"margin",paddingLeft:"padding",paddingRight:"padding",paddingBottom:"padding",paddingTop:"padding"},enabled:!0,useTransitionEnd:!1};var h=document.createElement("div"),f={},d=navigator.userAgent.toLowerCase().indexOf("chrome")>-1;f.transition=e("transition"),f.transitionDelay=e("transitionDelay"),f.transform=e("transform"),f.transformOrigin=e("transformOrigin"),f.filter=e("Filter"),f.transform3d=n();var p={transition:"transitionend",MozTransition:"transitionend",OTransition:"oTransitionEnd",WebkitTransition:"webkitTransitionEnd",msTransition:"MSTransitionEnd"},g=f.transitionEnd=p[f.transition]||null;for(var m in f)f.hasOwnProperty(m)&&"undefined"==typeof t.support[m]&&(t.support[m]=f[m]);return h=null,t.cssEase={_default:"ease","in":"ease-in",out:"ease-out","in-out":"ease-in-out",snap:"cubic-bezier(0,1,.5,1)",easeInCubic:"cubic-bezier(.550,.055,.675,.190)",easeOutCubic:"cubic-bezier(.215,.61,.355,1)",easeInOutCubic:"cubic-bezier(.645,.045,.355,1)",easeInCirc:"cubic-bezier(.6,.04,.98,.335)",easeOutCirc:"cubic-bezier(.075,.82,.165,1)",easeInOutCirc:"cubic-bezier(.785,.135,.15,.86)",easeInExpo:"cubic-bezier(.95,.05,.795,.035)",easeOutExpo:"cubic-bezier(.19,1,.22,1)",easeInOutExpo:"cubic-bezier(1,0,0,1)",easeInQuad:"cubic-bezier(.55,.085,.68,.53)",easeOutQuad:"cubic-bezier(.25,.46,.45,.94)",easeInOutQuad:"cubic-bezier(.455,.03,.515,.955)",easeInQuart:"cubic-bezier(.895,.03,.685,.22)",easeOutQuart:"cubic-bezier(.165,.84,.44,1)",easeInOutQuart:"cubic-bezier(.77,0,.175,1)",easeInQuint:"cubic-bezier(.755,.05,.855,.06)",easeOutQuint:"cubic-bezier(.23,1,.32,1)",easeInOutQuint:"cubic-bezier(.86,0,.07,1)",easeInSine:"cubic-bezier(.47,0,.745,.715)",easeOutSine:"cubic-bezier(.39,.575,.565,1)",easeInOutSine:"cubic-bezier(.445,.05,.55,.95)",easeInBack:"cubic-bezier(.6,-.28,.735,.045)",easeOutBack:"cubic-bezier(.175, .885,.32,1.275)",easeInOutBack:"cubic-bezier(.68,-.55,.265,1.55)"},t.cssHooks["transit:transform"]={get:function(e){return t(e).data("transform")||new i},set:function(e,n){var r=n;r instanceof i||(r=new i(r)),e.style[f.transform]="WebkitTransform"!==f.transform||d?r.toString():r.toString(!0),t(e).data("transform",r)}},t.cssHooks.transform={set:t.cssHooks["transit:transform"].set},t.cssHooks.filter={get:function(t){return t.style[f.filter]},set:function(t,e){t.style[f.filter]=e}},t.fn.jquery<"1.8"&&(t.cssHooks.transformOrigin={get:function(t){return t.style[f.transformOrigin]},set:function(t,e){t.style[f.transformOrigin]=e}},t.cssHooks.transition={get:function(t){return t.style[f.transition]},set:function(t,e){t.style[f.transition]=e}}),s("scale"),s("scaleX"),s("scaleY"),s("translate"),s("rotate"),s("rotateX"),s("rotateY"),s("rotate3d"),s("perspective"),s("skewX"),s("skewY"),s("x",!0),s("y",!0),i.prototype={setFromString:function(t,e){var n="string"==typeof e?e.split(","):e.constructor===Array?e:[e];n.unshift(t),i.prototype.set.apply(this,n)},set:function(t){var e=Array.prototype.slice.apply(arguments,[1]);this.setter[t]?this.setter[t].apply(this,e):this[t]=e.join(",")},get:function(t){return this.getter[t]?this.getter[t].apply(this):this[t]||0},setter:{rotate:function(t){this.rotate=u(t,"deg")},rotateX:function(t){this.rotateX=u(t,"deg")},rotateY:function(t){this.rotateY=u(t,"deg")},scale:function(t,e){void 0===e&&(e=t),this.scale=t+","+e},skewX:function(t){this.skewX=u(t,"deg")},skewY:function(t){this.skewY=u(t,"deg")},perspective:function(t){this.perspective=u(t,"px")},x:function(t){this.set("translate",t,null)},y:function(t){this.set("translate",null,t)},translate:function(t,e){void 0===this._translateX&&(this._translateX=0),void 0===this._translateY&&(this._translateY=0),null!==t&&void 0!==t&&(this._translateX=u(t,"px")),null!==e&&void 0!==e&&(this._translateY=u(e,"px")),this.translate=this._translateX+","+this._translateY}},getter:{x:function(){return this._translateX||0},y:function(){return this._translateY||0},scale:function(){var t=(this.scale||"1,1").split(",");return t[0]&&(t[0]=parseFloat(t[0])),t[1]&&(t[1]=parseFloat(t[1])),t[0]===t[1]?t[0]:t},rotate3d:function(){for(var t=(this.rotate3d||"0,0,0,0deg").split(","),e=0;3>=e;++e)t[e]&&(t[e]=parseFloat(t[e]));return t[3]&&(t[3]=u(t[3],"deg")),t}},parse:function(t){var e=this;t.replace(/([a-zA-Z0-9]+)\((.*?)\)/g,function(t,n,i){e.setFromString(n,i)})},toString:function(t){var e=[];for(var n in this)if(this.hasOwnProperty(n)){if(!f.transform3d&&("rotateX"===n||"rotateY"===n||"perspective"===n||"transformOrigin"===n))continue;"_"!==n[0]&&e.push(t&&"scale"===n?n+"3d("+this[n]+",1)":t&&"translate"===n?n+"3d("+this[n]+",0)":n+"("+this[n]+")")}return e.join(" ")}},t.fn.transition=t.fn.transit=function(e,n,i,o){var s=this,c=0,u=!0,h=t.extend(!0,{},e);"function"==typeof n&&(o=n,n=void 0),"object"==typeof n&&(i=n.easing,c=n.delay||0,u="undefined"==typeof n.queue?!0:n.queue,o=n.complete,n=n.duration),"function"==typeof i&&(o=i,i=void 0),"undefined"!=typeof h.easing&&(i=h.easing,delete h.easing),"undefined"!=typeof h.duration&&(n=h.duration,delete h.duration),"undefined"!=typeof h.complete&&(o=h.complete,delete h.complete),"undefined"!=typeof h.queue&&(u=h.queue,delete h.queue),"undefined"!=typeof h.delay&&(c=h.delay,delete h.delay),"undefined"==typeof n&&(n=t.fx.speeds._default),"undefined"==typeof i&&(i=t.cssEase._default),n=l(n);var d=a(h,n,i,c),p=t.transit.enabled&&f.transition,m=p?parseInt(n,10)+parseInt(c,10):0;if(0===m){var v=function(t){s.css(h),o&&o.apply(s),t&&t()};return r(s,u,v),s}var y={},b=function(e){var n=!1,i=function(){n&&s.unbind(g,i),m>0&&s.each(function(){this.style[f.transition]=y[this]||null}),"function"==typeof o&&o.apply(s),"function"==typeof e&&e()};m>0&&g&&t.transit.useTransitionEnd?(n=!0,s.bind(g,i)):window.setTimeout(i,m),s.each(function(){m>0&&(this.style[f.transition]=d),t(this).css(h)})},w=function(t){this.offsetWidth,b(t)};return r(s,u,w),this},t.transit.getTransitionValue=a,t}),define("component/login-popup",["require","jquery.transit","js-cookie","hi-base64","component/trade-api-client","component/track","legacy/PubSub","component/config","component/i18n","component/trade-error-parser"],function(t){"use strict";var e,n,i,r,o=(t("jquery.transit"),t("js-cookie")),a=t("hi-base64"),s=t("component/trade-api-client"),c=t("component/track"),u=t("legacy/PubSub"),l=t("component/config"),h=t("component/i18n"),f=t("component/trade-error-parser"),d=$("body"),p=l.url.auth+"/facebookauth",g=null,m=l.url.auth+"/googleauth",v=null,y={},b=l.url.customerApi+"accounts",w={path:"/",domain:location.hostname.indexOf("vndirect.com.vn")>=0?".vndirect.com.vn":"",secure:"https:"===location.protocol},k=!1,x=!0,C=0,S="",T="",_={userName:T},E=function(){$(".showpassword-1").click(function(){var t=$(".login-password-1").attr("type");"text"===t&&($(".login-password-1").attr("type","password"),$(".showpassword-1 i").removeClass("fa-eye-slash"),$(".showpassword-1 i").addClass("fa-eye")),"password"===t&&($(".login-password-1").attr("type","text"),$(".showpassword-1 i").removeClass("fa-eye"),$(".showpassword-1 i").addClass("fa-eye-slash"))}),$(".login-password-1").keypress(function(t){var e=t.which;if(13===e){var n=$(".login-user-1").val().trim(),i=$(".login-password-1").val().trim();F(n,i)}}),$(".btn-login-1").click(function(){var t=$(".login-user-1").val().trim(),e=$(".login-password-1").val().trim();F(t,e)}),$(".btn-login-facebook-1").click(function(){R()}),$(".btn-login-google-1").click(function(){L()}),$(".showreg-1").click(function(){X(),N()}),$(".showpassword-1-1").click(function(){var t=$(".reg-password-1").attr("type");"text"===t&&($(".reg-password-1").attr("type","password"),$(".showpassword-1-1 i").removeClass("fa-eye-slash"),$(".showpassword-1-1 i").addClass("fa-eye")),"password"===t&&($(".reg-password-1").attr("type","text"),$(".showpassword-1-1 i").removeClass("fa-eye"),$(".showpassword-1-1 i").addClass("fa-eye-slash"))}),$(".reg-password-1").keypress(function(t){var e=t.which;if(13===e){var n=$(".reg-user-1").val().trim(),i=$(".reg-password-1").val().trim();q(n,i)}}),$(".btn-reg-1").click(function(){var t=$(".reg-user-1").val().trim(),e=$(".reg-password-1").val().trim();q(t,e)}),$(".btn-reg-facebook-1").click(function(){R()}),$(".btn-reg-google-1").click(function(){L()}),$(".showlogin-1").click(function(){X(),O()}),$(".btn-trade-1").click(function(){c.page("/experiment-"+n,"user open trade account"),c.event("experiment-"+n,"user open trade account"),c.eventMixpanel("experiment-"+n,"user open trade account",_)})},A=function(){$("#popup-wrap-0 button").click(function(){var t=$("#popup-wrap-0 .activeKey").val().trim(),e=o.get("accessToken");V(),Z(e,t)}),$("#popup-wrap-0 .resend").click(function(){if(x){var t=o.get("accessToken");J(t),x=!1,$("#popup-wrap-0 .resend").addClass("disable"),setTimeout(function(){x=!0,$("#popup-wrap-0 .resend").removeClass("disable")},1e4)}})},D=function(){$(".btn-login-facebook-6").click(function(){R()}),$(".btn-login-google-6").click(function(){L()}),$(".btn-login-vnds-6").click(function(){$("#popup-wrap-6 .default").transition({x:"-100%",opacity:.1},function(){$("#popup-wrap-6 .default").hide(0,function(){$("#popup-wrap-6 .login-vnds").css({x:"50%"}),$("#popup-wrap-6 .login-vnds").show().transition({x:"0%",opacity:1}),$("#popup-wrap-6 .login-user-6").focus()})})}),$(".btn-trade-6").click(function(){c.page("/experiment-"+n,"user open trade account"),c.event("experiment-"+n,"user open trade account"),c.eventMixpanel("experiment-"+n,"user open trade account",_)}),$(".backToPopup6").click(function(){X(),$("#popup-wrap-6 .login-vnds").transition({x:"-100%",opacity:.1},function(){$("#popup-wrap-6 .login-vnds").hide(0,function(){$("#popup-wrap-6 .default").css({x:"50%"}),$("#popup-wrap-6 .default").show().transition({x:"0%",opacity:1})})})}),$(".backToPopup6-1").click(function(){X(),$("#popup-wrap-6 .register").transition({x:"-100%",opacity:.1},function(){$("#popup-wrap-6 .register").hide(0,function(){$("#popup-wrap-6 .default").css({x:"50%"}),$("#popup-wrap-6 .default").show().transition({x:"0%",opacity:1})})})}),$(".showreg-6").click(function(){X(),$("#popup-wrap-6 .login-vnds").transition({x:"-100%",opacity:.1},function(){$("#popup-wrap-6 .login-vnds").hide(0,function(){$("#popup-wrap-6 .register").css({x:"50%"}),$("#popup-wrap-6 .register").show().transition({x:"0%",opacity:1}),$("#popup-wrap-6 .reg-user-6").focus()})})}),$(".showlogin-6").click(function(){X(),$("#popup-wrap-6 .register").transition({x:"-100%",opacity:.1},function(){$("#popup-wrap-6 .register").hide(0,function(){$("#popup-wrap-6 .login-vnds").css({x:"50%"}),$("#popup-wrap-6 .login-vnds").show().transition({x:"0%",opacity:1}),$("#popup-wrap-6 .login-user-6").focus()})})}),$(".showpassword-6").click(function(){var t=$(".login-password-6").attr("type");"text"===t&&($(".login-password-6").attr("type","password"),$(".showpassword-6 i").removeClass("fa-eye-slash"),$(".showpassword-6 i").addClass("fa-eye")),"password"===t&&($(".login-password-6").attr("type","text"),$(".showpassword-6 i").removeClass("fa-eye"),$(".showpassword-6 i").addClass("fa-eye-slash"))}),$(".showpassword-6-1").click(function(){var t=$(".reg-password-6").attr("type");"text"===t&&($(".reg-password-6").attr("type","password"),$(".showpassword-6-1 i").removeClass("fa-eye-slash"),$(".showpassword-6-1 i").addClass("fa-eye")),"password"===t&&($(".reg-password-6").attr("type","text"),$(".showpassword-6-1 i").removeClass("fa-eye"),$(".showpassword-6-1 i").addClass("fa-eye-slash"))}),$(".login-password-6").keypress(function(t){var e=t.which;if(13===e){var n=$(".login-user-6").val().trim(),i=$(".login-password-6").val().trim();F(n,i)}}),$(".btn-login-6").click(function(){var t=$(".login-user-6").val().trim(),e=$(".login-password-6").val().trim();F(t,e)}),$(".reg-password-6").keypress(function(t){var e=t.which;if(13===e){var n=$(".reg-user-6").val().trim(),i=$(".reg-password-6").val().trim();q(n,i)}}),$(".btn-reg-6").click(function(){var t=$(".reg-user-6").val().trim(),e=$(".reg-password-6").val().trim();q(t,e)})},I=function(){E(),D(),A(),$(".logout-popup").click(function(){o.remove("accessToken",w),o.remove("loginType",w),o.remove("password",w),o.remove("smartboardUser",w),$("body").removeClass("logged-in logged-in-free-acc logged-in-social-acc"),e.removeClass("logged-in two-factor-logged-in logged-in-free-acc logged-in-social-acc"),e.removeClass(function(t,e){return(e.match(/[^\s]\S+\-user\b/g)||[]).join(" ")}),$("#popup-wrap-0").transition({x:"-100%",opacity:.1},function(){$("#popup-wrap-0").hide()}),console.log(r),$("#popup-wrap-"+r).css({x:"50%"}),$("#popup-wrap-"+r).show().transition({x:"0%",opacity:1}),n=i,u.publish("logout")})},O=function(){$("#popup-wrap-1 .reg-popup").transition({x:"-100%",opacity:.1},function(){$("#popup-wrap-1 .reg-popup").hide()}),$("#popup-wrap-1 .login-popup").css({x:"50%"}),$("#popup-wrap-1 .login-popup").show().transition({x:"0%",opacity:1}),$("#popup-wrap-1 .login-user-1").focus()},N=function(){$("#popup-wrap-1 .login-popup").transition({x:"-100%",opacity:.1},function(){$("#popup-wrap-1 .login-popup").hide()}),$("#popup-wrap-1 .reg-popup").css({x:"50%"}),$("#popup-wrap-1 .reg-popup").show().transition({x:"0%",opacity:1}),$("#popup-wrap-1 .reg-user-1").focus()},M=function(t){var e=t.split(".");if(3!==e.length)return{};var n=JSON.parse(a.decode(e[1]));return n},P=function(){$("#popup-fixed").show()},j=function(){$("#popup-fixed").hide()},F=function(t,i){c.page("/experiment-"+n,"user login"),c.event("experiment-"+n,"user login"),c.eventMixpanel("experiment-"+n,"user login",_),X(),V(),s.login(t,i).done(function(t){o.set("accessToken",t.token,w),o.set("loginType","normal",w),$("body").addClass("logged-in"),e.addClass("logged-in"),$(".trade-pages",e).nanoScroller();var i=M(t.token);"true"===i.secondFa&&e.addClass("two-factor-logged-in"),i.loginType="normal",u.publish("login",i),Y(),$("#popup-wrap-"+n).hide(),ee(t.token),c.page("/experiment-"+n,"user login success"),c.event("experiment-"+n,"user login success"),c.eventMixpanel("experiment-"+n,"user login success",_)}).fail(function(t){Y(),z(f.getMessage(t)),c.page("/experiment-"+n,"user login fail"),c.event("experiment-"+n,"user login fail"),c.eventMixpanel("experiment-"+n,"user login fail",t.responseJSON)})},R=function(){return null==g||"connected"!==g.status||g.isExpired()?void FB.login(H):void H(g)},L=function(){y=gapi.auth2.getAuthInstance().currentUser.get(),"undefined"==typeof y||null==y.getAuthResponse()||null==y.getId()||y.getAuthResponse().expires_at<=(new Date).getTime()?v.signIn().then(B):B(y)},H=function(t){if(c.page("/experiment-"+n,"user login/reg with FB"),c.event("experiment-"+n,"user login/reg with FB"),c.eventMixpanel("experiment-"+n,"user login/reg with FB",_),X(),t.session){var i="/me?fields=name,email";FB.api(i,function(){})}"connected"==t.status&&$.ajax({type:"POST",url:p+"?utm_content=experiment-"+n,data:JSON.stringify(t),success:function(t){var i=M(t.token);i.loginType="social-acc",o.set("accessToken",t.token,w),o.set("loginType","social-acc",w),u.publish("login",i),d.addClass("logged-in-social-acc"),e.addClass("logged-in-social-acc"),j(),c.page("/experiment-"+n,"user login/reg with FB success"),c.event("experiment-"+n,"user login/reg with FB success"),c.eventMixpanel("experiment-"+n,"user login/reg with FB success",_)},error:function(){g=null,showError1(h.t("trade:auth.login_fb_fail")),c.page("/experiment-"+n,"user login/reg with FB fail"),c.event("experiment-"+n,"user login/reg with FB fail"),c.eventMixpanel("experiment-"+n,"user login/reg with FB fail",_)},dataType:"json"})},B=function(t){c.page("/experiment-"+n,"user login/reg with GG"),c.event("experiment-"+n,"user login/reg with GG"),c.eventMixpanel("experiment-"+n,"user login/reg with GG",_),X(),$.ajax({type:"POST",url:m+"?utm_content=experiment-"+n,data:JSON.stringify({userName:t.getBasicProfile().getName(),accessToken:t.Zi.access_token}),success:function(t){var i=M(t.token);i.loginType="social-acc",o.set("accessToken",t.token,w),o.set("loginType","social-acc",w),u.publish("login",i),d.addClass("logged-in-social-acc"),e.addClass("logged-in-social-acc"),j(),c.page("/experiment-"+n,"user login/reg with GG success"),c.event("experiment-"+n,"user login/reg with GG success"),c.eventMixpanel("experiment-"+n,"user login/reg with GG success",_)},error:function(){t={},z(h.t("trade:auth.login_gg_fail")),c.page("/experiment-"+n,"user login/reg with GG fail"),c.event("experiment-"+n,"user login/reg with GG fail"),c.eventMixpanel("experiment-"+n,"user login/reg with GG fail",_)},dataType:"json"})},U=function(){$.getScript("//connect.facebook.net/en_US/sdk.js",function(){FB.init({appId:"1063318300461344",xfbml:!0,version:"v2.8"}),FB.getLoginStatus(function(t){var e=(new Date).getTime();g=t,g.isExpired=function(){var t=(new Date).getTime();return t-e<1e3*g.authResponse.expiresIn?!1:!0}})})},W=function(){gapi.load("auth2",function(){v=gapi.auth2.init({client_id:"400785400747-po4572n2edb3a8v7tjdmdv0bujbpouu0.apps.googleusercontent.com",cookiepolicy:"vndirect.com.vn"})})},q=function(t,e){if(c.page("/experiment-"+n,"user register"),c.event("experiment-"+n,"user register"),c.eventMixpanel("experiment-"+n,"user register",_),X(),!G(t))return void z(h.t("trade:auth.invalid_email"));V();var i={email:t,username:t,password:e,tradingAccount:!1,signUpOTP:!0};$.ajax({type:"POST",url:b+"?utm_content=experiment-"+n,data:JSON.stringify(i),success:function(){s.login(i.username,i.password).done(function(t){var e=M(t.token);o.set("accessToken",t.token,w),u.publish("login",e),Y(),$("#popup-wrap-"+r+" .confirm-reg-"+r+" .confirm-email").text(M(t.token).email),$("#popup-wrap-"+r+" .confirm-reg-"+r).toggleClass("show"),$("#popup-wrap-"+r+" .confirm-reg-"+r+" .activeKey").focus(),$("#popup-wrap-"+r+" .confirm-reg-"+r+" button").click(function(){V();var e=$("#popup-wrap-"+r+" .confirm-reg-"+r+" .activeKey").val().trim();Z(t.token,e)}),$("#popup-wrap-"+r+" .confirm-reg-"+r+" .resend").click(function(){if(x){{o.get("accessToken")}J(t.token),x=!1,$("#popup-wrap-"+r+" .confirm-reg-"+r+" .resend").addClass("disable"),setTimeout(function(){x=!0,$("#popup-wrap-"+r+" .confirm-reg-"+r+" .resend").removeClass("disable")},1e4)}})}).fail(function(t){Y(),z(f.getMessage(t)),c.eventMixpanel("experiment-"+n,"user login after register error",t.responseJSON)}),c.page("/experiment-"+n,"user register success"),c.event("experiment-"+n,"user register success"),c.eventMixpanel("experiment-"+n,"user register success",_)},error:function(e){Y(),z(f.getMessage(e)),e.responseJSON.email=t,c.page("/experiment-"+n,"user register fail"),c.event("experiment-"+n,"user register fail"),c.eventMixpanel("experiment-"+n,"user register fail",e.responseJSON)},dataType:"json"})},V=function(){$("#popup-wrap-"+r+" .loading-wrapper").fadeIn(100)},Y=function(){$("#popup-wrap-"+r+" .loading-wrapper").fadeOut(100)},z=function(t){$("p",$("#popup-wrap-"+r+" .error .text")).html(t),$("#popup-wrap-"+r+" .error").toggleClass("show")},X=function(){$("#popup-wrap-"+r+" .error").removeClass("show")},G=function(t){var e=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return e.test(t)},K=function(){$("#popup-wrap-1").show(),$(".login-user-1").focus()},Q=function(){$("#popup-wrap-6").show()},J=function(t){c.page("/experiment-"+n,"user click resend email"),c.event("experiment-"+n,"user click resend email"),c.eventMixpanel("experiment-"+n,"user click resend email",_),$.ajax({type:"PUT",url:l.url.customerApi+"accounts/free/resendemail",headers:{"X-AUTH-TOKEN":t,"Content-Type":"application/json"},success:function(){},error:function(){}})},Z=function(t,e){c.page("/experiment-"+n,"user active account"),c.event("experiment-"+n,"user active account"),c.eventMixpanel("experiment-"+n,"user active account",_),$.ajax({type:"PUT",url:l.url.customerApi+"accounts/free/active?activeKey="+e,headers:{"X-AUTH-TOKEN":t,"Content-Type":"application/json"},success:function(){Y(),j(),$(".register-encourage").hide(),$(".stop-encourage").show(),c.page("/experiment-"+n,"user active account success"),c.event("experiment-"+n,"user active account success"),c.eventMixpanel("experiment-"+n,"user active account success",_)},error:function(e){Y(),z("ACC-049"===e.responseJSON.code||"ACC-039"===e.responseJSON.code?"Mã xác nhận của bạn chưa đúng. Vui lòng thử lại hoặc liên hệ 1900 54 54 09 để được hỗ trợ":f.getMessage(e));var i=M(t);e.responseJSON.email=i.email,c.page("/experiment-"+n,"user active account fail"),c.event("experiment-"+n,"user active account fail"),c.eventMixpanel("experiment-"+n,"user active account fail",e.responseJSON)}})},te=function(){var t=o.get("accessToken");if(t){var e=M(t);e&&(k=!0)}},ee=function(t){var e=M(t);-1!==e.username.indexOf("FB")&&-1!==e.username.indexOf("GG")||"ONLINE_FREE_REGISTER"!==e.status?j():$.ajax({url:l.url.customerApi+"/accounts/info",type:"GET",headers:{"X-AUTH-TOKEN":t},success:function(t){"PENDING"===t.activeStatus?(n=0,"none"===$("#popup-fixed").css("display")&&P(),$("#popup-wrap-0 .confirm-email").text(e.email),$("#popup-wrap-0").css({x:"50%"}),$("#popup-wrap-0").show().transition({x:"0%",opacity:1}),S=e.email):j()},error:function(){},dataType:"json"})};return{init:function(){e=$(".trade-menu"),I(),U(),W()},active:function(t){if(t+="","1"==t||"2"==t||"3"==t||"4"==t||"5"==t||"6"==t||"7"==t||"8"==t||"9"==t||"10"==t){if(C=t,n=t,i=t,r="1"!=t&&"2"!=t&&"3"!=t&&"7"!=t&&"8"!=t?6:1,te(),k){var e=o.get("accessToken");ee(e)}else switch(P(),n){case"1":n=1,r=1,K(),c.page("/experiment-"+n,"show popup "+n),c.event("experiment-"+n,"view popup "+n),c.eventMixpanel("experiment-"+n,"view popup "+n,_);break;case"2":n=2,r=1,K(),c.page("/experiment-"+n,"show popup "+n),c.event("experiment-"+n,"view popup "+n),c.eventMixpanel("experiment-"+n,"view popup "+n,_);break;case"3":n=3,r=1,K(),c.page("/experiment-"+n,"show popup "+n),c.event("experiment-"+n,"view popup "+n),c.eventMixpanel("experiment-"+n,"view popup "+n,_);break;case"4":n=4,r=6,Q(),c.page("/experiment-"+n,"show popup "+n),c.event("experiment-"+n,"view popup "+n),c.eventMixpanel("experiment-"+n,"view popup "+n,_);break;case"5":n=5,r=6,Q(),c.page("/experiment-"+n,"show popup "+n),c.event("experiment-"+n,"view popup "+n),c.eventMixpanel("experiment-"+n,"view popup "+n,_);break;case"6":n=6,r=6,Q(),c.page("/experiment-"+n,"show popup "+n),c.event("experiment-"+n,"view popup "+n),c.eventMixpanel("experiment-"+n,"view popup "+n,_);break;case"7":n=7,r=1,K(),c.page("/experiment-"+n,"show popup "+n),c.event("experiment-"+n,"view popup "+n),c.eventMixpanel("experiment-"+n,"view popup "+n,_);break;case"8":n=8,r=1,K(),c.page("/experiment-"+n,"show popup "+n),c.event("experiment-"+n,"view popup "+n),c.eventMixpanel("experiment-"+n,"view popup "+n,_);break;case"9":n=9,r=6,Q(),c.page("/experiment-"+n,"show popup "+n),c.event("experiment-"+n,"view popup "+n),c.eventMixpanel("experiment-"+n,"view popup "+n,_);break;case"10":n=10,r=6,Q(),c.page("/experiment-"+n,"show popup "+n),c.event("experiment-"+n,"view popup "+n),c.eventMixpanel("experiment-"+n,"view popup "+n,_);break;default:return}u.subscribe("login",function(t){console.log(t),T=t.username,k=!0}),u.subscribe("logout",function(){switch(k=!1,P(),n){case 1:K();break;case 2:K();break;case 3:K();break;case 4:Q();break;case 5:Q();break;case 6:Q();break;case 7:K();break;case 8:K();break;case 9:Q();break;case 10:Q()}})}}}}),define("component/cudau-popup",["require","legacy/PubSub","component/track"],function(t){"use strict";var e=t("legacy/PubSub"),n=t("component/track"),i=function(){$("#popupCudauFixed").hide()};return{init:function(){$("#closeCudauPopup").click(function(){n.event("popup-cudau","close popup"),i()}),$(".appstore").click(function(){n.event("popup-cudau","click app store")}),$(".googleplay").click(function(){n.event("popup-cudau","click google play")})},active:function(t){0==t&&e.subscribe("intermisionOrCloseSession",function(){$("#popupCudauFixed").show(),n.event("popup-cudau","show popup")})}}}),define("component/ABtest",["require","component/config","legacy/PubSub","component/track","component/login-encourage","component/ad-popup","component/login-popup","component/url-route","component/cudau-popup"],function(t){"use strict";var e=(t("component/config"),t("legacy/PubSub"),t("component/track")),n=(t("component/login-encourage"),t("component/ad-popup"),t("component/login-popup")),i=t("component/url-route"),r=t("component/cudau-popup"),o=0,a={signup:{0:"original",1:"expand",2:"popup"}},s=function(){$.getScript("//www.google-analytics.com/cx/api.js?experiment=NjLWMBnVSz68Z5RoDeq_kg",function(){o=cxApi.chooseVariation();var t=i.getURLParameters("variation");null!=t&&(o=t),n.active(o),r.active(o);try{e.event("login popup","chosenVariation","chosenVariation "+o,o)}catch(a){e.event("encourage login test","error","Error when try to use AB test",0)}})};return{init:function(){s()},get:function(t){return"undefined"==typeof a[t]?null:a[t][chosenVariation]}}}),define("component/signup",["require","component/config","legacy/PubSub","js-cookie","component/track","component/trade/announcement","component/trade/loader","component/trade-error-parser","component/trade-api-client","component/i18n"],function(t){"use strict";var e=t("component/config"),n=t("legacy/PubSub"),i=t("js-cookie"),r=t("component/track"),o=(required("component/ABtest"),t("component/trade/announcement")),a=t("component/trade/loader"),s=t("component/trade-error-parser"),c=t("component/trade-api-client"),u=t("component/i18n"),l={path:"/",domain:location.hostname.indexOf("vndirect.com.vn")>=0?".vndirect.com.vn":"",secure:"https:"===location.protocol},h=$(".open-acc-trigger .colapse"),f=$(".open-acc-trigger .expand"),d=$(".open-acc-trigger"),p=$(".open-acc-wrp"),g=$(".sign-up-block"),m=$(".open-acc-wrp .sign-up"),v=$("#free-acc-signup-form"),y=$(".captcha-wrp"),b=e.url.customerApi+"accounts",w=function(){d.on("click",function(){g.hasClass("expand")?x():k()}),m.on("click",function(){o.hide(),A()}),y.on("click",function(){o.hide()}),v.on("focus","input",function(){o.hide()}),v.on("keypress","input",function(t){var e=t.which;return 13==e?(A(),!1):void 0}),v.serializeObject=function(){var t={},e=this.serializeArray();return $.each(e,function(){void 0!==t[this.name]?(t[this.name].push||(t[this.name]=[t[this.name]]),t[this.name].push(this.value||"")):t[this.name]=this.value||""}),t}},k=function(){p.addClass("show"),d.addClass("expand"),f.addClass("hidden"),h.removeClass("hidden"),g.addClass("expand"),setTimeout(function(){$("input[name=signOnUser]").focus()},500),r.page("/trade/personal/sign-up/free-acc/open","Open sign up as free account form")},x=function(){_(),p.removeClass("show"),d.addClass("bg-white"),f.removeClass("hidden"),h.addClass("hidden"),d.removeClass("expand"),g.removeClass("expand"),r.page("/trade/personal/sign-up/free-acc/close","Close sign up as free account form")},C=function(t){return S(t.signOnUser)?t.signOnPassword.length<6?void o.show(u.t("trade:auth.invalid_password")):!0:(o.show(u.t("trade:auth.invalid_email")),!1)},S=function(t){var e=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return e.test(t)},T=function(t){var e=/^[0-9-+]+$/;return e.test(t)?!0:!1},_=function(){v[0].reset()},E=function(t){var e=t.split(".");if(3!==e.length)return{};var n=JSON.parse(base64.decode(e[1]));return n},A=function(){var t=v.serializeObject();if(C(t)){a.show();var e={username:t.signOnUser,password:t.signOnPassword,tradingAccount:!1,gRecaptchaResponse:t["g-recaptcha-response"]};T(t.signOnUser)?e.mobilePhone=t.signOnUser:S(t.signOnUser)&&(e.email=t.signOnUser),r.page("/trade/personal/sign-up/free-acc/submit","Submit sign up as free account form"),$.ajax({type:"POST",url:b,data:JSON.stringify(e),success:function(){o.show(u.t("trade:auth.create_free_acc_success"),"good").hide(2500),a.hide(),_(),x(),setTimeout(function(){c.login(e.username,e.password).always(function(){a.hide()}).done(function(t){var e=E(t.token);i.set("accessToken",t.token,l),n.publish("login",e)}).fail(function(){$("form[name=login] input[name=username]").focus()})},1e3),r.page("/trade/personal/sign-up/free-acc/success","Sign up as free account success")},error:function(t){o.show(s.getMessage(t),"bad").hide(3e3),a.hide(),r.page("/trade/personal/sign-up/free-acc/fail","Sign up as free account fail")},dataType:"json"})}};return{init:function(){w()}}}),define("component/register-encourage",["require","component/config","legacy/PubSub","component/auth","component/trade/announcement","component/i18n"],function(t){var e=t("component/config"),n=t("legacy/PubSub"),i=t("component/auth"),r=t("component/trade/announcement"),o=t("component/i18n"),a=function(t){$.ajax({url:e.url.customerApi+"/accounts/info",type:"GET",headers:t?{"X-AUTH-TOKEN":t}:{},success:function(t){"PENDING"===t.activeStatus&&s()},error:function(){},dataType:"json"})},s=function(){$(".register-encourage").show(),$(".stop-encourage").hide()},c=function(){var t=i.getRawToken();$.ajax({url:e.url.customerApi+"accounts/resendActiveMail",type:"PUT",headers:t?{"X-AUTH-TOKEN":t}:{},success:function(){r.show(o.t("trade:auth.resend_active_mail_success"),"good").hide(2500)},error:function(){r.show(o.t("trade:auth.resend_active_mail_fail"),"bad").hide(2500)},dataType:"text"})},u=function(){n.subscribe("login",function(t){console.log(t),"ONLINE_FREE_REGISTER"==t.status&&a(i.getRawToken())}),n.subscribe("logout",function(){$(".register-encourage").hide(),$(".stop-encourage").show()}),$(".resend-active-mail").click(function(t){t.preventDefault(),c()})};return{init:function(){u()}}}),define("legacy/StockResource",["require","jquery","legacy/PubSub","legacy/MessageUnmarshaller","component/price-server-farm"],function(t,e,n,i,r){function o(t,o){var a={},s="/priceservice/secinfo/snapshot/",c=r.privateFarm;this.init=function(){u()},this.addCode=function(e){return e=e.toUpperCase(),l(e).then(function(n){a[e]=h(n),t.registConsumer({type:"STOCK",codes:[e]})})},this.getStockInfo=function(t){var n=e.Deferred();return a[t]?(n.resolve(a[t]),n):l(t)};var u=function(){t.on("STOCK",function(t){var e=t.message;a[e.code]=h(e),n.publish("update"+e.code,e)})},l=function(t){var n=e.Deferred(),r="q=codes:"+t;return c.get().then(function(t){var o=t+s+r;e.ajax(o,{success:function(t){t&&0!=t.length||n.reject();var e=i.map.STOCK(t[0]);n.resolve(e)},fail:function(){c.fail(t),n.reject()}})},function(t){n.reject(t)}),n},h=function(t){return t.displayPrice=function(){var e=o.marketInfoModels[t.floorCode];return"02"==t.floorCode||"03"==t.floorCode?t.currentPrice>0?e.isATC()?t.currentPrice:t.currentQtty>0?t.currentPrice:0:t.matchPrice:e.isATO()||e.isATC()?t.projectOpen:t.matchPrice},t}}return o}),define("app",["require","jquery","loglevel","firebase","legacy/UnsupportLibOnSomeBrowser","jquery.cookie-min","legacy/highcharts","jquery.flot","jquery.flot.time","jquery.flot.threshold","jquery.scrollTo","sockjs","stomp-websocket","lz-string","legacy/quotesConfigPc","legacy/constant","legacy/MessageUnmarshaller","legacy/Dictionary","legacy/ConsumerManager","legacy/SocketManager","legacy/AjaxHelper","legacy/TimeBox","legacy/TabManager","legacy/FixHeader","legacy/util","legacy/AdOrderCmp","legacy/AdOrderModel","legacy/AdOrderView","legacy/PtOrderCmp","legacy/PtOrderModel","legacy/PtOrderView","legacy/MarketInfoCmp","legacy/MarketInfoModel","legacy/MarketInfoView","legacy/MarketInfosManager","legacy/MarketInfoGroup","legacy/SingleCategoryCmp","legacy/SingleCategoryModel","legacy/SingleCategoryView","legacy/AddCateBoxCmp","legacy/AddCateBoxModel","legacy/AddCateBoxView","legacy/UserCategoryCmp","legacy/UserStockInfoCmp","legacy/StockCategozyManager","legacy/StockAutoComplete","legacy/System","nanoscroller","component/track","component/router","component/util","component/company-resource","component/trade/announcement","component/trade/loader","component/trade","component/auth","component/trade-ui","component/overlay","component/feedback","component/clock","component/news","component/stock-details","component/quantity-input","component/free-typing","component/header","component/release-notes","component/portfolio-sharer","component/embed","component/theme-switcher","component/marketwatch","component/finfo-api-client","component/fundamentals-board","component/motif","component/facebook-login","component/google-login","component/url-route","component/ABtest","component/signup","component/i18n","component/query-params-handler","component/register-encourage","component/vnds-uuid","component/login-popup","component/cudau-popup","legacy/StockResource","component/config"],function(t){"use strict";
function e(){var t=localStorage.getItem("language");"en"===t&&(document.title="Price Board | VNDIRECT")}var n=t("jquery"),i=t("loglevel"),r=t("firebase"),o={},a={};t("legacy/UnsupportLibOnSomeBrowser"),t("jquery.cookie-min"),t("legacy/highcharts"),t("jquery.flot"),t("jquery.flot.time"),t("jquery.flot.threshold"),t("jquery.scrollTo"),t("sockjs"),t("stomp-websocket"),t("lz-string"),t("legacy/quotesConfigPc"),t("legacy/constant"),t("legacy/MessageUnmarshaller"),t("legacy/Dictionary"),t("legacy/ConsumerManager"),t("legacy/SocketManager"),t("legacy/AjaxHelper"),t("legacy/TimeBox"),t("legacy/TabManager"),t("legacy/FixHeader"),t("legacy/util"),t("legacy/AdOrderCmp"),t("legacy/AdOrderModel"),t("legacy/AdOrderView"),t("legacy/PtOrderCmp"),t("legacy/PtOrderModel"),t("legacy/PtOrderView"),t("legacy/MarketInfoCmp"),t("legacy/MarketInfoModel"),t("legacy/MarketInfoView"),t("legacy/MarketInfosManager"),t("legacy/MarketInfoGroup"),t("legacy/SingleCategoryCmp"),t("legacy/SingleCategoryModel"),t("legacy/SingleCategoryView"),t("legacy/AddCateBoxCmp"),t("legacy/AddCateBoxModel"),t("legacy/AddCateBoxView"),t("legacy/UserCategoryCmp"),t("legacy/UserStockInfoCmp"),t("legacy/StockCategozyManager"),t("legacy/StockAutoComplete"),o.System=t("legacy/System"),t("nanoscroller"),o.track=t("component/track"),o.router=t("component/router"),o.util=t("component/util"),o.companyResource=t("component/company-resource"),o.tradeAnnouncement=t("component/trade/announcement"),o.tradeLoader=t("component/trade/loader"),o.trade=t("component/trade"),o.auth=t("component/auth"),o.tradeUI=t("component/trade-ui"),o.overlay=t("component/overlay"),o.feedback=t("component/feedback"),o.clock=t("component/clock"),o.news=t("component/news"),o.stockDetails=t("component/stock-details"),o.quantityInput=t("component/quantity-input"),o.freeTyping=t("component/free-typing"),o.header=t("component/header"),o.releaseNotes=t("component/release-notes"),o.portfolioSharer=t("component/portfolio-sharer"),o.embed=t("component/embed"),o.themeSwitcher=t("component/theme-switcher"),o.marketWatch=t("component/marketwatch"),o.finfoApiClient=t("component/finfo-api-client"),o.fundamentals=t("component/fundamentals-board"),o.motif=t("component/motif"),o.facebookLogin=t("component/facebook-login"),o.googleLogin=t("component/google-login"),o.urlRoute=t("component/url-route"),o.ABtest=t("component/ABtest"),o.signUp=t("component/signup"),o.i18n=t("component/i18n"),o.paramsHandler=t("component/query-params-handler"),o.registerEncourage=t("component/register-encourage"),o.vndsUuid=t("component/vnds-uuid"),o.loginPopup=t("component/login-popup"),o.cudauPopup=t("component/cudau-popup");var s=t("legacy/StockResource");return n.extend(a,{init:function(){i.setLevel(0),i.debug("Running jQuery %s",n().jquery),i.debug("Initializing components..."),r.initializeApp(t("component/config").firebaseConfig),o.i18n.init(function(){for(var t in o)try{o[t]&&o[t].init&&"i18n"!==t&&o[t].init()}catch(r){i.debug("initialization failed for component '"+t+"'"),i.error(r)}o.System.start(),o.stockResource=new s(o.System.socketManager,o.System.marketInfoGroup),o.stockResource.init(),o.trade.setStockResource(o.stockResource),o.stockDetails.setStockResource(o.stockResource),e(),n("footer").css({display:"block"}),n("#search-box-category").css({display:"block"})}),Browser.isTablet()||n("#hdsdBtn").css({display:"block"})}}),a}),require(["app","jquery"],function(t){"use strict";t.init()}),define("main",function(){})}();
//# sourceMappingURL=main.js
//# sourceMappingURL=main.js.map